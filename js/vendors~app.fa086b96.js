/*! For license information please see vendors~app.fa086b96.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~app"],{"0082":function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=[];e.exports=function(e,n){if(-1===i.indexOf(e)){i.push(e);var r=1e3;o(n)?r=n:"long"===n&&(r=3e3);var s=a.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each((function(e){var o=a.select(this);o.append("button").classed("notifier-close",!0).html("&times;").on("click",(function(){o.transition().call(killNote)}));for(var i=o.append("p"),s=e.split(/<br\s*\/?>/g),l=0;l<s.length;l++)l&&i.append("br"),i.append("span").text(s[l]);"stick"===n?o.transition().duration(350).style("opacity",1):o.transition().duration(700).style("opacity",1).transition().delay(r).call(killNote)}))}function killNote(e){e.duration(700).style("opacity",0).each("end",(function(e){var n=i.indexOf(e);-1!==n&&i.splice(n,1),a.select(this).remove()}))}}},"00bd":function(e,n,r){"use strict";var a={tonextx:1,tonexty:1,tonext:1};e.exports=function linkTraces(e,n,r){var o,i,s,l,c,u={},d=!1,p=-1,f=0,h=-1;for(i=0;i<r.length;i++)(s=(o=r[i][0].trace).stackgroup||"")?s in u?c=u[s]:(c=u[s]=f,f++):o.fill in a&&h>=0?c=h:(c=h=f,f++),c<p&&(d=!0),o._groupIndex=p=c;var m=r.slice();d&&m.sort((function(e,n){var r=e[0].trace,a=n[0].trace;return r._groupIndex-a._groupIndex||r.index-a.index}));var g={};for(i=0;i<m.length;i++)s=(o=m[i][0].trace).stackgroup||"",!0===o.visible?(o._nexttrace=null,o.fill in a&&(l=g[s],o._prevtrace=l||null,l&&(l._nexttrace=o)),o._ownfill=o.fill&&("tozero"===o.fill.substr(0,6)||"toself"===o.fill||"to"===o.fill.substr(0,2)&&!o._prevtrace),g[s]=o):o._prevtrace=o._nexttrace=o._ownfill=null;return m}},"00ee":function(e,n,r){var a={};a[r("b622")("toStringTag")]="z",e.exports="[object z]"===String(a)},"011b":function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("76c2"),o=r("a3f7"),i=r("c77c"),s=r("b9b9"),l=r("54ef"),c=r("6791"),u=r("a09b");const d=Object(l.a)({divNoNan_:function divNoNan_(e,n){let r=Object(o.a)(e,"a","div"),l=Object(o.a)(n,"b","div");[r,l]=Object(a.makeTypesMatch)(r,l);const d=Object(i.a)(r,l),p=Object(u.a)(d),f=Object(s.a)(l,p);return Object(c.a)(f,p,d)}})},"015f":function(e,n,r){"use strict";r.d(n,"a",(function(){return scalar}));var a=r("6ad5"),o=r("5959");function scalar(e,n){if((Object(a.A)(e)&&"string"!==n||Array.isArray(e))&&"complex64"!==n)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===n&&Object(a.A)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Object(o.a)(e,[],[],n)}},"0280":function(e,n,r){"use strict";r.d(n,"a",(function(){return whereImpl}));var a=r("043e");function whereImpl(e,n){const r=[];for(let a=0;a<n.length;a++)n[a]&&r.push(a);const o=Object(a.a)(e,"int32"),i=Object(a.a)([r.length,e.length],"int32");for(let a=0;a<r.length;a++){const n=o.indexToLoc(r[a]),s=a*e.length;i.values.set(n,s)}return i.toTensor()}},"0324":function(e,n,r){"use strict";e.exports=function crossTraceDefaults(e){for(var n=0;n<e.length;n++){var r=e[n];if("scatter"===r.type){var a=r.fill;if("none"!==a&&"toself"!==a&&(r.opacity=void 0,"tonexty"===a||"tonextx"===a))for(var o=n-1;o>=0;o--){var i=e[o];if("scatter"===i.type&&i.xaxis===r.xaxis&&i.yaxis===r.yaxis){i.opacity=void 0;break}}}}}},"0366":function(e,n,r){var a=r("1c0b");e.exports=function(e,n,r){if(a(e),void 0===n)return e;switch(r){case 0:return function(){return e.call(n)};case 1:return function(r){return e.call(n,r)};case 2:return function(r,a){return e.call(n,r,a)};case 3:return function(r,a,o){return e.call(n,r,a,o)}}return function(){return e.apply(n,arguments)}}},"0379":function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26"),i=o.strTranslate,s=r("73c9"),l=r("63dc").LINE_SPACING;function getSize(e,n){return e.node().getBoundingClientRect()[n]}var c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(e,r,C){var A=e.text(),I=!e.attr("data-notex")&&"undefined"!=typeof MathJax&&A.match(c),N=a.select(e.node().parentNode);if(!N.empty()){var M=e.attr("class")?e.attr("class").split(" ")[0]:"text";return M+="-math",N.selectAll("svg."+M).remove(),N.selectAll("g."+M+"-group").remove(),e.style("display",null).attr({"data-unformatted":A,"data-math":"N"}),I?(r&&r._promises||[]).push(new Promise((function(n){e.style("display","none");var r=parseInt(e.node().style.fontSize,10),s={fontSize:r};!function texToSVG(e,n,r){var i,s,l,c;MathJax.Hub.Queue((function(){return s=o.extendDeepAll({},MathJax.Hub.config),l=MathJax.Hub.processSectionDelay,void 0!==MathJax.Hub.processSectionDelay&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},displayAlign:"left"})}),(function(){if("SVG"!==(i=MathJax.Hub.config.menuSettings.renderer))return MathJax.Hub.setRenderer("SVG")}),(function(){var r="math-output-"+o.randstr({},64);return c=a.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":n.fontSize+"px"}).text(function cleanEscapesForTex(e){return e.replace(u,"\\lt ").replace(d,"\\gt ")}(e)),MathJax.Hub.Typeset(c.node())}),(function(){var n=a.select("body").select("#MathJax_SVG_glyphs");if(c.select(".MathJax_SVG").empty()||!c.select("svg").node())o.log("There was an error in the tex syntax.",e),r();else{var s=c.select("svg").node().getBoundingClientRect();r(c.select(".MathJax_SVG"),n,s)}if(c.remove(),"SVG"!==i)return MathJax.Hub.setRenderer(i)}),(function(){return void 0!==l&&(MathJax.Hub.processSectionDelay=l),MathJax.Hub.Config(s)}))}(I[2],s,(function(a,o,s){N.selectAll("svg."+M).remove(),N.selectAll("g."+M+"-group").remove();var l=a&&a.select("svg");if(!l||!l.node())return showText(),void n();var c=N.append("g").classed(M+"-group",!0).attr({"pointer-events":"none","data-unformatted":A,"data-math":"Y"});c.node().appendChild(l.node()),o&&o.node()&&l.node().insertBefore(o.node().cloneNode(!0),l.node().firstChild),l.attr({class:M,height:s.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var u=e.node().style.fill||"black",d=l.select("g");d.attr({fill:u,stroke:u});var p=getSize(d,"width"),f=getSize(d,"height"),h=+e.attr("x")-p*{start:0,middle:.5,end:1}[e.attr("text-anchor")||"start"],m=-(r||getSize(e,"height"))/4;"y"===M[0]?(c.attr({transform:"rotate("+[-90,+e.attr("x"),+e.attr("y")]+")"+i(-p/2,m-f/2)}),l.attr({x:+e.attr("x"),y:+e.attr("y")})):"l"===M[0]?l.attr({x:e.attr("x"),y:m-f/2}):"a"===M[0]&&0!==M.indexOf("atitle")?l.attr({x:0,y:m}):l.attr({x:h,y:+e.attr("y")+m-f/2}),C&&C.call(e,c),n(c)}))}))):showText(),e}function showText(){N.empty()||(M=e.attr("class")+"-math",N.select("svg."+M).remove()),e.text("").style("white-space","pre"),function buildSVGText(e,n){n=n.replace(y," ");var r,i=!1,c=[],u=-1;function newLine(){u++;var n=document.createElementNS(s.svg,"tspan");a.select(n).attr({class:"line",dy:u*l+"em"}),e.appendChild(n),r=n;var o=c;if(c=[{node:n}],o.length>1)for(var i=1;i<o.length;i++)enterNode(o[i])}function enterNode(e){var n,o=e.type,i={};if("a"===o){n="a";var l=e.target,u=e.href,d=e.popup;u&&(i={"xlink:xlink:show":"_blank"===l||"_"!==l.charAt(0)?"new":"replace",target:l,"xlink:xlink:href":u},d&&(i.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+d+'");return false;'))}else n="tspan";e.style&&(i.style=e.style);var p=document.createElementNS(s.svg,n);if("sup"===o||"sub"===o){addTextNode(r,m),r.appendChild(p);var g=document.createElementNS(s.svg,"tspan");addTextNode(g,m),a.select(g).attr("dy",h[o]),i.dy=f[o],r.appendChild(p),r.appendChild(g)}else r.appendChild(p);a.select(p).attr(i),r=e.node=p,c.push(e)}function addTextNode(e,n){e.appendChild(document.createTextNode(n))}function exitNode(e){if(1!==c.length){var a=c.pop();e!==a.type&&o.log("Start tag <"+a.type+"> doesnt match end tag <"+e+">. Pretending it did match.",n),r=c[c.length-1].node}else o.log("Ignoring unexpected end tag </"+e+">.",n)}_.test(n)?newLine():(r=e,c=[{node:e}]);for(var d=n.split(b),C=0;C<d.length;C++){var A=d[C],I=A.match(x),N=I&&I[2].toLowerCase(),M=p[N];if("br"===N)newLine();else if(void 0===M)addTextNode(r,convertEntities(A));else if(I[1])exitNode(N);else{var E=I[4],D={type:N},j=getQuotedMatch(E,w);if(j?(j=j.replace(O,"$1 fill:"),M&&(j+=";"+M)):M&&(j=M),j&&(D.style=j),"a"===N){i=!0;var R=getQuotedMatch(E,k);if(R){var L=document.createElement("a");L.href=R,-1!==g.indexOf(L.protocol)&&(D.href=encodeURI(decodeURI(R)),D.target=getQuotedMatch(E,T)||"_blank",D.popup=getQuotedMatch(E,S))}}enterNode(D)}}return i}(e.node(),A)&&e.style("pointer-events","all"),n.positionText(e),C&&C.call(e)}};var u=/(<|&lt;|&#60;)/g,d=/(>|&gt;|&#62;)/g;var p={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},m="​",g=["http:","https:","mailto:","",void 0,":"],y=n.NEWLINES=/(\r\n?|\n)/g,b=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,_=/<br(\s+.*)?>/i;n.BR_TAG_ALL=/<br(\s+.*)?>/gi;var w=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,k=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,T=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,S=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function getQuotedMatch(e,n){if(!e)return null;var r=e.match(n),a=r&&(r[3]||r[4]);return a&&convertEntities(a)}var O=/(^|;)\s*color:/;n.plainText=function(e,n){for(var r=void 0!==(n=n||{}).len&&-1!==n.len?n.len:1/0,a=void 0!==n.allowedTags?n.allowedTags:["br"],o="...".length,i=e.split(b),s=[],l="",c=0,u=0;u<i.length;u++){var d=i[u],p=d.match(x),f=p&&p[2].toLowerCase();if(f)-1!==a.indexOf(f)&&(s.push(d),l=f);else{var h=d.length;if(c+h<r)s.push(d),c+=h;else if(c<r){var m=r-c;l&&("br"!==l||m<=o||h<=o)&&s.pop(),r>o?s.push(d.substr(0,m-o)+"..."):s.push(d.substr(0,m));break}l=""}}return s.join("")};var C={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function convertEntities(e){return e.replace(A,(function(e,n){return("#"===n.charAt(0)?function fromCodePoint(e){if(e>1114111)return;var n=String.fromCodePoint;if(n)return n(e);var r=String.fromCharCode;return e<=65535?r(e):r(55232+(e>>10),e%1024+56320)}("x"===n.charAt(1)?parseInt(n.substr(2),16):parseInt(n.substr(1),10)):C[n])||e}))}function alignHTMLWith(e,n,r){var a,i,s,l=r.horizontalAlign,c=r.verticalAlign||"top",u=e.node().getBoundingClientRect(),d=n.node().getBoundingClientRect();return i="bottom"===c?function(){return u.bottom-a.height}:"middle"===c?function(){return u.top+(u.height-a.height)/2}:function(){return u.top},s="right"===l?function(){return u.right-a.width}:"center"===l?function(){return u.left+(u.width-a.width)/2}:function(){return u.left},function(){a=this.node().getBoundingClientRect();var e=s()-d.left,n=i()-d.top,l=r.gd||{};if(r.gd){l._fullLayout._calcInverseTransform(l);var c=o.apply3DTransform(l._fullLayout._invTransform)(e,n);e=c[0],n=c[1]}return this.style({top:n+"px",left:e+"px","z-index":1e3}),this}}n.convertEntities=convertEntities,n.sanitizeHTML=function sanitizeHTML(e){e=e.replace(y," ");for(var n=document.createElement("p"),r=n,o=[],i=e.split(b),s=0;s<i.length;s++){var l=i[s],c=l.match(x),u=c&&c[2].toLowerCase();if(u in p)if(c[1])o.length&&(r=o.pop());else{var d=c[4],f=getQuotedMatch(d,w),h=f?{style:f}:{};if("a"===u){var m=getQuotedMatch(d,k);if(m){var _=document.createElement("a");if(_.href=m,-1!==g.indexOf(_.protocol)){h.href=encodeURI(decodeURI(m));var S=getQuotedMatch(d,T);S&&(h.target=S)}}}var O=document.createElement(u);r.appendChild(O),a.select(O).attr(h),r=O,o.push(O)}else r.appendChild(document.createTextNode(convertEntities(l)))}return n.innerHTML},n.lineCount=function lineCount(e){return e.selectAll("tspan.line").size()||1},n.positionText=function positionText(e,n,r){return e.each((function(){var e=a.select(this);function setOrGet(n,r){return void 0===r?null===(r=e.attr(n))&&(e.attr(n,0),r=0):e.attr(n,r),r}var o=setOrGet("x",n),i=setOrGet("y",r);"text"===this.nodeName&&e.selectAll("tspan.line").attr({x:o,y:i})}))},n.makeEditable=function(e,n){var r=n.gd,o=n.delegate,i=a.dispatch("edit","input","cancel"),s=o||e;if(e.style({"pointer-events":o?"none":"all"}),1!==e.size())throw new Error("boo");function handleClick(){!function appendEditable(){var o=a.select(r).select(".svg-container"),s=o.append("div"),l=e.node().style,c=parseFloat(l.fontSize||12),u=n.text;void 0===u&&(u=e.attr("data-unformatted"));s.classed("plugin-editable editable",!0).style({position:"absolute","font-family":l.fontFamily||"Arial","font-size":c,color:n.fill||l.fill||"black",opacity:1,"background-color":n.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(u).call(alignHTMLWith(e,o,n)).on("blur",(function(){r._editing=!1,e.text(this.textContent).style({opacity:1});var n,o=a.select(this).attr("class");(n=o?"."+o.split(" ")[0]+"-math-group":"[class*=-math-group]")&&a.select(e.node().parentNode).select(n).style({opacity:0});var s=this.textContent;a.select(this).transition().duration(0).remove(),a.select(document).on("mouseup",null),i.edit.call(e,s)})).on("focus",(function(){var e=this;r._editing=!0,a.select(document).on("mouseup",(function(){if(a.event.target===e)return!1;document.activeElement===s.node()&&s.node().blur()}))})).on("keyup",(function(){27===a.event.which?(r._editing=!1,e.style({opacity:1}),a.select(this).style({opacity:0}).on("blur",(function(){return!1})).transition().remove(),i.cancel.call(e,this.textContent)):(i.input.call(e,this.textContent),a.select(this).call(alignHTMLWith(e,o,n)))})).on("keydown",(function(){13===a.event.which&&this.blur()})).call(selectElementContents)}(),e.style({opacity:0});var o,l=s.attr("class");(o=l?"."+l.split(" ")[0]+"-math-group":"[class*=-math-group]")&&a.select(e.node().parentNode).select(o).style({opacity:0})}function selectElementContents(e){var n=e.node(),r=document.createRange();r.selectNodeContents(n);var a=window.getSelection();a.removeAllRanges(),a.addRange(r),n.focus()}return n.immediate?handleClick():s.on("click",handleClick),a.rebind(e,i,"on")}},"043e":function(e,n,r){"use strict";r.d(n,"a",(function(){return buffer}));var a=r("34d7"),o=r("6ad5");function buffer(e,n="float32",r){return n=n||"float32",o.c(e),new a.b(e,n,r)}},"0446":function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("fc26"),s=r("83d1"),l=r("0642");e.exports=function transitionAxes(e,n,r,c){var u=e._fullLayout;if(0!==n.length){var d,p,f,h;c&&(d=c());var m=a.ease(r.easing);return e._transitionData._interruptCallbacks.push((function(){return window.cancelAnimationFrame(h),h=null,function transitionInterrupt(){for(var r={},a=0;a<n.length;a++){var i=n[a],s=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr0&&(r[s._name+".range"]=i.xr0.slice()),i.yr0&&(r[l._name+".range"]=i.yr0.slice())}return o.call("relayout",e,r).then((function(){for(var e=0;e<n.length;e++)unsetSubplotTransform(n[e].plotinfo)}))}()})),p=Date.now(),h=window.requestAnimationFrame((function doFrame(){f=Date.now();for(var a=Math.min(1,(f-p)/r.duration),i=m(a),s=0;s<n.length;s++)updateSubplot(n[s],i);f-p>r.duration?(!function transitionComplete(){for(var r={},a=0;a<n.length;a++){var i=n[a],s=i.plotinfo.xaxis,l=i.plotinfo.yaxis;i.xr1&&(r[s._name+".range"]=i.xr1.slice()),i.yr1&&(r[l._name+".range"]=i.yr1.slice())}return d&&d(),o.call("relayout",e,r).then((function(){for(var e=0;e<n.length;e++)unsetSubplotTransform(n[e].plotinfo)}))}(),h=window.cancelAnimationFrame(doFrame)):h=window.requestAnimationFrame(doFrame)})),Promise.resolve()}function unsetSubplotTransform(e){var n=e.xaxis,r=e.yaxis;u._defs.select("#"+e.clipId+"> rect").call(s.setTranslate,0,0).call(s.setScale,1,1),e.plot.call(s.setTranslate,n._offset,r._offset).call(s.setScale,1,1);var a=e.plot.selectAll(".scatterlayer .trace");a.selectAll(".point").call(s.setPointGroupScale,1,1),a.selectAll(".textpoint").call(s.setTextPointsScale,1,1),a.call(s.hideOutsideRangePoints,e)}function updateSubplot(n,r){var a=n.plotinfo,o=a.xaxis,c=a.yaxis,u=o._length,d=c._length,p=!!n.xr1,f=!!n.yr1,h=[];if(p){var m=i.simpleMap(n.xr0,o.r2l),g=i.simpleMap(n.xr1,o.r2l),y=m[1]-m[0],b=g[1]-g[0];h[0]=(m[0]*(1-r)+r*g[0]-m[0])/(m[1]-m[0])*u,h[2]=u*(1-r+r*b/y),o.range[0]=o.l2r(m[0]*(1-r)+r*g[0]),o.range[1]=o.l2r(m[1]*(1-r)+r*g[1])}else h[0]=0,h[2]=u;if(f){var x=i.simpleMap(n.yr0,c.r2l),_=i.simpleMap(n.yr1,c.r2l),w=x[1]-x[0],k=_[1]-_[0];h[1]=(x[1]*(1-r)+r*_[1]-x[1])/(x[0]-x[1])*d,h[3]=d*(1-r+r*k/w),c.range[0]=o.l2r(x[0]*(1-r)+r*_[0]),c.range[1]=c.l2r(x[1]*(1-r)+r*_[1])}else h[1]=0,h[3]=d;l.drawOne(e,o,{skipTitle:!0}),l.drawOne(e,c,{skipTitle:!0}),l.redrawComponents(e,[o._id,c._id]);var T=p?u/h[2]:1,S=f?d/h[3]:1,O=p?h[0]:0,C=f?h[1]:0,A=p?h[0]/h[2]*u:0,I=f?h[1]/h[3]*d:0,N=o._offset-A,M=c._offset-I;a.clipRect.call(s.setTranslate,O,C).call(s.setScale,1/T,1/S),a.plot.call(s.setTranslate,N,M).call(s.setScale,T,S),s.setPointGroupScale(a.zoomScalePts,1/T,1/S),s.setTextPointsScale(a.zoomScaleTxt,1/T,1/S)}l.redrawComponents(e)}},"046b":function(e,n,r){"use strict";var a=r("fc26"),o={"X,X div":"direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in o){var s=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(s,o[i])}},"04ad":function(e,n,r){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:r("d2d9")}}},layoutAttributes:r("d2d9"),handleDefaults:r("f7c1"),draw:r("887c")}},"04b8":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}]},"04c4":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({bincount_:function bincount_(e,n,r){const l=Object(i.a)(e,"x","bincount"),c=Object(i.a)(n,"weights","bincount");s.b("int32"===l.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${l.dtype}`)),s.b(r>=0,(()=>`size must be non-negative, but got ${r}.`)),s.b(c.size===l.size||0===c.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${l.shape}, weights shape: ${c.shape}.`));const u={x:l,weights:c},d={size:r};return a.a.runKernel(o.u,u,d)}})},"055a":function(e,n,r){"use strict";n.counter=function(e,n,r,a){var o=(n||"")+(r?"":"$"),i=!1===a?"":"^";return"xy"===e?new RegExp(i+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+o):new RegExp(i+e+"([2-9]|[1-9][0-9]+)?"+o)}},"057f":function(e,n,r){var a=r("fc6a"),o=r("241c").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function getOwnPropertyNames(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(n){return s.slice()}}(e):o(a(e))}},"05bb":function(e,n,r){"use strict";r.d(n,"a",(function(){return tensor3d}));var a=r("a3f7"),o=r("6ad5"),i=r("5959");function tensor3d(e,n,r){if(Object(o.d)(e),null!=n&&3!==n.length)throw new Error("tensor3d() requires shape to have three numbers");const s=Object(a.c)(e,r);if(3!==s.length&&1!==s.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===s.length&&null==n)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Object(i.a)(e,n,s,r)}},"0642":function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("bb71"),s=r("371e"),l=r("fc26"),c=l.strTranslate,u=r("0379"),d=r("1999"),p=r("d115"),f=r("83d1"),h=r("d798"),m=r("da6a"),g=r("e806"),y=g.ONEMAXYEAR,b=g.ONEAVGYEAR,x=g.ONEMINYEAR,_=g.ONEMAXQUARTER,w=g.ONEAVGQUARTER,k=g.ONEMINQUARTER,T=g.ONEMAXMONTH,S=g.ONEAVGMONTH,O=g.ONEMINMONTH,C=g.ONEWEEK,A=g.ONEDAY,I=A/2,N=g.ONEHOUR,M=g.ONEMIN,E=g.ONESEC,D=g.MINUS_SIGN,j=g.BADNUM,R=r("63dc"),L=R.MID_SHIFT,z=R.CAP_SHIFT,$=R.LINE_SPACING,B=R.OPPOSITE_SIDE,V=e.exports={};V.setConvert=r("1a40");var U=r("0b77"),W=r("3c1c"),H=W.idSort,G=W.isLinked;V.id2name=W.id2name,V.name2id=W.name2id,V.cleanId=W.cleanId,V.list=W.list,V.listIds=W.listIds,V.getFromId=W.getFromId,V.getFromTrace=W.getFromTrace;var q=r("ce56");V.getAutoRange=q.getAutoRange,V.findExtremes=q.findExtremes;function expandRange(e){var n=1e-4*(e[1]-e[0]);return[e[0]-n,e[1]+n]}V.coerceRef=function(e,n,r,a,o,i){var s=a.charAt(a.length-1),c=r._fullLayout._subplots[s+"axis"],u=a+"ref",d={};return o||(o=c[0]||("string"==typeof i?i:i[0])),i||(i=o),c=c.concat(c.map((function(e){return e+" domain"}))),d[u]={valType:"enumerated",values:c.concat(i?"string"==typeof i?[i]:i:[]),dflt:o},l.coerce(e,n,d,u)},V.getRefType=function(e){return void 0===e?e:"paper"===e?"paper":"pixel"===e?"pixel":/( domain)$/.test(e)?"domain":"range"},V.coercePosition=function(e,n,r,a,o,i){var s,c;if("range"!==V.getRefType(a))s=l.ensureNumber,c=r(o,i);else{var u=V.getFromId(n,a);c=r(o,i=u.fraction2r(i)),s=u.cleanPos}e[o]=s(c)},V.cleanPosition=function(e,n,r){return("paper"===r||"pixel"===r?l.ensureNumber:V.getFromId(n,r).cleanPos)(e)},V.redrawComponents=function(e,n){n=n||V.listIds(e);var r=e._fullLayout;function _redrawOneComp(a,o,i,l){for(var c=s.getComponentMethod(a,o),u={},d=0;d<n.length;d++)for(var p=r[V.id2name(n[d])][i],f=0;f<p.length;f++){var h=p[f];if(!u[h]&&(c(e,h),u[h]=1,l))return}}_redrawOneComp("annotations","drawOne","_annIndices"),_redrawOneComp("shapes","drawOne","_shapeIndices"),_redrawOneComp("images","draw","_imgIndices",!0)};var K=V.getDataConversions=function(e,n,r,a){var o,i="x"===r||"y"===r||"z"===r?r:a;if(Array.isArray(i)){if(o={type:U(a,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},V.setConvert(o),"category"===o.type)for(var s=0;s<a.length;s++)o.d2c(a[s])}else o=V.getFromTrace(e,n,i);return o?{d2c:o.d2c,c2d:o.c2d}:"ids"===i?{d2c:toString,c2d:toString}:{d2c:toNum,c2d:toNum}};function toNum(e){return+e}function toString(e){return String(e)}function nMonths(e){return+e.substring(1)}V.getDataToCoordFunc=function(e,n,r,a){return K(e,n,r,a).d2c},V.counterLetter=function(e){var n=e.charAt(0);return"x"===n?"y":"y"===n?"x":void 0},V.minDtick=function(e,n,r,a){-1===["log","category","multicategory"].indexOf(e.type)&&a?void 0===e._minDtick?(e._minDtick=n,e._forceTick0=r):e._minDtick&&((e._minDtick/n+1e-6)%1<2e-6&&((r-e._forceTick0)/n%1+1.000001)%1<2e-6?(e._minDtick=n,e._forceTick0=r):((n/e._minDtick+1e-6)%1>2e-6||((r-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0)):e._minDtick=0},V.saveRangeInitial=function(e,n){for(var r=V.list(e,"",!0),a=!1,o=0;o<r.length;o++){var i=r[o],s=void 0===i._rangeInitial,l=s||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(s&&!1===i.autorange||n&&l)&&(i._rangeInitial=i.range.slice(),a=!0)}return a},V.saveShowSpikeInitial=function(e,n){for(var r=V.list(e,"",!0),a=!1,o="on",i=0;i<r.length;i++){var s=r[i],l=void 0===s._showSpikeInitial,c=l||!(s.showspikes===s._showspikes);(l||n&&c)&&(s._showSpikeInitial=s.showspikes,a=!0),"on"!==o||s.showspikes||(o="off")}return e._fullLayout._cartesianSpikesEnabled=o,a},V.autoBin=function(e,n,r,a,i,s){var c,u=l.aggNums(Math.min,null,e),d=l.aggNums(Math.max,null,e);if("category"===n.type||"multicategory"===n.type)return{start:u-.5,end:d+.5,size:Math.max(1,Math.round(s)||1),_dataSpan:d-u};if(i||(i=n.calendar),c="log"===n.type?{type:"linear",range:[u,d]}:{type:n.type,range:l.simpleMap([u,d],n.c2r,0,i),calendar:i},V.setConvert(c),s=s&&m.dtick(s,c.type))c.dtick=s,c.tick0=m.tick0(void 0,c.type,i);else{var p;if(r)p=(d-u)/r;else{var f=l.distinctVals(e),h=Math.pow(10,Math.floor(Math.log(f.minDiff)/Math.LN10)),g=h*l.roundUp(f.minDiff/h,[.9,1.9,4.9,9.9],!0);p=Math.max(g,2*l.stdev(e)/Math.pow(e.length,a?.25:.4)),o(p)||(p=1)}V.autoTicks(c,p)}var y,b=c.dtick,x=V.tickIncrement(V.tickFirst(c),b,"reverse",i);if("number"==typeof b)y=(x=function autoShiftNumericBins(e,n,r,a,i){var s=0,l=0,c=0,u=0;function nearEdge(n){return(1+100*(n-e)/r.dtick)%100<2}for(var d=0;d<n.length;d++)n[d]%1==0?c++:o(n[d])||u++,nearEdge(n[d])&&s++,nearEdge(n[d]+r.dtick/2)&&l++;var p=n.length-u;if(c===p&&"date"!==r.type)r.dtick<1?e=a-.5*r.dtick:(e-=.5)+r.dtick<a&&(e+=r.dtick);else if(l<.1*p&&(s>.3*p||nearEdge(a)||nearEdge(i))){var f=r.dtick/2;e+=e+f<a?f:-f}return e}(x,e,c,u,d))+(1+Math.floor((d-x)/b))*b;else for("M"===c.dtick.charAt(0)&&(x=function autoShiftMonthBins(e,n,r,a,o){var i=l.findExactDates(n,o),s=.8;if(i.exactDays>s){var c=Number(r.substr(1));i.exactYears>s&&c%12==0?e=V.tickIncrement(e,"M6","reverse")+1.5*A:i.exactMonths>s?e=V.tickIncrement(e,"M1","reverse")+15.5*A:e-=I;var u=V.tickIncrement(e,r);if(u<=a)return u}return e}(x,e,b,u,i)),y=x,0;y<=d;)y=V.tickIncrement(y,b,!1,i);return{start:n.c2r(x,0,i),end:n.c2r(y,0,i),size:b,_dataSpan:d-u}},V.prepTicks=function(e,n){var r=l.simpleMap(e.range,e.r2l,void 0,void 0,n);if(e._dtickInit=e.dtick,e._tick0Init=e.tick0,"auto"===e.tickmode||!e.dtick){var a,i=e.nticks;i||("category"===e.type||"multicategory"===e.type?(a=e.tickfont?1.2*(e.tickfont.size||12):15,i=e._length/a):(a="y"===e._id.charAt(0)?40:80,i=l.constrain(e._length/a,4,9)+1),"radialaxis"===e._name&&(i*=2)),"array"===e.tickmode&&(i*=100),e._roughDTick=Math.abs(r[1]-r[0])/i,V.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<2*e._minDtick&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}"period"===e.ticklabelmode&&function adjustPeriodDelta(e){var n;function mDate(){return!(o(e.dtick)||"M"!==e.dtick.charAt(0))}var r=mDate(),a=V.getTickFormat(e);if(a){var i=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(n=N,i&&!r&&e.dtick<N&&(e.dtick=N)):/%p/.test(a)?(n=I,i&&!r&&e.dtick<I&&(e.dtick=I)):/%[Aadejuwx]/.test(a)?(n=A,i&&!r&&e.dtick<A&&(e.dtick=A)):/%[UVW]/.test(a)?(n=C,i&&!r&&e.dtick<C&&(e.dtick=C)):/%[Bbm]/.test(a)?(n=S,i&&(r?nMonths(e.dtick)<1:e.dtick<O)&&(e.dtick="M1")):/%[q]/.test(a)?(n=w,i&&(r?nMonths(e.dtick)<3:e.dtick<k)&&(e.dtick="M3")):/%[Yy]/.test(a)&&(n=b,i&&(r?nMonths(e.dtick)<12:e.dtick<x)&&(e.dtick="M12")))}(r=mDate())&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0);e._definedDelta=n}(e),e.tick0||(e.tick0="date"===e.type?"2000-01-01":0),"date"===e.type&&e.dtick<.1&&(e.dtick=.1),autoTickRound(e)},V.calcTicks=function calcTicks(e,n){V.prepTicks(e,n);var r=l.simpleMap(e.range,e.r2l,void 0,void 0,n);if("array"===e.tickmode)return function arrayTicks(e){var n=e.tickvals,r=e.ticktext,a=new Array(n.length),o=expandRange(l.simpleMap(e.range,e.r2l)),i=Math.min(o[0],o[1]),s=Math.max(o[0],o[1]),c=0;Array.isArray(r)||(r=[]);var u="category"===e.type?e.d2l_noadd:e.d2l;"log"===e.type&&"L"!==String(e.dtick).charAt(0)&&(e.dtick="L"+Math.pow(10,Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var d=0;d<n.length;d++){var p=u(n[d]);p>i&&p<s&&(void 0===r[d]?a[c]=V.tickText(e,p):a[c]=tickTextObj(e,p,String(r[d])),c++)}c<n.length&&a.splice(c,n.length-c);e.rangebreaks&&(a=a.filter((function(n){return e.maskBreaks(n.x)!==j})));return a}(e);var a=expandRange(r),i=a[0],s=a[1],c=r[1]<r[0],u=Math.min(r[0],r[1]),d=Math.max(r[0],r[1]),p="log"===e.type&&!(o(e.dtick)||"L"===e.dtick.charAt(0)),f="period"===e.ticklabelmode;if(e._tmin=V.tickFirst(e,n),e._tmin<i!==c)return[];"category"!==e.type&&"multicategory"!==e.type||(s=c?Math.max(-.5,s):Math.min(e._categories.length-.5,s));var h=e._tmin;e.rangebreaks&&e._tick0Init!==e.tick0&&(h=moveOutsideBreak(h,e),c||(h=V.tickIncrement(h,e.dtick,!c,e.calendar))),f&&(h=V.tickIncrement(h,e.dtick,!c,e.calendar));for(var m,g=Math.max(1e3,e._length||0),M=[],E=null;c?h>=s:h<=s;h=V.tickIncrement(h,e.dtick,c,e.calendar)){if(e.rangebreaks&&!c){if(h<i)continue;if(e.maskBreaks(h)===j&&moveOutsideBreak(h,e)>=d)break}if(M.length>g||h===E)break;E=h;var D=!1;p&&h!==(0|h)&&(D=!0),M.push({minor:D,value:h})}if(f&&function positionPeriodTicks(e,n,r){for(var a=0;a<e.length;a++){var o=e[a].value,i=a,s=a+1;a<e.length-1?(i=a,s=a+1):a>0?(i=a-1,s=a):(i=a,s=a);var l,c=e[i].value,u=e[s].value,d=Math.abs(u-c),p=r||d,f=0;p>=x?f=d>=x&&d<=y?d:b:r===w&&p>=k?f=d>=k&&d<=_?d:w:p>=O?f=d>=O&&d<=T?d:S:r===C&&p>=C?f=C:p>=A?f=A:r===I&&p>=I?f=I:r===N&&p>=N&&(f=N),f>=d&&(f=d,l=!0);var h=o+f;if(n.rangebreaks&&f>0){for(var m=0,g=0;g<84;g++){var M=(g+.5)/84;n.maskBreaks(o*(1-M)+M*h)!==j&&m++}(f*=m/84)||(e[a].drop=!0),l&&d>C&&(f=d)}(f>0||0===a)&&(e[a].periodX=o+f/2)}}(M,e,e._definedDelta),e.rangebreaks){var R="y"===e._id.charAt(0),L=1;"auto"===e.tickmode&&(L=e.tickfont?e.tickfont.size:12);var z=NaN;for(m=M.length-1;m>-1;m--)if(M[m].drop)M.splice(m,1);else{M[m].value=moveOutsideBreak(M[m].value,e);var $=e.c2p(M[m].value);(R?z>$-L:z<$+L)?M.splice(c?m+1:m,1):z=$}}isAngular(e)&&360===Math.abs(r[1]-r[0])&&M.pop(),e._tmax=(M[M.length-1]||{}).value,e._prevDateHead="",e._inCalcTicks=!0;var B,U,W=[];for(m=0;m<M.length;m++){var H=M[m].minor,G=M[m].value;B=V.tickText(e,G,!1,H),void 0!==(U=M[m].periodX)&&(B.periodX=U,(U>d||U<u)&&(U>d&&(B.periodX=d),U<u&&(B.periodX=u),B.text=" ",e._prevDateHead="")),W.push(B)}return e._inCalcTicks=!1,W};var X=[2,5,10],Y=[1,2,3,6,12],Z=[1,2,5,10,15,30],J=[1,2,3,7,14],Q=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ee=[-.301,0,.301,.699,1],te=[15,30,45,90,180];function roundDTick(e,n,r){return n*l.roundUp(e/n,r)}function autoTickRound(e){var n=e.dtick;if(e._tickexponent=0,o(n)||"string"==typeof n||(n=1),"category"!==e.type&&"multicategory"!==e.type||(e._tickround=null),"date"===e.type){var r=e.r2l(e.tick0),a=e.l2r(r).replace(/(^-|i)/g,""),i=a.length;if("M"===String(n).charAt(0))i>10||"01-01"!==a.substr(5)?e._tickround="d":e._tickround=+n.substr(1)%12==0?"y":"m";else if(n>=A&&i<=10||n>=15*A)e._tickround="d";else if(n>=M&&i<=16||n>=N)e._tickround="M";else if(n>=E&&i<=19||n>=M)e._tickround="S";else{var s=e.l2r(r+n).replace(/^-/,"").length;e._tickround=Math.max(i,s)-20,e._tickround<0&&(e._tickround=4)}}else if(o(n)||"L"===n.charAt(0)){var l=e.range.map(e.r2d||Number);o(n)||(n=Number(n.substr(1))),e._tickround=2-Math.floor(Math.log(n)/Math.LN10+.01);var c=Math.max(Math.abs(l[0]),Math.abs(l[1])),u=Math.floor(Math.log(c)/Math.LN10+.01),d=void 0===e.minexponent?3:e.minexponent;Math.abs(u)>d&&(isSIFormat(e.exponentformat)&&!beyondSI(u)?e._tickexponent=3*Math.round((u-1)/3):e._tickexponent=u)}else e._tickround=null}function tickTextObj(e,n,r){var a=e.tickfont||{};return{x:n,dx:0,dy:0,text:r||"",fontSize:a.size,font:a.family,fontColor:a.color}}V.autoTicks=function(e,n){var r;function getBase(e){return Math.pow(e,Math.floor(Math.log(n)/Math.LN10))}if("date"===e.type){e.tick0=l.dateTick0(e.calendar,0);var a=2*n;if(a>b)n/=b,r=getBase(10),e.dtick="M"+12*roundDTick(n,r,X);else if(a>S)n/=S,e.dtick="M"+roundDTick(n,1,Y);else if(a>A){e.dtick=roundDTick(n,A,e._hasDayOfWeekBreaks?[1,2,7,14]:J);var i=V.getTickFormat(e),s="period"===e.ticklabelmode;s&&(e._rawTick0=e.tick0),/%[uVW]/.test(i)?e.tick0=l.dateTick0(e.calendar,2):e.tick0=l.dateTick0(e.calendar,1),s&&(e._dowTick0=e.tick0)}else a>N?e.dtick=roundDTick(n,N,Y):a>M?e.dtick=roundDTick(n,M,Z):a>E?e.dtick=roundDTick(n,E,Z):(r=getBase(10),e.dtick=roundDTick(n,r,X))}else if("log"===e.type){e.tick0=0;var c=l.simpleMap(e.range,e.r2l);if(n>.7)e.dtick=Math.ceil(n);else if(Math.abs(c[1]-c[0])<1){var u=1.5*Math.abs((c[1]-c[0])/n);n=Math.abs(Math.pow(10,c[1])-Math.pow(10,c[0]))/u,r=getBase(10),e.dtick="L"+roundDTick(n,r,X)}else e.dtick=n>.3?"D2":"D1"}else"category"===e.type||"multicategory"===e.type?(e.tick0=0,e.dtick=Math.ceil(Math.max(n,1))):isAngular(e)?(e.tick0=0,r=1,e.dtick=roundDTick(n,r,te)):(e.tick0=0,r=getBase(10),e.dtick=roundDTick(n,r,X));if(0===e.dtick&&(e.dtick=1),!o(e.dtick)&&"string"!=typeof e.dtick){var d=e.dtick;throw e.dtick=1,"ax.dtick error: "+String(d)}},V.tickIncrement=function(e,n,r,i){var s=r?-1:1;if(o(n))return l.increment(e,s*n);var c=n.charAt(0),u=s*Number(n.substr(1));if("M"===c)return l.incrementMonth(e,u,i);if("L"===c)return Math.log(Math.pow(10,e)+u)/Math.LN10;if("D"===c){var d="D2"===n?ee:Q,p=e+.01*s,f=l.roundUp(l.mod(p,1),d,r);return Math.floor(p)+Math.log(a.round(Math.pow(10,f),1))/Math.LN10}throw"unrecognized dtick "+String(n)},V.tickFirst=function(e,n){var r=e.r2l||Number,i=l.simpleMap(e.range,r,void 0,void 0,n),s=i[1]<i[0],c=s?Math.floor:Math.ceil,u=expandRange(i)[0],d=e.dtick,p=r(e.tick0);if(o(d)){var f=c((u-p)/d)*d+p;return"category"!==e.type&&"multicategory"!==e.type||(f=l.constrain(f,0,e._categories.length-1)),f}var h=d.charAt(0),m=Number(d.substr(1));if("M"===h){for(var g,y,b,x=0,_=p;x<10;){if(((g=V.tickIncrement(_,d,s,e.calendar))-u)*(_-u)<=0)return s?Math.min(_,g):Math.max(_,g);y=(u-(_+g)/2)/(g-_),b=h+(Math.abs(Math.round(y))||1)*m,_=V.tickIncrement(_,b,y<0?!s:s,e.calendar),x++}return l.error("tickFirst did not converge",e),_}if("L"===h)return Math.log(c((Math.pow(10,u)-p)/m)*m+p)/Math.LN10;if("D"===h){var w="D2"===d?ee:Q,k=l.roundUp(l.mod(u,1),w,s);return Math.floor(u)+Math.log(a.round(Math.pow(10,k),1))/Math.LN10}throw"unrecognized dtick "+String(d)},V.tickText=function(e,n,r,a){var i,s=tickTextObj(e,n),c="array"===e.tickmode,u=r||c,d=e.type,p="category"===d?e.d2l_noadd:e.d2l;if(c&&Array.isArray(e.ticktext)){var f=l.simpleMap(e.range,e.r2l),h=(Math.abs(f[1]-f[0])-(e._lBreaks||0))/1e4;for(i=0;i<e.ticktext.length&&!(Math.abs(n-p(e.tickvals[i]))<h);i++);if(i<e.ticktext.length)return s.text=String(e.ticktext[i]),s}function isHidden(a){if(void 0===a)return!0;if(r)return"none"===a;var o={first:e._tmin,last:e._tmax}[a];return"all"!==a&&n!==o}var m=r?"never":"none"!==e.exponentformat&&isHidden(e.showexponent)?"hide":"";if("date"===d?function formatDate(e,n,r,a){var i=e._tickround,s=r&&e.hoverformat||V.getTickFormat(e);a&&(i=o(i)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[i]);var c,u=l.formatDate(n.x,s,i,e._dateFormat,e.calendar,e._extraFormat),d=u.indexOf("\n");-1!==d&&(c=u.substr(d+1),u=u.substr(0,d));a&&("00:00:00"===u||"00:00"===u?(u=c,c=""):8===u.length&&(u=u.replace(/:00$/,"")));if(c)if(r)"d"===i?u+=", "+c:u=c+(u?", "+u:"");else if(e._inCalcTicks&&e._prevDateHead===c){var p=-1!==(e.ticklabelposition||"").indexOf("inside"),f=e._realSide||e.side;(!p&&"top"===f||p&&"bottom"===f)&&(u+="<br> ")}else e._prevDateHead=c,u+="<br>"+c;n.text=u}(e,s,r,u):"log"===d?function formatLog(e,n,r,a,i){var s=e.dtick,c=n.x,u=e.tickformat,d="string"==typeof s&&s.charAt(0);"never"===i&&(i="");a&&"L"!==d&&(s="L3",d="L");if(u||"L"===d)n.text=numFormat(Math.pow(10,c),e,i,a);else if(o(s)||"D"===d&&l.mod(c+.01,1)<.1){var p=Math.round(c),f=Math.abs(p),h=e.exponentformat;"power"===h||isSIFormat(h)&&beyondSI(p)?(n.text=0===p?1:1===p?"10":"10<sup>"+(p>1?"":D)+f+"</sup>",n.fontSize*=1.25):("e"===h||"E"===h)&&f>2?n.text="1"+h+(p>0?"+":D)+f:(n.text=numFormat(Math.pow(10,c),e,"","fakehover"),"D1"===s&&"y"===e._id.charAt(0)&&(n.dy-=n.fontSize/6))}else{if("D"!==d)throw"unrecognized dtick "+String(s);n.text=String(Math.round(Math.pow(10,l.mod(c,1)))),n.fontSize*=.75}if("D1"===e.dtick){var m=String(n.text).charAt(0);"0"!==m&&"1"!==m||("y"===e._id.charAt(0)?n.dx-=n.fontSize/4:(n.dy+=n.fontSize/2,n.dx+=(e.range[1]>e.range[0]?1:-1)*n.fontSize*(c<0?.5:.25)))}}(e,s,0,u,m):"category"===d?function formatCategory(e,n){var r=e._categories[Math.round(n.x)];void 0===r&&(r="");n.text=String(r)}(e,s):"multicategory"===d?function formatMultiCategory(e,n,r){var a=Math.round(n.x),o=e._categories[a]||[],i=void 0===o[1]?"":String(o[1]),s=void 0===o[0]?"":String(o[0]);r?n.text=s+" - "+i:(n.text=i,n.text2=s)}(e,s,r):isAngular(e)?function formatAngle(e,n,r,a,o){if("radians"!==e.thetaunit||r)n.text=numFormat(n.x,e,o,a);else{var i=n.x/180;if(0===i)n.text="0";else{var s=function num2frac(e){function almostEq(e,n){return Math.abs(e-n)<=1e-6}function findGCD(e,n){return almostEq(n,0)?e:findGCD(n,e%n)}function findPrecision(e){for(var n=1;!almostEq(Math.round(e*n)/n,e);)n*=10;return n}var n=findPrecision(e),r=e*n,a=Math.abs(findGCD(r,n));return[Math.round(r/a),Math.round(n/a)]}(i);if(s[1]>=100)n.text=numFormat(l.deg2rad(n.x),e,o,a);else{var c=n.x<0;1===s[1]?1===s[0]?n.text="π":n.text=s[0]+"π":n.text=["<sup>",s[0],"</sup>","⁄","<sub>",s[1],"</sub>","π"].join(""),c&&(n.text=D+n.text)}}}}(e,s,r,u,m):function formatLinear(e,n,r,a,o){"never"===o?o="":"all"===e.showexponent&&Math.abs(n.x/e.dtick)<1e-6&&(o="hide");n.text=numFormat(n.x,e,o,a)}(e,s,0,u,m),a||(e.tickprefix&&!isHidden(e.showtickprefix)&&(s.text=e.tickprefix+s.text),e.ticksuffix&&!isHidden(e.showticksuffix)&&(s.text+=e.ticksuffix)),"boundaries"===e.tickson||e.showdividers){var inbounds=function(n){var r=e.l2p(n);return r>=0&&r<=e._length?n:null};s.xbnd=[inbounds(s.x-.5),inbounds(s.x+e.dtick-.5)]}return s},V.hoverLabelText=function(e,n,r){if(r!==j&&r!==n)return V.hoverLabelText(e,n)+" - "+V.hoverLabelText(e,r);var a="log"===e.type&&n<=0,o=V.tickText(e,e.c2l(a?-n:n),"hover").text;return a?0===n?"0":D+o:o};var ne=["f","p","n","μ","m","","k","M","G","T"];function isSIFormat(e){return"SI"===e||"B"===e}function beyondSI(e){return e>14||e<-15}function numFormat(e,n,r,a){var i=e<0,s=n._tickround,c=r||n.exponentformat||"B",u=n._tickexponent,d=V.getTickFormat(n),p=n.separatethousands;if(a){var f={exponentformat:c,minexponent:n.minexponent,dtick:"none"===n.showexponent?n.dtick:o(e)&&Math.abs(e)||1,range:"none"===n.showexponent?n.range.map(n.r2d):[0,e||1]};autoTickRound(f),s=(Number(f._tickround)||0)+4,u=f._tickexponent,n.hoverformat&&(d=n.hoverformat)}if(d)return n._numFormat(d)(e).replace(/-/g,D);var h,m=Math.pow(10,-s)/2;if("none"===c&&(u=0),(e=Math.abs(e))<m)e="0",i=!1;else{if(e+=m,u&&(e*=Math.pow(10,-u),s+=u),0===s)e=String(Math.floor(e));else if(s<0){e=(e=String(Math.round(e))).substr(0,e.length+s);for(var g=s;g<0;g++)e+="0"}else{var y=(e=String(e)).indexOf(".")+1;y&&(e=e.substr(0,y+s).replace(/\.?0+$/,""))}e=l.numSeparate(e,n._separators,p)}u&&"hide"!==c&&(isSIFormat(c)&&beyondSI(u)&&(c="power"),h=u<0?D+-u:"power"!==c?"+"+u:String(u),"e"===c||"E"===c?e+=c+h:"power"===c?e+="×10<sup>"+h+"</sup>":"B"===c&&9===u?e+="B":isSIFormat(c)&&(e+=ne[u/3+5]));return i?D+e:e}function getSecondaryLabelVals(e,n){for(var r=[],a={},o=0;o<n.length;o++){var i=n[o];a[i.text2]?a[i.text2].push(i.x):a[i.text2]=[i.x]}for(var s in a)r.push(tickTextObj(e,l.interp(a[s],.5),s));return r}function getPosX(e){return void 0!==e.periodX?e.periodX:e.x}function tickDataFn(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join("_")}function approxTitleDepth(e){var n=e.title.font.size,r=(e.title.text.match(u.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty("standoff")?r?n*(z+r*$):n*z:r?n*(r+1)*$:n}function clipEnds(e,n){var r=e.l2p(n);return r>1&&r<e._length-1}function selectTickLabel(e){var n=a.select(e),r=n.select(".text-math-group");return r.empty()?n.select("text"):r}function axAutoMarginID(e){return e._id+".automargin"}function axMirrorAutoMarginID(e){return axAutoMarginID(e)+".mirror"}function rangeSliderAutoMarginID(e){return e._id+".rangeslider"}function mergeAxisGroups(e,n){for(var r=0;r<n.length;r++)-1===e.indexOf(n[r])&&e.push(n[r])}function swapAxisGroup(e,n,r){var a,o,i=[],s=[],c=e.layout;for(a=0;a<n.length;a++)i.push(V.getFromId(e,n[a]));for(a=0;a<r.length;a++)s.push(V.getFromId(e,r[a]));var u=Object.keys(h),d=["anchor","domain","overlaying","position","side","tickangle","editType"],p=["linear","log"];for(a=0;a<u.length;a++){var f=u[a],m=i[0][f],g=s[0][f],y=!0,b=!1,x=!1;if("_"!==f.charAt(0)&&"function"!=typeof m&&-1===d.indexOf(f)){for(o=1;o<i.length&&y;o++){var _=i[o][f];"type"===f&&-1!==p.indexOf(m)&&-1!==p.indexOf(_)&&m!==_?b=!0:_!==m&&(y=!1)}for(o=1;o<s.length&&y;o++){var w=s[o][f];"type"===f&&-1!==p.indexOf(g)&&-1!==p.indexOf(w)&&g!==w?x=!0:s[o][f]!==g&&(y=!1)}y&&(b&&(c[i[0]._name].type="linear"),x&&(c[s[0]._name].type="linear"),swapAxisAttrs(c,f,i,s,e._fullLayout._dfltTitle))}}for(a=0;a<e._fullLayout.annotations.length;a++){var k=e._fullLayout.annotations[a];-1!==n.indexOf(k.xref)&&-1!==r.indexOf(k.yref)&&l.swapAttrs(c.annotations[a],["?"])}}function swapAxisAttrs(e,n,r,a,o){var i,s=l.nestedProperty,c=s(e[r[0]._name],n).get(),u=s(e[a[0]._name],n).get();for("title"===n&&(c&&c.text===o.x&&(c.text=o.y),u&&u.text===o.y&&(u.text=o.x)),i=0;i<r.length;i++)s(e,r[i]._name+"."+n).set(u);for(i=0;i<a.length;i++)s(e,a[i]._name+"."+n).set(c)}function isAngular(e){return"angularaxis"===e._id}function moveOutsideBreak(e,n){for(var r=n._rangebreaks.length,a=0;a<r;a++){var o=n._rangebreaks[a];if(e>=o.min&&e<o.max)return o.max}return e}V.getTickFormat=function(e){var n,r,a;function convertToMs(e){return"string"!=typeof e?e:Number(e.replace("M",""))*S}function compareLogTicks(e,n){var r=["L","D"];if(typeof e==typeof n){if("number"==typeof e)return e-n;var a=r.indexOf(e.charAt(0)),o=r.indexOf(n.charAt(0));return a===o?Number(e.replace(/(L|D)/g,""))-Number(n.replace(/(L|D)/g,"")):a-o}return"number"==typeof e?1:-1}function isProperStop(e,n,r){var a=r||function(e){return e},o=n[0],i=n[1];return(!o&&"number"!=typeof o||a(o)<=a(e))&&(!i&&"number"!=typeof i||a(i)>=a(e))}function isProperLogStop(e,n){var r=null===n[0],a=null===n[1],o=compareLogTicks(e,n[0])>=0,i=compareLogTicks(e,n[1])<=0;return(r||o)&&(a||i)}if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case"date":case"linear":for(n=0;n<e.tickformatstops.length;n++)if((a=e.tickformatstops[n]).enabled&&isProperStop(e.dtick,a.dtickrange,convertToMs)){r=a;break}break;case"log":for(n=0;n<e.tickformatstops.length;n++)if((a=e.tickformatstops[n]).enabled&&isProperLogStop(e.dtick,a.dtickrange)){r=a;break}}return r?r.value:e.tickformat},V.getSubplots=function(e,n){var r=e._fullLayout._subplots,a=r.cartesian.concat(r.gl2d||[]),o=n?V.findSubplotsWithAxis(a,n):a;return o.sort((function(e,n){var r=e.substr(1).split("y"),a=n.substr(1).split("y");return r[0]===a[0]?+r[1]-+a[1]:+r[0]-+a[0]})),o},V.findSubplotsWithAxis=function(e,n){for(var r=new RegExp("x"===n._id.charAt(0)?"^"+n._id+"y":n._id+"$"),a=[],o=0;o<e.length;o++){var i=e[o];r.test(i)&&a.push(i)}return a},V.makeClipPaths=function(e){var n=e._fullLayout;if(!n._hasOnlyLargeSploms){var r,o,i={_offset:0,_length:n.width,_id:""},s={_offset:0,_length:n.height,_id:""},l=V.list(e,"x",!0),c=V.list(e,"y",!0),u=[];for(r=0;r<l.length;r++)for(u.push({x:l[r],y:s}),o=0;o<c.length;o++)0===r&&u.push({x:i,y:c[o]}),u.push({x:l[r],y:c[o]});var d=n._clips.selectAll(".axesclip").data(u,(function(e){return e.x._id+e.y._id}));d.enter().append("clipPath").classed("axesclip",!0).attr("id",(function(e){return"clip"+n._uid+e.x._id+e.y._id})).append("rect"),d.exit().remove(),d.each((function(e){a.select(this).select("rect").attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})}))}},V.draw=function(e,n,r){var a=e._fullLayout;"redraw"===n&&a._paper.selectAll("g.subplot").each((function(e){var n=e[0],r=a._plots[n];if(r){var o=r.xaxis,i=r.yaxis;r.xaxislayer.selectAll("."+o._id+"tick").remove(),r.yaxislayer.selectAll("."+i._id+"tick").remove(),r.xaxislayer.selectAll("."+o._id+"tick2").remove(),r.yaxislayer.selectAll("."+i._id+"tick2").remove(),r.xaxislayer.selectAll("."+o._id+"divider").remove(),r.yaxislayer.selectAll("."+i._id+"divider").remove(),r.gridlayer&&r.gridlayer.selectAll("path").remove(),r.zerolinelayer&&r.zerolinelayer.selectAll("path").remove(),a._infolayer.select(".g-"+o._id+"title").remove(),a._infolayer.select(".g-"+i._id+"title").remove()}}));var o=n&&"redraw"!==n?n:V.listIds(e);return l.syncOrAsync(o.map((function(n){return function(){if(n){var a=V.getFromId(e,n),o=V.drawOne(e,a,r);return a._r=a.range.slice(),a._rl=l.simpleMap(a._r,a.r2l),o}}})))},V.drawOne=function(e,n,r){var a,o,c;r=r||{},n.setScale();var u=e._fullLayout,h=n._id,m=h.charAt(0),g=V.counterLetter(h),y=u._plots[n._mainSubplot];if(y){var b=y[m+"axislayer"],x=n._mainLinePosition,_=n._mainMirrorPosition,w=n._vals=V.calcTicks(n),k=[n.mirror,x,_].join("_");for(a=0;a<w.length;a++)w[a].axInfo=k;n._selections={},n._tickAngles&&(n._prevTickAngles=n._tickAngles),n._tickAngles={},n._depth=null;var T={};if(n.visible){var S,O,C=V.makeTransTickFn(n),A=V.makeTransTickLabelFn(n),I="inside"===n.ticks,N="outside"===n.ticks;if("boundaries"===n.tickson){var M=function getBoundaryVals(e,n){var r,a=[],_push=function(e,n){var r=e.xbnd[n];null!==r&&a.push(l.extendFlat({},e,{x:r}))};if(n.length){for(r=0;r<n.length;r++)_push(n[r],0);_push(n[r-1],1)}return a}(0,w);O=V.clipEnds(n,M),S=I?O:M}else O=V.clipEnds(n,w),S=I&&"period"!==n.ticklabelmode?O:w;var E=n._gridVals=O,D=function getDividerVals(e,n){var r,a,o=[],i=n.length&&n[n.length-1].x<n[0].x,_push=function(e,n){var r=e.xbnd[n];null!==r&&o.push(l.extendFlat({},e,{x:r}))};if(e.showdividers&&n.length){for(r=0;r<n.length;r++){var s=n[r];s.text2!==a&&_push(s,i?1:0),a=s.text2}_push(n[r-1],i?0:1)}return o}(n,w);if(!u._hasOnlyLargeSploms){var j=n._subplotsWith,R={};for(a=0;a<j.length;a++){o=j[a];var L=(c=u._plots[o])[g+"axis"],z=L._mainAxis._id;if(!R[z]){R[z]=1;var U="x"===m?"M0,"+L._offset+"v"+L._length:"M"+L._offset+",0h"+L._length;V.drawGrid(e,n,{vals:E,counterAxis:L,layer:c.gridlayer.select("."+h),path:U,transFn:C}),V.drawZeroLine(e,n,{counterAxis:L,layer:c.zerolinelayer,path:U,transFn:C})}}}var W=V.getTickSigns(n),H=[];if(n.ticks){var G,q,K,X=V.makeTickPath(n,x,W[2]);if(n._anchorAxis&&n.mirror&&!0!==n.mirror?(G=V.makeTickPath(n,_,W[3]),q=X+G):(G="",q=X),n.showdividers&&N&&"boundaries"===n.tickson){var Y={};for(a=0;a<D.length;a++)Y[D[a].x]=1;K=function(e){return Y[e.x]?G:q}}else K=q;V.drawTicks(e,n,{vals:S,layer:b,path:K,transFn:C}),"allticks"===n.mirror&&(H=Object.keys(n._linepositions||{}))}for(a=0;a<H.length;a++){o=H[a],c=u._plots[o];var Z=n._linepositions[o]||[],J=V.makeTickPath(n,Z[0],W[0])+V.makeTickPath(n,Z[1],W[1]);V.drawTicks(e,n,{vals:S,layer:c[m+"axislayer"],path:J,transFn:C})}var Q=[];if(Q.push((function(){return V.drawLabels(e,n,{vals:w,layer:b,transFn:A,labelFns:V.makeLabelFns(n,x)})})),"multicategory"===n.type){var ee={x:2,y:10}[m];Q.push((function(){var r={x:"height",y:"width"}[m],a=getLabelLevelBbox()[r]+ee+(n._tickAngles[h+"tick"]?n.tickfont.size*$:0);return V.drawLabels(e,n,{vals:getSecondaryLabelVals(n,w),layer:b,cls:h+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:C,labelFns:V.makeLabelFns(n,x+a*W[4])})})),Q.push((function(){return n._depth=W[4]*(getLabelLevelBbox("tick2")[n.side]-x),function drawDividers(e,n,r){var a=n._id+"divider",o=r.vals,i=r.layer.selectAll("path."+a).data(o,tickDataFn);i.exit().remove(),i.enter().insert("path",":first-child").classed(a,1).classed("crisp",1).call(p.stroke,n.dividercolor).style("stroke-width",f.crispRound(e,n.dividerwidth,1)+"px"),i.attr("transform",r.transFn).attr("d",r.path)}(e,n,{vals:D,layer:b,path:V.makeTickPath(n,x,W[4],n._depth),transFn:C})}))}else n.title.hasOwnProperty("standoff")&&Q.push((function(){n._depth=W[4]*(getLabelLevelBbox()[n.side]-x)}));var te=s.getComponentMethod("rangeslider","isVisible")(n);return Q.push((function(){var r,a,o,l,c=n.side.charAt(0),d=B[n.side].charAt(0),p=V.getPxPosition(e,n),f=N?n.ticklen:0;if((n.automargin||te)&&("multicategory"===n.type?r=getLabelLevelBbox("tick2"):(r=getLabelLevelBbox(),"x"===m&&"b"===c&&(n._depth=Math.max(r.width>0?r.bottom-p:0,f)))),n.automargin){a={x:0,y:0,r:0,l:0,t:0,b:0};var h=[0,1];if("x"===m){if("b"===c?a[c]=n._depth:(a[c]=n._depth=Math.max(r.width>0?p-r.top:0,f),h.reverse()),r.width>0){var y=r.right-(n._offset+n._length);y>0&&(a.xr=1,a.r=y);var b=n._offset-r.left;b>0&&(a.xl=0,a.l=b)}}else if("l"===c?a[c]=n._depth=Math.max(r.height>0?p-r.left:0,f):(a[c]=n._depth=Math.max(r.height>0?r.right-p:0,f),h.reverse()),r.height>0){var x=r.bottom-(n._offset+n._length);x>0&&(a.yb=0,a.b=x);var _=n._offset-r.top;_>0&&(a.yt=1,a.t=_)}a[g]="free"===n.anchor?n.position:n._anchorAxis.domain[h[0]],n.title.text!==u._dfltTitle[m]&&(a[c]+=approxTitleDepth(n)+(n.title.standoff||0)),n.mirror&&"free"!==n.anchor&&((o={x:0,y:0,r:0,l:0,t:0,b:0})[d]=n.linewidth,n.mirror&&!0!==n.mirror&&(o[d]+=f),!0===n.mirror||"ticks"===n.mirror?o[g]=n._anchorAxis.domain[h[1]]:"all"!==n.mirror&&"allticks"!==n.mirror||(o[g]=[n._counterDomainMin,n._counterDomainMax][h[1]]))}te&&(l=s.getComponentMethod("rangeslider","autoMarginOpts")(e,n)),i.autoMargin(e,axAutoMarginID(n),a),i.autoMargin(e,axMirrorAutoMarginID(n),o),i.autoMargin(e,rangeSliderAutoMarginID(n),l)})),r.skipTitle||te&&"bottom"===n.side||Q.push((function(){return function drawTitle(e,n){var r,a=e._fullLayout,o=n._id,i=o.charAt(0),s=n.title.font.size;if(n.title.hasOwnProperty("standoff"))r=n._depth+n.title.standoff+approxTitleDepth(n);else{var l=-1!==(n.ticklabelposition||"").indexOf("inside");if("multicategory"===n.type)r=n._depth;else{var c=1.5*s;l&&(c=.5*s,"outside"===n.ticks&&(c+=n.ticklen)),r=10+c+(n.linewidth?n.linewidth-1:0)}l||(r+="x"===i?"top"===n.side?s*(n.showticklabels?1:0):s*(n.showticklabels?1.5:.5):"right"===n.side?s*(n.showticklabels?1:.5):s*(n.showticklabels?.5:0))}var u,p,h,m,g=V.getPxPosition(e,n);"x"===i?(p=n._offset+n._length/2,h="top"===n.side?g-r:g+r):(h=n._offset+n._length/2,p="right"===n.side?g+r:g-r,u={rotate:"-90",offset:0});if("multicategory"!==n.type){var y=n._selections[n._id+"tick"];if(m={selection:y,side:n.side},y&&y.node()&&y.node().parentNode){var b=f.getTranslate(y.node().parentNode);m.offsetLeft=b.x,m.offsetTop=b.y}n.title.hasOwnProperty("standoff")&&(m.pad=0)}return d.draw(e,o+"title",{propContainer:n,propName:n._name+".title.text",placeholder:a._dfltTitle[i],avoid:m,transform:u,attributes:{x:p,y:h,"text-anchor":"middle"}})}(e,n)})),l.syncOrAsync(Q)}}function getLabelLevelBbox(e){var r=h+(e||"tick");return T[r]||(T[r]=function calcLabelLevelBbox(e,n){var r,a,o,i;e._selections[n].size()?(r=1/0,a=-1/0,o=1/0,i=-1/0,e._selections[n].each((function(){var e=selectTickLabel(this),n=f.bBox(e.node().parentNode);r=Math.min(r,n.top),a=Math.max(a,n.bottom),o=Math.min(o,n.left),i=Math.max(i,n.right)}))):(r=0,a=0,o=0,i=0);return{top:r,bottom:a,left:o,right:i,height:a-r,width:i-o}}(n,r)),T[r]}},V.getTickSigns=function(e){var n=e._id.charAt(0),r={x:"top",y:"right"}[n],a=e.side===r?1:-1,o=[-1,1,a,-a];return"inside"!==e.ticks==("x"===n)&&(o=o.map((function(e){return-e}))),e.side&&o.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),o},V.makeTransTickFn=function(e){return"x"===e._id.charAt(0)?function(n){return c(e._offset+e.l2p(n.x),0)}:function(n){return c(0,e._offset+e.l2p(n.x))}},V.makeTransTickLabelFn=function(e){var n=function getTickLabelUV(e){var n=e.ticklabelposition||"",has=function(e){return-1!==n.indexOf(e)},r=has("top"),a=has("left"),o=has("right"),i=has("bottom"),s=has("inside"),l=i||a||r||o;if(!l&&!s)return[0,0];var c=e.side,u=l?(e.tickwidth||0)/2:0,d=3,p=e.tickfont?e.tickfont.size:12;(i||r)&&(u+=p*z,d+=(e.linewidth||0)/2);(a||o)&&(u+=(e.linewidth||0)/2,d+=3);s&&"top"===c&&(d-=p*(1-z));(a||r)&&(u=-u);"bottom"!==c&&"right"!==c||(d=-d);return[l?u:0,s?d:0]}(e),r=n[0],a=n[1];return"x"===e._id.charAt(0)?function(n){return c(r+e._offset+e.l2p(getPosX(n)),a)}:function(n){return c(a,r+e._offset+e.l2p(getPosX(n)))}},V.makeTickPath=function(e,n,r,a){a=void 0!==a?a:e.ticklen;var o=e._id.charAt(0),i=(e.linewidth||1)/2;return"x"===o?"M0,"+(n+i*r)+"v"+a*r:"M"+(n+i*r)+",0h"+a*r},V.makeLabelFns=function(e,n,r){var a=e.ticklabelposition||"",has=function(e){return-1!==a.indexOf(e)},i=has("top"),s=has("left"),c=has("right"),u=has("bottom")||s||i||c,d=has("inside"),p="inside"===a&&"inside"===e.ticks||!d&&"outside"===e.ticks&&"boundaries"!==e.tickson,f=0,h=0,m=p?e.ticklen:0;if(d?m*=-1:u&&(m=0),p&&(f+=m,r)){var g=l.deg2rad(r);f=m*Math.cos(g)+1,h=m*Math.sin(g)}e.showticklabels&&(p||e.showline)&&(f+=.2*e.tickfont.size);var y,b,x,_,w,k={labelStandoff:f+=(e.linewidth||1)/2*(d?-1:1),labelShift:h},T=0,S=e.side,O=e._id.charAt(0),C=e.tickangle;if("x"===O)_=(w=!d&&"bottom"===S||d&&"top"===S)?1:-1,d&&(_*=-1),y=h*_,b=n+f*_,x=w?1:-.2,90===Math.abs(C)&&(d?x+=L:x=-90===C&&"bottom"===S?z:90===C&&"top"===S?L:.5,T=L/2*(C/90)),k.xFn=function(e){return e.dx+y+T*e.fontSize},k.yFn=function(e){return e.dy+b+e.fontSize*x},k.anchorFn=function(e,n){if(u){if(s)return"end";if(c)return"start"}return o(n)&&0!==n&&180!==n?n*_<0!==d?"end":"start":"middle"},k.heightFn=function(n,r,a){return r<-60||r>60?-.5*a:"top"===e.side!==d?-a:0};else if("y"===O){if(_=(w=!d&&"left"===S||d&&"right"===S)?1:-1,d&&(_*=-1),y=f,b=h*_,x=0,d||90!==Math.abs(C)||(x=-90===C&&"left"===S||90===C&&"right"===S?z:.5),d){var A=o(C)?+C:0;if(0!==A){var I=l.deg2rad(A);T=Math.abs(Math.sin(I))*z*_,x=0}}k.xFn=function(e){return e.dx+n-(y+e.fontSize*x)*_+T*e.fontSize},k.yFn=function(e){return e.dy+b+e.fontSize*L},k.anchorFn=function(e,n){return o(n)&&90===Math.abs(n)?"middle":w?"end":"start"},k.heightFn=function(n,r,a){return"right"===e.side&&(r*=-1),r<-30?-a:r<30?-.5*a:0}}return k},V.drawTicks=function(e,n,r){r=r||{};var a=n._id+"tick",o=r.vals;"period"===n.ticklabelmode&&(o=o.slice()).shift();var i=r.layer.selectAll("path."+a).data(n.ticks?o:[],tickDataFn);i.exit().remove(),i.enter().append("path").classed(a,1).classed("ticks",1).classed("crisp",!1!==r.crisp).call(p.stroke,n.tickcolor).style("stroke-width",f.crispRound(e,n.tickwidth,1)+"px").attr("d",r.path),i.attr("transform",r.transFn)},V.drawGrid=function(e,n,r){r=r||{};var a=n._id+"grid",o=r.vals,i=r.counterAxis;if(!1===n.showgrid)o=[];else if(i&&V.shouldShowZeroLine(e,n,i))for(var s="array"===n.tickmode,l=0;l<o.length;l++){var c=o[l].x;if(s?!c:Math.abs(c)<n.dtick/100){if(o=o.slice(0,l).concat(o.slice(l+1)),!s)break;l--}}var u=r.layer.selectAll("path."+a).data(o,tickDataFn);u.exit().remove(),u.enter().append("path").classed(a,1).classed("crisp",!1!==r.crisp),n._gw=f.crispRound(e,n.gridwidth,1),u.attr("transform",r.transFn).attr("d",r.path).call(p.stroke,n.gridcolor||"#ddd").style("stroke-width",n._gw+"px"),"function"==typeof r.path&&u.attr("d",r.path)},V.drawZeroLine=function(e,n,r){r=r||r;var a=n._id+"zl",o=V.shouldShowZeroLine(e,n,r.counterAxis),i=r.layer.selectAll("path."+a).data(o?[{x:0,id:n._id}]:[]);i.exit().remove(),i.enter().append("path").classed(a,1).classed("zl",1).classed("crisp",!1!==r.crisp).each((function(){r.layer.selectAll("path").sort((function(e,n){return H(e.id,n.id)}))})),i.attr("transform",r.transFn).attr("d",r.path).call(p.stroke,n.zerolinecolor||p.defaultLine).style("stroke-width",f.crispRound(e,n.zerolinewidth,n._gw||1)+"px")},V.drawLabels=function(e,n,r){r=r||{};var i=e._fullLayout,s=n._id,d=s.charAt(0),p=r.cls||s+"tick",h=r.vals,m=r.labelFns,g=r.secondary?0:n.tickangle,y=(n._prevTickAngles||{})[p],b=r.layer.selectAll("g."+p).data(n.showticklabels?h:[],tickDataFn),x=[];function positionLabels(e,i){var s=-1!==(n.ticklabelposition||"").indexOf("inside");e.each((function(e){var l=a.select(this),d=l.select(".text-math-group"),p=m.anchorFn(e,i),h=r.transFn.call(l.node(),e)+(o(i)&&0!=+i?" rotate("+i+","+m.xFn(e)+","+(m.yFn(e)-e.fontSize/2)+")":""),g=u.lineCount(l),y=$*e.fontSize,b=m.heightFn(e,o(i)?+i:0,(g-1)*y);if(b&&(h+=c(0,b)),d.empty()){var x=l.select("text");x.attr({transform:h,"text-anchor":p}),s&&(x.style({opacity:100}),n._hideOutOfRangeInsideTickLabels&&n._hideOutOfRangeInsideTickLabels())}else{var _=f.bBox(d.node()).width*{end:-.5,start:.5}[p];d.attr("transform",h+c(_,0))}}))}b.enter().append("g").classed(p,1).append("text").attr("text-anchor","middle").each((function(n){var r=a.select(this),o=e._promises.length;r.call(u.positionText,m.xFn(n),m.yFn(n)).call(f.font,n.font,n.fontSize,n.fontColor).text(n.text).call(u.convertToTspans,e),e._promises[o]?x.push(e._promises.pop().then((function(){positionLabels(r,g)}))):positionLabels(r,g)})),b.exit().remove(),r.repositionOnUpdate&&b.each((function(e){a.select(this).select("text").call(u.positionText,m.xFn(e),m.yFn(e))})),n._hideOutOfRangeInsideTickLabels=void 0,-1!==(n.ticklabelposition||"").indexOf("inside")&&(n._hideOutOfRangeInsideTickLabels=function(){var e=l.simpleMap(n.range,n.r2l),r=n.l2p(e[0]),o=n.l2p(e[1]),i=Math.min(r,o)+n._offset,s=Math.max(r,o)+n._offset,c="x"===n._id.charAt(0);b.each((function(e){var r=a.select(this);if(r.select(".text-math-group").empty()){var o=f.bBox(r.node()),l=!1;c?(o.right>s||o.left<i)&&(l=!0):(o.bottom>s||o.top+(n.tickangle?0:e.fontSize/4)<i)&&(l=!0),l&&r.select("text").style({opacity:0})}}))}),positionLabels(b,y+1?y:g);var _=null;n._selections&&(n._selections[p]=b);var w=[function allLabelsReady(){return x.length&&Promise.all(x)}];n.automargin&&i._redrawFromAutoMarginCount&&90===y?(_=90,w.push((function(){positionLabels(b,y)}))):w.push((function fixLabelOverlaps(){if(positionLabels(b,g),h.length&&"x"===d&&!o(g)&&("log"!==n.type||"D"!==String(n.dtick).charAt(0))){_=0;var e,a=0,i=[];if(b.each((function(e){a=Math.max(a,e.fontSize);var r=n.l2p(e.x),o=selectTickLabel(this),s=f.bBox(o.node());i.push({top:0,bottom:10,height:10,left:r-s.width/2,right:r+s.width/2+2,width:s.width+2})})),"boundaries"!==n.tickson&&!n.showdividers||r.secondary){var s=h.length,c=Math.abs((h[s-1].x-h[0].x)*n._m)/(s-1),u=n.ticklabelposition||"",has=function(e){return-1!==u.indexOf(e)},p=has("top"),m=has("left"),y=has("right"),x=has("bottom")||m||p||y?(n.tickwidth||0)+6:0,w=c<2.5*a||"multicategory"===n.type;for(e=0;e<i.length-1;e++)if(l.bBoxIntersect(i[e],i[e+1],x)){_=w?90:30;break}}else{var k=2;for(n.ticks&&(k+=n.tickwidth/2),e=0;e<i.length;e++){var T=h[e].xbnd,S=i[e];if(null!==T[0]&&S.left-n.l2p(T[0])<k||null!==T[1]&&n.l2p(T[1])-S.right<k){_=90;break}}}_&&positionLabels(b,_)}})),n._tickAngles&&w.push((function(){n._tickAngles[p]=null===_?o(g)?g:0:_}));var k=n._anchorAxis;k&&k.autorange&&-1!==(n.ticklabelposition||"").indexOf("inside")&&!G(i,n._id)&&(i._insideTickLabelsAutorange||(i._insideTickLabelsAutorange={}),i._insideTickLabelsAutorange[k._name+".autorange"]=k.autorange,w.push((function computeFinalTickLabelBoundingBoxes(){b.each((function(e,r){var a=selectTickLabel(this);n._vals[r].bb=f.bBox(a.node())}))})));var T=l.syncOrAsync(w);return T&&T.then&&e._promises.push(T),T},V.getPxPosition=function(e,n){var r,a=e._fullLayout._size,o=n._id.charAt(0),i=n.side;return"free"!==n.anchor?r=n._anchorAxis:"x"===o?r={_offset:a.t+(1-(n.position||0))*a.h,_length:0}:"y"===o&&(r={_offset:a.l+(n.position||0)*a.w,_length:0}),"top"===i||"left"===i?r._offset:"bottom"===i||"right"===i?r._offset+r._length:void 0},V.shouldShowZeroLine=function(e,n,r){var a=l.simpleMap(n.range,n.r2l);return a[0]*a[1]<=0&&n.zeroline&&("linear"===n.type||"-"===n.type)&&!(n.rangebreaks&&n.maskBreaks(0)===j)&&(clipEnds(n,0)||!function anyCounterAxLineAtZero(e,n,r,a){var o=r._mainAxis;if(!o)return;var i=e._fullLayout,s=n._id.charAt(0),l=V.counterLetter(n._id),c=n._offset+(Math.abs(a[0])<Math.abs(a[1])==("x"===s)?0:n._length);function lineNearZero(e){if(!e.showline||!e.linewidth)return!1;var r=Math.max((e.linewidth+n.zerolinewidth)/2,1);function closeEnough(e){return"number"==typeof e&&Math.abs(e-c)<r}if(closeEnough(e._mainLinePosition)||closeEnough(e._mainMirrorPosition))return!0;var a=e._linepositions||{};for(var o in a)if(closeEnough(a[o][0])||closeEnough(a[o][1]))return!0}var u=i._plots[r._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return lineNearZero(r,c);for(var d=V.list(e,l),p=0;p<d.length;p++){var f=d[p];if(f._mainAxis===o&&lineNearZero(f,c))return!0}}(e,n,r,a)||function hasBarsOrFill(e,n){for(var r=e._fullData,a=n._mainSubplot,o=n._id.charAt(0),i=0;i<r.length;i++){var l=r[i];if(!0===l.visible&&l.xaxis+l.yaxis===a){if(s.traceIs(l,"bar-like")&&l.orientation==={x:"h",y:"v"}[o])return!0;if(l.fill&&l.fill.charAt(l.fill.length-1)===o)return!0}}return!1}(e,n))},V.clipEnds=function(e,n){return n.filter((function(n){return clipEnds(e,n.x)}))},V.allowAutoMargin=function(e){for(var n=V.list(e,"",!0),r=0;r<n.length;r++){var a=n[r];a.automargin&&(i.allowAutoMargin(e,axAutoMarginID(a)),a.mirror&&i.allowAutoMargin(e,axMirrorAutoMarginID(a))),s.getComponentMethod("rangeslider","isVisible")(a)&&i.allowAutoMargin(e,rangeSliderAutoMarginID(a))}},V.swap=function(e,n){for(var r=function makeAxisGroups(e,n){var r,a,o=[];for(r=0;r<n.length;r++){var i=[],s=e._fullData[n[r]].xaxis,l=e._fullData[n[r]].yaxis;if(s&&l){for(a=0;a<o.length;a++)-1===o[a].x.indexOf(s)&&-1===o[a].y.indexOf(l)||i.push(a);if(i.length){var c,u=o[i[0]];if(i.length>1)for(a=1;a<i.length;a++)c=o[i[a]],mergeAxisGroups(u.x,c.x),mergeAxisGroups(u.y,c.y);mergeAxisGroups(u.x,[s]),mergeAxisGroups(u.y,[l])}else o.push({x:[s],y:[l]})}}return o}(e,n),a=0;a<r.length;a++)swapAxisGroup(e,r[a].x,r[a].y)}},"06cf":function(e,n,r){var a=r("83ab"),o=r("d1e7"),i=r("5c6c"),s=r("fc6a"),l=r("c04ea"),c=r("5135"),u=r("0cfb"),d=Object.getOwnPropertyDescriptor;n.f=a?d:function getOwnPropertyDescriptor(e,n){if(e=s(e),n=l(n,!0),u)try{return d(e,n)}catch(r){}if(c(e,n))return i(!o.f.call(e,n),e[n])}},"076f":function(e,n,r){"use strict";var a=r("fc26"),o=r("371e");e.exports=function handleXYDefaults(e,n,r,i){var s,l=i("x"),c=i("y");if(o.getComponentMethod("calendars","handleTraceDefaults")(e,n,["x","y"],r),l){var u=a.minRowLength(l);c?s=Math.min(u,a.minRowLength(c)):(s=u,i("y0"),i("dy"))}else{if(!c)return 0;s=a.minRowLength(c),i("x0"),i("dx")}return n._length=s,s}},"0777":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({complex_:function complex_(e,n){const r=Object(i.a)(e,"real","complex"),l=Object(i.a)(n,"imag","complex");s.e(r.shape,l.shape,`real and imag shapes, ${r.shape} and ${l.shape}, must match in call to tf.complex().`);const c={real:r,imag:l};return a.a.runKernel(o.z,c)}})},"07ac":function(e,n,r){var a=r("23e7"),o=r("6f53").values;a({target:"Object",stat:!0},{values:function values(e){return o(e)}})},"07d6":function(e,n){e.exports=function(){throw new Error("define cannot be used indirect")}},"07e8":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.b,r=n.c,a=n.d,o=n.a;return e=e<<25^e>>>7^r,r=r-a|0,a=a<<24^a>>>8^o,o=o-e|0,n.b=e=e<<20^e>>>12^r,n.c=r=r-a|0,n.d=a<<16^r>>>16^o,n.a=o-e|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,e===Math.floor(e)?(n.a=e/4294967296|0,n.b=0|e):r+=e;for(var a=0;a<r.length+20;a++)n.b^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.a=e.a,n.b=e.b,n.c=e.c,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.tychei=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"08a9":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({round_:function round_(e){const n={x:Object(i.a)(e,"x","round")};return a.a.runKernel(o.uc,n)}})},"09bd":function(e,n,r){"use strict";var a=r("215c").hasColorscale,o=r("3aa8"),i=r("de81");e.exports=function calcMarkerColorscale(e,n){i.hasLines(n)&&a(n,"line")&&o(e,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),i.hasMarkers(n)&&(a(n,"marker")&&o(e,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),a(n,"marker.line")&&o(e,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},"09f4":function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("deb3"),u=r("54ef");const d=Object(u.a)({maximum_:function maximum_(e,n){let r=Object(s.a)(e,"a","maximum"),u=Object(s.a)(n,"b","maximum");[r,u]=Object(i.makeTypesMatch)(r,u),"bool"===r.dtype&&(r=Object(c.a)(r,"int32"),u=Object(c.a)(u,"int32")),Object(l.a)(r.shape,u.shape);const d={a:r,b:u};return a.a.runKernel(o.Nb,d)}})},"0a5b":function(e,n,r){"use strict";var a=r("d115");e.exports=function supplyDrawNewShapeDefaults(e,n,r){if(r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity"),r("newshape.line.width")){var o=(e||{}).plot_bgcolor||"#FFF";r("newshape.line.color",a.contrast(o)),r("newshape.line.dash")}r("activeshape.fillcolor"),r("activeshape.opacity")}},"0b77":function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("e806").BADNUM,s=o.isArrayOrTypedArray,l=o.isDateTime,c=o.cleanNumber,u=Math.round;function hasTypeNumber(e,n){return n?a(e):"number"==typeof e}function getIncrement(e){return Math.max(1,(e-1)/1e3)}e.exports=function autoType(e,n,r){var o=e,d=r.noMultiCategory;if(s(o)&&!o.length)return"-";if(!d&&function multiCategory(e){return s(e[0])&&s(e[1])}(o))return"multicategory";if(d&&Array.isArray(o[0])){for(var p=[],f=0;f<o.length;f++)if(s(o[f]))for(var h=0;h<o[f].length;h++)p.push(o[f][h]);o=p}if(function moreDates(e,n){for(var r=e.length,o=getIncrement(r),i=0,s=0,c={},d=0;d<r;d+=o){var p=e[u(d)],f=String(p);c[f]||(c[f]=1,l(p,n)&&i++,a(p)&&s++)}return i>2*s}(o,n))return"date";var m="strict"!==r.autotypenumbers;return function category(e,n){for(var r=e.length,a=getIncrement(r),o=0,s=0,l={},d=0;d<r;d+=a){var p=e[u(d)],f=String(p);if(!l[f]){l[f]=1;var h=typeof p;"boolean"===h?s++:(n?c(p)!==i:"number"===h)?o++:"string"===h&&s++}}return s>2*o}(o,m)?"category":function linearOK(e,n){for(var r=e.length,a=0;a<r;a++)if(hasTypeNumber(e[a],n))return!0;return!1}(o,m)?"linear":"-"}},"0c39":function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("371e"),s=r("0642"),l=r("424b"),c=r("6dcc"),u=r("c005"),d=r("9547"),p=r("5913");function calcAllAutoBins(e,n,r,l,c){var u,d,p,f,h,m,g,y=l+"bins",b=e._fullLayout,x=n["_"+l+"bingroup"],_=b._histogramBinOpts[x],w="overlay"===b.barmode,r2c=function(e){return r.r2c(e,0,f)},c2r=function(e){return r.c2r(e,0,f)},k="date"===r.type?function(e){return e||0===e?o.cleanDate(e,null,f):null}:function(e){return a(e)?Number(e):null};function setBound(e,n,r){n[e+"Found"]?(n[e]=k(n[e]),null===n[e]&&(n[e]=r[e])):(m[e]=n[e]=r[e],o.nestedProperty(d[0],y+"."+e).set(r[e]))}if(n["_"+l+"autoBinFinished"])delete n["_"+l+"autoBinFinished"];else{d=_.traces;var T=[],S=!0,O=!1,C=!1;for(u=0;u<d.length;u++)if((p=d[u]).visible){var A=_.dirs[u];h=p["_"+A+"pos0"]=r.makeCalcdata(p,A),T=o.concat(T,h),delete p["_"+l+"autoBinFinished"],!0===n.visible&&(S?S=!1:(delete p._autoBin,p["_"+l+"autoBinFinished"]=1),i.traceIs(p,"2dMap")&&(O=!0),"histogram2dcontour"===p.type&&(C=!0))}f=d[0][l+"calendar"];var I=s.autoBin(T,r,_.nbins,O,f,_.sizeFound&&_.size),N=d[0]._autoBin={};if(m=N[_.dirs[0]]={},C&&(_.size||(I.start=c2r(s.tickIncrement(r2c(I.start),I.size,!0,f))),void 0===_.end&&(I.end=c2r(s.tickIncrement(r2c(I.end),I.size,!1,f)))),w&&!i.traceIs(n,"2dMap")&&0===I._dataSpan&&"category"!==r.type&&"multicategory"!==r.type){if(c)return[I,h,!0];I=function handleSingleValueOverlays(e,n,r,a,i){var s,l,c,u=e._fullLayout,d=function getConnectedHistograms(e,n){for(var r=n.xaxis,a=n.yaxis,o=n.orientation,i=[],s=e._fullData,l=0;l<s.length;l++){var c=s[l];"histogram"===c.type&&!0===c.visible&&c.orientation===o&&c.xaxis===r&&c.yaxis===a&&i.push(c)}return i}(e,n),p=!1,f=1/0,h=[n];for(s=0;s<d.length;s++)if((l=d[s])===n)p=!0;else if(p){var m=calcAllAutoBins(e,l,r,a,!0),g=m[0],y=m[2];l["_"+a+"autoBinFinished"]=1,l["_"+a+"pos0"]=m[1],y?h.push(l):f=Math.min(f,g.size)}else c=u._histogramBinOpts[l["_"+a+"bingroup"]],f=Math.min(f,c.size||l[i].size);var b=new Array(h.length);for(s=0;s<h.length;s++)for(var x=h[s]["_"+a+"pos0"],_=0;_<x.length;_++)if(void 0!==x[_]){b[s]=x[_];break}isFinite(f)||(f=o.distinctVals(b).minDiff);for(s=0;s<h.length;s++){var w=(l=h[s])[a+"calendar"],k={start:r.c2r(b[s]-f/2,0,w),end:r.c2r(b[s]+f/2,0,w),size:f};l._input[i]=l[i]=k,(c=u._histogramBinOpts[l["_"+a+"bingroup"]])&&o.extendFlat(c,k)}return n[i]}(e,n,r,l,y)}(g=p.cumulative||{}).enabled&&"include"!==g.currentbin&&("decreasing"===g.direction?I.start=c2r(s.tickIncrement(r2c(I.start),I.size,!0,f)):I.end=c2r(s.tickIncrement(r2c(I.end),I.size,!1,f))),_.size=I.size,_.sizeFound||(m.size=I.size,o.nestedProperty(d[0],y+".size").set(I.size)),setBound("start",_,I),setBound("end",_,I)}h=n["_"+l+"pos0"],delete n["_"+l+"pos0"];var M=n._input[y]||{},E=o.extendFlat({},_),D=_.start,j=r.r2l(M.start),R=void 0!==j;if((_.startFound||R)&&j!==r.r2l(D)){var L=R?j:o.aggNums(Math.min,null,h),z={type:"category"===r.type||"multicategory"===r.type?"linear":r.type,r2l:r.r2l,dtick:_.size,tick0:D,calendar:f,range:[L,s.tickIncrement(L,_.size,!1,f)].map(r.l2r)},$=s.tickFirst(z);$>r.r2l(L)&&($=s.tickIncrement($,_.size,!0,f)),E.start=r.l2r($),R||o.nestedProperty(n,y+".start").set(E.start)}var B=_.end,V=r.r2l(M.end),U=void 0!==V;if((_.endFound||U)&&V!==r.r2l(B)){var W=U?V:o.aggNums(Math.max,null,h);E.end=r.l2r(W),U||o.nestedProperty(n,y+".start").set(E.end)}var H="autobin"+l;return!1===n._input[H]&&(n._input[y]=o.extendFlat({},n[y]||{}),delete n._input[H],delete n[H]),[E,h]}e.exports={calc:function calc(e,n){var r,i,f,h,m=[],g=[],y=s.getFromId(e,"h"===n.orientation?n.yaxis:n.xaxis),b="h"===n.orientation?"y":"x",x={x:"y",y:"x"}[b],_=n[b+"calendar"],w=n.cumulative,k=calcAllAutoBins(e,n,y,b),T=k[0],S=k[1],O="string"==typeof T.size,C=[],A=O?C:T,I=[],N=[],M=[],E=0,D=n.histnorm,j=n.histfunc,R=-1!==D.indexOf("density");w.enabled&&R&&(D=D.replace(/ ?density$/,""),R=!1);var L,z="max"===j||"min"===j?null:0,$=c.count,B=u[D],V=!1,pr2c=function(e){return y.r2c(e,0,_)};for(o.isArrayOrTypedArray(n[x])&&"count"!==j&&(L=n[x],V="avg"===j,$=c[j]),r=pr2c(T.start),f=pr2c(T.end)+(r-s.tickIncrement(r,T.size,!1,_))/1e6;r<f&&m.length<1e6&&(i=s.tickIncrement(r,T.size,!1,_),m.push((r+i)/2),g.push(z),M.push([]),C.push(r),R&&I.push(1/(i-r)),V&&N.push(0),!(i<=r));)r=i;C.push(r),O||"date"!==y.type||(A={start:pr2c(A.start),end:pr2c(A.end),size:A.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var U=n["_"+b+"bingroup"],W={leftGap:1/0,rightGap:1/0};U&&(e._fullLayout._roundFnOpts[U]||(e._fullLayout._roundFnOpts[U]=W),W=e._fullLayout._roundFnOpts[U]);var H,G=g.length,q=!0,K=W.leftGap,X=W.rightGap,Y={};for(r=0;r<S.length;r++){var Z=S[r];(h=o.findBin(Z,A))>=0&&h<G&&(E+=$(h,r,g,L,N),q&&M[h].length&&Z!==S[M[h][0]]&&(q=!1),M[h].push(r),Y[r]=h,K=Math.min(K,Z-C[h]),X=Math.min(X,C[h+1]-Z))}W.leftGap=K,W.rightGap=X,q||(H=function(n,r){return function(){var a=e._fullLayout._roundFnOpts[U];return p(a.leftGap,a.rightGap,C,y,_)(n,r)}}),V&&(E=d(g,N)),B&&B(g,E,I),w.enabled&&function cdf(e,n,r){var a,o,i;function firstHalfPoint(n){i=e[n],e[n]/=2}function nextHalfPoint(n){o=e[n],e[n]=i+o/2,i+=o}if("half"===r)if("increasing"===n)for(firstHalfPoint(0),a=1;a<e.length;a++)nextHalfPoint(a);else for(firstHalfPoint(e.length-1),a=e.length-2;a>=0;a--)nextHalfPoint(a);else if("increasing"===n){for(a=1;a<e.length;a++)e[a]+=e[a-1];"exclude"===r&&(e.unshift(0),e.pop())}else{for(a=e.length-2;a>=0;a--)e[a]+=e[a+1];"exclude"===r&&(e.push(0),e.shift())}}(g,w.direction,w.currentbin);var J=Math.min(m.length,g.length),Q=[],ee=0,te=J-1;for(r=0;r<J;r++)if(g[r]){ee=r;break}for(r=J-1;r>=ee;r--)if(g[r]){te=r;break}for(r=ee;r<=te;r++)if(a(m[r])&&a(g[r])){var ne={p:m[r],s:g[r],b:0};w.enabled||(ne.pts=M[r],q?ne.ph0=ne.ph1=M[r].length?S[M[r][0]]:m[r]:(n._computePh=!0,ne.ph0=H(C[r]),ne.ph1=H(C[r+1],!0))),Q.push(ne)}return 1===Q.length&&(Q[0].width1=s.tickIncrement(Q[0].p,T.size,!1,_)-Q[0].p),l(Q,n),o.isArrayOrTypedArray(n.selectedpoints)&&o.tagSelected(Q,n,Y),Q},calcAllAutoBins:calcAllAutoBins}},"0c67":function(e,n,r){},"0c7c":function(e,n,r){"use strict";function normalizeComponent(e,n,r,a,o,i,s,l){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=l?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function renderWithStyleInjection(e,n){return c.call(n),d(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(n,"a",(function(){return normalizeComponent}))},"0cec":function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26").isArrayOrTypedArray,i=r("e806").BADNUM,s=r("371e"),l=r("0642"),c=r("6add").getAxisGroup,u=r("8b25");function setGroupPositions(e,n,r,s,d){if(s.length){var p,f,h,m;switch(function initBase(e,n){var r,i;for(r=0;r<n.length;r++){var s,l=n[r],c=l[0].trace,u="funnel"===c.type?c._base:c.base,d="h"===c.orientation?c.xcalendar:c.ycalendar,p="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(o(u)){for(i=0;i<Math.min(u.length,l.length);i++)s=p(u[i],0,d),a(s)?(l[i].b=+s,l[i].hasB=1):l[i].b=0;for(;i<l.length;i++)l[i].b=0}else{s=p(u,0,d);var f=a(s);for(s=f?s:0,i=0;i<l.length;i++)l[i].b=s,f&&(l[i].hasB=1)}}}(r,s),d.mode){case"overlay":setGroupPositionsInOverlayMode(n,r,s,d);break;case"group":for(p=[],f=[],h=0;h<s.length;h++)void 0===(m=s[h])[0].trace.offset?f.push(m):p.push(m);f.length&&function setGroupPositionsInGroupMode(e,n,r,a,o){var s=new u(a,{sepNegVal:!1,overlapNoMerge:!o.norm});(function setOffsetAndWidthInGroupMode(e,n,r,a){for(var o=e._fullLayout,i=r.positions,s=r.distinctPositions,l=r.minDiff,u=r.traces,d=u.length,p=i.length!==s.length,f=l*(1-a.gap),h=c(o,n._id)+u[0][0].trace.orientation,m=o._alignmentOpts[h]||{},g=0;g<d;g++){var y,b,x=u[g],_=x[0].trace,w=m[_.alignmentgroup]||{},k=Object.keys(w.offsetGroups||{}).length,T=(y=k?f/k:p?f/d:f)*(1-(a.groupgap||0));b=k?((2*_._offsetIndex+1-k)*y-T)/2:p?((2*g+1-d)*y-T)/2:-T/2;var S=x[0].t;S.barwidth=T,S.poffset=b,S.bargroupwidth=f,S.bardelta=l}r.binWidth=u[0][0].t.barwidth/100,applyAttributes(r),setBarCenterAndWidth(n,r),updatePositionAxis(n,r,p)})(e,n,s,o),function unhideBarsWithinTrace(e){for(var n=e.traces,r=0;r<n.length;r++){var a=n[r];if(void 0===a[0].trace.base)for(var o=new u([a],{sepNegVal:!0,overlapNoMerge:!0}),s=0;s<a.length;s++){var l=a[s];if(l.p!==i){var c=o.put(l.p,l.b+l.s);c&&(l.b=c)}}}}(s),o.norm?(sieveBars(s),normalizeBars(r,s,o)):setBaseAndTop(r,s)}(e,n,r,f,d),p.length&&setGroupPositionsInOverlayMode(n,r,p,d);break;case"stack":case"relative":for(p=[],f=[],h=0;h<s.length;h++)void 0===(m=s[h])[0].trace.base?f.push(m):p.push(m);f.length&&function setGroupPositionsInStackOrRelativeMode(e,n,r,a,o){var s=new u(a,{sepNegVal:"relative"===o.mode,overlapNoMerge:!(o.norm||"stack"===o.mode||"relative"===o.mode)});setOffsetAndWidth(n,s,o),function stackBars(e,n,r){var a,o,s,c,u,d,p=getAxisLetter(e),f=n.traces;for(c=0;c<f.length;c++)if("funnel"===(o=(a=f[c])[0].trace).type)for(u=0;u<a.length;u++)(d=a[u]).s!==i&&n.put(d.p,-.5*d.s);for(c=0;c<f.length;c++){s="funnel"===(o=(a=f[c])[0].trace).type;var h=[];for(u=0;u<a.length;u++)if((d=a[u]).s!==i){var m;m=s?d.s:d.s+d.b;var g=n.put(d.p,m),y=g+m;d.b=g,d[p]=y,r.norm||(h.push(y),d.hasB&&h.push(g))}r.norm||(o._extremes[e._id]=l.findExtremes(e,h,{tozero:!0,padded:!0}))}}(r,s,o);for(var c=0;c<a.length;c++)for(var d=a[c],p=0;p<d.length;p++){var f=d[p];if(f.s!==i)f.b+f.s===s.get(f.p,f.s)&&(f._outmost=!0)}o.norm&&normalizeBars(r,s,o)}(0,n,r,f,d),p.length&&setGroupPositionsInOverlayMode(n,r,p,d)}!function collectExtents(e,n){var r,o,i,s=getAxisLetter(n),l={},c=1/0,u=-1/0;for(r=0;r<e.length;r++)for(i=e[r],o=0;o<i.length;o++){var d=i[o].p;a(d)&&(c=Math.min(c,d),u=Math.max(u,d))}var p=1e4/(u-c),f=l.round=function(e){return String(Math.round(p*(e-c)))};for(r=0;r<e.length;r++){(i=e[r])[0].t.extents=l;var h=i[0].t.poffset,m=Array.isArray(h);for(o=0;o<i.length;o++){var g=i[o],y=g[s]-g.w/2;if(a(y)){var b=g[s]+g.w/2,x=f(g.p);l[x]?l[x]=[Math.min(y,l[x][0]),Math.max(b,l[x][1])]:l[x]=[y,b]}g.p0=g.p+(m?h[o]:h),g.p1=g.p0+g.w,g.s0=g.b,g.s1=g.s0+g.s}}}(s,n)}}function setGroupPositionsInOverlayMode(e,n,r,a){for(var o=0;o<r.length;o++){var i=r[o],s=new u([i],{unitMinDiff:a.xCat||a.yCat,sepNegVal:!1,overlapNoMerge:!a.norm});setOffsetAndWidth(e,s,a),a.norm?(sieveBars(s),normalizeBars(n,s,a)):setBaseAndTop(n,s)}}function setOffsetAndWidth(e,n,r){for(var a=n.minDiff,o=n.traces,i=a*(1-r.gap),s=i*(1-(r.groupgap||0)),l=-s/2,c=0;c<o.length;c++){var u=o[c][0].t;u.barwidth=s,u.poffset=l,u.bargroupwidth=i,u.bardelta=a}n.binWidth=o[0][0].t.barwidth/100,applyAttributes(n),setBarCenterAndWidth(e,n),updatePositionAxis(e,n)}function applyAttributes(e){var n,r,i=e.traces;for(n=0;n<i.length;n++){var s,l=i[n],c=l[0],u=c.trace,d=c.t,p=u._offset||u.offset,f=d.poffset;if(o(p)){for(s=Array.prototype.slice.call(p,0,l.length),r=0;r<s.length;r++)a(s[r])||(s[r]=f);for(r=s.length;r<l.length;r++)s.push(f);d.poffset=s}else void 0!==p&&(d.poffset=p);var h=u._width||u.width,m=d.barwidth;if(o(h)){var g=Array.prototype.slice.call(h,0,l.length);for(r=0;r<g.length;r++)a(g[r])||(g[r]=m);for(r=g.length;r<l.length;r++)g.push(m);if(d.barwidth=g,void 0===p){for(s=[],r=0;r<l.length;r++)s.push(f+(m-g[r])/2);d.poffset=s}}else void 0!==h&&(d.barwidth=h,void 0===p&&(d.poffset=f+(m-h)/2))}}function setBarCenterAndWidth(e,n){for(var r=n.traces,a=getAxisLetter(e),o=0;o<r.length;o++)for(var i=r[o],s=i[0].t,l=s.poffset,c=Array.isArray(l),u=s.barwidth,d=Array.isArray(u),p=0;p<i.length;p++){var f=i[p],h=f.w=d?u[p]:u;f[a]=f.p+(c?l[p]:l)+h/2}}function updatePositionAxis(e,n,r){var a=n.traces,o=n.minDiff/2;l.minDtick(e,n.minDiff,n.distinctPositions[0],r);for(var i=0;i<a.length;i++){var s,c,u,d,p=a[i],f=p[0],h=f.trace,m=[];for(d=0;d<p.length;d++)c=(s=p[d]).p-o,u=s.p+o,m.push(c,u);if(h.width||h.offset){var g=f.t,y=g.poffset,b=g.barwidth,x=Array.isArray(y),_=Array.isArray(b);for(d=0;d<p.length;d++){s=p[d];var w=x?y[d]:y,k=_?b[d]:b;u=(c=s.p+w)+k,m.push(c,u)}}h._extremes[e._id]=l.findExtremes(e,m,{padded:!1})}}function setBaseAndTop(e,n){for(var r=n.traces,a=getAxisLetter(e),o=0;o<r.length;o++){for(var i=r[o],s=i[0].trace,c=[],u=!1,d=0;d<i.length;d++){var p=i[d],f=p.b,h=f+p.s;p[a]=h,c.push(h),p.hasB&&c.push(f),p.hasB&&p.b||(u=!0)}s._extremes[e._id]=l.findExtremes(e,c,{tozero:u,padded:!0})}}function sieveBars(e){for(var n=e.traces,r=0;r<n.length;r++)for(var a=n[r],o=0;o<a.length;o++){var s=a[o];s.s!==i&&e.put(s.p,s.b+s.s)}}function normalizeBars(e,n,r){var o=n.traces,s=getAxisLetter(e),c="fraction"===r.norm?1:100,u=c/1e9,d=e.l2c(e.c2l(0)),p="stack"===r.mode?c:d;function needsPadding(n){return a(e.c2l(n))&&(n<d-u||n>p+u||!a(d))}for(var f=0;f<o.length;f++){for(var h=o[f],m=h[0].trace,g=[],y=!1,b=!1,x=0;x<h.length;x++){var _=h[x];if(_.s!==i){var w=Math.abs(c/n.get(_.p,_.s));_.b*=w,_.s*=w;var k=_.b,T=k+_.s;_[s]=T,g.push(T),b=b||needsPadding(T),_.hasB&&(g.push(k),b=b||needsPadding(k)),_.hasB&&_.b||(y=!0)}}m._extremes[e._id]=l.findExtremes(e,g,{tozero:y,padded:b})}}function getAxisLetter(e){return e._id.charAt(0)}e.exports={crossTraceCalc:function crossTraceCalc(e,n){for(var r=n.xaxis,a=n.yaxis,o=e._fullLayout,i=e._fullData,l=e.calcdata,c=[],u=[],d=0;d<i.length;d++){var p=i[d];if(!0===p.visible&&s.traceIs(p,"bar")&&p.xaxis===r._id&&p.yaxis===a._id&&("h"===p.orientation?c.push(l[d]):u.push(l[d]),p._computePh))for(var f=e.calcdata[d],h=0;h<f.length;h++)"function"==typeof f[h].ph0&&(f[h].ph0=f[h].ph0()),"function"==typeof f[h].ph1&&(f[h].ph1=f[h].ph1())}var m={xCat:"category"===r.type||"multicategory"===r.type,yCat:"category"===a.type||"multicategory"===a.type,mode:o.barmode,norm:o.barnorm,gap:o.bargap,groupgap:o.bargroupgap};setGroupPositions(e,r,a,u,m),setGroupPositions(e,a,r,c,m)},setGroupPositions:setGroupPositions}},"0cfb":function(e,n,r){var a=r("83ab"),o=r("d039"),i=r("cc12");e.exports=!a&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0db5":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({onesLike_:function onesLike_(e){const n={x:Object(i.a)(e,"x","onesLike")};return a.a.runKernel(o.bc,n)}})},"0dd7":function(e,n,r){"use strict";var a=r("9092").extendFlat,o=r("f4e9"),i=r("4852").scales,s="Note that `autocolorscale` must be true for this attribute to work.";e.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:i.Reds,role:"style",editType:"calc",description:["Sets the default sequential colorscale for positive values.",s].join(" ")},sequentialminus:{valType:"colorscale",dflt:i.Blues,role:"style",editType:"calc",description:["Sets the default sequential colorscale for negative values.",s].join(" ")},diverging:{valType:"colorscale",dflt:i.RdBu,role:"style",editType:"calc",description:["Sets the default diverging colorscale.",s].join(" ")}},coloraxis:a({_isSubplotObj:!0,editType:"calc",description:[""].join(" ")},o("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},"0e15":function(e,n,r){var a=r("597f");e.exports=function(e,n,r){return void 0===r?a(e,n,!1):a(e,r,!1!==n)}},"0eb5":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({pad_:function pad_(e,n,r=0){const s=Object(i.a)(e,"x","pad");if(0===s.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const l={paddings:n,constantValue:r},c={x:s};return a.a.runKernel(o.dc,c,l)}})},"0eb7":function(e,n,r){"use strict";var a=r("fc26"),o=r("371e"),i=r("107c"),s=r("de69"),l=r("de81"),c=r("076f"),u=r("5793"),d=r("6b78"),p=r("5047"),f=r("59be"),h=r("eb07"),m=r("e9f7"),g=r("3802");e.exports=function supplyDefaults(e,n,r,y){function coerce(r,o){return a.coerce(e,n,i,r,o)}var b=c(e,n,y,coerce);if(b||(n.visible=!1),n.visible){u(e,n,y,coerce);var x=d(e,n,y,coerce),_=!x&&b<s.PTS_LINESONLY?"lines+markers":"lines";coerce("text"),coerce("hovertext"),coerce("mode",_),l.hasLines(n)&&(f(e,n,r,y,coerce),h(e,n,coerce),coerce("connectgaps"),coerce("line.simplify")),l.hasMarkers(n)&&p(e,n,r,y,coerce,{gradient:!0}),l.hasText(n)&&(coerce("texttemplate"),m(e,n,y,coerce));var w=[];(l.hasMarkers(n)||l.hasText(n))&&(coerce("cliponaxis"),coerce("marker.maxdisplayed"),w.push("points")),coerce("fill",x?x.fillDflt:"none"),"none"!==n.fill&&(g(e,n,r,coerce),l.hasLines(n)||h(e,n,coerce));var k=(n.line||{}).color,T=(n.marker||{}).color;"tonext"!==n.fill&&"toself"!==n.fill||w.push("fills"),coerce("hoveron",w.join("+")||"points"),"fills"!==n.hoveron&&coerce("hovertemplate");var S=o.getComponentMethod("errorbars","supplyDefaults");S(e,n,k||T||r,{axis:"y"}),S(e,n,k||T||r,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(n,coerce)}}},"0f37":function(e,n,r){"use strict";e.exports=function setCursor(e,n){(e.attr("class")||"").split(" ").forEach((function(n){0===n.indexOf("cursor-")&&e.classed(n,!1)})),n&&e.classed("cursor-"+n,!0)}},"0f6f":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("6ad5"),s=r("54ef"),l=r("35c9");const c=Object(s.a)({conv2DBackpropFilter_:function conv2DBackpropFilter_(e,n,r,s,c,u="NHWC",d){let p=e;3===e.rank&&(p=Object(l.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let f=n;3===f.rank&&(f=Object(l.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]])),i.b(4===p.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${p.shape}.`)),i.b(4===f.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${f.shape}.`)),i.b(4===r.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${r}.`));const h="NHWC"===u?p.shape[3]:p.shape[1],m="NHWC"===u?f.shape[3]:f.shape[1];i.b(h===r[2],(()=>`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${r[2]}.`)),i.b(m===r[3],(()=>`Error in conv2dDerFilter: depth of dy (${m}) must match output depth for filter (${r[3]}).`)),null!=d&&i.b(i.v(c),(()=>`Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode ${d} but got pad ${c}.`));const g={x:p,dy:f},y={strides:s,pad:c,dataFormat:u,dimRoundingMode:d,filterShape:r};return a.a.runKernel(o.D,g,y)}})},"0f86":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({resizeNearestNeighbor_:function resizeNearestNeighbor_(e,n,r=!1,l=!1){const u=Object(i.a)(e,"images","resizeNearestNeighbor");s.b(3===u.rank||4===u.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${u.rank}.`)),s.b(2===n.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${n}.`)),s.b("float32"===u.dtype||"int32"===u.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),s.b(!1===l||!1===r,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let d=u,p=!1;3===u.rank&&(p=!0,d=Object(c.a)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const[]=n,f={images:d},h={alignCorners:r,halfPixelCenters:l,size:n},m=a.a.runKernel(o.qc,f,h);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},"0fae":function(e,n,r){},"106b":function(e,n,r){"use strict";var a=r("fc26");e.exports=function arraysToCalcdata(e,n){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(n.text,e,"tx"),a.mergeArray(n.texttemplate,e,"txt"),a.mergeArray(n.hovertext,e,"htx"),a.mergeArray(n.customdata,e,"data"),a.mergeArray(n.textposition,e,"tp"),n.textfont&&(a.mergeArrayCastPositive(n.textfont.size,e,"ts"),a.mergeArray(n.textfont.color,e,"tc"),a.mergeArray(n.textfont.family,e,"tf"));var o=n.marker;if(o){a.mergeArrayCastPositive(o.size,e,"ms"),a.mergeArrayCastPositive(o.opacity,e,"mo"),a.mergeArray(o.symbol,e,"mx"),a.mergeArray(o.color,e,"mc");var i=o.line;o.line&&(a.mergeArray(i.color,e,"mlc"),a.mergeArrayCastPositive(i.width,e,"mlw"));var s=o.gradient;s&&"none"!==s.type&&(a.mergeArray(s.type,e,"mgt"),a.mergeArray(s.color,e,"mgc"))}}},"107c":function(e,n,r){"use strict";var a=r("94d5").texttemplateAttrs,o=r("94d5").hovertemplateAttrs,i=r("f4e9"),s=r("9845"),l=r("db54").dash,c=r("83d1"),u=r("de69"),d=r("9092").extendFlat;function axisPeriod(e){return{valType:"any",dflt:0,role:"info",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the period positioning in milliseconds or *M<n>* on the "+e+" axis.","Special values in the form of *M<n>* could be used to declare","the number of months. In this case `n` must be a positive integer."].join(" ")}}function axisPeriod0(e){return{valType:"any",role:"info",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the base for period positioning in milliseconds or date string on the "+e+" axis.","When `"+e+"period` is round number of weeks,","the `"+e+"period0` by default would be on a Sunday i.e. 2000-01-02,","otherwise it would be at 2000-01-01."].join(" ")}}function axisPeriodAlignment(e){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",role:"style",editType:"calc",description:["Only relevant when the axis `type` is *date*.","Sets the alignment of data points on the "+e+" axis."].join(" ")}}e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the x coordinates."},x0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `x`.","Builds a linear space of x coordinates.","Use with `dx`","where `x0` is the starting coordinate and `dx` the step."].join(" ")},dx:{valType:"number",dflt:1,role:"info",editType:"calc",anim:!0,description:["Sets the x coordinate step.","See `x0` for more info."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0,description:"Sets the y coordinates."},y0:{valType:"any",dflt:0,role:"info",editType:"calc+clearAxisTypes",anim:!0,description:["Alternate to `y`.","Builds a linear space of y coordinates.","Use with `dy`","where `y0` is the starting coordinate and `dy` the step."].join(" ")},dy:{valType:"number",dflt:1,role:"info",editType:"calc",anim:!0,description:["Sets the y coordinate step.","See `y0` for more info."].join(" ")},xperiod:axisPeriod("x"),yperiod:axisPeriod("y"),xperiod0:axisPeriod0("x0"),yperiod0:axisPeriod0("y0"),xperiodalignment:axisPeriodAlignment("x"),yperiodalignment:axisPeriodAlignment("y"),stackgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several scatter traces (on the same subplot) to the same","stackgroup in order to add their y values (or their x values if","`orientation` is *h*). If blank or omitted this trace will not be","stacked. Stacking also turns `fill` on by default, using *tonexty*","(*tonextx*) if `orientation` is *h* (*v*) and sets the default","`mode` to *lines* irrespective of point count.","You can only stack on a numeric (linear or log) axis.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`orientation` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`. Sets the","stacking direction. With *v* (*h*), the y (x) values of subsequent","traces are added. Also affects the default value of `fill`."].join(" ")},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`groupnorm` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Sets the normalization for the sum of this `stackgroup`.","With *fraction*, the value of each trace at each location is","divided by the sum of all trace values at that location.","*percent* is the same but multiplied by 100 to show percentages.","If there are multiple subplots, or multiple `stackgroup`s on one","subplot, each will be normalized within its own set."].join(" ")},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",role:"info",editType:"calc",description:["Only relevant when `stackgroup` is used, and only the first","`stackgaps` found in the `stackgroup` will be used - including","if `visible` is *legendonly* but not if it is `false`.","Determines how we handle locations at which other traces in this","group have data but this one does not.","With *infer zero* we insert a zero at these locations.","With *interpolate* we linearly interpolate between existing","values, and extrapolate a constant beyond the existing values."].join(" ")},text:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"calc",description:["Sets text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","If trace `hoverinfo` contains a *text* flag and *hovertext* is not set,","these elements will be seen in the hover labels."].join(" ")},texttemplate:a({},{}),hovertext:{valType:"string",role:"info",dflt:"",arrayOk:!0,editType:"style",description:["Sets hover text elements associated with each (x,y) pair.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates.","To be seen, trace `hoverinfo` must contain a *text* flag."].join(" ")},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],role:"info",editType:"calc",description:["Determines the drawing mode for this scatter trace.","If the provided `mode` includes *text* then the `text` elements","appear at the coordinates. Otherwise, the `text` elements","appear on hover.","If there are less than "+u.PTS_LINESONLY+" points","and the trace is not stacked","then the default is *lines+markers*. Otherwise, *lines*."].join(" ")},hoveron:{valType:"flaglist",flags:["points","fills"],role:"info",editType:"style",description:["Do the hover effects highlight individual points (markers or","line points) or do they highlight filled regions?","If the fill is *toself* or *tonext* and there are no markers","or text, then the default is *fills*, otherwise it is *points*."].join(" ")},hovertemplate:o({},{keys:u.eventDataKeys}),line:{color:{valType:"color",role:"style",editType:"style",anim:!0,description:"Sets the line color."},width:{valType:"number",min:0,dflt:2,role:"style",editType:"style",anim:!0,description:"Sets the line width (in px)."},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",role:"style",editType:"plot",description:["Determines the line shape.","With *spline* the lines are drawn using spline interpolation.","The other available values correspond to step-wise line shapes."].join(" ")},smoothing:{valType:"number",min:0,max:1.3,dflt:1,role:"style",editType:"plot",description:["Has an effect only if `shape` is set to *spline*","Sets the amount of smoothing.","*0* corresponds to no smoothing (equivalent to a *linear* shape)."].join(" ")},dash:d({},l,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Simplifies lines by removing nearly-collinear points. When transitioning","lines, it may be desirable to disable this so that the number of points","along the resulting SVG path is unaffected."].join(" ")},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not gaps","(i.e. {nan} or missing values)","in the provided data arrays are connected."].join(" ")},cliponaxis:{valType:"boolean",dflt:!0,role:"info",editType:"plot",description:["Determines whether or not markers and text nodes","are clipped about the subplot axes.","To show markers and text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],role:"style",editType:"calc",description:["Sets the area to fill with a solid color.","Defaults to *none* unless this trace is stacked, then it gets","*tonexty* (*tonextx*) if `orientation` is *v* (*h*)","Use with `fillcolor` if not *none*.","*tozerox* and *tozeroy* fill to x=0 and y=0 respectively.","*tonextx* and *tonexty* fill between the endpoints of this","trace and the endpoints of the trace before it, connecting those","endpoints with straight lines (to make a stacked area graph);","if there is no trace before it, they behave like *tozerox* and","*tozeroy*.","*toself* connects the endpoints of the trace (or each segment","of the trace if it has gaps) into a closed shape.","*tonext* fills the space between two traces if one completely","encloses the other (eg consecutive contour lines), and behaves like","*toself* if there is no trace before it. *tonext* should not be","used if one trace does not enclose the other.","Traces in a `stackgroup` will only fill to (or be filled to) other","traces in the same group. With multiple `stackgroup`s or some","traces stacked and some not, if fill-linked traces are not already","consecutive, the later ones will be pushed down in the drawing order."].join(" ")},fillcolor:{valType:"color",role:"style",editType:"style",anim:!0,description:["Sets the fill color.","Defaults to a half-transparent variant of the line color,","marker color, or marker line color, whichever is available."].join(" ")},marker:d({symbol:{valType:"enumerated",values:c.symbolList,dflt:"circle",arrayOk:!0,role:"style",editType:"style",description:["Sets the marker symbol type.","Adding 100 is equivalent to appending *-open* to a symbol name.","Adding 200 is equivalent to appending *-dot* to a symbol name.","Adding 300 is equivalent to appending *-open-dot*","or *dot-open* to a symbol name."].join(" ")},opacity:{valType:"number",min:0,max:1,arrayOk:!0,role:"style",editType:"style",anim:!0,description:"Sets the marker opacity."},size:{valType:"number",min:0,dflt:6,arrayOk:!0,role:"style",editType:"calc",anim:!0,description:"Sets the marker size (in px)."},maxdisplayed:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:["Sets a maximum number of points to be drawn on the graph.","*0* corresponds to no limit."].join(" ")},sizeref:{valType:"number",dflt:1,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the scale factor used to determine the rendered size of","marker points. Use with `sizemin` and `sizemode`."].join(" ")},sizemin:{valType:"number",min:0,dflt:0,role:"style",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the minimum size (in px) of the rendered marker points."].join(" ")},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",role:"info",editType:"calc",description:["Has an effect only if `marker.size` is set to a numerical array.","Sets the rule for which the data in `size` is converted","to pixels."].join(" ")},line:d({width:{valType:"number",min:0,arrayOk:!0,role:"style",editType:"style",anim:!0,description:"Sets the width (in px) of the lines bounding the marker points."},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",role:"style",editType:"calc",description:["Sets the type of gradient used to fill the markers"].join(" ")},color:{valType:"color",arrayOk:!0,role:"style",editType:"calc",description:["Sets the final color of the gradient fill:","the center color for radial, the right for horizontal,","or the bottom for vertical."].join(" ")},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of selected points."},color:{valType:"color",role:"style",editType:"style",description:"Sets the marker color of selected points."},size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of selected points."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of selected points."},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,role:"style",editType:"style",description:"Sets the marker opacity of unselected points, applied only when a selection exists."},color:{valType:"color",role:"style",editType:"style",description:"Sets the marker color of unselected points, applied only when a selection exists."},size:{valType:"number",min:0,role:"style",editType:"style",description:"Sets the marker size of unselected points, applied only when a selection exists."},editType:"style"},textfont:{color:{valType:"color",role:"style",editType:"style",description:"Sets the text font color of unselected points, applied only when a selection exists."},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,role:"style",editType:"calc",description:["Sets the positions of the `text` elements","with respects to the (x,y) coordinates."].join(" ")},textfont:s({editType:"calc",colorEditType:"style",arrayOk:!0,description:"Sets the text font."}),r:{valType:"data_array",editType:"calc",description:["r coordinates in scatter traces are deprecated!","Please switch to the *scatterpolar* trace type.","Sets the radial coordinates","for legacy polar chart only."].join("")},t:{valType:"data_array",editType:"calc",description:["t coordinates in scatter traces are deprecated!","Please switch to the *scatterpolar* trace type.","Sets the angular coordinates","for legacy polar chart only."].join("")}}},"113e":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}]},1148:function(e,n,r){"use strict";var a=r("a691"),o=r("1d80");e.exports=function repeat(e){var n=String(o(this)),r="",i=a(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(n+=n))1&i&&(r+=n);return r}},"116b":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("a3f7"),o=r("6ad5"),i=r("dd7e"),s=r("838f"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({separableConv2d_:function separableConv2d_(e,n,r,l,u,d=[1,1],p="NHWC"){const f=Object(a.a)(e,"x","separableConv2d"),h=Object(a.a)(n,"depthwiseFilter","separableConv2d"),m=Object(a.a)(r,"pointwiseFilter","separableConv2d");let g=f,y=!1;if(3===f.rank&&(y=!0,g=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),"NCHW"===p)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");o.b(4===g.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`)),o.b(4===h.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${h.rank}.`)),o.b(4===m.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${h.rank}.`)),o.b(1===m.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${m.shape[0]}.`)),o.b(1===m.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${m.shape[1]}.`));const b=h.shape[2],x=h.shape[3];o.b(m.shape[2]===b*x,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${b*x}, but got ${m.shape[2]}.`));const _=Object(s.a)(g,h,l,u,p,d),w=Object(i.a)(_,m,1,"valid",p);return y?Object(c.a)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},"11e1":function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=r("d115"),s=r("9103"),l=r("40c0");e.exports=function supplyDefaults(e,n,r,c){function coerce(r,a){return o.coerce(e,n,l,r,a)}var u=coerce("x"),d=coerce("y");coerce("cumulative.enabled")&&(coerce("cumulative.direction"),coerce("cumulative.currentbin")),coerce("text"),coerce("hovertext"),coerce("hovertemplate");var p=coerce("orientation",d&&!u?"h":"v"),f="v"===p?"x":"y",h="v"===p?"y":"x",m=u&&d?Math.min(o.minRowLength(u)&&o.minRowLength(d)):o.minRowLength(n[f]||[]);if(m){n._length=m,a.getComponentMethod("calendars","handleTraceDefaults")(e,n,["x","y"],c),n[h]&&coerce("histfunc"),coerce("histnorm"),coerce("autobin"+f),s(e,n,coerce,r,c),o.coerceSelectionMarkerOpacity(n,coerce);var g=(n.marker.line||{}).color,y=a.getComponentMethod("errorbars","supplyDefaults");y(e,n,g||i.defaultLine,{axis:"y"}),y(e,n,g||i.defaultLine,{axis:"x",inherit:"y"})}else n.visible=!1}},1212:function(e,n,r){(function(e){var a;!function(e,o,i){function Alea(e){var n=this,r=function Mash(){var e=4022871197;return function(n){n=n.toString();for(var r=0;r<n.length;r++){var a=.02519603282416938*(e+=n.charCodeAt(r));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)}}();n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function copy(e,n){return n.c=e.c,n.s0=e.s0,n.s1=e.s1,n.s2=e.s2,n}function impl(e,n){var r=new Alea(e),a=n&&n.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&copy(a,r),o.state=function(){return copy(r,{})}),o}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.alea=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"122e":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({mean_:function mean_(e,n=null,r=!1){const s={x:Object(i.a)(e,"x","mean")},l={axis:n,keepDims:r};return a.a.runKernel(o.Ob,s,l)}})},1276:function(e,n,r){"use strict";var a=r("d784"),o=r("44e7"),i=r("825a"),s=r("1d80"),l=r("4840"),c=r("8aa5"),u=r("50c4"),d=r("14c3"),p=r("9263"),f=r("9f7f").UNSUPPORTED_Y,h=[].push,m=Math.min,g=4294967295;a("split",2,(function(e,n,r){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var a=String(s(this)),i=void 0===r?g:r>>>0;if(0===i)return[];if(void 0===e)return[a];if(!o(e))return n.call(a,e,i);for(var l,c,u,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,y=new RegExp(e.source,f+"g");(l=p.call(y,a))&&!((c=y.lastIndex)>m&&(d.push(a.slice(m,l.index)),l.length>1&&l.index<a.length&&h.apply(d,l.slice(1)),u=l[0].length,m=c,d.length>=i));)y.lastIndex===l.index&&y.lastIndex++;return m===a.length?!u&&y.test("")||d.push(""):d.push(a.slice(m)),d.length>i?d.slice(0,i):d}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:n.call(this,e,r)}:n,[function split(n,r){var o=s(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):a.call(String(o),n,r)},function(e,o){var s=r(a,e,this,o,a!==n);if(s.done)return s.value;var p=i(e),h=String(this),y=l(p,RegExp),b=p.unicode,x=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(f?"g":"y"),_=new y(f?"^(?:"+p.source+")":p,x),w=void 0===o?g:o>>>0;if(0===w)return[];if(0===h.length)return null===d(_,h)?[h]:[];for(var k=0,T=0,S=[];T<h.length;){_.lastIndex=f?0:T;var O,C=d(_,f?h.slice(T):h);if(null===C||(O=m(u(_.lastIndex+(f?T:0)),h.length))===k)T=c(h,T,b);else{if(S.push(h.slice(k,T)),S.length===w)return S;for(var A=1;A<=C.length-1;A++)if(S.push(C[A]),S.length===w)return S;T=k=O}}return S.push(h.slice(k)),S}]}),f)},"12c1":function(e,n,r){"use strict";e.exports=function UndoManager(){var e,n=[],r=-1,a=!1;function execute(e,n){return e?(a=!0,e[n](),a=!1,this):this}return{add:function(e){return a||(n.splice(r+1,n.length-r),n.push(e),r=n.length-1),this},setCallback:function(n){e=n},undo:function(){var a=n[r];return a?(execute(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=n[r+1];return a?(execute(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},"12f2":function(e,n,r){"use strict";n.__esModule=!0,n.default=function(e){return{methods:{focus:function focus(){this.$refs[e].focus()}}}}},"132b":function(e,n,r){"use strict";r.d(n,"a",(function(){return o.a})),r.d(n,"b",(function(){return i.a})),r.d(n,"c",(function(){return s.a})),r.d(n,"d",(function(){return l.a})),r.d(n,"e",(function(){return c.a})),r.d(n,"f",(function(){return u.a})),r.d(n,"g",(function(){return d.a})),r.d(n,"h",(function(){return g})),r.d(n,"i",(function(){return y})),r.d(n,"j",(function(){return b})),r.d(n,"k",(function(){return x.a})),r.d(n,"l",(function(){return _.a})),r.d(n,"m",(function(){return w.a})),r.d(n,"n",(function(){return k.a})),r.d(n,"o",(function(){return T.a})),r.d(n,"p",(function(){return S})),r.d(n,"q",(function(){return O})),r.d(n,"r",(function(){return C})),r.d(n,"s",(function(){return A})),r.d(n,"t",(function(){return I.a})),r.d(n,"u",(function(){return N.a})),r.d(n,"v",(function(){return M.a})),r.d(n,"w",(function(){return E.a})),r.d(n,"x",(function(){return D.a})),r.d(n,"y",(function(){return j.a})),r.d(n,"A",(function(){return R.a})),r.d(n,"B",(function(){return L.a})),r.d(n,"C",(function(){return z.a})),r.d(n,"D",(function(){return $.a})),r.d(n,"E",(function(){return U})),r.d(n,"F",(function(){return W.a})),r.d(n,"G",(function(){return H.a})),r.d(n,"I",(function(){return G.a})),r.d(n,"J",(function(){return q.a})),r.d(n,"K",(function(){return K.a})),r.d(n,"M",(function(){return X.a})),r.d(n,"O",(function(){return Y.a})),r.d(n,"P",(function(){return Z.a})),r.d(n,"Q",(function(){return J.a})),r.d(n,"R",(function(){return Q.a})),r.d(n,"S",(function(){return ee.a})),r.d(n,"T",(function(){return te.a})),r.d(n,"U",(function(){return ne.a})),r.d(n,"V",(function(){return re.a})),r.d(n,"W",(function(){return ae.a})),r.d(n,"X",(function(){return oe.a})),r.d(n,"Y",(function(){return ce})),r.d(n,"Z",(function(){return ue.a})),r.d(n,"ab",(function(){return de.a})),r.d(n,"bb",(function(){return pe.a})),r.d(n,"cb",(function(){return fe.a})),r.d(n,"db",(function(){return he.a})),r.d(n,"eb",(function(){return me.a})),r.d(n,"fb",(function(){return ge.a})),r.d(n,"gb",(function(){return ye.a})),r.d(n,"hb",(function(){return be.a})),r.d(n,"ib",(function(){return xe})),r.d(n,"jb",(function(){return _e.a})),r.d(n,"kb",(function(){return we.a})),r.d(n,"lb",(function(){return ke.a})),r.d(n,"mb",(function(){return B.a})),r.d(n,"nb",(function(){return Te.a})),r.d(n,"ob",(function(){return Se.a})),r.d(n,"pb",(function(){return Oe.a})),r.d(n,"qb",(function(){return Ce.a})),r.d(n,"rb",(function(){return Ae.a})),r.d(n,"sb",(function(){return Ie.a})),r.d(n,"tb",(function(){return Ne})),r.d(n,"ub",(function(){return Me})),r.d(n,"vb",(function(){return Ee})),r.d(n,"wb",(function(){return De})),r.d(n,"xb",(function(){return je.a})),r.d(n,"yb",(function(){return Re.a})),r.d(n,"zb",(function(){return Le.a})),r.d(n,"Ab",(function(){return Pe.a})),r.d(n,"Bb",(function(){return se.a})),r.d(n,"Cb",(function(){return Fe.a})),r.d(n,"Db",(function(){return ze.a})),r.d(n,"Eb",(function(){return le.a})),r.d(n,"Fb",(function(){return $e.a})),r.d(n,"Gb",(function(){return Be.a})),r.d(n,"Hb",(function(){return Ve.a})),r.d(n,"Ib",(function(){return Ue.a})),r.d(n,"Jb",(function(){return tensor2d})),r.d(n,"Kb",(function(){return V.a})),r.d(n,"Mb",(function(){return He.a})),r.d(n,"Nb",(function(){return Ge.a})),r.d(n,"Ob",(function(){return variable})),r.d(n,"Pb",(function(){return Ke.a})),r.d(n,"Qb",(function(){return Xe.a})),r.d(n,"Rb",(function(){return Ye.a})),r.d(n,"Lb",(function(){return Ze.a})),r.d(n,"z",(function(){return Qe})),r.d(n,"L",(function(){return Ht})),r.d(n,"N",(function(){return Gt})),r.d(n,"H",(function(){return a}));var a={};r.r(a),r.d(a,"conv2d",(function(){return ft})),r.d(a,"depthwiseConv2d",(function(){return gt})),r.d(a,"matMul",(function(){return bt}));var o=r("8ae0"),i=r("9117"),s=r("df81"),l=r("4516"),c=r("e89f"),u=r("9748"),d=r("ba53"),p=r("a3f7"),f=r("6ad5"),h=r("71db"),m=r("54ef");const g=Object(m.a)({batchNorm2d_:function batchNorm2d_(e,n,r,a,o,i){const s=Object(p.a)(e,"x","batchNorm"),l=Object(p.a)(n,"mean","batchNorm"),c=Object(p.a)(r,"variance","batchNorm");let u,d;return null!=o&&(u=Object(p.a)(o,"scale","batchNorm")),null!=a&&(d=Object(p.a)(a,"offset","batchNorm")),f.b(2===s.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`)),f.b(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`)),f.b(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&f.b(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=d&&f.b(2===d.rank||1===d.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${d.rank}.`)),Object(h.a)(s,l,c,d,u,i)}});const y=Object(m.a)({batchNorm3d_:function batchNorm3d_(e,n,r,a,o,i){const s=Object(p.a)(e,"x","batchNorm"),l=Object(p.a)(n,"mean","batchNorm"),c=Object(p.a)(r,"variance","batchNorm");let u,d;return null!=o&&(u=Object(p.a)(o,"scale","batchNorm")),null!=a&&(d=Object(p.a)(a,"offset","batchNorm")),f.b(3===s.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`)),f.b(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`)),f.b(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&f.b(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=d&&f.b(3===d.rank||1===d.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${d.rank}.`)),Object(h.a)(s,l,c,d,u,i)}});const b=Object(m.a)({batchNorm4d_:function batchNorm4d_(e,n,r,a,o,i){const s=Object(p.a)(e,"x","batchNorm"),l=Object(p.a)(n,"mean","batchNorm"),c=Object(p.a)(r,"variance","batchNorm");let u,d;return null!=o&&(u=Object(p.a)(o,"scale","batchNorm")),null!=a&&(d=Object(p.a)(a,"offset","batchNorm")),f.b(4===s.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`)),f.b(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`)),f.b(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&f.b(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=d&&f.b(4===d.rank||1===d.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${d.rank}.`)),Object(h.a)(s,l,c,d,u,i)}});var x=r("043e"),_=r("deb3"),w=r("c08f"),k=r("f0a9"),T=r("649e");const S=Object(m.a)({concat1d_:function concat1d_(e){return Object(T.a)(e,0)}});const O=Object(m.a)({concat2d_:function concat2d_(e,n){return Object(T.a)(e,n)}});const C=Object(m.a)({concat3d_:function concat3d_(e,n){return Object(T.a)(e,n)}});const A=Object(m.a)({concat4d_:function concat4d_(e,n){return Object(T.a)(e,n)}});var I=r("7675"),N=r("dd7e"),M=r("cd1f"),E=r("1590"),D=r("838f"),j=r("c77c"),R=r("9e38"),L=r("b9b9"),z=r("4f20"),$=r("dae8"),B=r("35c9"),V=r("8d71");const U=Object(m.a)({eye_:function eye_(e,n,r,a="float32"){null==n&&(n=e);const o=Object(x.a)([e,n],a),i=e<=n?e:n;for(let l=0;l<i;++l)o.set(1,l,l);const s=Object(B.a)(o.toTensor(),[e,n]);if(null==r)return s;if(1===r.length)return Object(V.a)(Object($.a)(s,0),[r[0],1,1]);if(2===r.length)return Object(V.a)(Object($.a)(Object($.a)(s,0),0),[r[0],r[1],1,1]);if(3===r.length)return Object(V.a)(Object($.a)(Object($.a)(Object($.a)(s,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${r.length}D.`)}});var W=r("46b8"),H=r("d369"),G=r("91a3"),q=r("cef0"),K=r("bb2d"),X=r("6f37"),Y=r("1359"),Z=r("804a"),J=r("e333"),Q=r("c021"),ee=r("9fe6"),te=r("53fd"),ne=r("09f4"),re=r("122e"),ae=r("ae6d"),oe=r("f0e5"),ie=r("36e5"),se=r("93b2"),le=r("a009");const ce=Object(m.a)({moments_:function moments_(e,n=null,r=!1){e=Object(p.a)(e,"x","moments");const a=Object(f.I)(n,e.shape),o=Object(re.a)(e,a,r);let i=o.shape;r||(i=Object(ie.e)(o.shape,a));const s=Object(se.a)(Object(le.a)(Object(_.a)(e,"float32"),Object(B.a)(o,i)));return{mean:o,variance:Object(re.a)(s,a,r)}}});var ue=r("a5aa"),de=r("3bb7"),pe=r("d4de"),fe=r("e22c"),he=r("c22a"),me=r("0db5"),ge=r("0eb5"),ye=r("c9f1"),be=r("520f"),ve=r("d4e4");const xe=Object(m.a)({randomNormal_:function randomNormal_(e,n=0,r=1,a,o){if(null!=a&&"bool"===a)throw new Error(`Unsupported data type ${a}`);const i=new ve.a(n,r,a,!1,o),s=Object(x.a)(e,a);for(let l=0;l<s.values.length;l++)s.values[l]=i.nextValue();return s.toTensor()}});var _e=r("8629"),we=r("84d6"),ke=r("917a"),Te=r("d08e"),Se=r("015f"),Oe=r("b39e"),Ce=r("116b"),Ae=r("ffb3"),Ie=r("6d3c");const Ne=Object(m.a)({slice1d_:function slice1d_(e,n,r){const a=Object(p.a)(e,"x","slice1d");return f.b(1===a.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${a.rank} tensor`)),Object(Ie.a)(a,[n],[r])}});const Me=Object(m.a)({slice2d_:function slice2d_(e,n,r){const a=Object(p.a)(e,"x","slice2d");return f.b(2===a.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${a.rank} tensor`)),Object(Ie.a)(a,n,r)}});const Ee=Object(m.a)({slice3d_:function slice3d_(e,n,r){const a=Object(p.a)(e,"x","slice3d");return f.b(3===a.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${a.rank} tensor`)),Object(Ie.a)(a,n,r)}});const De=Object(m.a)({slice4d_:function slice4d_(e,n,r){const a=Object(p.a)(e,"x","slice4d");return f.b(4===a.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${a.rank} tensor`)),Object(Ie.a)(a,n,r)}});var je=r("5f87"),Re=r("9ffd"),Le=r("45bb"),Pe=r("163a"),Fe=r("d1f4"),ze=r("d54d"),$e=r("e053"),Be=r("8888"),Ve=r("357d"),Ue=r("960f"),We=r("5959");function tensor2d(e,n,r){if(Object(f.d)(e),null!=n&&2!==n.length)throw new Error("tensor2d() requires shape to have two numbers");const a=Object(p.c)(e,r);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==n)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Object(We.a)(e,n,a,r)}var He=r("7e6a"),Ge=r("3a44"),qe=r("6ae2");function variable(e,n=!0,r,a){return qe.a.makeVariable(e,n,r,a)}var Ke=r("6791"),Xe=r("5a2c"),Ye=r("a09b"),Ze=r("c912"),Je=r("34d7");const Qe=Object(m.a)({dropout_:function dropout_(e,n,r,a){const o=Object(p.a)(e,"x","dropout");if(f.b("float32"===o.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`)),f.b(n>=0&&n<1,(()=>`rate must be a float in the range [0, 1), but got ${n}.`)),0===n)return e instanceof Je.a?o.clone():o;const s=function getNoiseShape(e,n){if(null==n)return e.shape.slice();if(f.a(e.shape,n))return n;if(e.shape.length===n.length){const r=[];for(let a=0;a<e.shape.length;a++)null==n[a]&&null!=e.shape[a]?r.push(e.shape[a]):r.push(n[a]);return r}return n}(o,r),l=1-n,c=Object(j.a)(Object(H.a)(Object(i.a)(Object(_e.a)(s,0,1,"float32",a),l)),l);return Object(ue.a)(o,c)}});var et=r("b61d"),tt=r("1ab7"),nt=r("4c7a"),rt=r("69dc"),at=r("538e"),ot=r("c05b"),it=r("76c2"),st=r("526f"),lt=r("0f6f"),ct=r("73d3"),ut=r("b818"),dt=r("4749");const ft=Object(m.a)({fusedConv2d_:function fusedConv2d_({x:e,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:l,bias:c,activation:u="linear",preluActivationWeights:d,leakyreluAlpha:h}){if(u=u||"linear",!1===Object(dt.d)(qe.a.state.gradientDepth,u)){let p=Object(N.a)(e,n,r,a,o,s,l);return null!=c&&(p=Object(i.a)(p,c)),Object(dt.a)(p,u,d,h)}const m=Object(p.a)(e,"x","conv2d"),g=Object(p.a)(n,"filter","conv2d");let y=m,b=!1;3===m.rank&&(b=!0,y=Object(B.a)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),f.b(4===y.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${y.rank}.`)),f.b(4===g.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${g.rank}.`)),null!=l&&f.b(f.v(a),(()=>`Error in fused conv2d: pad must be an integer when using, dimRoundingMode ${l} but got pad ${a}.`)),f.b(y.shape[3]===g.shape[2],(()=>`Error in conv2d: depth of input (${y.shape[3]}) must match input depth for filter ${g.shape[2]}.`)),f.b(ut.h(r,s),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`)),f.b("NHWC"===o,(()=>`Error in conv2d: got dataFormat of ${o} but only NHWC is currently supported.`));const x=ut.a(y.shape,g.shape,r,s,a,l);let _,w;null!=c&&(_=Object(p.a)(c,"bias","fused conv2d"),[_]=Object(it.makeTypesMatch)(_,m),st.a(x.outShape,_.shape)),null!=d&&(w=Object(p.a)(d,"prelu weights","fused conv2d"));const grad=(e,n)=>{const[o,i,l,c]=n,d=Object(dt.c)(e,l,u);f.b(ut.i(s),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`));const p=[Object(ct.a)(i.shape,d,o,r,a),Object(lt.a)(i,d,o.shape,r,a)];if(null!=c){const e=Object(dt.b)(c,d);p.push(e)}return p},k={x:y,filter:g,bias:_,preluActivationWeights:w},T={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:l,activation:u,leakyreluAlpha:h};if(null==c){return Object(at.a)(((e,n,r)=>{let a=qe.a.runKernel(ot.jb,k,T);return r([n,e,a]),b&&(a=Object(B.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:grad}}))(y,g)}return Object(at.a)(((e,n,r,a)=>{let o=qe.a.runKernel(ot.jb,k,T);return a([n,e,o,r]),b&&(o=Object(B.a)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:grad}}))(y,g,_)}});var ht=r("6926"),mt=r("8cb0");const gt=Object(m.a)({fusedDepthwiseConv2d_:function fusedDepthwiseConv2d_({x:e,filter:n,strides:r,pad:a,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:l,bias:c,activation:u="linear",preluActivationWeights:d,leakyreluAlpha:h}){if(!1===Object(dt.d)(qe.a.state.gradientDepth,u)){let p=Object(D.a)(e,n,r,a,o,s,l);return null!=c&&(p=Object(i.a)(p,c)),Object(dt.a)(p,u,d,h)}const m=Object(p.a)(e,"x","depthwiseConv2d"),g=Object(p.a)(n,"filter","depthwiseConv2d");let y=m,b=!1;3===m.rank&&(b=!0,y=Object(B.a)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),f.b(4===y.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${y.rank}.`)),f.b(4===g.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${g.rank}.`)),f.b(y.shape[3]===g.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${y.shape[3]}) must match the inChannels dimension in filter ${g.shape[2]}.`)),null==s&&(s=[1,1]),f.b(ut.h(r,s),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${s}'`)),null!=l&&f.b(f.v(a),(()=>`Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode ${l} but got pad ${a}.`));const x=ut.a(y.shape,g.shape,r,s,a,l,!0);let _,w;null!=c&&(_=Object(p.a)(c,"bias","fused conv2d"),[_]=Object(it.makeTypesMatch)(_,m),st.a(x.outShape,_.shape)),null!=d&&(w=Object(p.a)(d,"prelu weights","fused depthwiseConv2d"));const grad=(e,n)=>{f.b(ut.i(s),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[o,i,c,d]=n,p=Object(dt.c)(e,c,u),h=Object(mt.a)(i.shape,p,o,r,a,s,l),m=Object(ht.a)(i,p,o.shape,r,a,s,l);if(null!=d){return[h,m,Object(dt.b)(_,p)]}return[h,m]},k={x:y,filter:g,bias:_,preluActivationWeights:w},T={strides:r,pad:a,dataFormat:o,dilations:s,dimRoundingMode:l,activation:u,leakyreluAlpha:h};if(null==c){return Object(at.a)(((e,n,r)=>{let a=qe.a.runKernel(ot.kb,k,T);return r([n,e,a]),b&&(a=Object(B.a)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:grad}}))(y,g)}return Object(at.a)(((e,n,r,a)=>{let o=qe.a.runKernel(ot.kb,k,T);return a([n,e,o,r]),b&&(o=Object(B.a)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:grad}}))(y,g,_)}});var yt=r("487b");const bt=Object(m.a)({fusedMatMul_:function fusedMatMul_({a:e,b:n,transposeA:r=!1,transposeB:a=!1,bias:o,activation:s="linear",preluActivationWeights:l,leakyreluAlpha:c}){if(!1===Object(dt.d)(qe.a.state.gradientDepth,s)){let u=Object(yt.a)(e,n,r,a);return null!=o&&(u=Object(i.a)(u,o)),Object(dt.a)(u,s,l,c)}let u=Object(p.a)(e,"a","fused matMul"),d=Object(p.a)(n,"b","fused matMul");[u,d]=Object(it.makeTypesMatch)(u,d);const h=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=a?d.shape[d.rank-1]:d.shape[d.rank-2],g=r?u.shape[u.rank-1]:u.shape[u.rank-2],y=a?d.shape[d.rank-2]:d.shape[d.rank-1],b=u.shape.slice(0,-2),x=d.shape.slice(0,-2),_=f.O(b),w=f.O(x);f.b(u.rank>=2&&d.rank>=2&&u.rank===d.rank,(()=>`Error in fused matMul: inputs must have the same rank of at least 2, got ranks ${u.rank} and ${d.rank}.`)),f.b(f.a(b,x),(()=>`Error in fused matMul: outer dimensions (${b}) and (${x}) of Tensors with shapes ${u.shape} and ${d.shape} must match.`)),f.b(h===m,(()=>`Error in fused matMul: inner shapes (${h}) and (${m}) of Tensors with shapes ${u.shape} and ${d.shape} and transposeA=${r} and transposeB=${a} must match.`));const k=u.shape.slice(0,-2).concat([g,y]),T=r?Object(B.a)(u,[_,h,g]):Object(B.a)(u,[_,g,h]),S=a?Object(B.a)(d,[w,y,m]):Object(B.a)(d,[w,m,y]);let O,C;null!=o&&(O=Object(p.a)(o,"bias","fused matMul"),[O]=Object(it.makeTypesMatch)(O,u),st.a(k,O.shape)),null!=l&&(C=Object(p.a)(l,"prelu weights","fused matMul"));const grad=(e,n)=>{const[i,l,c,u]=n,d=Object(dt.c)(Object(B.a)(e,c.shape),c,s);let p,f;if(r||a?!r&&a?(p=Object(yt.a)(d,l,!1,!1),f=Object(yt.a)(d,i,!0,!1)):r&&!a?(p=Object(yt.a)(l,d,!1,!0),f=Object(yt.a)(i,d,!1,!1)):(p=Object(yt.a)(l,d,!0,!0),f=Object(yt.a)(d,i,!0,!0)):(p=Object(yt.a)(d,l,!1,!0),f=Object(yt.a)(i,d,!0,!1)),null!=o){return[p,f,Object(dt.b)(u,d)]}return[p,f]},A={a:T,b:S,bias:O,preluActivationWeights:C},I={transposeA:r,transposeB:a,activation:s,leakyreluAlpha:c};if(null==o){return Object(at.a)(((e,n,r)=>{const a=qe.a.runKernel(ot.ad,A,I);return r([e,n,a]),{value:Object(B.a)(a,k),gradFunc:grad}}))(T,S)}return Object(at.a)(((e,n,r,a)=>{const o=qe.a.runKernel(ot.ad,A,I);return a([e,n,o,r]),{value:Object(B.a)(o,k),gradFunc:grad}}))(T,S,O)}});function cosineWindow(e,n,r){const a=1-e%2,o=new Float32Array(e);for(let i=0;i<e;++i){const s=2*Math.PI*i/(e+a-1);o[i]=n-r*Math.cos(s)}return Object(Ue.a)(o,"float32")}Object(m.a)({hammingWindow_:function hammingWindow_(e){return cosineWindow(e,.54,.46)}});const vt=Object(m.a)({hannWindow_:function hannWindow_(e){return cosineWindow(e,.5,.5)}});const xt=Object(m.a)({frame_:function frame_(e,n,r,a=!1,o=0){let i=0;const s=[];for(;i+n<=e.size;)s.push(Object(Ie.a)(e,i,n)),i+=r;if(a)for(;i<e.size;){const a=i+n-e.size,l=Object(T.a)([Object(Ie.a)(e,i,n-a),Object(W.a)([a],o)]);s.push(l),i+=r}return 0===s.length?tensor2d([],[0,n]):Object(B.a)(Object(T.a)(s),[s.length,n])}});Object(m.a)({stft_:function stft_(e,n,r,a,o=vt){null==a&&(a=function enclosingPowerOfTwo(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}(n));const i=xt(e,n,r),s=Object(ue.a)(i,o(n)),l=[];for(let c=0;c<i.shape[0];c++)l.push(Object(et.a)(Object(Ie.a)(s,[c,0],[1,n]),a));return Object(T.a)(l)}});const _t=Object(m.a)({cropAndResize_:function cropAndResize_(e,n,r,a,o="bilinear",i=0){const s=Object(p.a)(e,"image","cropAndResize"),l=Object(p.a)(n,"boxes","cropAndResize","float32"),c=Object(p.a)(r,"boxInd","cropAndResize","int32"),u=l.shape[0];f.b(4===s.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`)),f.b(2===l.rank&&4===l.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${l.shape}.`)),f.b(1===c.rank&&c.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${l.shape}.`)),f.b(2===a.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${a.length}.`)),f.b(a[0]>=1&&a[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${a}`)),f.b("bilinear"===o||"nearest"===o,(()=>`method must be bilinear or nearest, but was ${o}`));const d={image:s,boxes:l,boxInd:c},h={method:o,extrapolationValue:i,cropSize:a};return qe.a.runKernel(ot.K,d,h)}});const wt=Object(m.a)({flipLeftRight_:function flipLeftRight_(e){const n=Object(p.a)(e,"image","flipLeftRight","float32");f.b(4===n.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${n.rank}.`));const r={image:n};return qe.a.runKernel(ot.eb,r,{})}});const kt=Object(m.a)({rotateWithOffset_:function rotateWithOffset_(e,n,r=0,a=.5){const o=Object(p.a)(e,"image","rotateWithOffset","float32");f.b(4===o.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`));const i={image:o},s={radians:n,fillValue:r,center:a};return qe.a.runKernel(ot.tc,i,s)}});function nonMaxSuppSanityCheck(e,n,r,a,o,i){null==a&&(a=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);const s=e.shape[0];return r=Math.min(r,s),f.b(0<=a&&a<=1,(()=>`iouThreshold must be in [0, 1], but was '${a}'`)),f.b(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),f.b(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),f.b(1===n.rank,(()=>"scores must be a 1D tensor")),f.b(n.shape[0]===s,(()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${n.shape[0]}`)),f.b(0<=i&&i<=1,(()=>`softNmsSigma must be in [0, 1], but was '${i}'`)),{maxOutputSize:r,iouThreshold:a,scoreThreshold:o,softNmsSigma:i}}const Tt=Object(m.a)({nonMaxSuppression_:function nonMaxSuppression_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY){const i=Object(p.a)(e,"boxes","nonMaxSuppression"),s=Object(p.a)(n,"scores","nonMaxSuppression"),l=nonMaxSuppSanityCheck(i,s,r,a,o),c={maxOutputSize:r=l.maxOutputSize,iouThreshold:a=l.iouThreshold,scoreThreshold:o=l.scoreThreshold};return qe.a.runKernel(ot.Wb,{boxes:i,scores:s},c)}});var St=r("8389");const Ot=async function nonMaxSuppressionAsync_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY){const i=Object(p.a)(e,"boxes","nonMaxSuppressionAsync"),s=Object(p.a)(n,"scores","nonMaxSuppressionAsync"),l=nonMaxSuppSanityCheck(i,s,r,a,o);r=l.maxOutputSize,a=l.iouThreshold,o=l.scoreThreshold;const c=await Promise.all([i.data(),s.data()]),u=c[0],d=c[1],{selectedIndices:f}=Object(St.a)(u,d,r,a,o);return i!==e&&i.dispose(),s!==n&&s.dispose(),Object(Ue.a)(f,"int32")};const Ct=Object(m.a)({nonMaxSuppressionWithScore_:function nonMaxSuppressionWithScore_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY,i=0){const s=Object(p.a)(e,"boxes","nonMaxSuppression"),l=Object(p.a)(n,"scores","nonMaxSuppression"),c=nonMaxSuppSanityCheck(s,l,r,a,o,i),u={boxes:s,scores:l},d={maxOutputSize:r=c.maxOutputSize,iouThreshold:a=c.iouThreshold,scoreThreshold:o=c.scoreThreshold,softNmsSigma:i=c.softNmsSigma},f=qe.a.runKernel(ot.Yb,u,d);return{selectedIndices:f[0],selectedScores:f[1]}}});const At=async function nonMaxSuppressionWithScoreAsync_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY,i=0){const s=Object(p.a)(e,"boxes","nonMaxSuppressionAsync"),l=Object(p.a)(n,"scores","nonMaxSuppressionAsync"),c=nonMaxSuppSanityCheck(s,l,r,a,o,i);r=c.maxOutputSize,a=c.iouThreshold,o=c.scoreThreshold,i=c.softNmsSigma;const u=await Promise.all([s.data(),l.data()]),d=u[0],f=u[1],{selectedIndices:h,selectedScores:m}=Object(St.c)(d,f,r,a,o,i);return s!==e&&s.dispose(),l!==n&&l.dispose(),{selectedIndices:Object(Ue.a)(h,"int32"),selectedScores:Object(Ue.a)(m)}};const It=Object(m.a)({nonMaxSuppressionPadded_:function nonMaxSuppressionPadded_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY,i=!1){const s=Object(p.a)(e,"boxes","nonMaxSuppression"),l=Object(p.a)(n,"scores","nonMaxSuppression"),c=nonMaxSuppSanityCheck(s,l,r,a,o,null),u={boxes:s,scores:l},d={maxOutputSize:c.maxOutputSize,iouThreshold:c.iouThreshold,scoreThreshold:c.scoreThreshold,padToMaxOutputSize:i},f=qe.a.runKernel(ot.Xb,u,d);return{selectedIndices:f[0],validOutputs:f[1]}}});const Nt=async function nonMaxSuppressionPaddedAsync_(e,n,r,a=.5,o=Number.NEGATIVE_INFINITY,i=!1){const s=Object(p.a)(e,"boxes","nonMaxSuppressionAsync"),l=Object(p.a)(n,"scores","nonMaxSuppressionAsync"),c=nonMaxSuppSanityCheck(s,l,r,a,o,null),u=c.maxOutputSize,d=c.iouThreshold,f=c.scoreThreshold,[h,m]=await Promise.all([s.data(),l.data()]),{selectedIndices:g,validOutputs:y}=Object(St.b)(h,m,u,d,f,i);return s!==e&&s.dispose(),l!==n&&l.dispose(),{selectedIndices:Object(Ue.a)(g,"int32"),validOutputs:Object(Se.a)(y,"int32")}};var Mt=r("73f8"),Et=r("0f86");const Dt=Object(m.a)({transform_:function transform_(e,n,r="nearest",a="constant",o=0,i){const s=Object(p.a)(e,"image","transform","float32"),l=Object(p.a)(n,"transforms","transform","float32");f.b(4===s.rank,(()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`)),f.b(2===l.rank&&(l.shape[0]===s.shape[0]||1===l.shape[0])&&8===l.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),f.b(null==i||2===i.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`));const c={image:s,transforms:l},u={interpolation:r,fillMode:a,fillValue:o,outputShape:i};return qe.a.runKernel(ot.Uc,c,u)}});var jt=r("b21c");const Rt=Object(m.a)({bandPart_:function bandPart_(e,n,r){Object(f.b)(n%1==0,(()=>`bandPart(): numLower must be an integer, got ${n}.`)),Object(f.b)(r%1==0,(()=>`bandPart(): numUpper must be an integer, got ${r}.`));const a=Object(p.a)(e,"a","bandPart");Object(f.b)(a.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${a.rank}.`));const o=a.shape,[i,s]=a.shape.slice(-2);if(!(n<=i))throw new Error(`bandPart(): numLower (${n}) must not be greater than the number of rows (${i}).`);if(!(r<=s))throw new Error(`bandPart(): numUpper (${r}) must not be greater than the number of columns (${s}).`);n<0&&(n=i),r<0&&(r=s);const l=Object(B.a)(Object(we.a)(0,i,1,"int32"),[-1,1]),c=Object(we.a)(0,s,1,"int32"),u=Object(le.a)(l,c),d=Object(J.a)(Object(jt.a)(u,Object(Se.a)(+n,"int32")),Object(K.a)(u,Object(Se.a)(-r,"int32"))),h=Object(Xe.a)([i,s],a.dtype);return Object(B.a)(Object(ze.a)(Object(Ge.a)(Object(B.a)(a,[-1,i,s])).map((e=>Object(Ke.a)(d,e,h)))),o)}});var Lt=r("f757");const Pt=Object(m.a)({gramSchmidt_:function gramSchmidt_(e){let n;if(Array.isArray(e)){n=!1,Object(f.b)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const r=e[0].shape[0];for(let n=1;n<e.length;++n)Object(f.b)(e[n].shape[0]===r,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[n].shape[0]} vs. ${r})`))}else n=!0,e=Object(Le.a)(e,e.shape[0],0).map((e=>Object(Fe.a)(e,[0])));Object(f.b)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const r=[],a=e;for(let o=0;o<e.length;++o)r.push(qe.a.tidy((()=>{let e=a[o];if(o>0)for(let n=0;n<o;++n){const a=Object(ue.a)(Object($e.a)(Object(ue.a)(r[n],e)),r[n]);e=Object(le.a)(e,a)}return Object(j.a)(e,Object(Lt.a)(e,"euclidean"))})));return n?Object(ze.a)(r,0):r}});var Ft=r("c04e");function qr2d(e,n=!1){return qe.a.tidy((()=>{Object(f.b)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const r=e.shape[0],a=e.shape[1];let o=U(r),i=Object(k.a)(e);const s=tensor2d([[1]],[1,1]);let l=Object(k.a)(s);const c=r>=a?a:r;for(let e=0;e<c;++e){const n=i,c=l,u=o;[l,i,o]=qe.a.tidy((()=>{const n=Object(Ie.a)(i,[e,e],[r-e,1]),c=Object(Lt.a)(n),u=Object(Ie.a)(i,[e,e],[1,1]),d=Object(Ke.a)(Object(q.a)(u,0),tensor2d([[-1]]),tensor2d([[1]])),p=Object(le.a)(u,Object(ue.a)(d,c)),f=Object(j.a)(n,p);l=1===f.shape[0]?Object(k.a)(s):Object(T.a)([s,Object(Ie.a)(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);const h=Object(de.a)(Object(j.a)(Object(yt.a)(d,p),c)),m=Object(Ie.a)(i,[e,0],[r-e,a]),g=Object(ue.a)(h,l),y=Object(Ze.a)(l);if(0===e)i=Object(le.a)(m,Object(yt.a)(g,Object(yt.a)(y,m)));else{const n=Object(le.a)(m,Object(yt.a)(g,Object(yt.a)(y,m)));i=Object(T.a)([Object(Ie.a)(i,[0,0],[e,a]),n],0)}const b=Object(Ze.a)(g),x=Object(Ie.a)(o,[0,e],[r,o.shape[1]-e]);if(0===e)o=Object(le.a)(x,Object(yt.a)(Object(yt.a)(x,l),b));else{const n=Object(le.a)(x,Object(yt.a)(Object(yt.a)(x,l),b));o=Object(T.a)([Object(Ie.a)(o,[0,0],[r,e]),n],1)}return[l,i,o]})),Object(Ft.b)([n,c,u])}return!n&&r>a&&(o=Object(Ie.a)(o,[0,0],[r,a]),i=Object(Ie.a)(i,[0,0],[a,a])),[o,i]}))}const zt=Object(m.a)({qr_:function qr_(e,n=!1){if(Object(f.b)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return qr2d(e,n);{const r=e.shape.slice(0,e.shape.length-2).reduce(((e,n)=>e*n)),a=Object(Ge.a)(Object(B.a)(e,[r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];a.forEach((e=>{const[r,a]=qr2d(e,n);o.push(r),i.push(a)}));return[Object(B.a)(Object(ze.a)(o,0),e.shape),Object(B.a)(Object(ze.a)(i,0),e.shape)]}}});var $t=r("57e0");const Bt=Object(m.a)({computeWeightedLoss_:function computeWeightedLoss_(e,n,r=$t.a.SUM_BY_NONZERO_WEIGHTS){const a=Object(p.a)(e,"losses","computeWeightedLoss");let o=null;null!=n&&(o=Object(p.a)(n,"weights","computeWeightedLoss"));const i=null==o?a:Object(ue.a)(a,o);if(r===$t.a.NONE)return i;if(r===$t.a.SUM)return Object($e.a)(i);if(r===$t.a.MEAN){if(null==o)return Object(re.a)(i);{const e=a.size/o.size,n=Object(j.a)(Object($e.a)(i),Object($e.a)(o));return e>1?Object(j.a)(n,Object(Se.a)(e)):n}}if(r===$t.a.SUM_BY_NONZERO_WEIGHTS){if(null==o)return Object(j.a)(Object($e.a)(i),Object(Se.a)(a.size));{const e=Object(ue.a)(o,Object(he.a)(a.shape)),n=Object(_.a)(Object($e.a)(Object(pe.a)(e,Object(Se.a)(0))),"float32");return Object(j.a)(Object($e.a)(i),n)}}throw Error(`Unknown reduction: ${r}`)}});Object(m.a)({absoluteDifference_:function absoluteDifference_(e,n,r,a=$t.a.SUM_BY_NONZERO_WEIGHTS){const i=Object(p.a)(e,"labels","absoluteDifference"),s=Object(p.a)(n,"predictions","absoluteDifference");let l=null;null!=r&&(l=Object(p.a)(r,"weights","absoluteDifference")),Object(f.e)(i.shape,s.shape,"Error in absoluteDifference: ");const c=Object(o.a)(Object(le.a)(i,s));return Bt(c,l,a)}});Object(m.a)({cosineDistance_:function cosineDistance_(e,n,r,a,o=$t.a.SUM_BY_NONZERO_WEIGHTS){const i=Object(p.a)(e,"labels","cosineDistance"),s=Object(p.a)(n,"predictions","cosineDistance");let l=null;null!=a&&(l=Object(p.a)(a,"weights","cosineDistance")),Object(f.e)(i.shape,s.shape,"Error in cosineDistance: ");const c=Object(Se.a)(1),u=Object(le.a)(c,Object($e.a)(Object(ue.a)(i,s),r,!0));return Bt(u,l,o)}});Object(m.a)({hingeLoss_:function hingeLoss_(e,n,r,a=$t.a.SUM_BY_NONZERO_WEIGHTS){let o=Object(p.a)(e,"labels","hingeLoss");const i=Object(p.a)(n,"predictions","hingeLoss");let s=null;null!=r&&(s=Object(p.a)(r,"weights","hingeLoss")),Object(f.e)(o.shape,i.shape,"Error in hingeLoss: ");const l=Object(Se.a)(1);o=Object(le.a)(Object(ue.a)(Object(Se.a)(2),o),l);const c=Object(ke.a)(Object(le.a)(l,Object(ue.a)(o,i)));return Bt(c,s,a)}});Object(m.a)({huberLoss_:function huberLoss_(e,n,r,a=1,s=$t.a.SUM_BY_NONZERO_WEIGHTS){const l=Object(p.a)(e,"labels","huberLoss"),c=Object(p.a)(n,"predictions","huberLoss");let u=null;null!=r&&(u=Object(p.a)(r,"weights","huberLoss")),Object(f.e)(l.shape,c.shape,"Error in huberLoss: ");const d=Object(Se.a)(a),h=Object(o.a)(Object(le.a)(c,l)),m=Object(oe.a)(h,d),g=Object(le.a)(h,m),y=Object(i.a)(Object(ue.a)(Object(Se.a)(.5),Object(se.a)(m)),Object(ue.a)(d,g));return Bt(y,u,s)}});Object(m.a)({logLoss_:function logLoss_(e,n,r,a=1e-7,o=$t.a.SUM_BY_NONZERO_WEIGHTS){const s=Object(p.a)(e,"labels","logLoss"),l=Object(p.a)(n,"predictions","logLoss");let c=null;null!=r&&(c=Object(p.a)(r,"weights","logLoss")),Object(f.e)(s.shape,l.shape,"Error in logLoss: ");const u=Object(Se.a)(1),d=Object(Se.a)(a),h=Object(de.a)(Object(ue.a)(s,Object(Y.a)(Object(i.a)(l,d)))),m=Object(ue.a)(Object(le.a)(u,s),Object(Y.a)(Object(i.a)(Object(le.a)(u,l),d))),g=Object(le.a)(h,m);return Bt(g,c,o)}});var Vt=r("4184");Object(m.a)({meanSquaredError_:function meanSquaredError_(e,n,r,a=$t.a.SUM_BY_NONZERO_WEIGHTS){const o=Object(p.a)(e,"labels","meanSquaredError"),i=Object(p.a)(n,"predictions","meanSquaredError");let s=null;null!=r&&(s=Object(p.a)(r,"weights","meanSquaredError")),Object(f.e)(o.shape,i.shape,"Error in meanSquaredError: ");const l=Object(Vt.a)(o,i);return Bt(l,s,a)}});var Ut=r("46b1");Object(m.a)({sigmoidCrossEntropy_:function sigmoidCrossEntropy_(e,n,r,a=0,s=$t.a.SUM_BY_NONZERO_WEIGHTS){let l=Object(p.a)(e,"multiClassLabels","sigmoidCrossEntropy");const c=Object(p.a)(n,"logits","sigmoidCrossEntropy");let u=null;if(null!=r&&(u=Object(p.a)(r,"weights","sigmoidCrossEntropy")),Object(f.e)(l.shape,c.shape,"Error in sigmoidCrossEntropy: "),a>0){const e=Object(Se.a)(a),n=Object(Se.a)(1),r=Object(Se.a)(.5);l=Object(i.a)(Object(ue.a)(l,Object(le.a)(n,e)),Object(ue.a)(r,e))}const d=function sigmoidCrossEntropyWithLogits_(e,n){const r=Object(p.a)(e,"labels","sigmoidCrossEntropyWithLogits"),a=Object(p.a)(n,"logits","sigmoidCrossEntropyWithLogits");Object(f.e)(r.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const s=Object(ke.a)(a),l=Object(ue.a)(a,r),c=Object(Ut.a)(Object(z.a)(Object(de.a)(Object(o.a)(a))));return Object(i.a)(Object(le.a)(s,l),c)}(l,c);return Bt(d,u,s)}});var Wt=r("afda");Object(m.a)({softmaxCrossEntropy_:function softmaxCrossEntropy_(e,n,r,a=0,o=$t.a.SUM_BY_NONZERO_WEIGHTS){let s=Object(p.a)(e,"onehotLabels","softmaxCrossEntropy");const l=Object(p.a)(n,"logits","softmaxCrossEntropy");let c=null;if(null!=r&&(c=Object(p.a)(r,"weights","softmaxCrossEntropy")),Object(f.e)(s.shape,l.shape,"Error in softmaxCrossEntropy: "),a>0){const e=Object(Se.a)(a),n=Object(Se.a)(1),r=Object(Se.a)(s.shape[1]);s=Object(i.a)(Object(ue.a)(s,Object(le.a)(n,e)),Object(j.a)(e,r))}const u=function softmaxCrossEntropyWithLogits_(e,n,r=-1){if(-1===r&&(r=n.rank-1),r!==n.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${n.rank} and dim was ${r}`);return Object(at.a)(((e,n,a)=>{const o=Object(Wt.a)(n,[r],!0),i=Object(le.a)(Object(_.a)(n,"float32"),o);a([e,i]);const s=Object(de.a)(Object(ue.a)(i,e));return{value:Object($e.a)(s,[r]),gradFunc:(e,n)=>{const[a,o]=n,i=Object(ie.e)(e.shape,[r]);return[Object(ue.a)(Object(B.a)(e,i),Object(le.a)(Object(_.a)(a,"float32"),Object(z.a)(o))),Object(ue.a)(Object(B.a)(e,i),Object(le.a)(Object(z.a)(o),Object(_.a)(a,"float32")))]}}}))(e,n)}(s,l);return Bt(u,c,o)}}),tt.a,nt.a,et.a,rt.a;const Ht={flipLeftRight:wt,resizeNearestNeighbor:Et.a,resizeBilinear:Mt.a,rotateWithOffset:kt,cropAndResize:_t,nonMaxSuppression:Tt,nonMaxSuppressionAsync:Ot,nonMaxSuppressionWithScore:Ct,nonMaxSuppressionWithScoreAsync:At,nonMaxSuppressionPadded:It,nonMaxSuppressionPaddedAsync:Nt,transform:Dt},Gt={bandPart:Rt,gramSchmidt:Pt,qr:zt}},1359:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({log_:function log_(e){const n={x:Object(i.a)(e,"x","log")};return a.a.runKernel(o.Bb,n)}})},1368:function(e,n,r){(function(n,r){var a;a=function(){"use strict";function isFunction(e){return"function"==typeof e}var e=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,o=void 0,i=void 0,s=function asap(e,n){f[a]=e,f[a+1]=n,2===(a+=2)&&(i?i(flush):h())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function useSetTimeout(){var e=setTimeout;return function(){return e(flush,1)}}var f=new Array(1e3);function flush(){for(var e=0;e<a;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;a=0}var h=void 0;function then(e,n){var r=this,a=new this.constructor(noop);void 0===a[m]&&makePromise(a);var o=r._state;if(o){var i=arguments[o-1];s((function(){return invokeCallback(o,a,i,r._result)}))}else subscribe(r,a,e,n);return a}function resolve$1(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var n=new this(noop);return resolve(n,e),n}h=d?function useNextTick(){return function(){return n.nextTick(flush)}}():u?function useMutationObserver(){var e=0,n=new u(flush),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}():p?function useMessageChannel(){var e=new MessageChannel;return e.port1.onmessage=flush,function(){return e.port2.postMessage(0)}}():void 0===l?function attemptVertx(){try{var e=Function("return this")().require("vertx");return o=e.runOnLoop||e.runOnContext,function useVertxTimer(){return void 0!==o?function(){o(flush)}:useSetTimeout()}()}catch(n){return useSetTimeout()}}():useSetTimeout();var m=Math.random().toString(36).substring(2);function noop(){}var g=void 0;function handleMaybeThenable(e,n,r){n.constructor===e.constructor&&r===then&&n.constructor.resolve===resolve$1?function handleOwnThenable(e,n){1===n._state?fulfill(e,n._result):2===n._state?reject(e,n._result):subscribe(n,void 0,(function(n){return resolve(e,n)}),(function(n){return reject(e,n)}))}(e,n):void 0===r?fulfill(e,n):isFunction(r)?function handleForeignThenable(e,n,r){s((function(e){var a=!1,o=function tryThen(e,n,r,a){try{e.call(n,r,a)}catch(o){return o}}(r,n,(function(r){a||(a=!0,n!==r?resolve(e,r):fulfill(e,r))}),(function(n){a||(a=!0,reject(e,n))}),e._label);!a&&o&&(a=!0,reject(e,o))}),e)}(e,n,r):fulfill(e,n)}function resolve(e,n){if(e===n)reject(e,function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}());else if(function objectOrFunction(e){var n=typeof e;return null!==e&&("object"===n||"function"===n)}(n)){var r=void 0;try{r=n.then}catch(a){return void reject(e,a)}handleMaybeThenable(e,n,r)}else fulfill(e,n)}function publishRejection(e){e._onerror&&e._onerror(e._result),publish(e)}function fulfill(e,n){e._state===g&&(e._result=n,e._state=1,0!==e._subscribers.length&&s(publish,e))}function reject(e,n){e._state===g&&(e._state=2,e._result=n,s(publishRejection,e))}function subscribe(e,n,r,a){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=n,o[i+1]=r,o[i+2]=a,0===i&&e._state&&s(publish,e)}function publish(e){var n=e._subscribers,r=e._state;if(0!==n.length){for(var a=void 0,o=void 0,i=e._result,s=0;s<n.length;s+=3)a=n[s],o=n[s+r],a?invokeCallback(r,a,o,i):o(i);e._subscribers.length=0}}function invokeCallback(e,n,r,a){var o=isFunction(r),i=void 0,s=void 0,l=!0;if(o){try{i=r(a)}catch(c){l=!1,s=c}if(n===i)return void reject(n,function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}())}else i=a;n._state!==g||(o&&l?resolve(n,i):!1===l?reject(n,s):1===e?fulfill(n,i):2===e&&reject(n,i))}var y=0;function makePromise(e){e[m]=y++,e._state=void 0,e._result=void 0,e._subscribers=[]}var b=function(){function Enumerator(n,r){this._instanceConstructor=n,this.promise=new n(noop),this.promise[m]||makePromise(this.promise),e(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&fulfill(this.promise,this._result))):reject(this.promise,function validationError(){return new Error("Array Methods must be provided an Array")}())}return Enumerator.prototype._enumerate=function _enumerate(e){for(var n=0;this._state===g&&n<e.length;n++)this._eachEntry(e[n],n)},Enumerator.prototype._eachEntry=function _eachEntry(e,n){var r=this._instanceConstructor,a=r.resolve;if(a===resolve$1){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(c){s=!0,i=c}if(o===then&&e._state!==g)this._settledAt(e._state,n,e._result);else if("function"!=typeof o)this._remaining--,this._result[n]=e;else if(r===x){var l=new r(noop);s?reject(l,i):handleMaybeThenable(l,e,o),this._willSettleAt(l,n)}else this._willSettleAt(new r((function(n){return n(e)})),n)}else this._willSettleAt(a(e),n)},Enumerator.prototype._settledAt=function _settledAt(e,n,r){var a=this.promise;a._state===g&&(this._remaining--,2===e?reject(a,r):this._result[n]=r),0===this._remaining&&fulfill(a,this._result)},Enumerator.prototype._willSettleAt=function _willSettleAt(e,n){var r=this;subscribe(e,void 0,(function(e){return r._settledAt(1,n,e)}),(function(e){return r._settledAt(2,n,e)}))},Enumerator}(),x=function(){function Promise(e){this[m]=function nextId(){return y++}(),this._result=this._state=void 0,this._subscribers=[],noop!==e&&("function"!=typeof e&&function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof Promise?function initializePromise(e,n){try{n((function resolvePromise(n){resolve(e,n)}),(function rejectPromise(n){reject(e,n)}))}catch(r){reject(e,r)}}(this,e):function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return Promise.prototype.catch=function _catch(e){return this.then(null,e)},Promise.prototype.finally=function _finally(e){var n=this,r=n.constructor;return isFunction(e)?n.then((function(n){return r.resolve(e()).then((function(){return n}))}),(function(n){return r.resolve(e()).then((function(){throw n}))})):n.then(e,e)},Promise}();return x.prototype.then=then,x.all=function all(e){return new b(this,e).promise},x.race=function race(n){var r=this;return e(n)?new r((function(e,a){for(var o=n.length,i=0;i<o;i++)r.resolve(n[i]).then(e,a)})):new r((function(e,n){return n(new TypeError("You must pass an array to race."))}))},x.resolve=resolve$1,x.reject=function reject$1(e){var n=new this(noop);return reject(n,e),n},x._setScheduler=function setScheduler(e){i=e},x._setAsap=function setAsap(e){s=e},x._asap=s,x.polyfill=function polyfill(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var a=null;try{a=Object.prototype.toString.call(n.resolve())}catch(o){}if("[object Promise]"===a&&!n.cast)return}e.Promise=x},x.Promise=x,x},e.exports=a()}).call(this,r("4362"),r("c8ba"))},1385:function(e,n,r){"use strict";e.exports=function isPlainObject(e){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(e):"[object Object]"===Object.prototype.toString.call(e)&&Object.getPrototypeOf(e)===Object.prototype}},"13a4":function(e,n,r){"use strict";var a=r("fc26"),o=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function getCursor(e,n,r,i){return e="left"===r?0:"center"===r?1:"right"===r?2:a.constrain(Math.floor(3*e),0,2),n="bottom"===i?0:"middle"===i?1:"top"===i?2:a.constrain(Math.floor(3*n),0,2),o[n][e]}},"13c4":function(e,n,r){"use strict";var a=r("371e"),o=r("bb71"),i=r("3c1c"),s=r("7559"),l=r("236d").eraseActiveShape,c=r("fc26"),u=c._,d=e.exports={};function handleCartesian(e,n){var r,o,s=n.currentTarget,l=s.getAttribute("data-attr"),c=s.getAttribute("data-val")||!0,u=e._fullLayout,d={},p=i.list(e,null,!0),f=u._cartesianSpikesEnabled;if("zoom"===l){var h,m="in"===c?.5:2,g=(1+m)/2,y=(1-m)/2;for(o=0;o<p.length;o++)if(!(r=p[o]).fixedrange)if(h=r._name,"auto"===c)d[h+".autorange"]=!0;else if("reset"===c){if(void 0===r._rangeInitial)d[h+".autorange"]=!0;else{var b=r._rangeInitial.slice();d[h+".range[0]"]=b[0],d[h+".range[1]"]=b[1]}void 0!==r._showSpikeInitial&&(d[h+".showspikes"]=r._showSpikeInitial,"on"!==f||r._showSpikeInitial||(f="off"))}else{var x=[r.r2l(r.range[0]),r.r2l(r.range[1])],_=[g*x[0]+y*x[1],g*x[1]+y*x[0]];d[h+".range[0]"]=r.l2r(_[0]),d[h+".range[1]"]=r.l2r(_[1])}}else"hovermode"!==l||"x"!==c&&"y"!==c||(c=u._isHoriz?"y":"x",s.setAttribute("data-val",c)),d[l]=c;u._cartesianSpikesEnabled=f,a.call("_guiRelayout",e,d)}function handleDrag3d(e,n){for(var r=n.currentTarget,o=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,s=e._fullLayout._subplots.gl3d||[],l={},c=o.split("."),u=0;u<s.length;u++)l[s[u]+"."+c[1]]=i;var d="pan"===i?i:"zoom";l.dragmode=d,a.call("_guiRelayout",e,l)}function handleCamera3d(e,n){for(var r=n.currentTarget.getAttribute("data-attr"),o="resetLastSave"===r,i="resetDefault"===r,s=e._fullLayout,l=s._subplots.gl3d||[],c={},u=0;u<l.length;u++){var d,p=l[u],f=p+".camera",h=p+".aspectratio",m=p+".aspectmode",g=s[p]._scene;o?(c[f+".up"]=g.viewInitial.up,c[f+".eye"]=g.viewInitial.eye,c[f+".center"]=g.viewInitial.center,d=!0):i&&(c[f+".up"]=null,c[f+".eye"]=null,c[f+".center"]=null,d=!0),d&&(c[h+".x"]=g.viewInitial.aspectratio.x,c[h+".y"]=g.viewInitial.aspectratio.y,c[h+".z"]=g.viewInitial.aspectratio.z,c[m]=g.viewInitial.aspectmode)}a.call("_guiRelayout",e,c)}function getNextHover3d(e,n){var r=n.currentTarget,a=r._previousVal,o=e._fullLayout,i=o._subplots.gl3d||[],s=["xaxis","yaxis","zaxis"],l={},c={};if(a)c=a,r._previousVal=null;else{for(var u=0;u<i.length;u++){var d=i[u],p=o[d],f=d+".hovermode";l[f]=p.hovermode,c[f]=!1;for(var h=0;h<3;h++){var m=s[h],g=d+"."+m+".showspikes";c[g]=!1,l[g]=p[m].showspikes}}r._previousVal=l}return c}function handleGeo(e,n){for(var r=n.currentTarget,o=r.getAttribute("data-attr"),i=r.getAttribute("data-val")||!0,s=e._fullLayout,l=s._subplots.geo||[],c=0;c<l.length;c++){var u=l[c],d=s[u];if("zoom"===o){var p=d.projection.scale,f="in"===i?2*p:.5*p;a.call("_guiRelayout",e,u+".projection.scale",f)}}"reset"===o&&resetView(e,"geo")}function getNextHover(e){var n=e._fullLayout;return!n.hovermode&&(n._has("cartesian")?n._isHoriz?"y":"x":"closest")}function toggleHover(e){var n=getNextHover(e);a.call("_guiRelayout",e,"hovermode",n)}function handleMapboxZoom(e,n){for(var r=n.currentTarget.getAttribute("data-val"),o=e._fullLayout,i=o._subplots.mapbox||[],s={},l=0;l<i.length;l++){var c=i[l],u=o[c].zoom,d="in"===r?1.05*u:u/1.05;s[c+".zoom"]=d}a.call("_guiRelayout",e,s)}function resetView(e,n){for(var r=e._fullLayout,o=r._subplots[n]||[],i={},s=0;s<o.length;s++)for(var l=o[s],c=r[l]._subplot.viewInitial,u=Object.keys(c),d=0;d<u.length;d++){var p=u[d];i[l+"."+p]=c[p]}a.call("_guiRelayout",e,i)}d.toImage={name:"toImage",title:function(e){var n=(e._context.toImageButtonOptions||{}).format||"png";return u(e,"png"===n?"Download plot as a png":"Download plot")},icon:s.camera,click:function(e){var n=e._context.toImageButtonOptions,r={format:n.format||"png"};c.notifier(u(e,"Taking snapshot - this may take a few seconds"),"long"),"svg"!==r.format&&c.isIE()&&(c.notifier(u(e,"IE only supports svg.  Changing format to svg."),"long"),r.format="svg"),["filename","width","height","scale"].forEach((function(e){e in n&&(r[e]=n[e])})),a.call("downloadImage",e,r).then((function(n){c.notifier(u(e,"Snapshot succeeded")+" - "+n,"long")})).catch((function(){c.notifier(u(e,"Sorry, there was a problem downloading your snapshot!"),"long")}))}},d.sendDataToCloud={name:"sendDataToCloud",title:function(e){return u(e,"Edit in Chart Studio")},icon:s.disk,click:function(e){o.sendDataToCloud(e)}},d.editInChartStudio={name:"editInChartStudio",title:function(e){return u(e,"Edit in Chart Studio")},icon:s.pencil,click:function(e){o.sendDataToCloud(e)}},d.zoom2d={name:"zoom2d",title:function(e){return u(e,"Zoom")},attr:"dragmode",val:"zoom",icon:s.zoombox,click:handleCartesian},d.pan2d={name:"pan2d",title:function(e){return u(e,"Pan")},attr:"dragmode",val:"pan",icon:s.pan,click:handleCartesian},d.select2d={name:"select2d",title:function(e){return u(e,"Box Select")},attr:"dragmode",val:"select",icon:s.selectbox,click:handleCartesian},d.lasso2d={name:"lasso2d",title:function(e){return u(e,"Lasso Select")},attr:"dragmode",val:"lasso",icon:s.lasso,click:handleCartesian},d.drawclosedpath={name:"drawclosedpath",title:function(e){return u(e,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:s.drawclosedpath,click:handleCartesian},d.drawopenpath={name:"drawopenpath",title:function(e){return u(e,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:s.drawopenpath,click:handleCartesian},d.drawline={name:"drawline",title:function(e){return u(e,"Draw line")},attr:"dragmode",val:"drawline",icon:s.drawline,click:handleCartesian},d.drawrect={name:"drawrect",title:function(e){return u(e,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:s.drawrect,click:handleCartesian},d.drawcircle={name:"drawcircle",title:function(e){return u(e,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:s.drawcircle,click:handleCartesian},d.eraseshape={name:"eraseshape",title:function(e){return u(e,"Erase active shape")},icon:s.eraseshape,click:l},d.zoomIn2d={name:"zoomIn2d",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:handleCartesian},d.zoomOut2d={name:"zoomOut2d",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:handleCartesian},d.autoScale2d={name:"autoScale2d",title:function(e){return u(e,"Autoscale")},attr:"zoom",val:"auto",icon:s.autoscale,click:handleCartesian},d.resetScale2d={name:"resetScale2d",title:function(e){return u(e,"Reset axes")},attr:"zoom",val:"reset",icon:s.home,click:handleCartesian},d.hoverClosestCartesian={name:"hoverClosestCartesian",title:function(e){return u(e,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:handleCartesian},d.hoverCompareCartesian={name:"hoverCompareCartesian",title:function(e){return u(e,"Compare data on hover")},attr:"hovermode",val:function(e){return e._fullLayout._isHoriz?"y":"x"},icon:s.tooltip_compare,gravity:"ne",click:handleCartesian},d.zoom3d={name:"zoom3d",title:function(e){return u(e,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:s.zoombox,click:handleDrag3d},d.pan3d={name:"pan3d",title:function(e){return u(e,"Pan")},attr:"scene.dragmode",val:"pan",icon:s.pan,click:handleDrag3d},d.orbitRotation={name:"orbitRotation",title:function(e){return u(e,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:s["3d_rotate"],click:handleDrag3d},d.tableRotation={name:"tableRotation",title:function(e){return u(e,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:s["z-axis"],click:handleDrag3d},d.resetCameraDefault3d={name:"resetCameraDefault3d",title:function(e){return u(e,"Reset camera to default")},attr:"resetDefault",icon:s.home,click:handleCamera3d},d.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:function(e){return u(e,"Reset camera to last save")},attr:"resetLastSave",icon:s.movie,click:handleCamera3d},d.hoverClosest3d={name:"hoverClosest3d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function handleHover3d(e,n){var r=getNextHover3d(e,n);a.call("_guiRelayout",e,r)}},d.zoomInGeo={name:"zoomInGeo",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:handleGeo},d.zoomOutGeo={name:"zoomOutGeo",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:handleGeo},d.resetGeo={name:"resetGeo",title:function(e){return u(e,"Reset")},attr:"reset",val:null,icon:s.autoscale,click:handleGeo},d.hoverClosestGeo={name:"hoverClosestGeo",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:toggleHover},d.hoverClosestGl2d={name:"hoverClosestGl2d",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:toggleHover},d.hoverClosestPie={name:"hoverClosestPie",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:s.tooltip_basic,gravity:"ne",click:toggleHover},d.resetViewSankey={name:"resetSankeyGroup",title:function(e){return u(e,"Reset view")},icon:s.home,click:function(e){for(var n={"node.groups":[],"node.x":[],"node.y":[]},r=0;r<e._fullData.length;r++){var o=e._fullData[r]._viewInitial;n["node.groups"].push(o.node.groups.slice()),n["node.x"].push(o.node.x.slice()),n["node.y"].push(o.node.y.slice())}a.call("restyle",e,n)}},d.toggleHover={name:"toggleHover",title:function(e){return u(e,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:s.tooltip_basic,gravity:"ne",click:function(e,n){var r=getNextHover3d(e,n);r.hovermode=getNextHover(e),a.call("_guiRelayout",e,r)}},d.resetViews={name:"resetViews",title:function(e){return u(e,"Reset views")},icon:s.home,click:function(e,n){var r=n.currentTarget;r.setAttribute("data-attr","zoom"),r.setAttribute("data-val","reset"),handleCartesian(e,n),r.setAttribute("data-attr","resetLastSave"),handleCamera3d(e,n),resetView(e,"geo"),resetView(e,"mapbox")}},d.toggleSpikelines={name:"toggleSpikelines",title:function(e){return u(e,"Toggle Spike Lines")},icon:s.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(e){var n=e._fullLayout,r=n._cartesianSpikesEnabled;n._cartesianSpikesEnabled="on"===r?"off":"on",a.call("_guiRelayout",e,function setSpikelineVisibility(e){for(var n="on"===e._fullLayout._cartesianSpikesEnabled,r=i.list(e,null,!0),a={},o=0;o<r.length;o++){var s=r[o];a[s._name+".showspikes"]=!!n||s._showSpikeInitial}return a}(e))}},d.resetViewMapbox={name:"resetViewMapbox",title:function(e){return u(e,"Reset view")},attr:"reset",icon:s.home,click:function(e){resetView(e,"mapbox")}},d.zoomInMapbox={name:"zoomInMapbox",title:function(e){return u(e,"Zoom in")},attr:"zoom",val:"in",icon:s.zoom_plus,click:handleMapboxZoom},d.zoomOutMapbox={name:"zoomOutMapbox",title:function(e){return u(e,"Zoom out")},attr:"zoom",val:"out",icon:s.zoom_minus,click:handleMapboxZoom}},1417:function(e,n){e.exports=function multiply(e,n,r){var a=n[0],o=n[1],i=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],p=n[8],f=n[9],h=n[10],m=n[11],g=n[12],y=n[13],b=n[14],x=n[15],_=r[0],w=r[1],k=r[2],T=r[3];return e[0]=_*a+w*l+k*p+T*g,e[1]=_*o+w*c+k*f+T*y,e[2]=_*i+w*u+k*h+T*b,e[3]=_*s+w*d+k*m+T*x,_=r[4],w=r[5],k=r[6],T=r[7],e[4]=_*a+w*l+k*p+T*g,e[5]=_*o+w*c+k*f+T*y,e[6]=_*i+w*u+k*h+T*b,e[7]=_*s+w*d+k*m+T*x,_=r[8],w=r[9],k=r[10],T=r[11],e[8]=_*a+w*l+k*p+T*g,e[9]=_*o+w*c+k*f+T*y,e[10]=_*i+w*u+k*h+T*b,e[11]=_*s+w*d+k*m+T*x,_=r[12],w=r[13],k=r[14],T=r[15],e[12]=_*a+w*l+k*p+T*g,e[13]=_*o+w*c+k*f+T*y,e[14]=_*i+w*u+k*h+T*b,e[15]=_*s+w*d+k*m+T*x,e}},1477:function(e,n,r){"use strict";var a=r("dcf3");e.exports=a&&function detect(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch(r){e=!1}return e}()},1479:function(e,n){e.exports=function fromYRotation(e,n){var r=Math.sin(n),a=Math.cos(n);return e[0]=a,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},"14b6":function(e,n,r){"use strict";var a=r("bb4a"),o=r("cb34").overrideAll,i=r("a651").templatedArray;e.exports=o(i("annotation",{visible:a.visible,x:{valType:"any",role:"info",description:["Sets the annotation's x position."].join(" ")},y:{valType:"any",role:"info",description:["Sets the annotation's y position."].join(" ")},z:{valType:"any",role:"info",description:["Sets the annotation's z position."].join(" ")},ax:{valType:"number",role:"info",description:["Sets the x component of the arrow tail about the arrow head (in pixels)."].join(" ")},ay:{valType:"number",role:"info",description:["Sets the y component of the arrow tail about the arrow head (in pixels)."].join(" ")},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},"14c3":function(e,n,r){var a=r("c6b6"),o=r("9263");e.exports=function(e,n){var r=e.exec;if("function"==typeof r){var i=r.call(e,n);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,n)}},"14e9":function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=127)}({127:function(e,n,r){"use strict";r.r(n);var a=r(16),o=r(38),i=r.n(o),s=r(3),l=r(2),c={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function renderThumbStyle(e){var n=e.move,r=e.size,a=e.bar,o={},i="translate"+a.axis+"("+n+"%)";return o[a.size]=r,o.transform=i,o.msTransform=i,o.webkitTransform=i,o}var u={name:"Bar",props:{vertical:Boolean,size:String,move:Number},computed:{bar:function bar(){return c[this.vertical?"vertical":"horizontal"]},wrap:function wrap(){return this.$parent.wrap}},render:function render(e){var n=this.size,r=this.move,a=this.bar;return e("div",{class:["el-scrollbar__bar","is-"+a.key],on:{mousedown:this.clickTrackHandler}},[e("div",{ref:"thumb",class:"el-scrollbar__thumb",on:{mousedown:this.clickThumbHandler},style:renderThumbStyle({size:n,move:r,bar:a})})])},methods:{clickThumbHandler:function clickThumbHandler(e){e.ctrlKey||2===e.button||(this.startDrag(e),this[this.bar.axis]=e.currentTarget[this.bar.offset]-(e[this.bar.client]-e.currentTarget.getBoundingClientRect()[this.bar.direction]))},clickTrackHandler:function clickTrackHandler(e){var n=100*(Math.abs(e.target.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-this.$refs.thumb[this.bar.offset]/2)/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=n*this.wrap[this.bar.scrollSize]/100},startDrag:function startDrag(e){e.stopImmediatePropagation(),this.cursorDown=!0,Object(l.on)(document,"mousemove",this.mouseMoveDocumentHandler),Object(l.on)(document,"mouseup",this.mouseUpDocumentHandler),document.onselectstart=function(){return!1}},mouseMoveDocumentHandler:function mouseMoveDocumentHandler(e){if(!1!==this.cursorDown){var n=this[this.bar.axis];if(n){var r=100*(-1*(this.$el.getBoundingClientRect()[this.bar.direction]-e[this.bar.client])-(this.$refs.thumb[this.bar.offset]-n))/this.$el[this.bar.offset];this.wrap[this.bar.scroll]=r*this.wrap[this.bar.scrollSize]/100}}},mouseUpDocumentHandler:function mouseUpDocumentHandler(e){this.cursorDown=!1,this[this.bar.axis]=0,Object(l.off)(document,"mousemove",this.mouseMoveDocumentHandler),document.onselectstart=null}},destroyed:function destroyed(){Object(l.off)(document,"mouseup",this.mouseUpDocumentHandler)}},d={name:"ElScrollbar",components:{Bar:u},props:{native:Boolean,wrapStyle:{},wrapClass:{},viewClass:{},viewStyle:{},noresize:Boolean,tag:{type:String,default:"div"}},data:function data(){return{sizeWidth:"0",sizeHeight:"0",moveX:0,moveY:0}},computed:{wrap:function wrap(){return this.$refs.wrap}},render:function render(e){var n=i()(),r=this.wrapStyle;if(n){var a="-"+n+"px",o="margin-bottom: "+a+"; margin-right: "+a+";";Array.isArray(this.wrapStyle)?(r=Object(s.toObject)(this.wrapStyle)).marginRight=r.marginBottom=a:"string"==typeof this.wrapStyle?r+=o:r=o}var l=e(this.tag,{class:["el-scrollbar__view",this.viewClass],style:this.viewStyle,ref:"resize"},this.$slots.default),c=e("div",{ref:"wrap",style:r,on:{scroll:this.handleScroll},class:[this.wrapClass,"el-scrollbar__wrap",n?"":"el-scrollbar__wrap--hidden-default"]},[[l]]),d=void 0;return d=this.native?[e("div",{ref:"wrap",class:[this.wrapClass,"el-scrollbar__wrap"],style:r},[[l]])]:[c,e(u,{attrs:{move:this.moveX,size:this.sizeWidth}}),e(u,{attrs:{vertical:!0,move:this.moveY,size:this.sizeHeight}})],e("div",{class:"el-scrollbar"},d)},methods:{handleScroll:function handleScroll(){var e=this.wrap;this.moveY=100*e.scrollTop/e.clientHeight,this.moveX=100*e.scrollLeft/e.clientWidth},update:function update(){var e,n,r=this.wrap;r&&(e=100*r.clientHeight/r.scrollHeight,n=100*r.clientWidth/r.scrollWidth,this.sizeHeight=e<100?e+"%":"",this.sizeWidth=n<100?n+"%":"")}},mounted:function mounted(){this.native||(this.$nextTick(this.update),!this.noresize&&Object(a.addResizeListener)(this.$refs.resize,this.update))},beforeDestroy:function beforeDestroy(){this.native||!this.noresize&&Object(a.removeResizeListener)(this.$refs.resize,this.update)},install:function(e){e.component(d.name,d)}};n.default=d},16:function(e,n){e.exports=r("4010")},2:function(e,n){e.exports=r("5924")},3:function(e,n){e.exports=r("8122")},38:function(e,n){e.exports=r("e62d")}})},1590:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("b818"),c=r("54ef"),u=r("35c9");const d=Object(c.a)({conv3d_:function conv3d_(e,n,r,c,d="NDHWC",p=[1,1,1]){const f=Object(i.a)(e,"x","conv3d"),h=Object(i.a)(n,"filter","conv3d");let m=f,g=!1;4===f.rank&&(g=!0,m=Object(u.a)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),s.b(5===m.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${m.rank}.`)),s.b(5===h.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${h.rank}.`)),s.b(m.shape[4]===h.shape[3],(()=>`Error in conv3d: depth of input (${m.shape[4]}) must match input depth for filter ${h.shape[3]}.`)),s.b(Object(l.h)(r,p),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${r} and dilations '${p}'`)),s.b("NDHWC"===d,(()=>`Error in conv3d: got dataFormat of ${d} but only NDHWC is currently supported.`));const y={x:m,filter:h},b={strides:r,pad:c,dataFormat:d,dilations:p},x=a.a.runKernel(o.F,y,b);return g?Object(u.a)(x,[x.shape[1],x.shape[2],x.shape[3],x.shape[4]]):x}})},"159b":function(e,n,r){var a=r("da84"),o=r("fdbc"),i=r("17c2"),s=r("9112");for(var l in o){var c=a[l],u=c&&c.prototype;if(u&&u.forEach!==i)try{s(u,"forEach",i)}catch(d){u.forEach=i}}},"163a":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sqrt_:function sqrt_(e){const n={x:Object(i.a)(e,"x","sqrt")};return a.a.runKernel(o.Jc,n)}})},1729:function(e,n,r){"use strict";var a=r("fc26"),o=r("d115");e.exports=function handleAnnotationCommonDefaults(e,n,r,i){i("opacity");var s=i("bgcolor"),l=i("bordercolor"),c=o.opacity(l);i("borderpad");var u=i("borderwidth"),d=i("showarrow");if(i("text",d?" ":r._dfltTitle.annotation),i("textangle"),a.coerceFont(i,"font",r.font),i("width"),i("align"),i("height")&&i("valign"),d){var p,f,h=i("arrowside");-1!==h.indexOf("end")&&(p=i("arrowhead"),f=i("arrowsize")),-1!==h.indexOf("start")&&(i("startarrowhead",p),i("startarrowsize",f)),i("arrowcolor",c?n.bordercolor:o.defaultLine),i("arrowwidth",2*(c&&u||1)),i("standoff"),i("startstandoff")}var m=i("hovertext"),g=r.hoverlabel||{};if(m){var y=i("hoverlabel.bgcolor",g.bgcolor||(o.opacity(s)?o.rgb(s):o.defaultLine)),b=i("hoverlabel.bordercolor",g.bordercolor||o.contrast(y));a.coerceFont(i,"hoverlabel.font",{family:g.font.family,size:g.font.size,color:g.font.color||b})}i("captureevents",!!m)}},"17c2":function(e,n,r){"use strict";var a=r("b727").forEach,o=r("a640")("forEach");e.exports=o?[].forEach:function forEach(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},1876:function(e,n,r){"use strict";var a=r("2441"),o=r("371e"),i=r("83d1").dashStyle,s=r("d115"),l=r("a5c4"),c=r("c4c7").makeEventData,u=r("e21b"),d=u.freeMode,p=u.rectMode,f=u.drawMode,h=u.openMode,m=u.selectMode,g=r("ca64"),y=r("b34d").handleEllipse,b=r("3b24"),x=r("fc26"),_=r("b68b"),w=r("7df2"),k=r("3c1c").getFromId,T=r("821b"),S=r("a392").redrawReglTraces,O=r("d301"),C=O.MINSELECT,A=_.filter,I=_.tester,N=r("e947").clearSelect,M=r("ac33"),E=M.p2r,D=M.axValue,j=M.getTransform;function selectOnClick(e,n,r,a,o,i,s){var l,c,u,d,p,f,m,y,b,x=n._hoverdata,_=n._fullLayout.clickmode.indexOf("event")>-1,w=[];if(function isHoverDataSet(e){return e&&Array.isArray(e)&&!0!==e[0].hoverOnBox}(x)){coerceSelectionsCache(e,n,i);var k=function extractClickedPtInfo(e,n){var r,a,o=e[0],i=-1,s=[];for(a=0;a<n.length;a++)if(r=n[a],o.fullData._expandedIndex===r.cd[0].trace._expandedIndex){if(!0===o.hoverOnBox)break;void 0!==o.pointNumber?i=o.pointNumber:void 0!==o.binNumber&&(i=o.binNumber,s=o.pointNumbers);break}return{pointNumber:i,pointNumbers:s,searchInfo:r}}(x,l=determineSearchTraces(n,r,a,o));if(k.pointNumbers.length>0?function isOnlyThisBinSelected(e,n){var r,a,o,i=[];for(o=0;o<e.length;o++)(r=e[o]).cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&i.push(r);if(1===i.length&&i[0]===n.searchInfo&&(a=n.searchInfo.cd[0].trace).selectedpoints.length===n.pointNumbers.length){for(o=0;o<n.pointNumbers.length;o++)if(a.selectedpoints.indexOf(n.pointNumbers[o])<0)return!1;return!0}return!1}(l,k):function isOnlyOnePointSelected(e){var n,r,a=0;for(r=0;r<e.length;r++)if((n=e[r].cd[0].trace).selectedpoints){if(n.selectedpoints.length>1)return!1;if((a+=n.selectedpoints.length)>1)return!1}return 1===a}(l)&&(f=isPointOrBinSelected(k))){for(s&&s.remove(),b=0;b<l.length;b++)(c=l[b])._module.selectPoints(c,!1);updateSelectedState(n,l),clearSelectionsCache(i),_&&n.emit("plotly_deselect",null)}else{for(m=e.shiftKey&&(void 0!==f?f:isPointOrBinSelected(k)),u=function newPointSelectionDef(e,n,r){return{pointNumber:e,searchInfo:n,subtract:r}}(k.pointNumber,k.searchInfo,m),d=multiTester(i.selectionDefs.concat([u])),b=0;b<l.length;b++)if(p=fillSelectionItem(l[b]._module.selectPoints(l[b],d),l[b]),w.length)for(var T=0;T<p.length;T++)w.push(p[T]);else w=p;if(updateSelectedState(n,l,y={points:w}),u&&i&&i.selectionDefs.push(u),s){var S=i.mergedPolygons,O=h(i.dragmode);g(convertPoly(S,O),s,i)}_&&n.emit("plotly_selected",y)}}}function isPointSelectionDef(e){return"pointNumber"in e&&"searchInfo"in e}function newPointNumTester(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(n,r,a,o){var i=e.searchInfo.cd[0].trace._expandedIndex;return o.cd[0].trace._expandedIndex===i&&a===e.pointNumber},isRect:!1,degenerate:!1,subtract:e.subtract}}function multiTester(e){for(var n=[],r=isPointSelectionDef(e[0])?0:e[0][0][0],a=r,o=isPointSelectionDef(e[0])?0:e[0][0][1],i=o,s=0;s<e.length;s++)if(isPointSelectionDef(e[s]))n.push(newPointNumTester(e[s]));else{var l=_.tester(e[s]);l.subtract=e[s].subtract,n.push(l),r=Math.min(r,l.xmin),a=Math.max(a,l.xmax),o=Math.min(o,l.ymin),i=Math.max(i,l.ymax)}return{xmin:r,xmax:a,ymin:o,ymax:i,pts:[],contains:function contains(e,r,a,o){for(var i=!1,s=0;s<n.length;s++)n[s].contains(e,r,a,o)&&(i=!1===n[s].subtract);return i},isRect:!1,degenerate:!1}}function coerceSelectionsCache(e,n,r){n._fullLayout._drawing=!1;var a=n._fullLayout,o=r.plotinfo,i=r.dragmode,s=a._lastSelectedSubplot&&a._lastSelectedSubplot===o.id,l=(e.shiftKey||e.altKey)&&!(f(i)&&h(i));s&&l&&o.selection&&o.selection.selectionDefs&&!r.selectionDefs?(r.selectionDefs=o.selection.selectionDefs,r.mergedPolygons=o.selection.mergedPolygons):l&&o.selection||clearSelectionsCache(r),s||(N(n),a._lastSelectedSubplot=o.id)}function clearSelectionsCache(e){var n=e.dragmode,r=e.plotinfo,a=e.gd;if(a._fullLayout._activeShapeIndex>=0&&a._fullLayout._deactivateShape(a),f(n)){var i=a._fullLayout._zoomlayer.selectAll(".select-outline-"+r.id);if(i&&a._fullLayout._drawing){var s=b(i,e);s&&o.call("_guiRelayout",a,{shapes:s}),a._fullLayout._drawing=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function determineSearchTraces(e,n,r,a){var o,i,s,l=[],c=n.map((function(e){return e._id})),u=r.map((function(e){return e._id}));for(s=0;s<e.calcdata.length;s++)if(!0===(i=(o=e.calcdata[s])[0].trace).visible&&i._module&&i._module.selectPoints)if(!a||i.subplot!==a&&i.geo!==a)if("splom"===i.type&&i._xaxes[c[0]]&&i._yaxes[u[0]]){var d=createSearchInfo(i._module,o,n[0],r[0]);d.scene=e._fullLayout._splomScenes[i.uid],l.push(d)}else if("sankey"===i.type){var p=createSearchInfo(i._module,o,n[0],r[0]);l.push(p)}else{if(-1===c.indexOf(i.xaxis))continue;if(-1===u.indexOf(i.yaxis))continue;l.push(createSearchInfo(i._module,o,k(e,i.xaxis),k(e,i.yaxis)))}else l.push(createSearchInfo(i._module,o,n[0],r[0]));return l;function createSearchInfo(e,n,r,a){return{_module:e,cd:n,xaxis:r,yaxis:a}}}function isPointOrBinSelected(e){var n=e.searchInfo.cd[0].trace,r=e.pointNumber,a=e.pointNumbers,o=a.length>0?a[0]:r;return!!n.selectedpoints&&n.selectedpoints.indexOf(o)>-1}function updateSelectedState(e,n,r){var a,i,s,l;for(a=0;a<n.length;a++){var c=n[a].cd[0].trace._fullInput,u=e._fullLayout._tracePreGUI[c.uid]||{};void 0===u.selectedpoints&&(u.selectedpoints=c._input.selectedpoints||null)}if(r){var d=r.points||[];for(a=0;a<n.length;a++)(l=n[a].cd[0].trace)._input.selectedpoints=l._fullInput.selectedpoints=[],l._fullInput!==l&&(l.selectedpoints=[]);for(a=0;a<d.length;a++){var p=d[a],f=p.data,h=p.fullData;p.pointIndices?([].push.apply(f.selectedpoints,p.pointIndices),l._fullInput!==l&&[].push.apply(h.selectedpoints,p.pointIndices)):(f.selectedpoints.push(p.pointIndex),l._fullInput!==l&&h.selectedpoints.push(p.pointIndex))}}else for(a=0;a<n.length;a++)delete(l=n[a].cd[0].trace).selectedpoints,delete l._input.selectedpoints,l._fullInput!==l&&delete l._fullInput.selectedpoints;var m=!1;for(a=0;a<n.length;a++){l=(s=(i=n[a]).cd)[0].trace,o.traceIs(l,"regl")&&(m=!0);var g=i._module,y=g.styleOnSelect||g.style;y&&(y(e,s,s[0].node3),s[0].nodeRangePlot3&&y(e,s,s[0].nodeRangePlot3))}m&&(T(e),S(e))}function fillSelectionItem(e,n){if(Array.isArray(e))for(var r=n.cd,a=n.cd[0].trace,o=0;o<e.length;o++)e[o]=c(e[o],a,r);return e}function convertPoly(e,n){for(var r=[],a=0;a<e.length;a++){r[a]=[];for(var o=0;o<e[a].length;o++){r[a][o]=[],r[a][o][0]=o?"L":"M";for(var i=0;i<e[a][o].length;i++)r[a][o].push(e[a][o][i])}n||r[a].push(["Z",r[a][0][1],r[a][0][2]])}return r}e.exports={prepSelect:function prepSelect(e,n,r,o,c){var u=d(c),b=p(c),_=h(c),k=f(c),T=m(c),S="drawcircle"===c,N="drawline"===c||S,M=o.gd,R=M._fullLayout,L=R._zoomlayer,z=o.element.getBoundingClientRect(),$=o.plotinfo,B=j($),V=n-z.left,U=r-z.top;R._calcInverseTransform(M);var W=x.apply3DTransform(R._invTransform)(V,U);V=W[0],U=W[1];var H,G,q,K,X,Y,Z,J=R._invScaleX,Q=R._invScaleY,ee=V,te=U,ne="M"+V+","+U,re=o.xaxes[0]._length,ae=o.yaxes[0]._length,oe=o.xaxes.concat(o.yaxes),ie=e.altKey&&!(f(c)&&_);coerceSelectionsCache(e,M,o),u&&(H=A([[V,U]],O.BENDPX));var se=L.selectAll("path.select-outline-"+$.id).data(k?[0]:[1,2]),le=R.newshape;se.enter().append("path").attr("class",(function(e){return"select-outline select-outline-"+e+" select-outline-"+$.id})).style(k?{opacity:le.opacity/2,fill:_?void 0:le.fillcolor,stroke:le.line.color,"stroke-dasharray":i(le.line.dash,le.line.width),"stroke-width":le.line.width+"px"}:{}).attr("fill-rule",le.fillrule).classed("cursor-move",!!k).attr("transform",B).attr("d",ne+"Z");var ce,ue=L.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1}).attr("transform",B).attr("d","M0,0Z"),de=R._uid+O.SELECTID,pe=[],fe=determineSearchTraces(M,o.xaxes,o.yaxes,o.subplot);function ascending(e,n){return e-n}ce=$.fillRangeItems?$.fillRangeItems:b?function(e,n){var r=e.range={};for(X=0;X<oe.length;X++){var a=oe[X],o=a._id.charAt(0);r[a._id]=[E(a,n[o+"min"]),E(a,n[o+"max"])].sort(ascending)}}:function(e,n,r){var a=e.lassoPoints={};for(X=0;X<oe.length;X++){var o=oe[X];a[o._id]=r.filtered.map(D(o))}},o.moveFn=function(e,n){ee=Math.max(0,Math.min(re,J*e+V)),te=Math.max(0,Math.min(ae,Q*n+U));var r=Math.abs(ee-V),i=Math.abs(te-U);if(b){var s,l,c;if(T){var d=R.selectdirection;switch(s="any"===d?i<Math.min(.6*r,C)?"h":r<Math.min(.6*i,C)?"v":"d":d){case"h":l=S?ae/2:0,c=ae;break;case"v":l=S?re/2:0,c=re}}if(k)switch(R.newshape.drawdirection){case"vertical":s="h",l=S?ae/2:0,c=ae;break;case"horizontal":s="v",l=S?re/2:0,c=re;break;case"ortho":r<i?(s="h",l=U,c=te):(s="v",l=V,c=ee);break;default:s="d"}"h"===s?((K=N?y(S,[ee,l],[ee,c]):[[V,l],[V,c],[ee,c],[ee,l]]).xmin=N?ee:Math.min(V,ee),K.xmax=N?ee:Math.max(V,ee),K.ymin=Math.min(l,c),K.ymax=Math.max(l,c),ue.attr("d","M"+K.xmin+","+(U-C)+"h-4v"+2*C+"h4ZM"+(K.xmax-1)+","+(U-C)+"h4v"+2*C+"h-4Z")):"v"===s?((K=N?y(S,[l,te],[c,te]):[[l,U],[l,te],[c,te],[c,U]]).xmin=Math.min(l,c),K.xmax=Math.max(l,c),K.ymin=N?te:Math.min(U,te),K.ymax=N?te:Math.max(U,te),ue.attr("d","M"+(V-C)+","+K.ymin+"v-4h"+2*C+"v4ZM"+(V-C)+","+(K.ymax-1)+"v4h"+2*C+"v-4Z")):"d"===s&&((K=N?y(S,[V,U],[ee,te]):[[V,U],[V,te],[ee,te],[ee,U]]).xmin=Math.min(V,ee),K.xmax=Math.max(V,ee),K.ymin=Math.min(U,te),K.ymax=Math.max(U,te),ue.attr("d","M0,0Z"))}else u&&(H.addPt([ee,te]),K=H.filtered);o.selectionDefs&&o.selectionDefs.length?(q=function mergePolygons(e,n,r){if(r)return a.difference({regions:e,inverted:!1},{regions:[n],inverted:!1}).regions;return a.union({regions:e,inverted:!1},{regions:[n],inverted:!1}).regions}(o.mergedPolygons,K,ie),K.subtract=ie,G=multiTester(o.selectionDefs.concat([K]))):(q=[K],G=I(K)),g(convertPoly(q,_),se,o),T&&w.throttle(de,O.SELECTDELAY,(function(){var e;pe=[];var n,r=[];for(X=0;X<fe.length;X++)if(n=(Y=fe[X])._module.selectPoints(Y,G),r.push(n),e=fillSelectionItem(n,Y),pe.length)for(var a=0;a<e.length;a++)pe.push(e[a]);else pe=e;updateSelectedState(M,fe,Z={points:pe}),ce(Z,K,H),o.gd.emit("plotly_selecting",Z)}))},o.clickFn=function(e,n){if(ue.remove(),M._fullLayout._activeShapeIndex>=0)M._fullLayout._deactivateShape(M);else if(!k){var r=R.clickmode;w.done(de).then((function(){if(w.clear(de),2===e){for(se.remove(),X=0;X<fe.length;X++)(Y=fe[X])._module.selectPoints(Y,!1);updateSelectedState(M,fe),clearSelectionsCache(o),M.emit("plotly_deselect",null)}else r.indexOf("select")>-1&&selectOnClick(n,M,o.xaxes,o.yaxes,o.subplot,o,se),"event"===r&&M.emit("plotly_selected",void 0);l.click(M,n)})).catch(x.error)}},o.doneFn=function(){ue.remove(),w.done(de).then((function(){w.clear(de),o.gd.emit("plotly_selected",Z),K&&o.selectionDefs&&(K.subtract=ie,o.selectionDefs.push(K),o.mergedPolygons.length=0,[].push.apply(o.mergedPolygons,q)),o.doneFnCompleted&&o.doneFnCompleted(pe)})).catch(x.error),k&&clearSelectionsCache(o)}},clearSelect:N,clearSelectionsCache:clearSelectionsCache,selectOnClick:selectOnClick}},1978:function(e,n,r){"use strict";var a=r("19b2");e.exports=function makeBubbleSizeFn(e){var n=e.marker,r=n.sizeref||1,o=n.sizemin||0,i="area"===n.sizemode?function(e){return Math.sqrt(e/r)}:function(e){return e/r};return function(e){var n=i(e/2);return a(n)&&n>0?Math.max(n,o):0}}},1999:function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("bb71"),s=r("371e"),l=r("fc26"),c=l.strTranslate,u=r("83d1"),d=r("d115"),p=r("0379"),f=r("72a4"),h=r("63dc").OPPOSITE_SIDE,m=/ [XY][0-9]* /;e.exports={draw:function draw(e,n,r){var g,y=r.propContainer,b=r.propName,x=r.placeholder,_=r.traceIndex,w=r.avoid||{},k=r.attributes,T=r.transform,S=r.containerGroup,O=e._fullLayout,C=1,A=!1,I=y.title,N=(I&&I.text?I.text:"").trim(),M=I&&I.font?I.font:{},E=M.family,D=M.size,j=M.color;"title.text"===b?g="titleText":-1!==b.indexOf("axis")?g="axisTitleText":b.indexOf(!0)&&(g="colorbarTitleText");var R=e._context.edits[g];""===N?C=0:N.replace(m," % ")===x.replace(m," % ")&&(C=.2,A=!0,R||(N="")),r._meta?N=l.templateString(N,r._meta):O._meta&&(N=l.templateString(N,O._meta));var L=N||R;S||(S=l.ensureSingle(O._infolayer,"g","g-"+n));var z=S.selectAll("text").data(L?[0]:[]);if(z.enter().append("text"),z.text(N).attr("class",n),z.exit().remove(),!L)return S;function titleLayout(e){l.syncOrAsync([drawTitle,scootTitle],e)}function drawTitle(n){var r;return T?(r="",T.rotate&&(r+="rotate("+[T.rotate,k.x,k.y]+")"),T.offset&&(r+=c(0,T.offset))):r=null,n.attr("transform",r),n.style({"font-family":E,"font-size":a.round(D,2)+"px",fill:d.rgb(j),opacity:C*d.opacity(j),"font-weight":i.fontWeight}).attr(k).call(p.convertToTspans,e),i.previousPromises(e)}function scootTitle(e){var n=a.select(e.node().parentNode);if(w&&w.selection&&w.side&&N){n.attr("transform",null);var r=h[w.side],i="left"===w.side||"top"===w.side?-1:1,s=o(w.pad)?w.pad:2,d=u.bBox(n.node()),p={left:0,top:0,right:O.width,bottom:O.height},f=w.maxShift||i*(p[w.side]-d[w.side]),m=0;if(f<0)m=f;else{var g=w.offsetLeft||0,y=w.offsetTop||0;d.left-=g,d.right-=g,d.top-=y,d.bottom-=y,w.selection.each((function(){var e=u.bBox(this);l.bBoxIntersect(d,e,s)&&(m=Math.max(m,i*(e[w.side]-d[r])+s))})),m=Math.min(f,m)}if(m>0||f<0){var b={left:[-m,0],right:[m,0],top:[0,-m],bottom:[0,m]}[w.side];n.attr("transform",c(b[0],b[1]))}}}return z.call(titleLayout),R&&(N?z.on(".opacity",null):function setPlaceholder(){C=0,A=!0,z.text(x).on("mouseover.opacity",(function(){a.select(this).transition().duration(f.SHOW_PLACEHOLDER).style("opacity",1)})).on("mouseout.opacity",(function(){a.select(this).transition().duration(f.HIDE_PLACEHOLDER).style("opacity",0)}))}(),z.call(p.makeEditable,{gd:e}).on("edit",(function(n){void 0!==_?s.call("_guiRestyle",e,b,n,_):s.call("_guiRelayout",e,b,n)})).on("cancel",(function(){this.text(this.attr("data-unformatted")).call(titleLayout)})).on("input",(function(e){this.text(e||" ").call(p.positionText,k.x,k.y)}))),z.classed("js-placeholder",A),S}}},"19aa":function(e,n){e.exports=function(e,n,r){if(!(e instanceof n))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},"19b2":function(e,n,r){"use strict";var a=r("e9b4");e.exports=function(e){var n=typeof e;if("string"===n){var r=e;if(0===(e=+e)&&a(r))return!1}else if("number"!==n)return!1;return e-e<1}},"19e1":function(e,n,r){"use strict";var a,o,i,s=r("d3dc").mod;function segmentsIntersect(e,n,r,a,o,i,s,l){var c=r-e,u=o-e,d=s-o,p=a-n,f=i-n,h=l-i,m=c*h-d*p;if(0===m)return null;var g=(u*h-d*f)/m,y=(u*p-c*f)/m;return y<0||y>1||g<0||g>1?null:{x:e+c*g,y:n+p*g}}function perpDistance2(e,n,r,a,o){var i=a*e+o*n;if(i<0)return a*a+o*o;if(i>r){var s=a-e,l=o-n;return s*s+l*l}var c=a*n-o*e;return c*c/r}n.segmentsIntersect=segmentsIntersect,n.segmentDistance=function segmentDistance(e,n,r,a,o,i,s,l){if(segmentsIntersect(e,n,r,a,o,i,s,l))return 0;var c=r-e,u=a-n,d=s-o,p=l-i,f=c*c+u*u,h=d*d+p*p,m=Math.min(perpDistance2(c,u,f,o-e,i-n),perpDistance2(c,u,f,s-e,l-n),perpDistance2(d,p,h,e-o,n-i),perpDistance2(d,p,h,r-o,a-i));return Math.sqrt(m)},n.getTextLocation=function getTextLocation(e,n,r,l){if(e===o&&l===i||(a={},o=e,i=l),a[r])return a[r];var c=e.getPointAtLength(s(r-l/2,n)),u=e.getPointAtLength(s(r+l/2,n)),d=Math.atan((u.y-c.y)/(u.x-c.x)),p=e.getPointAtLength(s(r,n)),f={x:(4*p.x+c.x+u.x)/6,y:(4*p.y+c.y+u.y)/6,theta:d};return a[r]=f,f},n.clearLocationCache=function(){o=null},n.getVisibleSegment=function getVisibleSegment(e,n,r){var a,o,i=n.left,s=n.right,l=n.top,c=n.bottom,u=0,d=e.getTotalLength(),p=d;function getDistToPlot(n){var r=e.getPointAtLength(n);0===n?a=r:n===d&&(o=r);var u=r.x<i?i-r.x:r.x>s?r.x-s:0,p=r.y<l?l-r.y:r.y>c?r.y-c:0;return Math.sqrt(u*u+p*p)}for(var f=getDistToPlot(u);f;){if((u+=f+r)>p)return;f=getDistToPlot(u)}for(f=getDistToPlot(p);f;){if(u>(p-=f+r))return;f=getDistToPlot(p)}return{min:u,max:p,len:p-u,total:d,isClosed:0===u&&p===d&&Math.abs(a.x-o.x)<.1&&Math.abs(a.y-o.y)<.1}},n.findPointOnPath=function findPointOnPath(e,n,r,a){for(var o,i,s,l=(a=a||{}).pathLength||e.getTotalLength(),c=a.tolerance||.001,u=a.iterationLimit||30,d=e.getPointAtLength(0)[r]>e.getPointAtLength(l)[r]?-1:1,p=0,f=0,h=l;p<u;){if(o=(f+h)/2,s=(i=e.getPointAtLength(o))[r]-n,Math.abs(s)<c)return i;d*s>0?h=o:f=o,p++}return i}},"1a40":function(e,n,r){"use strict";var a=r("6e58"),o=r("70e1").utcFormat,i=r("19b2"),s=r("fc26"),l=s.cleanNumber,c=s.ms2DateTime,u=s.dateTime2ms,d=s.ensureNumber,p=s.isArrayOrTypedArray,f=r("e806"),h=f.FP_SAFE,m=f.BADNUM,g=f.LOG_CLIP,y=f.ONEWEEK,b=f.ONEDAY,x=f.ONEHOUR,_=f.ONEMIN,w=f.ONESEC,k=r("3c1c"),T=r("d301"),S=T.HOUR_PATTERN,O=T.WEEKDAY_PATTERN;function fromLog(e){return Math.pow(10,e)}function isValidCategory(e){return null!=e}e.exports=function setConvert(e,n){n=n||{};var r=e._id||"x",f=r.charAt(0);function toLog(n,r){if(n>0)return Math.log(n)/Math.LN10;if(n<=0&&r&&e.range&&2===e.range.length){var a=e.range[0],o=e.range[1];return.5*(a+o-2*g*Math.abs(a-o))}return m}function dt2ms(n,r,a,o){if((o||{}).msUTC&&i(n))return+n;var l=u(n,a||e.calendar);if(l===m){if(!i(n))return m;n=+n;var c=Math.floor(10*s.mod(n+.05,1)),d=Math.round(n-c/10);l=u(new Date(d))+c/10}return l}function ms2dt(n,r,a){return c(n,r,a||e.calendar)}function getCategoryName(n){return e._categories[Math.round(n)]}function setCategoryIndex(n){if(isValidCategory(n)){if(void 0===e._categoriesMap&&(e._categoriesMap={}),void 0!==e._categoriesMap[n])return e._categoriesMap[n];e._categories.push("number"==typeof n?String(n):n);var r=e._categories.length-1;return e._categoriesMap[n]=r,r}return m}function getCategoryIndex(n){if(e._categoriesMap)return e._categoriesMap[n]}function getCategoryPosition(e){var n=getCategoryIndex(e);return void 0!==n?n:i(e)?+e:void 0}function getRangePosition(e){return i(e)?+e:getCategoryIndex(e)}function _l2p(e,n,r){return a.round(r+n*e,2)}function _p2l(e,n,r){return(e-r)/n}var C=function l2p(n){return i(n)?_l2p(n,e._m,e._b):m},p2l=function(n){return _p2l(n,e._m,e._b)};if(e.rangebreaks){var A="y"===f;C=function(n){if(!i(n))return m;var r=e._rangebreaks.length;if(!r)return _l2p(n,e._m,e._b);var a=A;e.range[0]>e.range[1]&&(a=!a);for(var o=a?-1:1,s=o*n,l=0,c=0;c<r;c++){var u=o*e._rangebreaks[c].min,d=o*e._rangebreaks[c].max;if(s<u)break;if(!(s>d)){l=s<(u+d)/2?c:c+1;break}l=c+1}var p=e._B[l]||0;return isFinite(p)?_l2p(n,e._m2,p):0},p2l=function(n){var r=e._rangebreaks.length;if(!r)return _p2l(n,e._m,e._b);for(var a=0,o=0;o<r&&!(n<e._rangebreaks[o].pmin);o++)n>e._rangebreaks[o].pmax&&(a=o+1);return _p2l(n,e._m2,e._B[a])}}e.c2l="log"===e.type?toLog:d,e.l2c="log"===e.type?fromLog:d,e.l2p=C,e.p2l=p2l,e.c2p="log"===e.type?function(e,n){return C(toLog(e,n))}:C,e.p2c="log"===e.type?function(e){return fromLog(p2l(e))}:p2l,-1!==["linear","-"].indexOf(e.type)?(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=l,e.c2d=e.c2r=e.l2d=e.l2r=d,e.d2p=e.r2p=function(n){return e.l2p(l(n))},e.p2d=e.p2r=p2l,e.cleanPos=d):"log"===e.type?(e.d2r=e.d2l=function(e,n){return toLog(l(e),n)},e.r2d=e.r2c=function(e){return fromLog(l(e))},e.d2c=e.r2l=l,e.c2d=e.l2r=d,e.c2r=toLog,e.l2d=fromLog,e.d2p=function(n,r){return e.l2p(e.d2r(n,r))},e.p2d=function(e){return fromLog(p2l(e))},e.r2p=function(n){return e.l2p(l(n))},e.p2r=p2l,e.cleanPos=d):"date"===e.type?(e.d2r=e.r2d=s.identity,e.d2c=e.r2c=e.d2l=e.r2l=dt2ms,e.c2d=e.c2r=e.l2d=e.l2r=ms2dt,e.d2p=e.r2p=function(n,r,a){return e.l2p(dt2ms(n,0,a))},e.p2d=e.p2r=function(e,n,r){return ms2dt(p2l(e),n,r)},e.cleanPos=function(n){return s.cleanDate(n,m,e.calendar)}):"category"===e.type?(e.d2c=e.d2l=setCategoryIndex,e.r2d=e.c2d=e.l2d=getCategoryName,e.d2r=e.d2l_noadd=getCategoryPosition,e.r2c=function(n){var r=getRangePosition(n);return void 0!==r?r:e.fraction2r(.5)},e.l2r=e.c2r=d,e.r2l=getRangePosition,e.d2p=function(n){return e.l2p(e.r2c(n))},e.p2d=function(e){return getCategoryName(p2l(e))},e.r2p=e.d2p,e.p2r=p2l,e.cleanPos=function(e){return"string"==typeof e&&""!==e?e:d(e)}):"multicategory"===e.type&&(e.r2d=e.c2d=e.l2d=getCategoryName,e.d2r=e.d2l_noadd=getCategoryPosition,e.r2c=function(n){var r=getCategoryPosition(n);return void 0!==r?r:e.fraction2r(.5)},e.r2c_just_indices=getCategoryIndex,e.l2r=e.c2r=d,e.r2l=getCategoryPosition,e.d2p=function(n){return e.l2p(e.r2c(n))},e.p2d=function(e){return getCategoryName(p2l(e))},e.r2p=e.d2p,e.p2r=p2l,e.cleanPos=function(e){return Array.isArray(e)||"string"==typeof e&&""!==e?e:d(e)},e.setupMultiCategory=function(a){var o,i,l=e._traceIndices,c=e._matchGroup;if(c&&0===e._categories.length)for(var u in c)if(u!==r){var d=n[k.id2name(u)];l=l.concat(d._traceIndices)}var h=[[0,{}],[0,{}]],m=[];for(o=0;o<l.length;o++){var g=a[l[o]];if(f in g){var y=g[f],b=g._length||s.minRowLength(y);if(p(y[0])&&p(y[1]))for(i=0;i<b;i++){var x=y[0][i],_=y[1][i];isValidCategory(x)&&isValidCategory(_)&&(m.push([x,_]),x in h[0][1]||(h[0][1][x]=h[0][0]++),_ in h[1][1]||(h[1][1][_]=h[1][0]++))}}}for(m.sort((function(e,n){var r=h[0][1],a=r[e[0]]-r[n[0]];if(a)return a;var o=h[1][1];return o[e[1]]-o[n[1]]})),o=0;o<m.length;o++)setCategoryIndex(m[o])}),e.fraction2r=function(n){var r=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return e.l2r(r+n*(a-r))},e.r2fraction=function(n){var r=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return(e.r2l(n)-r)/(a-r)},e.cleanRange=function(n,r){r||(r={}),n||(n="range");var a,o,l=s.nestedProperty(e,n).get();if(o=(o="date"===e.type?s.dfltRange(e.calendar):"y"===f?T.DFLTRANGEY:r.dfltRange||T.DFLTRANGEX).slice(),"tozero"!==e.rangemode&&"nonnegative"!==e.rangemode||(o[0]=0),l&&2===l.length)for("date"!==e.type||e.autorange||(l[0]=s.cleanDate(l[0],m,e.calendar),l[1]=s.cleanDate(l[1],m,e.calendar)),a=0;a<2;a++)if("date"===e.type){if(!s.isDateTime(l[a],e.calendar)){e[n]=o;break}if(e.r2l(l[0])===e.r2l(l[1])){var c=s.constrain(e.r2l(l[0]),s.MIN_MS+1e3,s.MAX_MS-1e3);l[0]=e.l2r(c-1e3),l[1]=e.l2r(c+1e3);break}}else{if(!i(l[a])){if(!i(l[1-a])){e[n]=o;break}l[a]=l[1-a]*(a?10:.1)}if(l[a]<-h?l[a]=-h:l[a]>h&&(l[a]=h),l[0]===l[1]){var u=Math.max(1,Math.abs(1e-6*l[0]));l[0]-=u,l[1]+=u}}else s.nestedProperty(e,n).set(o)},e.setScale=function(r){var a=n._size;if(e.overlaying){var o=k.getFromId({_fullLayout:n},e.overlaying);e.domain=o.domain}var i=r&&e._r?"_r":"range",s=e.calendar;e.cleanRange(i);var l,c,u=e.r2l(e[i][0],s),d=e.r2l(e[i][1],s),p="y"===f;if((p?(e._offset=a.t+(1-e.domain[1])*a.h,e._length=a.h*(e.domain[1]-e.domain[0]),e._m=e._length/(u-d),e._b=-e._m*d):(e._offset=a.l+e.domain[0]*a.w,e._length=a.w*(e.domain[1]-e.domain[0]),e._m=e._length/(d-u),e._b=-e._m*u),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks)&&(e._rangebreaks=e.locateBreaks(Math.min(u,d),Math.max(u,d)),e._rangebreaks.length)){for(l=0;l<e._rangebreaks.length;l++)c=e._rangebreaks[l],e._lBreaks+=Math.abs(c.max-c.min);var h=p;u>d&&(h=!h),h&&e._rangebreaks.reverse();var m=h?-1:1;for(e._m2=m*e._length/(Math.abs(d-u)-e._lBreaks),e._B.push(-e._m2*(p?d:u)),l=0;l<e._rangebreaks.length;l++)c=e._rangebreaks[l],e._B.push(e._B[e._B.length-1]-m*e._m2*(c.max-c.min));for(l=0;l<e._rangebreaks.length;l++)(c=e._rangebreaks[l]).pmin=C(c.min),c.pmax=C(c.max)}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw n._replotting=!1,new Error("Something went wrong with axis scaling")},e.maskBreaks=function(n){for(var r,a,o,i,c,u=e.rangebreaks||[],d=0;d<u.length;d++){var p=u[d];if(p.enabled)if(p.bounds){var f=p.pattern;switch(a=(r=s.simpleMap(p.bounds,f?l:e.d2c))[0],o=r[1],f){case O:i=(c=new Date(n)).getUTCDay(),a>o&&(o+=7,i<a&&(i+=7));break;case S:i=(c=new Date(n)).getUTCHours()+(c.getUTCMinutes()/60+c.getUTCSeconds()/3600+c.getUTCMilliseconds()/36e5),a>o&&(o+=24,i<a&&(i+=24));break;case"":i=n}if(i>=a&&i<o)return m}else for(var h=s.simpleMap(p.values,e.d2c).sort(s.sorterAsc),g=0;g<h.length;g++)if(o=(a=h[g])+p.dvalue,n>=a&&n<o)return m}return n},e.locateBreaks=function(n,r){var a,o,i,c,u=[];if(!e.rangebreaks)return u;var d=e.rangebreaks.slice().sort((function(e,n){return e.pattern===O&&n.pattern===S?-1:n.pattern===O&&e.pattern===S?1:0})),addBreak=function(e,a){if((e=s.constrain(e,n,r))!==(a=s.constrain(a,n,r))){for(var o=!0,i=0;i<u.length;i++){var l=u[i];e<l.max&&a>=l.min&&(e<l.min&&(l.min=e),a>l.max&&(l.max=a),o=!1)}o&&u.push({min:e,max:a})}};for(a=0;a<d.length;a++){var p=d[a];if(p.enabled)if(p.bounds){var f=n,h=r;p.pattern&&(f=Math.floor(f)),i=(o=s.simpleMap(p.bounds,p.pattern?l:e.r2l))[0],c=o[1];var m,g,k=new Date(f);switch(p.pattern){case O:g=y,m=(c-i+(c<i?7:0))*b,f+=i*b-(k.getUTCDay()*b+k.getUTCHours()*x+k.getUTCMinutes()*_+k.getUTCSeconds()*w+k.getUTCMilliseconds());break;case S:g=b,m=(c-i+(c<i?24:0))*x,f+=i*x-(k.getUTCHours()*x+k.getUTCMinutes()*_+k.getUTCSeconds()*w+k.getUTCMilliseconds());break;default:f=Math.min(o[0],o[1]),m=g=(h=Math.max(o[0],o[1]))-f}for(var T=f;T<h;T+=g)addBreak(T,T+m)}else for(var C=s.simpleMap(p.values,e.d2c),A=0;A<C.length;A++)addBreak(i=C[A],c=i+p.dvalue)}return u.sort((function(e,n){return e.min-n.min})),u},e.makeCalcdata=function(n,r,a){var o,i,l,c,u=e.type,d="date"===u&&n[r+"calendar"];if(r in n){if(o=n[r],c=n._length||s.minRowLength(o),s.isTypedArray(o)&&("linear"===u||"log"===u)){if(c===o.length)return o;if(o.subarray)return o.subarray(0,c)}if("multicategory"===u)return function setMultiCategoryIndex(e,n){for(var r=new Array(n),a=0;a<n;a++){var o=(e[0]||[])[a],i=(e[1]||[])[a];r[a]=getCategoryIndex([o,i])}return r}(o,c);for(i=new Array(c),l=0;l<c;l++)i[l]=e.d2c(o[l],0,d,a)}else{var p=r+"0"in n?e.d2c(n[r+"0"],0,d):0,f=n["d"+r]?Number(n["d"+r]):1;for(o=n[{x:"y",y:"x"}[r]],c=n._length||o.length,i=new Array(c),l=0;l<c;l++)i[l]=p+l*f}if(e.rangebreaks)for(l=0;l<c;l++)i[l]=e.maskBreaks(i[l]);return i},e.isValidRange=function(n){return Array.isArray(n)&&2===n.length&&i(e.r2l(n[0]))&&i(e.r2l(n[1]))},e.isPtWithinRange=function(n,r){var a=e.c2l(n[f],null,r),o=e.r2l(e.range[0]),i=e.r2l(e.range[1]);return o<i?o<=a&&a<=i:i<=a&&a<=o},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var r=e._matchGroup;if(r){var a=null,o=null;for(var i in r){var s=n[k.id2name(i)];if(s._categories){a=s._categories,o=s._categoriesMap;break}}a&&o?(e._categories=a,e._categoriesMap=o):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var l=0;l<e._initialCategories.length;l++)setCategoryIndex(e._initialCategories[l])},e.sortByInitialCategories=function(){var a=[];if(e._emptyCategories(),e._initialCategories)for(var o=0;o<e._initialCategories.length;o++)setCategoryIndex(e._initialCategories[o]);a=a.concat(e._traceIndices);var i=e._matchGroup;for(var s in i)if(r!==s){var l=n[k.id2name(s)];l._categories=e._categories,l._categoriesMap=e._categoriesMap,a=a.concat(l._traceIndices)}return a};var I=n._d3locale;"date"===e.type&&(e._dateFormat=I?I.timeFormat:o,e._extraFormat=n._extraFormat),e._separators=n.separators,e._numFormat=I?I.numberFormat:a.format,delete e._minDtick,delete e._forceTick0}},"1a5e":function(e,n,r){"use strict";e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},"1ab7":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("6ad5"),s=r("54ef");const l=Object(s.a)({fft_:function fft_(e){Object(i.b)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const n={input:e};return a.a.runKernel(o.cb,n)}})},"1aea":function(e,n,r){"use strict";var a=r("6e58"),o=r("a5c4"),i=r("4efe"),s=r("0f37"),l=r("9676").makeDragBox,c=r("d301").DRAGGERSIZE;n.initInteractions=function initInteractions(e){var r=e._fullLayout;if(e._context.staticPlot)a.select(e).selectAll(".drag").remove();else if(r._has("cartesian")||r._has("splom")){Object.keys(r._plots||{}).sort((function(e,n){if((r._plots[e].mainplot&&!0)===(r._plots[n].mainplot&&!0)){var a=e.split("y"),o=n.split("y");return a[0]===o[0]?Number(a[1]||1)-Number(o[1]||1):Number(a[0]||1)-Number(o[0]||1)}return r._plots[e].mainplot?1:-1})).forEach((function(n){var a=r._plots[n],s=a.xaxis,u=a.yaxis;if(!a.mainplot){var d=l(e,a,s._offset,u._offset,s._length,u._length,"ns","ew");d.onmousemove=function(r){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===n&&e._fullLayout._plots[n]&&o.hover(e,r,n)},o.hover(e,r,n),e._fullLayout._lasthover=d,e._fullLayout._hoversubplot=n},d.onmouseout=function(n){e._dragging||(e._fullLayout._hoversubplot=null,i.unhover(e,n))},e._context.showAxisDragHandles&&(l(e,a,s._offset-c,u._offset-c,c,c,"n","w"),l(e,a,s._offset+s._length,u._offset-c,c,c,"n","e"),l(e,a,s._offset-c,u._offset+u._length,c,c,"s","w"),l(e,a,s._offset+s._length,u._offset+u._length,c,c,"s","e"))}if(e._context.showAxisDragHandles){if(n===s._mainSubplot){var p=s._mainLinePosition;"top"===s.side&&(p-=c),l(e,a,s._offset+.1*s._length,p,.8*s._length,c,"","ew"),l(e,a,s._offset,p,.1*s._length,c,"","w"),l(e,a,s._offset+.9*s._length,p,.1*s._length,c,"","e")}if(n===u._mainSubplot){var f=u._mainLinePosition;"right"!==u.side&&(f-=c),l(e,a,f,u._offset+.1*u._length,c,.8*u._length,"ns",""),l(e,a,f,u._offset+.9*u._length,c,.1*u._length,"s",""),l(e,a,f,u._offset,c,.1*u._length,"n","")}}}));var s=r._hoverlayer.node();s.onmousemove=function(n){n.target=e._fullLayout._lasthover,o.hover(e,n,r._hoversubplot)},s.onclick=function(n){n.target=e._fullLayout._lasthover,o.click(e,n)},s.onmousedown=function(n){e._fullLayout._lasthover.onmousedown(n)},n.updateFx(e)}},n.updateFx=function(e){var n=e._fullLayout,r="pan"===n.dragmode?"move":"crosshair";s(n._draggers,r)}},"1b88":function(e,n,r){"use strict";var a=r("6e58"),o=r("ae13"),i=r("ec20"),s=r("4607");function removeElement(e){var n=e&&e.parentNode;n&&n.removeChild(e)}function addRelatedStyleRule(e,n,r){var a="plotly.js-style-"+e,i=document.getElementById(a);i||((i=document.createElement("style")).setAttribute("id",a),i.appendChild(document.createTextNode("")),document.head.appendChild(i));var s=i.sheet;s.insertRule?s.insertRule(n+"{"+r+"}",0):s.addRule?s.addRule(n,r,0):o.warn("addStyleRule failed")}function getElementTransformMatrix(e){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return"none"===r?null:r.replace("matrix","").replace("3d","").slice(1,-1).split(",").map((function(e){return+e}))}function getElementAndAncestors(e){for(var n=[];isTransformableElement(e);)n.push(e),e=e.parentNode;return n}function isTransformableElement(e){return e&&(e instanceof Element||e instanceof HTMLElement)}e.exports={getGraphDiv:function getGraphDiv(e){var n;if("string"==typeof e){if(null===(n=document.getElementById(e)))throw new Error("No DOM element with id '"+e+"' exists on the page.");return n}if(null==e)throw new Error("DOM element provided is null or undefined");return e},isPlotDiv:function isPlotDiv(e){var n=a.select(e);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:removeElement,addStyleRule:function addStyleRule(e,n){addRelatedStyleRule("global",e,n)},addRelatedStyleRule:addRelatedStyleRule,deleteRelatedStyleRule:function deleteRelatedStyleRule(e){var n="plotly.js-style-"+e,r=document.getElementById(n);r&&removeElement(r)},getFullTransformMatrix:function getFullTransformMatrix(e){var n=getElementAndAncestors(e),r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach((function(e){var n=getElementTransformMatrix(e);if(n){var a=i.convertCssMatrix(n);r=s.multiply(r,r,a)}})),r},getElementTransformMatrix:getElementTransformMatrix,getElementAndAncestors:getElementAndAncestors,equalDomRects:function equalDomRects(e,n){return e&&n&&e.x===n.x&&e.y===n.y&&e.top===n.top&&e.left===n.left&&e.right===n.right&&e.bottom===n.bottom}}},"1ba2":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({expm1_:function expm1_(e){const n={x:Object(i.a)(e,"x","expm1")};return a.a.runKernel(o.bb,n)}})},"1bbe":function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("fc26"),s=r("7559"),l=new DOMParser;function ModeBar(e){this.container=e.container,this.element=document.createElement("div"),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var c=ModeBar.prototype;c.update=function(e,n){this.graphInfo=e;var r=this.graphInfo._context,a=this.graphInfo._fullLayout,o="modebar-"+a._uid;this.element.setAttribute("id",o),this._uid=o,this.element.className="modebar","hover"===r.displayModeBar&&(this.element.className+=" modebar--hover ease-bg"),"v"===a.modebar.orientation&&(this.element.className+=" vertical",n=n.reverse());var s=a.modebar,l="hover"===r.displayModeBar?".js-plotly-plot .plotly:hover ":"";i.deleteRelatedStyleRule(o),i.addRelatedStyleRule(o,l+"#"+o+" .modebar-group","background-color: "+s.bgcolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+s.color),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+s.activecolor),i.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+s.activecolor);var c=!this.hasButtons(n),u=this.hasLogo!==r.displaylogo,d=this.locale!==r.locale;if(this.locale=r.locale,(c||u||d)&&(this.removeAllButtons(),this.updateButtons(n),r.watermark||r.displaylogo)){var p=this.getLogo();r.watermark&&(p.className=p.className+" watermark"),"v"===a.modebar.orientation?this.element.insertBefore(p,this.element.childNodes[0]):this.element.appendChild(p),this.hasLogo=!0}this.updateActiveButton()},c.updateButtons=function(e){var n=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach((function(e){var r=n.createGroup();e.forEach((function(e){var a=e.name;if(!a)throw new Error("must provide button 'name' in button config");if(-1!==n.buttonsNames.indexOf(a))throw new Error("button name '"+a+"' is taken");n.buttonsNames.push(a);var o=n.createButton(e);n.buttonElements.push(o),r.appendChild(o)})),n.element.appendChild(r)}))},c.createGroup=function(){var e=document.createElement("div");return e.className="modebar-group",e},c.createButton=function(e){var n=this,r=document.createElement("a");r.setAttribute("rel","tooltip"),r.className="modebar-btn";var o=e.title;void 0===o?o=e.name:"function"==typeof o&&(o=o(this.graphInfo)),(o||0===o)&&r.setAttribute("data-title",o),void 0!==e.attr&&r.setAttribute("data-attr",e.attr);var i=e.val;if(void 0!==i&&("function"==typeof i&&(i=i(this.graphInfo)),r.setAttribute("data-val",i)),"function"!=typeof e.click)throw new Error("must provide button 'click' function in button config");r.addEventListener("click",(function(r){e.click(n.graphInfo,r),n.updateActiveButton(r.currentTarget)})),r.setAttribute("data-toggle",e.toggle||!1),e.toggle&&a.select(r).classed("active",!0);var l=e.icon;return"function"==typeof l?r.appendChild(l()):r.appendChild(this.createIcon(l||s.question)),r.setAttribute("data-gravity",e.gravity||"n"),r},c.createIcon=function(e){var n,r=o(e.height)?Number(e.height):e.ascent-e.descent,a="http://www.w3.org/2000/svg";if(e.path){(n=document.createElementNS(a,"svg")).setAttribute("viewBox",[0,0,e.width,r].join(" ")),n.setAttribute("class","icon");var i=document.createElementNS(a,"path");i.setAttribute("d",e.path),e.transform?i.setAttribute("transform",e.transform):void 0!==e.ascent&&i.setAttribute("transform","matrix(1 0 0 -1 0 "+e.ascent+")"),n.appendChild(i)}e.svg&&(n=l.parseFromString(e.svg,"application/xml").childNodes[0]);return n.setAttribute("height","1em"),n.setAttribute("width","1em"),n},c.updateActiveButton=function(e){var n=this.graphInfo._fullLayout,r=void 0!==e?e.getAttribute("data-attr"):null;this.buttonElements.forEach((function(e){var o=e.getAttribute("data-val")||!0,s=e.getAttribute("data-attr"),l="true"===e.getAttribute("data-toggle"),c=a.select(e);if(l)s===r&&c.classed("active",!c.classed("active"));else{var u=null===s?s:i.nestedProperty(n,s).get();c.classed("active",u===o)}}))},c.hasButtons=function(e){var n=this.buttons;if(!n)return!1;if(e.length!==n.length)return!1;for(var r=0;r<e.length;++r){if(e[r].length!==n[r].length)return!1;for(var a=0;a<e[r].length;a++)if(e[r][a].name!==n[r][a].name)return!1}return!0},c.getLogo=function(){var e=this.createGroup(),n=document.createElement("a");return n.href="https://plotly.com/",n.target="_blank",n.setAttribute("data-title",i._(this.graphInfo,"Produced with Plotly")),n.className="modebar-btn plotlyjsicon modebar-btn--logo",n.appendChild(this.createIcon(s.newplotlylogo)),e.appendChild(n),e},c.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},c.destroy=function(){i.removeElement(this.container.querySelector(".modebar")),i.deleteRelatedStyleRule(this._uid)},e.exports=function createModeBar(e,n){var r=e._fullLayout,o=new ModeBar({graphInfo:e,container:r._modebardiv.node(),buttons:n});return r._privateplot&&a.select(o.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),o}},"1be4":function(e,n,r){var a=r("d066");e.exports=a("document","documentElement")},"1c0b":function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c0b8":function(e,n,r){"use strict";var a=r("fc26"),o=r("8f38"),i=r("5844"),s=r("4c66");e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},o,{yaxis:i})}}},layoutAttributes:r("8f38"),handleDefaults:r("6b10"),calcAutorange:r("4cd2"),draw:r("8b1d"),isVisible:s.isVisible,makeData:s.makeData,autoMarginOpts:s.autoMarginOpts}},"1c1c":function(e,n,r){"use strict";var a=r("fc26"),o=r("d115"),i=r("371e"),s=r("076f"),l=r("5793"),c=r("9103"),u=r("6add").getAxisGroup,d=r("fb5a"),p=a.coerceFont;function handleGroupingDefaults(e,n,r,a){var o=n.orientation,i=n[{v:"x",h:"y"}[o]+"axis"],s=u(r,i)+o,l=r._alignmentOpts||{},c=a("alignmentgroup"),d=l[s];d||(d=l[s]={});var p=d[c];p?p.traces.push(n):p=d[c]={traces:[n],alignmentIndex:Object.keys(d).length,offsetGroups:{}};var f=a("offsetgroup"),h=p.offsetGroups,m=h[f];f&&(m||(m=h[f]={offsetIndex:Object.keys(h).length}),n._offsetIndex=m.offsetIndex)}function handleText(e,n,r,o,i,s){var l=!(!1===(s=s||{}).moduleHasSelected),c=!(!1===s.moduleHasUnselected),u=!(!1===s.moduleHasConstrain),d=!(!1===s.moduleHasCliponaxis),f=!(!1===s.moduleHasTextangle),h=!(!1===s.moduleHasInsideanchor),m=!!s.hasPathbar,g=Array.isArray(i)||"auto"===i,y=g||"inside"===i,b=g||"outside"===i;if(y||b){var x=p(o,"textfont",r.font),_=a.extendFlat({},x),w=!(e.textfont&&e.textfont.color);if(w&&delete _.color,p(o,"insidetextfont",_),m){var k=a.extendFlat({},x);w&&delete k.color,p(o,"pathbar.textfont",k)}b&&p(o,"outsidetextfont",x),l&&o("selected.textfont.color"),c&&o("unselected.textfont.color"),u&&o("constraintext"),d&&o("cliponaxis"),f&&o("textangle"),o("texttemplate")}y&&h&&o("insidetextanchor")}e.exports={supplyDefaults:function supplyDefaults(e,n,r,u){function coerce(r,o){return a.coerce(e,n,d,r,o)}if(s(e,n,u,coerce)){l(e,n,u,coerce),coerce("orientation",n.x&&!n.y?"h":"v"),coerce("base"),coerce("offset"),coerce("width"),coerce("text"),coerce("hovertext"),coerce("hovertemplate");var p=coerce("textposition");handleText(e,n,u,coerce,p,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c(e,n,coerce,r,u);var f=(n.marker.line||{}).color,h=i.getComponentMethod("errorbars","supplyDefaults");h(e,n,f||o.defaultLine,{axis:"y"}),h(e,n,f||o.defaultLine,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(n,coerce)}else n.visible=!1},crossTraceDefaults:function crossTraceDefaults(e,n){var r;function coerce(e){return a.coerce(r._input,r,d,e)}if("group"===n.barmode)for(var o=0;o<e.length;o++)"bar"===(r=e[o]).type&&(r._input,handleGroupingDefaults(0,r,n,coerce))},handleGroupingDefaults:handleGroupingDefaults,handleText:handleText}},"1c7e":function(e,n,r){var a=r("b622")("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[a]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}e.exports=function(e,n){if(!n&&!o)return!1;var r=!1;try{var i={};i[a]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(l){}return r}},"1cdc":function(e,n,r){var a=r("342f");e.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(a)},"1d80":function(e,n){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,n,r){"use strict";r.d(n,"a",(function(){return _asyncToGenerator}));r("d3b7");function asyncGeneratorStep(e,n,r,a,o,i,s){try{var l=e[i](s),c=l.value}catch(u){return void r(u)}l.done?n(c):Promise.resolve(c).then(a,o)}function _asyncToGenerator(e){return function(){var n=this,r=arguments;return new Promise((function(a,o){var i=e.apply(n,r);function _next(e){asyncGeneratorStep(i,a,o,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,a,o,_next,_throw,"throw",e)}_next(void 0)}))}}},"1db7":function(e,n,r){"use strict";var a=r("fc26"),o=r("215c").hasColorscale,i=r("215c").extractOpts;e.exports=function crossTraceDefaults(e,n){function replace(e,n){var r=e["_"+n];void 0!==r&&(e[n]=r)}function relinkColorAttrs(e,r){var o=r.container?a.nestedProperty(e,r.container).get():e;if(o)if(o.coloraxis)o._colorAx=n[o.coloraxis];else{var s=i(o),l=s.auto;(l||void 0===s.min)&&replace(o,r.min),(l||void 0===s.max)&&replace(o,r.max),s.autocolorscale&&replace(o,"colorscale")}}for(var r=0;r<e.length;r++){var s=e[r],l=s._module.colorbar;if(l)if(Array.isArray(l))for(var c=0;c<l.length;c++)relinkColorAttrs(s,l[c]);else relinkColorAttrs(s,l);o(s,"marker.line")&&relinkColorAttrs(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var u in n._colorAxes)relinkColorAttrs(n[u],{min:"cmin",max:"cmax"})}},"1dde":function(e,n,r){var a=r("d039"),o=r("b622"),i=r("2d00"),s=o("species");e.exports=function(e){return i>=51||!a((function(){var n=[];return(n.constructor={})[s]=function(){return{foo:1}},1!==n[e](Boolean).foo}))}},"1df6":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sign_:function sign_(e){const n={x:Object(i.a)(e,"x","sign")};return a.a.runKernel(o.Ac,n)}})},"1e03":function(e,n,r){"use strict";e.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},"1e68":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({cumsum_:function cumsum_(e,n=0,r=!1,s=!1){const l={x:Object(i.a)(e,"x","cumsum")},c={axis:n,exclusive:r,reverse:s};return a.a.runKernel(o.L,l,c)}})},"1ea6":function(e,n,r){"use strict";e.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},"1f1a":function(e,n,r){},"1fb5":function(e,n,r){"use strict";n.byteLength=function byteLength(e){var n=getLens(e),r=n[0],a=n[1];return 3*(r+a)/4-a},n.toByteArray=function toByteArray(e){var n,r,a=getLens(e),s=a[0],l=a[1],c=new i(function _byteLength(e,n,r){return 3*(n+r)/4-r}(0,s,l)),u=0,d=l>0?s-4:s;for(r=0;r<d;r+=4)n=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n;2===l&&(n=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,c[u++]=255&n);1===l&&(n=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n);return c},n.fromByteArray=function fromByteArray(e){for(var n,r=e.length,o=r%3,i=[],s=16383,l=0,c=r-o;l<c;l+=s)i.push(encodeChunk(e,l,l+s>c?c:l+s));1===o?(n=e[r-1],i.push(a[n>>2]+a[n<<4&63]+"==")):2===o&&(n=(e[r-2]<<8)+e[r-1],i.push(a[n>>10]+a[n>>4&63]+a[n<<2&63]+"="));return i.join("")};for(var a=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=s.length;l<c;++l)a[l]=s[l],o[s.charCodeAt(l)]=l;function getLens(e){var n=e.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=n),[r,r===n?0:4-r%4]}function encodeChunk(e,n,r){for(var o,i,s=[],l=n;l<r;l+=3)o=(e[l]<<16&16711680)+(e[l+1]<<8&65280)+(255&e[l+2]),s.push(a[(i=o)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},2015:function(e,n,r){"use strict";var a=r("19b2"),o=r("371e"),i=r("fc26"),s=r("a651"),l=r("8c2d");e.exports=function(e,n,r,c){var u="error_"+c.axis,d=s.newContainer(n,u),p=e[u]||{};function coerce(e,n){return i.coerce(p,d,l,e,n)}if(!1!==coerce("visible",void 0!==p.array||void 0!==p.value||"sqrt"===p.type)){var f=coerce("type","array"in p?"data":"percent"),h=!0;"sqrt"!==f&&(h=coerce("symmetric",!(("data"===f?"arrayminus":"valueminus")in p))),"data"===f?(coerce("array"),coerce("traceref"),h||(coerce("arrayminus"),coerce("tracerefminus"))):"percent"!==f&&"constant"!==f||(coerce("value"),h||coerce("valueminus"));var m="copy_"+c.inherit+"style";if(c.inherit)(n["error_"+c.inherit]||{}).visible&&coerce(m,!(p.color||a(p.thickness)||a(p.width)));c.inherit&&d[m]||(coerce("color",r),coerce("thickness"),coerce("width",o.traceIs(n,"gl3d")?0:4))}}},2093:function(e,n,r){"use strict";var a=r("fc26"),o=r("d115"),i=r("c4c7").isUnifiedHover;e.exports=function handleHoverLabelDefaults(e,n,r,s){function inheritFontAttr(e){s.font[e]||(s.font[e]=n.legend?n.legend.font[e]:n.font[e])}s=s||{},n&&i(n.hovermode)&&(s.font||(s.font={}),inheritFontAttr("size"),inheritFontAttr("family"),inheritFontAttr("color"),n.legend?(s.bgcolor||(s.bgcolor=o.combine(n.legend.bgcolor,n.paper_bgcolor)),s.bordercolor||(s.bordercolor=n.legend.bordercolor)):s.bgcolor||(s.bgcolor=n.paper_bgcolor)),r("hoverlabel.bgcolor",s.bgcolor),r("hoverlabel.bordercolor",s.bordercolor),r("hoverlabel.namelength",s.namelength),a.coerceFont(r,"hoverlabel.font",s.font),r("hoverlabel.align",s.align)}},"214c":function(e,n,r){"use strict";var a=r("de81");e.exports=function selectPoints(e,n){var r,o,i,s,l=e.cd,c=e.xaxis,u=e.yaxis,d=[],p=l[0].trace;if(!a.hasMarkers(p)&&!a.hasText(p))return[];if(!1===n)for(r=0;r<l.length;r++)l[r].selected=0;else for(r=0;r<l.length;r++)o=l[r],i=c.c2p(o.x),s=u.c2p(o.y),null!==o.i&&n.contains([i,s],!1,r,e)?(d.push({pointNumber:o.i,x:c.c2d(o.x),y:u.c2d(o.y)}),o.selected=1):o.selected=0;return d}},"215c":function(e,n,r){"use strict";var a=r("6e58"),o=r("66cb"),i=r("19b2"),s=r("fc26"),l=r("d115"),c=r("4852").isValid;var u=["showscale","autocolorscale","colorscale","reversescale","colorbar"],d=["min","max","mid","auto"];function extractOpts(e){var n,r,a,o=e._colorAx,i=o||e,s={};for(r=0;r<u.length;r++)s[a=u[r]]=i[a];if(o)for(n="c",r=0;r<d.length;r++)s[a=d[r]]=i["c"+a];else{var l;for(r=0;r<d.length;r++)((l="c"+(a=d[r]))in i||(l="z"+a)in i)&&(s[a]=i[l]);n=l.charAt(0)}return s._sync=function(e,r){var a=-1!==d.indexOf(e)?n+e:e;i[a]=i["_"+a]=r},s}function extractScale(e){for(var n=extractOpts(e),r=n.min,a=n.max,o=n.reversescale?flipScale(n.colorscale):n.colorscale,i=o.length,s=new Array(i),l=new Array(i),c=0;c<i;c++){var u=o[c];s[c]=r+u[0]*(a-r),l[c]=u[1]}return{domain:s,range:l}}function flipScale(e){for(var n=e.length,r=new Array(n),a=n-1,o=0;a>=0;a--,o++){var i=e[a];r[o]=[1-i[0],i[1]]}return r}function makeColorScaleFunc(e,n){n=n||{};for(var r=e.domain,s=e.range,c=s.length,u=new Array(c),d=0;d<c;d++){var p=o(s[d]).toRgb();u[d]=[p.r,p.g,p.b,p.a]}var f,h=a.scale.linear().domain(r).range(u).clamp(!0),m=n.noNumericCheck,g=n.returnArray;return(f=m&&g?h:m?function(e){return colorArray2rbga(h(e))}:g?function(e){return i(e)?h(e):o(e).isValid()?e:l.defaultLine}:function(e){return i(e)?colorArray2rbga(h(e)):o(e).isValid()?e:l.defaultLine}).domain=h.domain,f.range=function(){return s},f}function colorArray2rbga(e){var n={r:e[0],g:e[1],b:e[2],a:e[3]};return o(n).toRgbString()}e.exports={hasColorscale:function hasColorscale(e,n,r){var a=n?s.nestedProperty(e,n).get()||{}:e,o=a[r||"color"],l=!1;if(s.isArrayOrTypedArray(o))for(var u=0;u<o.length;u++)if(i(o[u])){l=!0;break}return s.isPlainObject(a)&&(l||!0===a.showscale||i(a.cmin)&&i(a.cmax)||c(a.colorscale)||s.isPlainObject(a.colorbar))},extractOpts:extractOpts,extractScale:extractScale,flipScale:flipScale,makeColorScaleFunc:makeColorScaleFunc,makeColorScaleFuncFromTrace:function makeColorScaleFuncFromTrace(e,n){return makeColorScaleFunc(extractScale(e),n)}}},"220f":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({asin_:function asin_(e){const n={x:Object(i.a)(e,"x","asin")};return a.a.runKernel(o.j,n)}})},2266:function(e,n,r){var a=r("825a"),o=r("e95a"),i=r("50c4"),s=r("0366"),l=r("35a1"),c=r("2a62"),Result=function(e,n){this.stopped=e,this.result=n};e.exports=function(e,n,r){var u,d,p,f,h,m,g,y=r&&r.that,b=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),_=!(!r||!r.INTERRUPTED),w=s(n,y,1+b+_),stop=function(e){return u&&c(u),new Result(!0,e)},callFn=function(e){return b?(a(e),_?w(e[0],e[1],stop):w(e[0],e[1])):_?w(e,stop):w(e)};if(x)u=e;else{if("function"!=typeof(d=l(e)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,f=i(e.length);f>p;p++)if((h=callFn(e[p]))&&h instanceof Result)return h;return new Result(!1)}u=d.call(e)}for(m=u.next;!(g=m.call(u)).done;){try{h=callFn(g.value)}catch(k){throw c(u),k}if("object"==typeof h&&h&&h instanceof Result)return h}return new Result(!1)}},"22f9":function(e,n,r){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},2335:function(e,n){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"236d":function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=r("0642"),s=r("b34d").readPaths,l=r("ca64"),c=r("e947").clearOutlineControllers,u=r("d115"),d=r("83d1"),p=r("a651").arrayEditor,f=r("4efe"),h=r("0f37"),m=r("d858"),g=r("fdc7");function draw(e){var n=e._fullLayout;for(var r in n._shapeUpperLayer.selectAll("path").remove(),n._shapeLowerLayer.selectAll("path").remove(),n._plots){var a=n._plots[r].shapelayer;a&&a.selectAll("path").remove()}for(var o=0;o<n.shapes.length;o++)n.shapes[o].visible&&drawOne(e,o)}function shouldSkipEdits(e){return!!e._fullLayout._drawing}function couldHaveActiveShape(e){return!e._context.edits.shapePosition}function drawOne(e,n){e._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+n+'"]').remove();var r=g.makeOptionsAndPlotinfo(e,n),c=r.options,y=r.plotinfo;if(c._input&&!1!==c.visible)if("below"!==c.layer)drawShape(e._fullLayout._shapeUpperLayer);else if("paper"===c.xref||"paper"===c.yref)drawShape(e._fullLayout._shapeLowerLayer);else{if(y._hadPlotinfo)drawShape((y.mainplotinfo||y).shapelayer);else drawShape(e._fullLayout._shapeLowerLayer)}function drawShape(r){var b=getPathString(e,c),x={"data-index":n,"fill-rule":c.fillrule,d:b},_=c.opacity,w=c.fillcolor,k=c.line.width?c.line.color:"rgba(0,0,0,0)",T=c.line.width,S=c.line.dash;T||!0!==c.editable||(T=5,S="solid");var O="Z"!==b[b.length-1],C=couldHaveActiveShape(e)&&c.editable&&e._fullLayout._activeShapeIndex===n;C&&(w=O?"rgba(0,0,0,0)":e._fullLayout.activeshape.fillcolor,_=e._fullLayout.activeshape.opacity);var A,I=r.append("path").attr(x).style("opacity",_).call(u.stroke,k).call(u.fill,w).call(d.dashLine,S,T);if(setClipPath(I,e,c),(C||e._context.edits.shapePosition)&&(A=p(e.layout,"shapes",c)),C){I.style({cursor:"move"});var N={element:I.node(),plotinfo:y,gd:e,editHelpers:A,isActiveShape:!0},M=s(b,e);l(M,I,N)}else e._context.edits.shapePosition?function setupDragElement(e,n,r,s,l,c){var u,p,y,b,x,_,w,k,T,S,O,C,A,I,N,M,E=10,D=10,j="pixel"===r.xsizemode,R="pixel"===r.ysizemode,L="line"===r.type,z="path"===r.type,$=c.modifyItem,B=i.getFromId(e,r.xref),V=i.getRefType(r.xref),U=i.getFromId(e,r.yref),W=i.getRefType(r.yref),H=g.getDataToPixel(e,B,!1,V),G=g.getDataToPixel(e,U,!0,W),q=g.getPixelToData(e,B,!1,V),K=g.getPixelToData(e,U,!0,W),X=obtainSensoryElement(),Y={element:X.node(),gd:e,prepFn:startDrag,doneFn:endDrag,clickFn:abortDrag};function obtainSensoryElement(){return L?createLineDragHandles():n}function createLineDragHandles(){var e=10,a=Math.max(r.line.width,e),o=l.append("g").attr("data-index",s);o.append("path").attr("d",n.attr("d")).style({cursor:"move","stroke-width":a,"stroke-opacity":"0"});var i={"fill-opacity":"0"},c=Math.max(a/2,e);return o.append("circle").attr({"data-line-point":"start-point",cx:j?H(r.xanchor)+r.x0:H(r.x0),cy:R?G(r.yanchor)-r.y0:G(r.y0),r:c}).style(i).classed("cursor-grab",!0),o.append("circle").attr({"data-line-point":"end-point",cx:j?H(r.xanchor)+r.x1:H(r.x1),cy:R?G(r.yanchor)-r.y1:G(r.y1),r:c}).style(i).classed("cursor-grab",!0),o}function updateDragMode(r){if(shouldSkipEdits(e))M=null;else if(L)M="path"===r.target.tagName?"move":"start-point"===r.target.attributes["data-line-point"].value?"resize-over-start-point":"resize-over-end-point";else{var a=Y.element.getBoundingClientRect(),o=a.right-a.left,i=a.bottom-a.top,s=r.clientX-a.left,l=r.clientY-a.top,c=!z&&o>E&&i>D&&!r.shiftKey?f.getCursor(s/o,1-l/i):"move";h(n,c),M=c.split("-")[0]}}function startDrag(a){shouldSkipEdits(e)||(j&&(x=H(r.xanchor)),R&&(_=G(r.yanchor)),"path"===r.type?N=r.path:(u=j?r.x0:H(r.x0),p=R?r.y0:G(r.y0),y=j?r.x1:H(r.x1),b=R?r.y1:G(r.y1)),u<y?(T=u,A="x0",S=y,I="x1"):(T=y,A="x1",S=u,I="x0"),!R&&p<b||R&&p>b?(w=p,O="y0",k=b,C="y1"):(w=b,O="y1",k=p,C="y0"),updateDragMode(a),renderVisualCues(l,r),deactivateClipPathTemporarily(n,r,e),Y.moveFn="move"===M?moveShape:resizeShape,Y.altKey=a.altKey)}function endDrag(){shouldSkipEdits(e)||(h(n),removeVisualCues(l),setClipPath(n,e,r),a.call("_guiRelayout",e,c.getUpdateObj()))}function abortDrag(){shouldSkipEdits(e)||removeVisualCues(l)}function moveShape(a,o){if("path"===r.type){var noOp=function(e){return e},i=noOp,s=noOp;j?$("xanchor",r.xanchor=q(x+a)):(i=function moveX(e){return q(H(e)+a)},B&&"date"===B.type&&(i=g.encodeDate(i))),R?$("yanchor",r.yanchor=K(_+o)):(s=function moveY(e){return K(G(e)+o)},U&&"date"===U.type&&(s=g.encodeDate(s))),$("path",r.path=movePath(N,i,s))}else j?$("xanchor",r.xanchor=q(x+a)):($("x0",r.x0=q(u+a)),$("x1",r.x1=q(y+a))),R?$("yanchor",r.yanchor=K(_+o)):($("y0",r.y0=K(p+o)),$("y1",r.y1=K(b+o)));n.attr("d",getPathString(e,r)),renderVisualCues(l,r)}function resizeShape(a,o){if(z){var noOp=function(e){return e},i=noOp,s=noOp;j?$("xanchor",r.xanchor=q(x+a)):(i=function moveX(e){return q(H(e)+a)},B&&"date"===B.type&&(i=g.encodeDate(i))),R?$("yanchor",r.yanchor=K(_+o)):(s=function moveY(e){return K(G(e)+o)},U&&"date"===U.type&&(s=g.encodeDate(s))),$("path",r.path=movePath(N,i,s))}else if(L){if("resize-over-start-point"===M){var c=u+a,d=R?p-o:p+o;$("x0",r.x0=j?c:q(c)),$("y0",r.y0=R?d:K(d))}else if("resize-over-end-point"===M){var f=y+a,h=R?b-o:b+o;$("x1",r.x1=j?f:q(f)),$("y1",r.y1=R?h:K(h))}}else{var has=function(e){return-1!==M.indexOf(e)},m=has("n"),V=has("s"),W=has("w"),X=has("e"),Y=m?w+o:w,Z=V?k+o:k,J=W?T+a:T,Q=X?S+a:S;R&&(m&&(Y=w-o),V&&(Z=k-o)),(!R&&Z-Y>D||R&&Y-Z>D)&&($(O,r[O]=R?Y:K(Y)),$(C,r[C]=R?Z:K(Z))),Q-J>E&&($(A,r[A]=j?J:q(J)),$(I,r[I]=j?Q:q(Q)))}n.attr("d",getPathString(e,r)),renderVisualCues(l,r)}function renderVisualCues(e,n){function renderAnchor(){var r="path"!==n.type,a=e.selectAll(".visual-cue").data([0]),i=1;a.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":i}).classed("visual-cue",!0);var s=H(j?n.xanchor:o.midRange(r?[n.x0,n.x1]:g.extractPathCoords(n.path,m.paramIsX))),l=G(R?n.yanchor:o.midRange(r?[n.y0,n.y1]:g.extractPathCoords(n.path,m.paramIsY)));if(s=g.roundPositionForSharpStrokeRendering(s,i),l=g.roundPositionForSharpStrokeRendering(l,i),j&&R){var c="M"+(s-1-i)+","+(l-1-i)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";a.attr("d",c)}else if(j){var u="M"+(s-1-i)+","+(l-9-i)+"v18 h2 v-18 Z";a.attr("d",u)}else{var d="M"+(s-9-i)+","+(l-1-i)+"h18 v2 h-18 Z";a.attr("d",d)}}(j||R)&&renderAnchor()}function removeVisualCues(e){e.selectAll(".visual-cue").remove()}function deactivateClipPathTemporarily(e,n,r){var a=n.xref,o=n.yref,s=i.getFromId(r,a),l=i.getFromId(r,o),c="";"paper"===a||s.autorange||(c+=a),"paper"===o||l.autorange||(c+=o),d.setClipUrl(e,c?"clip"+r._fullLayout._uid+c:null,r)}f.init(Y),X.node().onmousemove=updateDragMode}(e,I,c,n,r,A):!0===c.editable&&I.style("pointer-events",O||u.opacity(w)*_<=.5?"stroke":"all");I.node().addEventListener("click",(function(){return function activateShape(e,n){if(!couldHaveActiveShape(e))return;var r=+n.node().getAttribute("data-index");if(r>=0){if(r===e._fullLayout._activeShapeIndex)return void deactivateShape(e);e._fullLayout._activeShapeIndex=r,e._fullLayout._deactivateShape=deactivateShape,draw(e)}}(e,I)}))}}function setClipPath(e,n,r){var a=(r.xref+r.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");d.setClipUrl(e,a?"clip"+n._fullLayout._uid+a:null,n)}function getPathString(e,n){var r,a,s,l,c,u,d,p,f=n.type,h=i.getRefType(n.xref),y=i.getRefType(n.yref),b=i.getFromId(e,n.xref),x=i.getFromId(e,n.yref),_=e._fullLayout._size;if(b?"domain"===h?a=function(e){return b._offset+b._length*e}:(r=g.shapePositionToRange(b),a=function(e){return b._offset+b.r2p(r(e,!0))}):a=function(e){return _.l+_.w*e},x?"domain"===y?l=function(e){return x._offset+x._length*(1-e)}:(s=g.shapePositionToRange(x),l=function(e){return x._offset+x.r2p(s(e,!0))}):l=function(e){return _.t+_.h*(1-e)},"path"===f)return b&&"date"===b.type&&(a=g.decodeDate(a)),x&&"date"===x.type&&(l=g.decodeDate(l)),function convertPath(e,n,r){var a=e.path,i=e.xsizemode,s=e.ysizemode,l=e.xanchor,c=e.yanchor;return a.replace(m.segmentRE,(function(e){var a=0,u=e.charAt(0),d=m.paramIsX[u],p=m.paramIsY[u],f=m.numParams[u],h=e.substr(1).replace(m.paramRE,(function(e){return d[a]?e="pixel"===i?n(l)+Number(e):n(e):p[a]&&(e="pixel"===s?r(c)-Number(e):r(e)),++a>f&&(e="X"),e}));return a>f&&(h=h.replace(/[\s,]*X.*/,""),o.log("Ignoring extra params in segment "+e)),u+h}))}(n,a,l);if("pixel"===n.xsizemode){var w=a(n.xanchor);c=w+n.x0,u=w+n.x1}else c=a(n.x0),u=a(n.x1);if("pixel"===n.ysizemode){var k=l(n.yanchor);d=k-n.y0,p=k-n.y1}else d=l(n.y0),p=l(n.y1);if("line"===f)return"M"+c+","+d+"L"+u+","+p;if("rect"===f)return"M"+c+","+d+"H"+u+"V"+p+"H"+c+"Z";var T=(c+u)/2,S=(d+p)/2,O=Math.abs(T-c),C=Math.abs(S-d),A="A"+O+","+C,I=T+O+","+S;return"M"+I+A+" 0 1,1 "+(T+","+(S-C))+A+" 0 0,1 "+I+"Z"}function movePath(e,n,r){return e.replace(m.segmentRE,(function(e){var a=0,o=e.charAt(0),i=m.paramIsX[o],s=m.paramIsY[o],l=m.numParams[o];return o+e.substr(1).replace(m.paramRE,(function(e){return a>=l||(i[a]?e=n(e):s[a]&&(e=r(e)),a++),e}))}))}function deactivateShape(e){couldHaveActiveShape(e)&&(e._fullLayout._activeShapeIndex>=0&&(c(e),delete e._fullLayout._activeShapeIndex,draw(e)))}e.exports={draw:draw,drawOne:drawOne,eraseActiveShape:function eraseActiveShape(e){if(!couldHaveActiveShape(e))return;c(e);var n=e._fullLayout._activeShapeIndex,r=(e.layout||{}).shapes||[];if(n<r.length){for(var o=[],i=0;i<r.length;i++)i!==n&&o.push(r[i]);delete e._fullLayout._activeShapeIndex,a.call("_guiRelayout",e,{shapes:o})}}}},2381:function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26"),i=r("d115"),s=r("3a99"),l=r("12c1"),c=o.extendDeepAll,u=e.exports={};u.framework=function(e){var n,r,o,i,d,p=new l;function exports(r,l){return l&&(d=l),a.select(a.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?c(n,r):r,o||(o=s.Axis()),i=s.adapter.plotly().convert(n),o.config(i).render(d),e.data=n.data,e.layout=n.layout,u.fillLayout(e),n}return exports.isPolar=!0,exports.svg=function(){return o.svg()},exports.getConfig=function(){return n},exports.getLiveConfig=function(){return s.adapter.plotly().convert(o.getLiveConfig(),!0)},exports.getLiveScales=function(){return{t:o.angularScale(),r:o.radialScale()}},exports.setUndoPoint=function(){var e,a,o=this,i=s.util.cloneJson(n);e=i,a=r,p.add({undo:function(){a&&o(a)},redo:function(){o(e)}}),r=s.util.cloneJson(i)},exports.undo=function(){p.undo()},exports.redo=function(){p.redo()},exports},u.fillLayout=function(e){var n=a.select(e).selectAll(".plot-container"),r=n.selectAll(".svg-container"),o=e.framework&&e.framework.svg&&e.framework.svg(),s={width:800,height:600,paper_bgcolor:i.background,_container:n,_paperdiv:r,_paper:o};e._fullLayout=c(s,e.layout)}},"23bf":function(e,n,r){"use strict";var a,o,i,s,l;r.d(n,"b",(function(){return upcastType})),r.d(n,"a",(function(){return sumOutType})),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(s||(s={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(l||(l={}));const c={float32:s,int32:o,bool:i,complex64:l};function upcastType(e,n){if("string"===e||"string"===n){if("string"===e&&"string"===n)return"string";throw new Error(`Can not upcast ${e} with ${n}`)}return c[e][n]}function sumOutType(e){return upcastType(e,"int32")}},"23cb":function(e,n,r){var a=r("a691"),o=Math.max,i=Math.min;e.exports=function(e,n){var r=a(e);return r<0?o(r+n,0):i(r,n)}},"23e7":function(e,n,r){var a=r("da84"),o=r("06cf").f,i=r("9112"),s=r("6eeb"),l=r("ce4e"),c=r("e893"),u=r("94ca");e.exports=function(e,n){var r,d,p,f,h,m=e.target,g=e.global,y=e.stat;if(r=g?a:y?a[m]||l(m,{}):(a[m]||{}).prototype)for(d in n){if(f=n[d],p=e.noTargetGet?(h=o(r,d))&&h.value:r[d],!u(g?d:m+(y?".":"#")+d,e.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(e.sham||p&&p.sham)&&i(f,"sham",!0),s(r,d,f,e)}}},"241c":function(e,n,r){var a=r("ca84"),o=r("7839").concat("length","prototype");n.f=Object.getOwnPropertyNames||function getOwnPropertyNames(e){return a(e,o)}},2441:function(e,n,r){var a,o=r("a6dc"),i=r("f8a5"),s=r("9935"),l=r("a626"),c=r("b924"),u=r("34cc"),d=!1,p=i();function operate(e,n,r){var o=a.segments(e),i=a.segments(n),s=r(a.combine(o,i));return a.polygon(s)}a={buildLog:function(e){return!0===e?d=o():!1===e&&(d=!1),!1!==d&&d.list},epsilon:function(e){return p.epsilon(e)},segments:function(e){var n=s(!0,p,d);return e.regions.forEach(n.addRegion),{segments:n.calculate(e.inverted),inverted:e.inverted}},combine:function(e,n){return{combined:s(!1,p,d).calculate(e.segments,e.inverted,n.segments,n.inverted),inverted1:e.inverted,inverted2:n.inverted}},selectUnion:function(e){return{segments:c.union(e.combined,d),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:c.intersect(e.combined,d),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:c.difference(e.combined,d),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:c.differenceRev(e.combined,d),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:c.xor(e.combined,d),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:l(e.segments,p,d),inverted:e.inverted}},polygonFromGeoJSON:function(e){return u.toPolygon(a,e)},polygonToGeoJSON:function(e){return u.fromPolygon(a,p,e)},union:function(e,n){return operate(e,n,a.selectUnion)},intersect:function(e,n){return operate(e,n,a.selectIntersect)},difference:function(e,n){return operate(e,n,a.selectDifference)},differenceRev:function(e,n){return operate(e,n,a.selectDifferenceRev)},xor:function(e,n){return operate(e,n,a.selectXor)}},"object"==typeof window&&(window.PolyBool=a),e.exports=a},"24b0":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({imag_:function imag_(e){const n={input:Object(i.a)(e,"input","imag")};return a.a.runKernel(o.rb,n)}})},"24d6":function(e,n,r){(function(e){var a;!function(e,o,i){function Alea(e){var n=this,r=function Mash(){var e=4022871197;return function(n){n=n.toString();for(var r=0;r<n.length;r++){var a=.02519603282416938*(e+=n.charCodeAt(r));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)}}();n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function copy(e,n){return n.c=e.c,n.s0=e.s0,n.s1=e.s1,n.s2=e.s2,n}function impl(e,n){var r=new Alea(e),a=n&&n.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&copy(a,r),o.state=function(){return copy(r,{})}),o}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.alea=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},2595:function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("bb71"),s=r("fc26"),l=s.strTranslate,c=r("0642"),u=r("d115"),d=r("83d1"),p=r("a5c4"),f=r("0379"),h=r("0f37"),m=r("4efe"),g=r("a651").arrayEditor,y=r("5a1e");function drawOne(e,n){var r=e._fullLayout.annotations[n]||{},a=c.getFromId(e,r.xref),o=c.getFromId(e,r.yref);a&&a.setScale(),o&&o.setScale(),drawRaw(e,r,n,!1,a,o)}function shiftPosition(e,n,r,a,o){var i=o[r],s=o[r+"ref"],l=-1!==r.indexOf("y"),u="domain"===c.getRefType(s),d=l?a.h:a.w;return e?u?i+(l?-n:n)/e._length:e.p2r(e.r2p(i)+n):i+(l?-n:n)/d}function drawRaw(e,n,r,i,b,x){var _,w,k=e._fullLayout,T=e._fullLayout._size,S=e._context.edits;i?(_="annotation-"+i,w=i+".annotations"):(_="annotation",w="annotations");var O=g(e.layout,w,n),C=O.modifyBase,A=O.modifyItem,I=O.getUpdateObj;k._infolayer.selectAll("."+_+'[data-index="'+r+'"]').remove();var N="clip"+k._uid+"_ann"+r;if(n._input&&!1!==n.visible){var M={x:{},y:{}},E=+n.textangle||0,D=k._infolayer.append("g").classed(_,!0).attr("data-index",String(r)).style("opacity",n.opacity),j=D.append("g").classed("annotation-text-g",!0),R=S[n.showarrow?"annotationTail":"annotationPosition"],L=n.captureevents||S.annotationText||R,z=j.append("g").style("pointer-events",L?"all":null).call(h,"pointer").on("click",(function(){e._dragging=!1,e.emit("plotly_clickannotation",makeEventData(a.event))}));n.hovertext&&z.on("mouseover",(function(){var r=n.hoverlabel,a=r.font,o=this.getBoundingClientRect(),i=e.getBoundingClientRect();p.loneHover({x0:o.left-i.left,x1:o.right-i.left,y:(o.top+o.bottom)/2-i.top,text:n.hovertext,color:r.bgcolor,borderColor:r.bordercolor,fontFamily:a.family,fontSize:a.size,fontColor:a.color},{container:k._hoverlayer.node(),outerContainer:k._paper.node(),gd:e})})).on("mouseout",(function(){p.loneUnhover(k._hoverlayer.node())}));var $=n.borderwidth,B=n.borderpad,V=$+B,U=z.append("rect").attr("class","bg").style("stroke-width",$+"px").call(u.stroke,n.bordercolor).call(u.fill,n.bgcolor),W=n.width||n.height,H=k._topclips.selectAll("#"+N).data(W?[0]:[]);H.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),H.exit().remove();var G=n.font,q=k._meta?s.templateString(n.text,k._meta):n.text,K=z.append("text").classed("annotation-text",!0).text(q);S.annotationText?K.call(f.makeEditable,{delegate:z,gd:e}).call(textLayout).on("edit",(function(r){n.text=r,this.call(textLayout),A("text",r),b&&b.autorange&&C(b._name+".autorange",!0),x&&x.autorange&&C(x._name+".autorange",!0),o.call("_guiRelayout",e,I())})):K.call(textLayout)}else a.selectAll("#"+N).remove();function makeEventData(e){var a={index:r,annotation:n._input,fullAnnotation:n,event:e};return i&&(a.subplotId=i),a}function textLayout(r){return r.call(d.font,G).attr({"text-anchor":{left:"start",right:"end"}[n.align]||"middle"}),f.convertToTspans(r,e,drawGraphicalElements),r}function drawGraphicalElements(){var r=K.selectAll("a");1===r.size()&&r.text()===K.text()&&z.insert("a",":first-child").attr({"xlink:xlink:href":r.attr("xlink:href"),"xlink:xlink:show":r.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(U.node());var a=z.select(".annotation-text-math-group"),p=!a.empty(),g=d.bBox((p?a:K).node()),_=g.width,w=g.height,O=n.width||_,L=n.height||w,B=Math.round(O+2*V),G=Math.round(L+2*V);function shiftFraction(e,n){return"auto"===n&&(n=e<1/3?"left":e>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[n]}for(var q=!1,X=["x","y"],Y=0;Y<X.length;Y++){var Z,J,Q,ee,te,ne=X[Y],re=n[ne+"ref"]||ne,ae=n["a"+ne+"ref"],oe={x:b,y:x}[ne],ie=(E+("x"===ne?0:-90))*Math.PI/180,se=B*Math.cos(ie),le=G*Math.sin(ie),ce=Math.abs(se)+Math.abs(le),ue=n[ne+"anchor"],de=n[ne+"shift"]*("x"===ne?1:-1),pe=M[ne],fe=c.getRefType(re);if(oe&&"domain"!==fe){var he=oe.r2fraction(n[ne]);(he<0||he>1)&&(ae===re?((he=oe.r2fraction(n["a"+ne]))<0||he>1)&&(q=!0):q=!0),Z=oe._offset+oe.r2p(n[ne]),ee=.5}else{var me="domain"===fe;"x"===ne?(Q=n[ne],Z=me?oe._offset+oe._length*Q:Z=T.l+T.w*Q):(Q=1-n[ne],Z=me?oe._offset+oe._length*Q:Z=T.t+T.h*Q),ee=n.showarrow?.5:Q}if(n.showarrow){pe.head=Z;var ge=n["a"+ne];if(te=se*shiftFraction(.5,n.xanchor)-le*shiftFraction(.5,n.yanchor),ae===re){var ye=c.getRefType(ae);"domain"===ye?("y"===ne&&(ge=1-ge),pe.tail=oe._offset+oe._length*ge):"paper"===ye?"y"===ne?(ge=1-ge,pe.tail=T.t+T.h*ge):pe.tail=T.l+T.w*ge:pe.tail=oe._offset+oe.r2p(ge),J=te}else pe.tail=Z+ge,J=te+ge;pe.text=pe.tail+te;var be=k["x"===ne?"width":"height"];if("paper"===re&&(pe.head=s.constrain(pe.head,1,be-1)),"pixel"===ae){var ve=-Math.max(pe.tail-3,pe.text),xe=Math.min(pe.tail+3,pe.text)-be;ve>0?(pe.tail+=ve,pe.text+=ve):xe>0&&(pe.tail-=xe,pe.text-=xe)}pe.tail+=de,pe.head+=de}else J=te=ce*shiftFraction(ee,ue),pe.text=Z+te;pe.text+=de,te+=de,J+=de,n["_"+ne+"padplus"]=ce/2+J,n["_"+ne+"padminus"]=ce/2-J,n["_"+ne+"size"]=ce,n["_"+ne+"shift"]=te}if(q)z.remove();else{var _e=0,we=0;if("left"!==n.align&&(_e=(O-_)*("center"===n.align?.5:1)),"top"!==n.valign&&(we=(L-w)*("middle"===n.valign?.5:1)),p)a.select("svg").attr({x:V+_e-1,y:V+we}).call(d.setClipUrl,W?N:null,e);else{var ke=V+we-g.top,Te=V+_e-g.left;K.call(f.positionText,Te,ke).call(d.setClipUrl,W?N:null,e)}H.select("rect").call(d.setRect,V,V,O,L),U.call(d.setRect,$/2,$/2,B-$,G-$),z.call(d.setTranslate,Math.round(M.x.text-B/2),Math.round(M.y.text-G/2)),j.attr({transform:"rotate("+E+","+M.x.text+","+M.y.text+")"});var Se,drawArrow=function(r,a){D.selectAll(".annotation-arrow-g").remove();var c=M.x.head,p=M.y.head,f=M.x.tail+r,h=M.y.tail+a,g=M.x.text+r,_=M.y.text+a,w=s.rotationXYMatrix(E,g,_),k=s.apply2DTransform(w),O=s.apply2DTransform2(w),N=+U.attr("width"),R=+U.attr("height"),L=g-.5*N,$=L+N,B=_-.5*R,V=B+R,W=[[L,B,L,V],[L,V,$,V],[$,V,$,B],[$,B,L,B]].map(O);if(!W.reduce((function(e,n){return e^!!s.segmentsIntersect(c,p,c+1e6,p+1e6,n[0],n[1],n[2],n[3])}),!1)){W.forEach((function(e){var n=s.segmentsIntersect(f,h,c,p,e[0],e[1],e[2],e[3]);n&&(f=n.x,h=n.y)}));var H=n.arrowwidth,G=n.arrowcolor,q=n.arrowside,K=D.append("g").style({opacity:u.opacity(G)}).classed("annotation-arrow-g",!0),X=K.append("path").attr("d","M"+f+","+h+"L"+c+","+p).style("stroke-width",H+"px").call(u.stroke,u.rgb(G));if(y(X,q,n),S.annotationPosition&&X.node().parentNode&&!i){var Y=c,Z=p;if(n.standoff){var J=Math.sqrt(Math.pow(c-f,2)+Math.pow(p-h,2));Y+=n.standoff*(f-c)/J,Z+=n.standoff*(h-p)/J}var Q,ee,te=K.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(f-Y)+","+(h-Z),transform:l(Y,Z)}).style("stroke-width",H+6+"px").call(u.stroke,"rgba(0,0,0,0)").call(u.fill,"rgba(0,0,0,0)");m.init({element:te.node(),gd:e,prepFn:function(){var e=d.getTranslate(z);Q=e.x,ee=e.y,b&&b.autorange&&C(b._name+".autorange",!0),x&&x.autorange&&C(x._name+".autorange",!0)},moveFn:function(e,r){var a=k(Q,ee),o=a[0]+e,i=a[1]+r;z.call(d.setTranslate,o,i),A("x",shiftPosition(b,e,"x",T,n)),A("y",shiftPosition(x,r,"y",T,n)),n.axref===n.xref&&A("ax",shiftPosition(b,e,"ax",T,n)),n.ayref===n.yref&&A("ay",shiftPosition(x,r,"ay",T,n)),K.attr("transform",l(e,r)),j.attr({transform:"rotate("+E+","+o+","+i+")"})},doneFn:function(){o.call("_guiRelayout",e,I());var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}})}}};if(n.showarrow&&drawArrow(0,0),R)m.init({element:z.node(),gd:e,prepFn:function(){Se=j.attr("transform")},moveFn:function(e,r){var a="pointer";if(n.showarrow)n.axref===n.xref?A("ax",shiftPosition(b,e,"ax",T,n)):A("ax",n.ax+e),n.ayref===n.yref?A("ay",shiftPosition(x,r,"ay",T.w,n)):A("ay",n.ay+r),drawArrow(e,r);else{if(i)return;var o,s;if(b)o=shiftPosition(b,e,"x",T,n);else{var c=n._xsize/T.w,u=n.x+(n._xshift-n.xshift)/T.w-c/2;o=m.align(u+e/T.w,c,0,1,n.xanchor)}if(x)s=shiftPosition(x,r,"y",T,n);else{var d=n._ysize/T.h,p=n.y-(n._yshift+n.yshift)/T.h-d/2;s=m.align(p-r/T.h,d,0,1,n.yanchor)}A("x",o),A("y",s),b&&x||(a=m.getCursor(b?.5:o,x?.5:s,n.xanchor,n.yanchor))}j.attr({transform:l(e,r)+Se}),h(z,a)},clickFn:function(r,a){n.captureevents&&e.emit("plotly_clickannotation",makeEventData(a))},doneFn:function(){h(z),o.call("_guiRelayout",e,I());var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}})}}}e.exports={draw:function draw(e){var n=e._fullLayout;n._infolayer.selectAll(".annotation").remove();for(var r=0;r<n.annotations.length;r++)n.annotations[r].visible&&drawOne(e,r);return i.previousPromises(e)},drawOne:drawOne,drawRaw:drawRaw}},2626:function(e,n,r){"use strict";var a=r("d066"),o=r("9bf2"),i=r("b622"),s=r("83ab"),l=i("species");e.exports=function(e){var n=a(e),r=o.f;s&&n&&!n[l]&&r(n,l,{configurable:!0,get:function(){return this}})}},2649:function(e,n){e.exports=function fromRotation(e,n,r){var a,o,i,s=r[0],l=r[1],c=r[2],u=Math.sqrt(s*s+l*l+c*c);if(Math.abs(u)<1e-6)return null;return s*=u=1/u,l*=u,c*=u,a=Math.sin(n),o=Math.cos(n),i=1-o,e[0]=s*s*i+o,e[1]=l*s*i+c*a,e[2]=c*s*i-l*a,e[3]=0,e[4]=s*l*i-c*a,e[5]=l*l*i+o,e[6]=c*l*i+s*a,e[7]=0,e[8]=s*c*i+l*a,e[9]=l*c*i-s*a,e[10]=c*c*i+o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},"27e3":function(e,n,r){"use strict";var a=r("fc26"),o=r("d798");e.exports=function handleTickDefaults(e,n,r,i){var s=a.coerce2(e,n,o,"ticklen"),l=a.coerce2(e,n,o,"tickwidth"),c=a.coerce2(e,n,o,"tickcolor",n.color);r("ticks",i.outerTicks||s||l||c?"outside":"")||(delete n.ticklen,delete n.tickwidth,delete n.tickcolor)}},"296e":function(e,n,r){"use strict";e.exports=function align(e,n,r,a,o){var i=(e-r)/(a-r),s=i+n/(a-r),l=(i+s)/2;return"left"===o||"bottom"===o?i:"center"===o||"middle"===o?l:"right"===o||"top"===o?s:i<2/3-l?i:s>4/3-l?s:l}},"299c":function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=131)}({131:function(e,n,r){"use strict";r.r(n);var a=r(5),o=r.n(a),i=r(17),s=r.n(i),l=r(2),c=r(3),u=r(7),d=r.n(u),p={name:"ElTooltip",mixins:[o.a],props:{openDelay:{type:Number,default:0},disabled:Boolean,manual:Boolean,effect:{type:String,default:"dark"},arrowOffset:{type:Number,default:0},popperClass:String,content:String,visibleArrow:{default:!0},transition:{type:String,default:"el-fade-in-linear"},popperOptions:{default:function _default(){return{boundariesPadding:10,gpuAcceleration:!1}}},enterable:{type:Boolean,default:!0},hideAfter:{type:Number,default:0},tabindex:{type:Number,default:0}},data:function data(){return{tooltipId:"el-tooltip-"+Object(c.generateId)(),timeoutPending:null,focusing:!1}},beforeCreate:function beforeCreate(){var e=this;this.$isServer||(this.popperVM=new d.a({data:{node:""},render:function render(e){return this.node}}).$mount(),this.debounceClose=s()(200,(function(){return e.handleClosePopper()})))},render:function render(e){var n=this;this.popperVM&&(this.popperVM.node=e("transition",{attrs:{name:this.transition},on:{afterLeave:this.doDestroy}},[e("div",{on:{mouseleave:function mouseleave(){n.setExpectedState(!1),n.debounceClose()},mouseenter:function mouseenter(){n.setExpectedState(!0)}},ref:"popper",attrs:{role:"tooltip",id:this.tooltipId,"aria-hidden":this.disabled||!this.showPopper?"true":"false"},directives:[{name:"show",value:!this.disabled&&this.showPopper}],class:["el-tooltip__popper","is-"+this.effect,this.popperClass]},[this.$slots.content||this.content])]));var r=this.getFirstElement();if(!r)return null;var a=r.data=r.data||{};return a.staticClass=this.addTooltipClass(a.staticClass),r},mounted:function mounted(){var e=this;this.referenceElm=this.$el,1===this.$el.nodeType&&(this.$el.setAttribute("aria-describedby",this.tooltipId),this.$el.setAttribute("tabindex",this.tabindex),Object(l.on)(this.referenceElm,"mouseenter",this.show),Object(l.on)(this.referenceElm,"mouseleave",this.hide),Object(l.on)(this.referenceElm,"focus",(function(){if(e.$slots.default&&e.$slots.default.length){var n=e.$slots.default[0].componentInstance;n&&n.focus?n.focus():e.handleFocus()}else e.handleFocus()})),Object(l.on)(this.referenceElm,"blur",this.handleBlur),Object(l.on)(this.referenceElm,"click",this.removeFocusing)),this.value&&this.popperVM&&this.popperVM.$nextTick((function(){e.value&&e.updatePopper()}))},watch:{focusing:function focusing(e){e?Object(l.addClass)(this.referenceElm,"focusing"):Object(l.removeClass)(this.referenceElm,"focusing")}},methods:{show:function show(){this.setExpectedState(!0),this.handleShowPopper()},hide:function hide(){this.setExpectedState(!1),this.debounceClose()},handleFocus:function handleFocus(){this.focusing=!0,this.show()},handleBlur:function handleBlur(){this.focusing=!1,this.hide()},removeFocusing:function removeFocusing(){this.focusing=!1},addTooltipClass:function addTooltipClass(e){return e?"el-tooltip "+e.replace("el-tooltip",""):"el-tooltip"},handleShowPopper:function handleShowPopper(){var e=this;this.expectedState&&!this.manual&&(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.showPopper=!0}),this.openDelay),this.hideAfter>0&&(this.timeoutPending=setTimeout((function(){e.showPopper=!1}),this.hideAfter)))},handleClosePopper:function handleClosePopper(){this.enterable&&this.expectedState||this.manual||(clearTimeout(this.timeout),this.timeoutPending&&clearTimeout(this.timeoutPending),this.showPopper=!1,this.disabled&&this.doDestroy())},setExpectedState:function setExpectedState(e){!1===e&&clearTimeout(this.timeoutPending),this.expectedState=e},getFirstElement:function getFirstElement(){var e=this.$slots.default;if(!Array.isArray(e))return null;for(var n=null,r=0;r<e.length;r++)e[r]&&e[r].tag&&(n=e[r]);return n}},beforeDestroy:function beforeDestroy(){this.popperVM&&this.popperVM.$destroy()},destroyed:function destroyed(){var e=this.referenceElm;1===e.nodeType&&(Object(l.off)(e,"mouseenter",this.show),Object(l.off)(e,"mouseleave",this.hide),Object(l.off)(e,"focus",this.handleFocus),Object(l.off)(e,"blur",this.handleBlur),Object(l.off)(e,"click",this.removeFocusing))},install:function(e){e.component(p.name,p)}};n.default=p},17:function(e,n){e.exports=r("0e15")},2:function(e,n){e.exports=r("5924")},3:function(e,n){e.exports=r("8122")},5:function(e,n){e.exports=r("e974")},7:function(e,n){e.exports=r("2b0e")}})},"29a8":function(e,n,r){"use strict";(function(e){r("6ae2");var n=r("7ed6"),a=r("b333");const o=Object(a.b)();o.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),o.registerFlag("IS_BROWSER",(()=>n.isBrowser())),o.registerFlag("IS_NODE",(()=>void 0!==e&&void 0!==e.versions&&void 0!==e.versions.node)),o.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),o.registerFlag("PROD",(()=>!1)),o.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>o.getBool("DEBUG"))),o.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),o.registerFlag("IS_TEST",(()=>!1)),o.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),o.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1))}).call(this,r("4362"))},"29d8":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}]},"29fc":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("a3f7"),o=r("6ad5"),i=r("487b"),s=r("54ef"),l=r("35c9");const c=Object(s.a)({dot_:function dot_(e,n){const r=Object(a.a)(e,"t1","dot"),s=Object(a.a)(n,"t2","dot");o.b(!(1!==r.rank&&2!==r.rank||1!==s.rank&&2!==s.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${r.rank} and ${s.rank}.`));const c=1===r.rank?r.size:r.shape[1],u=1===s.rank?s.size:s.shape[0];if(o.b(c===u,(()=>`Error in dot: inner dimensions of inputs must match, but got ${c} and ${u}.`)),1===r.rank&&1===s.rank){const e=Object(l.a)(r,[1,-1]),n=Object(l.a)(s,[-1,1]),a=Object(i.a)(e,n);return Object(l.a)(a,[])}if(1===r.rank&&2===s.rank){const e=Object(l.a)(r,[1,-1]),n=Object(l.a)(s,[s.shape[0],s.shape[1]]),a=Object(i.a)(e,n);return Object(l.a)(a,[a.size])}if(2===r.rank&&1===s.rank){const e=Object(l.a)(s,[-1,1]),n=Object(i.a)(r,e);return Object(l.a)(n,[n.size])}{const e=Object(l.a)(s,[s.shape[0],s.shape[1]]);return Object(i.a)(r,e)}}})},"2a5e":function(e,n,r){"use strict";n.__esModule=!0,n.default=function scrollIntoView(e,n){if(a.default.prototype.$isServer)return;if(!n)return void(e.scrollTop=0);var r=[],o=n.offsetParent;for(;o&&e!==o&&e.contains(o);)r.push(o),o=o.offsetParent;var i=n.offsetTop+r.reduce((function(e,n){return e+n.offsetTop}),0),s=i+n.offsetHeight,l=e.scrollTop,c=l+e.clientHeight;i<l?e.scrollTop=i:s>c&&(e.scrollTop=s-e.clientHeight)};var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e"))},"2a62":function(e,n,r){var a=r("825a");e.exports=function(e){var n=e.return;if(void 0!==n)return a(n.call(e)).value}},"2b0e":function(e,n,r){"use strict";r.r(n),function(e){var r=Object.freeze({});function isUndef(e){return null==e}function isDef(e){return null!=e}function isTrue(e){return!0===e}function isPrimitive(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}var a=Object.prototype.toString;function isPlainObject(e){return"[object Object]"===a.call(e)}function isRegExp(e){return"[object RegExp]"===a.call(e)}function isValidArrayIndex(e){var n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(e)}function isPromise(e){return isDef(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function toString(e){return null==e?"":Array.isArray(e)||isPlainObject(e)&&e.toString===a?JSON.stringify(e,null,2):String(e)}function toNumber(e){var n=parseFloat(e);return isNaN(n)?e:n}function makeMap(e,n){for(var r=Object.create(null),a=e.split(","),o=0;o<a.length;o++)r[a[o]]=!0;return n?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}makeMap("slot,component",!0);var o=makeMap("key,ref,slot,slot-scope,is");function remove(e,n){if(e.length){var r=e.indexOf(n);if(r>-1)return e.splice(r,1)}}var i=Object.prototype.hasOwnProperty;function hasOwn(e,n){return i.call(e,n)}function cached(e){var n=Object.create(null);return function cachedFn(r){return n[r]||(n[r]=e(r))}}var s=/-(\w)/g,l=cached((function(e){return e.replace(s,(function(e,n){return n?n.toUpperCase():""}))})),c=cached((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),u=/\B([A-Z])/g,d=cached((function(e){return e.replace(u,"-$1").toLowerCase()}));var p=Function.prototype.bind?function nativeBind(e,n){return e.bind(n)}:function polyfillBind(e,n){function boundFn(r){var a=arguments.length;return a?a>1?e.apply(n,arguments):e.call(n,r):e.call(n)}return boundFn._length=e.length,boundFn};function toArray(e,n){n=n||0;for(var r=e.length-n,a=new Array(r);r--;)a[r]=e[r+n];return a}function extend(e,n){for(var r in n)e[r]=n[r];return e}function toObject(e){for(var n={},r=0;r<e.length;r++)e[r]&&extend(n,e[r]);return n}function noop(e,n,r){}var no=function(e,n,r){return!1},identity=function(e){return e};function looseEqual(e,n){if(e===n)return!0;var r=isObject(e),a=isObject(n);if(!r||!a)return!r&&!a&&String(e)===String(n);try{var o=Array.isArray(e),i=Array.isArray(n);if(o&&i)return e.length===n.length&&e.every((function(e,r){return looseEqual(e,n[r])}));if(e instanceof Date&&n instanceof Date)return e.getTime()===n.getTime();if(o||i)return!1;var s=Object.keys(e),l=Object.keys(n);return s.length===l.length&&s.every((function(r){return looseEqual(e[r],n[r])}))}catch(c){return!1}}function looseIndexOf(e,n){for(var r=0;r<e.length;r++)if(looseEqual(e[r],n))return r;return-1}function once(e){var n=!1;return function(){n||(n=!0,e.apply(this,arguments))}}var f="data-server-rendered",h=["component","directive","filter"],m=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],g={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:no,isReservedAttr:no,isUnknownElement:no,getTagNamespace:noop,parsePlatformTagName:identity,mustUseProp:no,async:!0,_lifecycleHooks:m},y=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function isReserved(e){var n=(e+"").charCodeAt(0);return 36===n||95===n}function def(e,n,r,a){Object.defineProperty(e,n,{value:r,enumerable:!!a,writable:!0,configurable:!0})}var b=new RegExp("[^"+y.source+".$_\\d]");var x,_="__proto__"in{},w="undefined"!=typeof window,k="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,T=k&&WXEnvironment.platform.toLowerCase(),S=w&&window.navigator.userAgent.toLowerCase(),O=S&&/msie|trident/.test(S),C=S&&S.indexOf("msie 9.0")>0,A=S&&S.indexOf("edge/")>0,I=(S&&S.indexOf("android"),S&&/iphone|ipad|ipod|ios/.test(S)||"ios"===T),N=(S&&/chrome\/\d+/.test(S),S&&/phantomjs/.test(S),S&&S.match(/firefox\/(\d+)/)),M={}.watch,E=!1;if(w)try{var D={};Object.defineProperty(D,"passive",{get:function get(){E=!0}}),window.addEventListener("test-passive",null,D)}catch(St){}var isServerRendering=function(){return void 0===x&&(x=!w&&!k&&void 0!==e&&(e.process&&"server"===e.process.env.VUE_ENV)),x},j=w&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function isNative(e){return"function"==typeof e&&/native code/.test(e.toString())}var R,L="undefined"!=typeof Symbol&&isNative(Symbol)&&"undefined"!=typeof Reflect&&isNative(Reflect.ownKeys);R="undefined"!=typeof Set&&isNative(Set)?Set:function(){function Set(){this.set=Object.create(null)}return Set.prototype.has=function has(e){return!0===this.set[e]},Set.prototype.add=function add(e){this.set[e]=!0},Set.prototype.clear=function clear(){this.set=Object.create(null)},Set}();var z=noop,$=0,B=function Dep(){this.id=$++,this.subs=[]};B.prototype.addSub=function addSub(e){this.subs.push(e)},B.prototype.removeSub=function removeSub(e){remove(this.subs,e)},B.prototype.depend=function depend(){B.target&&B.target.addDep(this)},B.prototype.notify=function notify(){var e=this.subs.slice();for(var n=0,r=e.length;n<r;n++)e[n].update()},B.target=null;var V=[];function pushTarget(e){V.push(e),B.target=e}function popTarget(){V.pop(),B.target=V[V.length-1]}var U=function VNode(e,n,r,a,o,i,s,l){this.tag=e,this.data=n,this.children=r,this.text=a,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=n&&n.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=l,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},W={child:{configurable:!0}};W.child.get=function(){return this.componentInstance},Object.defineProperties(U.prototype,W);var createEmptyVNode=function(e){void 0===e&&(e="");var n=new U;return n.text=e,n.isComment=!0,n};function createTextVNode(e){return new U(void 0,void 0,void 0,String(e))}function cloneVNode(e){var n=new U(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return n.ns=e.ns,n.isStatic=e.isStatic,n.key=e.key,n.isComment=e.isComment,n.fnContext=e.fnContext,n.fnOptions=e.fnOptions,n.fnScopeId=e.fnScopeId,n.asyncMeta=e.asyncMeta,n.isCloned=!0,n}var H=Array.prototype,G=Object.create(H);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var n=H[e];def(G,e,(function mutator(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];var o,i=n.apply(this,r),s=this.__ob__;switch(e){case"push":case"unshift":o=r;break;case"splice":o=r.slice(2)}return o&&s.observeArray(o),s.dep.notify(),i}))}));var q=Object.getOwnPropertyNames(G),K=!0;function toggleObserving(e){K=e}var X=function Observer(e){this.value=e,this.dep=new B,this.vmCount=0,def(e,"__ob__",this),Array.isArray(e)?(_?function protoAugment(e,n){e.__proto__=n}(e,G):function copyAugment(e,n,r){for(var a=0,o=r.length;a<o;a++){var i=r[a];def(e,i,n[i])}}(e,G,q),this.observeArray(e)):this.walk(e)};function observe(e,n){var r;if(isObject(e)&&!(e instanceof U))return hasOwn(e,"__ob__")&&e.__ob__ instanceof X?r=e.__ob__:K&&!isServerRendering()&&(Array.isArray(e)||isPlainObject(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new X(e)),n&&r&&r.vmCount++,r}function defineReactive$$1(e,n,r,a,o){var i=new B,s=Object.getOwnPropertyDescriptor(e,n);if(!s||!1!==s.configurable){var l=s&&s.get,c=s&&s.set;l&&!c||2!==arguments.length||(r=e[n]);var u=!o&&observe(r);Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:function reactiveGetter(){var n=l?l.call(e):r;return B.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(n)&&dependArray(n))),n},set:function reactiveSetter(n){var a=l?l.call(e):r;n===a||n!=n&&a!=a||l&&!c||(c?c.call(e,n):r=n,u=!o&&observe(n),i.notify())}})}}function set(e,n,r){if(Array.isArray(e)&&isValidArrayIndex(n))return e.length=Math.max(e.length,n),e.splice(n,1,r),r;if(n in e&&!(n in Object.prototype))return e[n]=r,r;var a=e.__ob__;return e._isVue||a&&a.vmCount?r:a?(defineReactive$$1(a.value,n,r),a.dep.notify(),r):(e[n]=r,r)}function del(e,n){if(Array.isArray(e)&&isValidArrayIndex(n))e.splice(n,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||hasOwn(e,n)&&(delete e[n],r&&r.dep.notify())}}function dependArray(e){for(var n=void 0,r=0,a=e.length;r<a;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&dependArray(n)}X.prototype.walk=function walk(e){for(var n=Object.keys(e),r=0;r<n.length;r++)defineReactive$$1(e,n[r])},X.prototype.observeArray=function observeArray(e){for(var n=0,r=e.length;n<r;n++)observe(e[n])};var Y=g.optionMergeStrategies;function mergeData(e,n){if(!n)return e;for(var r,a,o,i=L?Reflect.ownKeys(n):Object.keys(n),s=0;s<i.length;s++)"__ob__"!==(r=i[s])&&(a=e[r],o=n[r],hasOwn(e,r)?a!==o&&isPlainObject(a)&&isPlainObject(o)&&mergeData(a,o):set(e,r,o));return e}function mergeDataOrFn(e,n,r){return r?function mergedInstanceDataFn(){var a="function"==typeof n?n.call(r,r):n,o="function"==typeof e?e.call(r,r):e;return a?mergeData(a,o):o}:n?e?function mergedDataFn(){return mergeData("function"==typeof n?n.call(this,this):n,"function"==typeof e?e.call(this,this):e)}:n:e}function mergeHook(e,n){var r=n?e?e.concat(n):Array.isArray(n)?n:[n]:e;return r?function dedupeHooks(e){for(var n=[],r=0;r<e.length;r++)-1===n.indexOf(e[r])&&n.push(e[r]);return n}(r):r}function mergeAssets(e,n,r,a){var o=Object.create(e||null);return n?extend(o,n):o}Y.data=function(e,n,r){return r?mergeDataOrFn(e,n,r):n&&"function"!=typeof n?e:mergeDataOrFn(e,n)},m.forEach((function(e){Y[e]=mergeHook})),h.forEach((function(e){Y[e+"s"]=mergeAssets})),Y.watch=function(e,n,r,a){if(e===M&&(e=void 0),n===M&&(n=void 0),!n)return Object.create(e||null);if(!e)return n;var o={};for(var i in extend(o,e),n){var s=o[i],l=n[i];s&&!Array.isArray(s)&&(s=[s]),o[i]=s?s.concat(l):Array.isArray(l)?l:[l]}return o},Y.props=Y.methods=Y.inject=Y.computed=function(e,n,r,a){if(!e)return n;var o=Object.create(null);return extend(o,e),n&&extend(o,n),o},Y.provide=mergeDataOrFn;var defaultStrat=function(e,n){return void 0===n?e:n};function mergeOptions(e,n,r){if("function"==typeof n&&(n=n.options),function normalizeProps(e,n){var r=e.props;if(r){var a,o,i={};if(Array.isArray(r))for(a=r.length;a--;)"string"==typeof(o=r[a])&&(i[l(o)]={type:null});else if(isPlainObject(r))for(var s in r)o=r[s],i[l(s)]=isPlainObject(o)?o:{type:o};e.props=i}}(n),function normalizeInject(e,n){var r=e.inject;if(r){var a=e.inject={};if(Array.isArray(r))for(var o=0;o<r.length;o++)a[r[o]]={from:r[o]};else if(isPlainObject(r))for(var i in r){var s=r[i];a[i]=isPlainObject(s)?extend({from:i},s):{from:s}}}}(n),function normalizeDirectives(e){var n=e.directives;if(n)for(var r in n){var a=n[r];"function"==typeof a&&(n[r]={bind:a,update:a})}}(n),!n._base&&(n.extends&&(e=mergeOptions(e,n.extends,r)),n.mixins))for(var a=0,o=n.mixins.length;a<o;a++)e=mergeOptions(e,n.mixins[a],r);var i,s={};for(i in e)mergeField(i);for(i in n)hasOwn(e,i)||mergeField(i);function mergeField(a){var o=Y[a]||defaultStrat;s[a]=o(e[a],n[a],r,a)}return s}function resolveAsset(e,n,r,a){if("string"==typeof r){var o=e[n];if(hasOwn(o,r))return o[r];var i=l(r);if(hasOwn(o,i))return o[i];var s=c(i);return hasOwn(o,s)?o[s]:o[r]||o[i]||o[s]}}function validateProp(e,n,r,a){var o=n[e],i=!hasOwn(r,e),s=r[e],l=getTypeIndex(Boolean,o.type);if(l>-1)if(i&&!hasOwn(o,"default"))s=!1;else if(""===s||s===d(e)){var c=getTypeIndex(String,o.type);(c<0||l<c)&&(s=!0)}if(void 0===s){s=function getPropDefaultValue(e,n,r){if(!hasOwn(n,"default"))return;var a=n.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r])return e._props[r];return"function"==typeof a&&"Function"!==getType(n.type)?a.call(e):a}(a,o,e);var u=K;toggleObserving(!0),observe(s),toggleObserving(u)}return s}function getType(e){var n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:""}function isSameType(e,n){return getType(e)===getType(n)}function getTypeIndex(e,n){if(!Array.isArray(n))return isSameType(n,e)?0:-1;for(var r=0,a=n.length;r<a;r++)if(isSameType(n[r],e))return r;return-1}function handleError(e,n,r){pushTarget();try{if(n)for(var a=n;a=a.$parent;){var o=a.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(a,e,n,r))return}catch(St){globalHandleError(St,a,"errorCaptured hook")}}globalHandleError(e,n,r)}finally{popTarget()}}function invokeWithErrorHandling(e,n,r,a,o){var i;try{(i=r?e.apply(n,r):e.call(n))&&!i._isVue&&isPromise(i)&&!i._handled&&(i.catch((function(e){return handleError(e,a,o+" (Promise/async)")})),i._handled=!0)}catch(St){handleError(St,a,o)}return i}function globalHandleError(e,n,r){if(g.errorHandler)try{return g.errorHandler.call(null,e,n,r)}catch(St){St!==e&&logError(St,null,"config.errorHandler")}logError(e,n,r)}function logError(e,n,r){if(!w&&!k||"undefined"==typeof console)throw e;console.error(e)}var Z,J=!1,Q=[],ee=!1;function flushCallbacks(){ee=!1;var e=Q.slice(0);Q.length=0;for(var n=0;n<e.length;n++)e[n]()}if("undefined"!=typeof Promise&&isNative(Promise)){var te=Promise.resolve();Z=function(){te.then(flushCallbacks),I&&setTimeout(noop)},J=!0}else if(O||"undefined"==typeof MutationObserver||!isNative(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Z="undefined"!=typeof setImmediate&&isNative(setImmediate)?function(){setImmediate(flushCallbacks)}:function(){setTimeout(flushCallbacks,0)};else{var ne=1,re=new MutationObserver(flushCallbacks),ae=document.createTextNode(String(ne));re.observe(ae,{characterData:!0}),Z=function(){ne=(ne+1)%2,ae.data=String(ne)},J=!0}function nextTick(e,n){var r;if(Q.push((function(){if(e)try{e.call(n)}catch(St){handleError(St,n,"nextTick")}else r&&r(n)})),ee||(ee=!0,Z()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){r=e}))}var oe=new R;function traverse(e){_traverse(e,oe),oe.clear()}function _traverse(e,n){var r,a,o=Array.isArray(e);if(!(!o&&!isObject(e)||Object.isFrozen(e)||e instanceof U)){if(e.__ob__){var i=e.__ob__.dep.id;if(n.has(i))return;n.add(i)}if(o)for(r=e.length;r--;)_traverse(e[r],n);else for(r=(a=Object.keys(e)).length;r--;)_traverse(e[a[r]],n)}}var ie=cached((function(e){var n="&"===e.charAt(0),r="~"===(e=n?e.slice(1):e).charAt(0),a="!"===(e=r?e.slice(1):e).charAt(0);return{name:e=a?e.slice(1):e,once:r,capture:a,passive:n}}));function createFnInvoker(e,n){function invoker(){var e=arguments,r=invoker.fns;if(!Array.isArray(r))return invokeWithErrorHandling(r,null,arguments,n,"v-on handler");for(var a=r.slice(),o=0;o<a.length;o++)invokeWithErrorHandling(a[o],null,e,n,"v-on handler")}return invoker.fns=e,invoker}function updateListeners(e,n,r,a,o,i){var s,l,c,u;for(s in e)l=e[s],c=n[s],u=ie(s),isUndef(l)||(isUndef(c)?(isUndef(l.fns)&&(l=e[s]=createFnInvoker(l,i)),isTrue(u.once)&&(l=e[s]=o(u.name,l,u.capture)),r(u.name,l,u.capture,u.passive,u.params)):l!==c&&(c.fns=l,e[s]=c));for(s in n)isUndef(e[s])&&a((u=ie(s)).name,n[s],u.capture)}function mergeVNodeHook(e,n,r){var a;e instanceof U&&(e=e.data.hook||(e.data.hook={}));var o=e[n];function wrappedHook(){r.apply(this,arguments),remove(a.fns,wrappedHook)}isUndef(o)?a=createFnInvoker([wrappedHook]):isDef(o.fns)&&isTrue(o.merged)?(a=o).fns.push(wrappedHook):a=createFnInvoker([o,wrappedHook]),a.merged=!0,e[n]=a}function checkProp(e,n,r,a,o){if(isDef(n)){if(hasOwn(n,r))return e[r]=n[r],o||delete n[r],!0;if(hasOwn(n,a))return e[r]=n[a],o||delete n[a],!0}return!1}function normalizeChildren(e){return isPrimitive(e)?[createTextVNode(e)]:Array.isArray(e)?normalizeArrayChildren(e):void 0}function isTextNode(e){return isDef(e)&&isDef(e.text)&&function isFalse(e){return!1===e}(e.isComment)}function normalizeArrayChildren(e,n){var r,a,o,i,s=[];for(r=0;r<e.length;r++)isUndef(a=e[r])||"boolean"==typeof a||(i=s[o=s.length-1],Array.isArray(a)?a.length>0&&(isTextNode((a=normalizeArrayChildren(a,(n||"")+"_"+r))[0])&&isTextNode(i)&&(s[o]=createTextVNode(i.text+a[0].text),a.shift()),s.push.apply(s,a)):isPrimitive(a)?isTextNode(i)?s[o]=createTextVNode(i.text+a):""!==a&&s.push(createTextVNode(a)):isTextNode(a)&&isTextNode(i)?s[o]=createTextVNode(i.text+a.text):(isTrue(e._isVList)&&isDef(a.tag)&&isUndef(a.key)&&isDef(n)&&(a.key="__vlist"+n+"_"+r+"__"),s.push(a)));return s}function resolveInject(e,n){if(e){for(var r=Object.create(null),a=L?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++){var i=a[o];if("__ob__"!==i){for(var s=e[i].from,l=n;l;){if(l._provided&&hasOwn(l._provided,s)){r[i]=l._provided[s];break}l=l.$parent}if(!l)if("default"in e[i]){var c=e[i].default;r[i]="function"==typeof c?c.call(n):c}else 0}}return r}}function resolveSlots(e,n){if(!e||!e.length)return{};for(var r={},a=0,o=e.length;a<o;a++){var i=e[a],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==n&&i.fnContext!==n||!s||null==s.slot)(r.default||(r.default=[])).push(i);else{var l=s.slot,c=r[l]||(r[l]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in r)r[u].every(isWhitespace)&&delete r[u];return r}function isWhitespace(e){return e.isComment&&!e.asyncFactory||" "===e.text}function normalizeScopedSlots(e,n,a){var o,i=Object.keys(n).length>0,s=e?!!e.$stable:!i,l=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(s&&a&&a!==r&&l===a.$key&&!i&&!a.$hasNormal)return a;for(var c in o={},e)e[c]&&"$"!==c[0]&&(o[c]=normalizeScopedSlot(n,c,e[c]))}else o={};for(var u in n)u in o||(o[u]=proxyNormalSlot(n,u));return e&&Object.isExtensible(e)&&(e._normalized=o),def(o,"$stable",s),def(o,"$key",l),def(o,"$hasNormal",i),o}function normalizeScopedSlot(e,n,r){var normalized=function(){var e=arguments.length?r.apply(null,arguments):r({});return(e=e&&"object"==typeof e&&!Array.isArray(e)?[e]:normalizeChildren(e))&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return r.proxy&&Object.defineProperty(e,n,{get:normalized,enumerable:!0,configurable:!0}),normalized}function proxyNormalSlot(e,n){return function(){return e[n]}}function renderList(e,n){var r,a,o,i,s;if(Array.isArray(e)||"string"==typeof e)for(r=new Array(e.length),a=0,o=e.length;a<o;a++)r[a]=n(e[a],a);else if("number"==typeof e)for(r=new Array(e),a=0;a<e;a++)r[a]=n(a+1,a);else if(isObject(e))if(L&&e[Symbol.iterator]){r=[];for(var l=e[Symbol.iterator](),c=l.next();!c.done;)r.push(n(c.value,r.length)),c=l.next()}else for(i=Object.keys(e),r=new Array(i.length),a=0,o=i.length;a<o;a++)s=i[a],r[a]=n(e[s],s,a);return isDef(r)||(r=[]),r._isVList=!0,r}function renderSlot(e,n,r,a){var o,i=this.$scopedSlots[e];i?(r=r||{},a&&(r=extend(extend({},a),r)),o=i(r)||n):o=this.$slots[e]||n;var s=r&&r.slot;return s?this.$createElement("template",{slot:s},o):o}function resolveFilter(e){return resolveAsset(this.$options,"filters",e)||identity}function isKeyNotMatch(e,n){return Array.isArray(e)?-1===e.indexOf(n):e!==n}function checkKeyCodes(e,n,r,a,o){var i=g.keyCodes[n]||r;return o&&a&&!g.keyCodes[n]?isKeyNotMatch(o,a):i?isKeyNotMatch(i,e):a?d(a)!==n:void 0}function bindObjectProps(e,n,r,a,i){if(r)if(isObject(r)){var s;Array.isArray(r)&&(r=toObject(r));var loop=function(c){if("class"===c||"style"===c||o(c))s=e;else{var u=e.attrs&&e.attrs.type;s=a||g.mustUseProp(n,u,c)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var p=l(c),f=d(c);p in s||f in s||(s[c]=r[c],i&&((e.on||(e.on={}))["update:"+c]=function(e){r[c]=e}))};for(var c in r)loop(c)}else;return e}function renderStatic(e,n){var r=this._staticTrees||(this._staticTrees=[]),a=r[e];return a&&!n||markStatic(a=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),"__static__"+e,!1),a}function markOnce(e,n,r){return markStatic(e,"__once__"+n+(r?"_"+r:""),!0),e}function markStatic(e,n,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)e[a]&&"string"!=typeof e[a]&&markStaticNode(e[a],n+"_"+a,r);else markStaticNode(e,n,r)}function markStaticNode(e,n,r){e.isStatic=!0,e.key=n,e.isOnce=r}function bindObjectListeners(e,n){if(n)if(isPlainObject(n)){var r=e.on=e.on?extend({},e.on):{};for(var a in n){var o=r[a],i=n[a];r[a]=o?[].concat(o,i):i}}else;return e}function resolveScopedSlots(e,n,r,a){n=n||{$stable:!r};for(var o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?resolveScopedSlots(i,n,r):i&&(i.proxy&&(i.fn.proxy=!0),n[i.key]=i.fn)}return a&&(n.$key=a),n}function bindDynamicKeys(e,n){for(var r=0;r<n.length;r+=2){var a=n[r];"string"==typeof a&&a&&(e[n[r]]=n[r+1])}return e}function prependModifier(e,n){return"string"==typeof e?n+e:e}function installRenderHelpers(e){e._o=markOnce,e._n=toNumber,e._s=toString,e._l=renderList,e._t=renderSlot,e._q=looseEqual,e._i=looseIndexOf,e._m=renderStatic,e._f=resolveFilter,e._k=checkKeyCodes,e._b=bindObjectProps,e._v=createTextVNode,e._e=createEmptyVNode,e._u=resolveScopedSlots,e._g=bindObjectListeners,e._d=bindDynamicKeys,e._p=prependModifier}function FunctionalRenderContext(e,n,a,o,i){var s,l=this,c=i.options;hasOwn(o,"_uid")?(s=Object.create(o))._original=o:(s=o,o=o._original);var u=isTrue(c._compiled),d=!u;this.data=e,this.props=n,this.children=a,this.parent=o,this.listeners=e.on||r,this.injections=resolveInject(c.inject,o),this.slots=function(){return l.$slots||normalizeScopedSlots(e.scopedSlots,l.$slots=resolveSlots(a,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function get(){return normalizeScopedSlots(e.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=normalizeScopedSlots(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,n,r,a){var i=createElement(s,e,n,r,a,d);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(e,n,r,a){return createElement(s,e,n,r,a,d)}}function cloneAndMarkFunctionalResult(e,n,r,a,o){var i=cloneVNode(e);return i.fnContext=r,i.fnOptions=a,n.slot&&((i.data||(i.data={})).slot=n.slot),i}function mergeProps(e,n){for(var r in n)e[l(r)]=n[r]}installRenderHelpers(FunctionalRenderContext.prototype);var se={init:function init(e,n){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;se.prepatch(r,r)}else{(e.componentInstance=function createComponentInstanceForVnode(e,n){var r={_isComponent:!0,_parentVnode:e,parent:n},a=e.data.inlineTemplate;isDef(a)&&(r.render=a.render,r.staticRenderFns=a.staticRenderFns);return new e.componentOptions.Ctor(r)}(e,de)).$mount(n?e.elm:void 0,n)}},prepatch:function prepatch(e,n){var a=n.componentOptions;!function updateChildComponent(e,n,a,o,i){0;var s=o.data.scopedSlots,l=e.$scopedSlots,c=!!(s&&!s.$stable||l!==r&&!l.$stable||s&&e.$scopedSlots.$key!==s.$key),u=!!(i||e.$options._renderChildren||c);e.$options._parentVnode=o,e.$vnode=o,e._vnode&&(e._vnode.parent=o);if(e.$options._renderChildren=i,e.$attrs=o.data.attrs||r,e.$listeners=a||r,n&&e.$options.props){toggleObserving(!1);for(var d=e._props,p=e.$options._propKeys||[],f=0;f<p.length;f++){var h=p[f],m=e.$options.props;d[h]=validateProp(h,m,n,e)}toggleObserving(!0),e.$options.propsData=n}a=a||r;var g=e.$options._parentListeners;e.$options._parentListeners=a,updateComponentListeners(e,a,g),u&&(e.$slots=resolveSlots(i,o.context),e.$forceUpdate());0}(n.componentInstance=e.componentInstance,a.propsData,a.listeners,n,a.children)},insert:function insert(e){var n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,callHook(r,"mounted")),e.data.keepAlive&&(n._isMounted?function queueActivatedComponent(e){e._inactive=!1,fe.push(e)}(r):activateChildComponent(r,!0))},destroy:function destroy(e){var n=e.componentInstance;n._isDestroyed||(e.data.keepAlive?deactivateChildComponent(n,!0):n.$destroy())}},le=Object.keys(se);function createComponent(e,n,a,o,i){if(!isUndef(e)){var s=a.$options._base;if(isObject(e)&&(e=s.extend(e)),"function"==typeof e){var l;if(isUndef(e.cid)&&void 0===(e=function resolveAsyncComponent(e,n){if(isTrue(e.error)&&isDef(e.errorComp))return e.errorComp;if(isDef(e.resolved))return e.resolved;var r=ue;r&&isDef(e.owners)&&-1===e.owners.indexOf(r)&&e.owners.push(r);if(isTrue(e.loading)&&isDef(e.loadingComp))return e.loadingComp;if(r&&!isDef(e.owners)){var a=e.owners=[r],o=!0,i=null,s=null;r.$on("hook:destroyed",(function(){return remove(a,r)}));var forceRender=function(e){for(var n=0,r=a.length;n<r;n++)a[n].$forceUpdate();e&&(a.length=0,null!==i&&(clearTimeout(i),i=null),null!==s&&(clearTimeout(s),s=null))},l=once((function(r){e.resolved=ensureCtor(r,n),o?a.length=0:forceRender(!0)})),c=once((function(n){isDef(e.errorComp)&&(e.error=!0,forceRender(!0))})),u=e(l,c);return isObject(u)&&(isPromise(u)?isUndef(e.resolved)&&u.then(l,c):isPromise(u.component)&&(u.component.then(l,c),isDef(u.error)&&(e.errorComp=ensureCtor(u.error,n)),isDef(u.loading)&&(e.loadingComp=ensureCtor(u.loading,n),0===u.delay?e.loading=!0:i=setTimeout((function(){i=null,isUndef(e.resolved)&&isUndef(e.error)&&(e.loading=!0,forceRender(!1))}),u.delay||200)),isDef(u.timeout)&&(s=setTimeout((function(){s=null,isUndef(e.resolved)&&c(null)}),u.timeout)))),o=!1,e.loading?e.loadingComp:e.resolved}}(l=e,s)))return function createAsyncPlaceholder(e,n,r,a,o){var i=createEmptyVNode();return i.asyncFactory=e,i.asyncMeta={data:n,context:r,children:a,tag:o},i}(l,n,a,o,i);n=n||{},resolveConstructorOptions(e),isDef(n.model)&&function transformModel(e,n){var r=e.model&&e.model.prop||"value",a=e.model&&e.model.event||"input";(n.attrs||(n.attrs={}))[r]=n.model.value;var o=n.on||(n.on={}),i=o[a],s=n.model.callback;isDef(i)?(Array.isArray(i)?-1===i.indexOf(s):i!==s)&&(o[a]=[s].concat(i)):o[a]=s}(e.options,n);var c=function extractPropsFromVNodeData(e,n,r){var a=n.options.props;if(!isUndef(a)){var o={},i=e.attrs,s=e.props;if(isDef(i)||isDef(s))for(var l in a){var c=d(l);checkProp(o,s,l,c,!0)||checkProp(o,i,l,c,!1)}return o}}(n,e);if(isTrue(e.options.functional))return function createFunctionalComponent(e,n,a,o,i){var s=e.options,l={},c=s.props;if(isDef(c))for(var u in c)l[u]=validateProp(u,c,n||r);else isDef(a.attrs)&&mergeProps(l,a.attrs),isDef(a.props)&&mergeProps(l,a.props);var d=new FunctionalRenderContext(a,l,i,o,e),p=s.render.call(null,d._c,d);if(p instanceof U)return cloneAndMarkFunctionalResult(p,a,d.parent,s);if(Array.isArray(p)){for(var f=normalizeChildren(p)||[],h=new Array(f.length),m=0;m<f.length;m++)h[m]=cloneAndMarkFunctionalResult(f[m],a,d.parent,s);return h}}(e,c,n,a,o);var u=n.on;if(n.on=n.nativeOn,isTrue(e.options.abstract)){var p=n.slot;n={},p&&(n.slot=p)}!function installComponentHooks(e){for(var n=e.hook||(e.hook={}),r=0;r<le.length;r++){var a=le[r],o=n[a],i=se[a];o===i||o&&o._merged||(n[a]=o?mergeHook$1(i,o):i)}}(n);var f=e.options.name||i;return new U("vue-component-"+e.cid+(f?"-"+f:""),n,void 0,void 0,void 0,a,{Ctor:e,propsData:c,listeners:u,tag:i,children:o},l)}}}function mergeHook$1(e,n){var merged=function(r,a){e(r,a),n(r,a)};return merged._merged=!0,merged}function createElement(e,n,r,a,o,i){return(Array.isArray(r)||isPrimitive(r))&&(o=a,a=r,r=void 0),isTrue(i)&&(o=2),function _createElement(e,n,r,a,o){if(isDef(r)&&isDef(r.__ob__))return createEmptyVNode();isDef(r)&&isDef(r.is)&&(n=r.is);if(!n)return createEmptyVNode();0;Array.isArray(a)&&"function"==typeof a[0]&&((r=r||{}).scopedSlots={default:a[0]},a.length=0);2===o?a=normalizeChildren(a):1===o&&(a=function simpleNormalizeChildren(e){for(var n=0;n<e.length;n++)if(Array.isArray(e[n]))return Array.prototype.concat.apply([],e);return e}(a));var i,s;if("string"==typeof n){var l;s=e.$vnode&&e.$vnode.ns||g.getTagNamespace(n),i=g.isReservedTag(n)?new U(g.parsePlatformTagName(n),r,a,void 0,void 0,e):r&&r.pre||!isDef(l=resolveAsset(e.$options,"components",n))?new U(n,r,a,void 0,void 0,e):createComponent(l,r,e,a,n)}else i=createComponent(n,r,e,a);return Array.isArray(i)?i:isDef(i)?(isDef(s)&&applyNS(i,s),isDef(r)&&function registerDeepBindings(e){isObject(e.style)&&traverse(e.style);isObject(e.class)&&traverse(e.class)}(r),i):createEmptyVNode()}(e,n,r,a,o)}function applyNS(e,n,r){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,r=!0),isDef(e.children))for(var a=0,o=e.children.length;a<o;a++){var i=e.children[a];isDef(i.tag)&&(isUndef(i.ns)||isTrue(r)&&"svg"!==i.tag)&&applyNS(i,n,r)}}var ce,ue=null;function ensureCtor(e,n){return(e.__esModule||L&&"Module"===e[Symbol.toStringTag])&&(e=e.default),isObject(e)?n.extend(e):e}function isAsyncPlaceholder(e){return e.isComment&&e.asyncFactory}function getFirstComponentChild(e){if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];if(isDef(r)&&(isDef(r.componentOptions)||isAsyncPlaceholder(r)))return r}}function add(e,n){ce.$on(e,n)}function remove$1(e,n){ce.$off(e,n)}function createOnceHandler(e,n){var r=ce;return function onceHandler(){var a=n.apply(null,arguments);null!==a&&r.$off(e,onceHandler)}}function updateComponentListeners(e,n,r){ce=e,updateListeners(n,r||{},add,remove$1,createOnceHandler,e),ce=void 0}var de=null;function setActiveInstance(e){var n=de;return de=e,function(){de=n}}function isInInactiveTree(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function activateChildComponent(e,n){if(n){if(e._directInactive=!1,isInInactiveTree(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)activateChildComponent(e.$children[r]);callHook(e,"activated")}}function deactivateChildComponent(e,n){if(!(n&&(e._directInactive=!0,isInInactiveTree(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)deactivateChildComponent(e.$children[r]);callHook(e,"deactivated")}}function callHook(e,n){pushTarget();var r=e.$options[n],a=n+" hook";if(r)for(var o=0,i=r.length;o<i;o++)invokeWithErrorHandling(r[o],e,null,e,a);e._hasHookEvent&&e.$emit("hook:"+n),popTarget()}var pe=[],fe=[],he={},me=!1,ge=!1,ye=0;var be=0,ve=Date.now;if(w&&!O){var xe=window.performance;xe&&"function"==typeof xe.now&&ve()>document.createEvent("Event").timeStamp&&(ve=function(){return xe.now()})}function flushSchedulerQueue(){var e,n;for(be=ve(),ge=!0,pe.sort((function(e,n){return e.id-n.id})),ye=0;ye<pe.length;ye++)(e=pe[ye]).before&&e.before(),n=e.id,he[n]=null,e.run();var r=fe.slice(),a=pe.slice();!function resetSchedulerState(){ye=pe.length=fe.length=0,he={},me=ge=!1}(),function callActivatedHooks(e){for(var n=0;n<e.length;n++)e[n]._inactive=!0,activateChildComponent(e[n],!0)}(r),function callUpdatedHooks(e){var n=e.length;for(;n--;){var r=e[n],a=r.vm;a._watcher===r&&a._isMounted&&!a._isDestroyed&&callHook(a,"updated")}}(a),j&&g.devtools&&j.emit("flush")}var _e=0,we=function Watcher(e,n,r,a,o){this.vm=e,o&&(e._watcher=this),e._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync,this.before=a.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++_e,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new R,this.newDepIds=new R,this.expression="","function"==typeof n?this.getter=n:(this.getter=function parsePath(e){if(!b.test(e)){var n=e.split(".");return function(e){for(var r=0;r<n.length;r++){if(!e)return;e=e[n[r]]}return e}}}(n),this.getter||(this.getter=noop)),this.value=this.lazy?void 0:this.get()};we.prototype.get=function get(){var e;pushTarget(this);var n=this.vm;try{e=this.getter.call(n,n)}catch(St){if(!this.user)throw St;handleError(St,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&traverse(e),popTarget(),this.cleanupDeps()}return e},we.prototype.addDep=function addDep(e){var n=e.id;this.newDepIds.has(n)||(this.newDepIds.add(n),this.newDeps.push(e),this.depIds.has(n)||e.addSub(this))},we.prototype.cleanupDeps=function cleanupDeps(){for(var e=this.deps.length;e--;){var n=this.deps[e];this.newDepIds.has(n.id)||n.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},we.prototype.update=function update(){this.lazy?this.dirty=!0:this.sync?this.run():function queueWatcher(e){var n=e.id;if(null==he[n]){if(he[n]=!0,ge){for(var r=pe.length-1;r>ye&&pe[r].id>e.id;)r--;pe.splice(r+1,0,e)}else pe.push(e);me||(me=!0,nextTick(flushSchedulerQueue))}}(this)},we.prototype.run=function run(){if(this.active){var e=this.get();if(e!==this.value||isObject(e)||this.deep){var n=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,n)}catch(St){handleError(St,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,n)}}},we.prototype.evaluate=function evaluate(){this.value=this.get(),this.dirty=!1},we.prototype.depend=function depend(){for(var e=this.deps.length;e--;)this.deps[e].depend()},we.prototype.teardown=function teardown(){if(this.active){this.vm._isBeingDestroyed||remove(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var ke={enumerable:!0,configurable:!0,get:noop,set:noop};function proxy(e,n,r){ke.get=function proxyGetter(){return this[n][r]},ke.set=function proxySetter(e){this[n][r]=e},Object.defineProperty(e,r,ke)}function initState(e){e._watchers=[];var n=e.$options;n.props&&function initProps(e,n){var r=e.$options.propsData||{},a=e._props={},o=e.$options._propKeys=[];e.$parent&&toggleObserving(!1);var loop=function(i){o.push(i);var s=validateProp(i,n,r,e);defineReactive$$1(a,i,s),i in e||proxy(e,"_props",i)};for(var i in n)loop(i);toggleObserving(!0)}(e,n.props),n.methods&&function initMethods(e,n){e.$options.props;for(var r in n)e[r]="function"!=typeof n[r]?noop:p(n[r],e)}(e,n.methods),n.data?function initData(e){var n=e.$options.data;isPlainObject(n=e._data="function"==typeof n?function getData(e,n){pushTarget();try{return e.call(n,n)}catch(St){return handleError(St,n,"data()"),{}}finally{popTarget()}}(n,e):n||{})||(n={});var r=Object.keys(n),a=e.$options.props,o=(e.$options.methods,r.length);for(;o--;){var i=r[o];0,a&&hasOwn(a,i)||isReserved(i)||proxy(e,"_data",i)}observe(n,!0)}(e):observe(e._data={},!0),n.computed&&function initComputed(e,n){var r=e._computedWatchers=Object.create(null),a=isServerRendering();for(var o in n){var i=n[o],s="function"==typeof i?i:i.get;0,a||(r[o]=new we(e,s||noop,noop,Te)),o in e||defineComputed(e,o,i)}}(e,n.computed),n.watch&&n.watch!==M&&function initWatch(e,n){for(var r in n){var a=n[r];if(Array.isArray(a))for(var o=0;o<a.length;o++)createWatcher(e,r,a[o]);else createWatcher(e,r,a)}}(e,n.watch)}var Te={lazy:!0};function defineComputed(e,n,r){var a=!isServerRendering();"function"==typeof r?(ke.get=a?createComputedGetter(n):createGetterInvoker(r),ke.set=noop):(ke.get=r.get?a&&!1!==r.cache?createComputedGetter(n):createGetterInvoker(r.get):noop,ke.set=r.set||noop),Object.defineProperty(e,n,ke)}function createComputedGetter(e){return function computedGetter(){var n=this._computedWatchers&&this._computedWatchers[e];if(n)return n.dirty&&n.evaluate(),B.target&&n.depend(),n.value}}function createGetterInvoker(e){return function computedGetter(){return e.call(this,this)}}function createWatcher(e,n,r,a){return isPlainObject(r)&&(a=r,r=r.handler),"string"==typeof r&&(r=e[r]),e.$watch(n,r,a)}var Se=0;function resolveConstructorOptions(e){var n=e.options;if(e.super){var r=resolveConstructorOptions(e.super);if(r!==e.superOptions){e.superOptions=r;var a=function resolveModifiedOptions(e){var n,r=e.options,a=e.sealedOptions;for(var o in r)r[o]!==a[o]&&(n||(n={}),n[o]=r[o]);return n}(e);a&&extend(e.extendOptions,a),(n=e.options=mergeOptions(r,e.extendOptions)).name&&(n.components[n.name]=e)}}return n}function Vue(e){this._init(e)}function initExtend(e){e.cid=0;var n=1;e.extend=function(e){e=e||{};var r=this,a=r.cid,o=e._Ctor||(e._Ctor={});if(o[a])return o[a];var i=e.name||r.options.name;var s=function VueComponent(e){this._init(e)};return(s.prototype=Object.create(r.prototype)).constructor=s,s.cid=n++,s.options=mergeOptions(r.options,e),s.super=r,s.options.props&&function initProps$1(e){var n=e.options.props;for(var r in n)proxy(e.prototype,"_props",r)}(s),s.options.computed&&function initComputed$1(e){var n=e.options.computed;for(var r in n)defineComputed(e.prototype,r,n[r])}(s),s.extend=r.extend,s.mixin=r.mixin,s.use=r.use,h.forEach((function(e){s[e]=r[e]})),i&&(s.options.components[i]=s),s.superOptions=r.options,s.extendOptions=e,s.sealedOptions=extend({},s.options),o[a]=s,s}}function getComponentName(e){return e&&(e.Ctor.options.name||e.tag)}function matches(e,n){return Array.isArray(e)?e.indexOf(n)>-1:"string"==typeof e?e.split(",").indexOf(n)>-1:!!isRegExp(e)&&e.test(n)}function pruneCache(e,n){var r=e.cache,a=e.keys,o=e._vnode;for(var i in r){var s=r[i];if(s){var l=getComponentName(s.componentOptions);l&&!n(l)&&pruneCacheEntry(r,i,a,o)}}}function pruneCacheEntry(e,n,r,a){var o=e[n];!o||a&&o.tag===a.tag||o.componentInstance.$destroy(),e[n]=null,remove(r,n)}!function initMixin(e){e.prototype._init=function(e){var n=this;n._uid=Se++,n._isVue=!0,e&&e._isComponent?function initInternalComponent(e,n){var r=e.$options=Object.create(e.constructor.options),a=n._parentVnode;r.parent=n.parent,r._parentVnode=a;var o=a.componentOptions;r.propsData=o.propsData,r._parentListeners=o.listeners,r._renderChildren=o.children,r._componentTag=o.tag,n.render&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns)}(n,e):n.$options=mergeOptions(resolveConstructorOptions(n.constructor),e||{},n),n._renderProxy=n,n._self=n,function initLifecycle(e){var n=e.$options,r=n.parent;if(r&&!n.abstract){for(;r.$options.abstract&&r.$parent;)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function initEvents(e){e._events=Object.create(null),e._hasHookEvent=!1;var n=e.$options._parentListeners;n&&updateComponentListeners(e,n)}(n),function initRender(e){e._vnode=null,e._staticTrees=null;var n=e.$options,a=e.$vnode=n._parentVnode,o=a&&a.context;e.$slots=resolveSlots(n._renderChildren,o),e.$scopedSlots=r,e._c=function(n,r,a,o){return createElement(e,n,r,a,o,!1)},e.$createElement=function(n,r,a,o){return createElement(e,n,r,a,o,!0)};var i=a&&a.data;defineReactive$$1(e,"$attrs",i&&i.attrs||r,null,!0),defineReactive$$1(e,"$listeners",n._parentListeners||r,null,!0)}(n),callHook(n,"beforeCreate"),function initInjections(e){var n=resolveInject(e.$options.inject,e);n&&(toggleObserving(!1),Object.keys(n).forEach((function(r){defineReactive$$1(e,r,n[r])})),toggleObserving(!0))}(n),initState(n),function initProvide(e){var n=e.$options.provide;n&&(e._provided="function"==typeof n?n.call(e):n)}(n),callHook(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Vue),function stateMixin(e){var n={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",n),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=set,e.prototype.$delete=del,e.prototype.$watch=function(e,n,r){var a=this;if(isPlainObject(n))return createWatcher(a,e,n,r);(r=r||{}).user=!0;var o=new we(a,e,n,r);if(r.immediate)try{n.call(a,o.value)}catch(i){handleError(i,a,'callback for immediate watcher "'+o.expression+'"')}return function unwatchFn(){o.teardown()}}}(Vue),function eventsMixin(e){var n=/^hook:/;e.prototype.$on=function(e,r){var a=this;if(Array.isArray(e))for(var o=0,i=e.length;o<i;o++)a.$on(e[o],r);else(a._events[e]||(a._events[e]=[])).push(r),n.test(e)&&(a._hasHookEvent=!0);return a},e.prototype.$once=function(e,n){var r=this;function on(){r.$off(e,on),n.apply(r,arguments)}return on.fn=n,r.$on(e,on),r},e.prototype.$off=function(e,n){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var a=0,o=e.length;a<o;a++)r.$off(e[a],n);return r}var i,s=r._events[e];if(!s)return r;if(!n)return r._events[e]=null,r;for(var l=s.length;l--;)if((i=s[l])===n||i.fn===n){s.splice(l,1);break}return r},e.prototype.$emit=function(e){var n=this,r=n._events[e];if(r){r=r.length>1?toArray(r):r;for(var a=toArray(arguments,1),o='event handler for "'+e+'"',i=0,s=r.length;i<s;i++)invokeWithErrorHandling(r[i],n,a,n,o)}return n}}(Vue),function lifecycleMixin(e){e.prototype._update=function(e,n){var r=this,a=r.$el,o=r._vnode,i=setActiveInstance(r);r._vnode=e,r.$el=o?r.__patch__(o,e):r.__patch__(r.$el,e,n,!1),i(),a&&(a.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){callHook(e,"beforeDestroy"),e._isBeingDestroyed=!0;var n=e.$parent;!n||n._isBeingDestroyed||e.$options.abstract||remove(n.$children,e),e._watcher&&e._watcher.teardown();for(var r=e._watchers.length;r--;)e._watchers[r].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),callHook(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(Vue),function renderMixin(e){installRenderHelpers(e.prototype),e.prototype.$nextTick=function(e){return nextTick(e,this)},e.prototype._render=function(){var e,n=this,r=n.$options,a=r.render,o=r._parentVnode;o&&(n.$scopedSlots=normalizeScopedSlots(o.data.scopedSlots,n.$slots,n.$scopedSlots)),n.$vnode=o;try{ue=n,e=a.call(n._renderProxy,n.$createElement)}catch(St){handleError(St,n,"render"),e=n._vnode}finally{ue=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof U||(e=createEmptyVNode()),e.parent=o,e}}(Vue);var Oe=[String,RegExp,Array],Ce={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Oe,exclude:Oe,max:[String,Number]},created:function created(){this.cache=Object.create(null),this.keys=[]},destroyed:function destroyed(){for(var e in this.cache)pruneCacheEntry(this.cache,e,this.keys)},mounted:function mounted(){var e=this;this.$watch("include",(function(n){pruneCache(e,(function(e){return matches(n,e)}))})),this.$watch("exclude",(function(n){pruneCache(e,(function(e){return!matches(n,e)}))}))},render:function render(){var e=this.$slots.default,n=getFirstComponentChild(e),r=n&&n.componentOptions;if(r){var a=getComponentName(r),o=this.include,i=this.exclude;if(o&&(!a||!matches(o,a))||i&&a&&matches(i,a))return n;var s=this.cache,l=this.keys,c=null==n.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):n.key;s[c]?(n.componentInstance=s[c].componentInstance,remove(l,c),l.push(c)):(s[c]=n,l.push(c),this.max&&l.length>parseInt(this.max)&&pruneCacheEntry(s,l[0],l,this._vnode)),n.data.keepAlive=!0}return n||e&&e[0]}}};!function initGlobalAPI(e){var n={get:function(){return g}};Object.defineProperty(e,"config",n),e.util={warn:z,extend:extend,mergeOptions:mergeOptions,defineReactive:defineReactive$$1},e.set=set,e.delete=del,e.nextTick=nextTick,e.observable=function(e){return observe(e),e},e.options=Object.create(null),h.forEach((function(n){e.options[n+"s"]=Object.create(null)})),e.options._base=e,extend(e.options.components,Ce),function initUse(e){e.use=function(e){var n=this._installedPlugins||(this._installedPlugins=[]);if(n.indexOf(e)>-1)return this;var r=toArray(arguments,1);return r.unshift(this),"function"==typeof e.install?e.install.apply(e,r):"function"==typeof e&&e.apply(null,r),n.push(e),this}}(e),function initMixin$1(e){e.mixin=function(e){return this.options=mergeOptions(this.options,e),this}}(e),initExtend(e),function initAssetRegisters(e){h.forEach((function(n){e[n]=function(e,r){return r?("component"===n&&isPlainObject(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===n&&"function"==typeof r&&(r={bind:r,update:r}),this.options[n+"s"][e]=r,r):this.options[n+"s"][e]}}))}(e)}(Vue),Object.defineProperty(Vue.prototype,"$isServer",{get:isServerRendering}),Object.defineProperty(Vue.prototype,"$ssrContext",{get:function get(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Vue,"FunctionalRenderContext",{value:FunctionalRenderContext}),Vue.version="2.6.12";var Ae=makeMap("style,class"),Ie=makeMap("input,textarea,option,select,progress"),Ne=makeMap("contenteditable,draggable,spellcheck"),Me=makeMap("events,caret,typing,plaintext-only"),Ee=makeMap("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),De="http://www.w3.org/1999/xlink",isXlink=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},getXlinkProp=function(e){return isXlink(e)?e.slice(6,e.length):""},isFalsyAttrValue=function(e){return null==e||!1===e};function genClassForVnode(e){for(var n=e.data,r=e,a=e;isDef(a.componentInstance);)(a=a.componentInstance._vnode)&&a.data&&(n=mergeClassData(a.data,n));for(;isDef(r=r.parent);)r&&r.data&&(n=mergeClassData(n,r.data));return function renderClass(e,n){if(isDef(e)||isDef(n))return concat(e,stringifyClass(n));return""}(n.staticClass,n.class)}function mergeClassData(e,n){return{staticClass:concat(e.staticClass,n.staticClass),class:isDef(e.class)?[e.class,n.class]:n.class}}function concat(e,n){return e?n?e+" "+n:e:n||""}function stringifyClass(e){return Array.isArray(e)?function stringifyArray(e){for(var n,r="",a=0,o=e.length;a<o;a++)isDef(n=stringifyClass(e[a]))&&""!==n&&(r&&(r+=" "),r+=n);return r}(e):isObject(e)?function stringifyObject(e){var n="";for(var r in e)e[r]&&(n&&(n+=" "),n+=r);return n}(e):"string"==typeof e?e:""}var je={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Re=makeMap("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Le=makeMap("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),isReservedTag=function(e){return Re(e)||Le(e)};var Pe=Object.create(null);var Fe=makeMap("text,number,password,search,email,tel,url");var ze=Object.freeze({createElement:function createElement$1(e,n){var r=document.createElement(e);return"select"!==e||n.data&&n.data.attrs&&void 0!==n.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r},createElementNS:function createElementNS(e,n){return document.createElementNS(je[e],n)},createTextNode:function createTextNode(e){return document.createTextNode(e)},createComment:function createComment(e){return document.createComment(e)},insertBefore:function insertBefore(e,n,r){e.insertBefore(n,r)},removeChild:function removeChild(e,n){e.removeChild(n)},appendChild:function appendChild(e,n){e.appendChild(n)},parentNode:function parentNode(e){return e.parentNode},nextSibling:function nextSibling(e){return e.nextSibling},tagName:function tagName(e){return e.tagName},setTextContent:function setTextContent(e,n){e.textContent=n},setStyleScope:function setStyleScope(e,n){e.setAttribute(n,"")}}),$e={create:function create(e,n){registerRef(n)},update:function update(e,n){e.data.ref!==n.data.ref&&(registerRef(e,!0),registerRef(n))},destroy:function destroy(e){registerRef(e,!0)}};function registerRef(e,n){var r=e.data.ref;if(isDef(r)){var a=e.context,o=e.componentInstance||e.elm,i=a.$refs;n?Array.isArray(i[r])?remove(i[r],o):i[r]===o&&(i[r]=void 0):e.data.refInFor?Array.isArray(i[r])?i[r].indexOf(o)<0&&i[r].push(o):i[r]=[o]:i[r]=o}}var Be=new U("",{},[]),Ve=["create","activate","update","remove","destroy"];function sameVnode(e,n){return e.key===n.key&&(e.tag===n.tag&&e.isComment===n.isComment&&isDef(e.data)===isDef(n.data)&&function sameInputType(e,n){if("input"!==e.tag)return!0;var r,a=isDef(r=e.data)&&isDef(r=r.attrs)&&r.type,o=isDef(r=n.data)&&isDef(r=r.attrs)&&r.type;return a===o||Fe(a)&&Fe(o)}(e,n)||isTrue(e.isAsyncPlaceholder)&&e.asyncFactory===n.asyncFactory&&isUndef(n.asyncFactory.error))}function createKeyToOldIdx(e,n,r){var a,o,i={};for(a=n;a<=r;++a)isDef(o=e[a].key)&&(i[o]=a);return i}var Ue={create:updateDirectives,update:updateDirectives,destroy:function unbindDirectives(e){updateDirectives(e,Be)}};function updateDirectives(e,n){(e.data.directives||n.data.directives)&&function _update(e,n){var r,a,o,i=e===Be,s=n===Be,l=normalizeDirectives$1(e.data.directives,e.context),c=normalizeDirectives$1(n.data.directives,n.context),u=[],d=[];for(r in c)a=l[r],o=c[r],a?(o.oldValue=a.value,o.oldArg=a.arg,callHook$1(o,"update",n,e),o.def&&o.def.componentUpdated&&d.push(o)):(callHook$1(o,"bind",n,e),o.def&&o.def.inserted&&u.push(o));if(u.length){var callInsert=function(){for(var r=0;r<u.length;r++)callHook$1(u[r],"inserted",n,e)};i?mergeVNodeHook(n,"insert",callInsert):callInsert()}d.length&&mergeVNodeHook(n,"postpatch",(function(){for(var r=0;r<d.length;r++)callHook$1(d[r],"componentUpdated",n,e)}));if(!i)for(r in l)c[r]||callHook$1(l[r],"unbind",e,e,s)}(e,n)}var We=Object.create(null);function normalizeDirectives$1(e,n){var r,a,o=Object.create(null);if(!e)return o;for(r=0;r<e.length;r++)(a=e[r]).modifiers||(a.modifiers=We),o[getRawDirName(a)]=a,a.def=resolveAsset(n.$options,"directives",a.name);return o}function getRawDirName(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function callHook$1(e,n,r,a,o){var i=e.def&&e.def[n];if(i)try{i(r.elm,e,r,a,o)}catch(St){handleError(St,r.context,"directive "+e.name+" "+n+" hook")}}var He=[$e,Ue];function updateAttrs(e,n){var r=n.componentOptions;if(!(isDef(r)&&!1===r.Ctor.options.inheritAttrs||isUndef(e.data.attrs)&&isUndef(n.data.attrs))){var a,o,i=n.elm,s=e.data.attrs||{},l=n.data.attrs||{};for(a in isDef(l.__ob__)&&(l=n.data.attrs=extend({},l)),l)o=l[a],s[a]!==o&&setAttr(i,a,o);for(a in(O||A)&&l.value!==s.value&&setAttr(i,"value",l.value),s)isUndef(l[a])&&(isXlink(a)?i.removeAttributeNS(De,getXlinkProp(a)):Ne(a)||i.removeAttribute(a))}}function setAttr(e,n,r){e.tagName.indexOf("-")>-1?baseSetAttr(e,n,r):Ee(n)?isFalsyAttrValue(r)?e.removeAttribute(n):(r="allowfullscreen"===n&&"EMBED"===e.tagName?"true":n,e.setAttribute(n,r)):Ne(n)?e.setAttribute(n,function(e,n){return isFalsyAttrValue(n)||"false"===n?"false":"contenteditable"===e&&Me(n)?n:"true"}(n,r)):isXlink(n)?isFalsyAttrValue(r)?e.removeAttributeNS(De,getXlinkProp(n)):e.setAttributeNS(De,n,r):baseSetAttr(e,n,r)}function baseSetAttr(e,n,r){if(isFalsyAttrValue(r))e.removeAttribute(n);else{if(O&&!C&&"TEXTAREA"===e.tagName&&"placeholder"===n&&""!==r&&!e.__ieph){var blocker=function(n){n.stopImmediatePropagation(),e.removeEventListener("input",blocker)};e.addEventListener("input",blocker),e.__ieph=!0}e.setAttribute(n,r)}}var Ge={create:updateAttrs,update:updateAttrs};function updateClass(e,n){var r=n.elm,a=n.data,o=e.data;if(!(isUndef(a.staticClass)&&isUndef(a.class)&&(isUndef(o)||isUndef(o.staticClass)&&isUndef(o.class)))){var i=genClassForVnode(n),s=r._transitionClasses;isDef(s)&&(i=concat(i,stringifyClass(s))),i!==r._prevClass&&(r.setAttribute("class",i),r._prevClass=i)}}var qe,Ke={create:updateClass,update:updateClass};function createOnceHandler$1(e,n,r){var a=qe;return function onceHandler(){var o=n.apply(null,arguments);null!==o&&remove$2(e,onceHandler,r,a)}}var Xe=J&&!(N&&Number(N[1])<=53);function add$1(e,n,r,a){if(Xe){var o=be,i=n;n=i._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=o||e.timeStamp<=0||e.target.ownerDocument!==document)return i.apply(this,arguments)}}qe.addEventListener(e,n,E?{capture:r,passive:a}:r)}function remove$2(e,n,r,a){(a||qe).removeEventListener(e,n._wrapper||n,r)}function updateDOMListeners(e,n){if(!isUndef(e.data.on)||!isUndef(n.data.on)){var r=n.data.on||{},a=e.data.on||{};qe=n.elm,function normalizeEvents(e){if(isDef(e.__r)){var n=O?"change":"input";e[n]=[].concat(e.__r,e[n]||[]),delete e.__r}isDef(e.__c)&&(e.change=[].concat(e.__c,e.change||[]),delete e.__c)}(r),updateListeners(r,a,add$1,remove$2,createOnceHandler$1,n.context),qe=void 0}}var Ye,Ze={create:updateDOMListeners,update:updateDOMListeners};function updateDOMProps(e,n){if(!isUndef(e.data.domProps)||!isUndef(n.data.domProps)){var r,a,o=n.elm,i=e.data.domProps||{},s=n.data.domProps||{};for(r in isDef(s.__ob__)&&(s=n.data.domProps=extend({},s)),i)r in s||(o[r]="");for(r in s){if(a=s[r],"textContent"===r||"innerHTML"===r){if(n.children&&(n.children.length=0),a===i[r])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===r&&"PROGRESS"!==o.tagName){o._value=a;var l=isUndef(a)?"":String(a);shouldUpdateValue(o,l)&&(o.value=l)}else if("innerHTML"===r&&Le(o.tagName)&&isUndef(o.innerHTML)){(Ye=Ye||document.createElement("div")).innerHTML="<svg>"+a+"</svg>";for(var c=Ye.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}else if(a!==i[r])try{o[r]=a}catch(St){}}}}function shouldUpdateValue(e,n){return!e.composing&&("OPTION"===e.tagName||function isNotInFocusAndDirty(e,n){var r=!0;try{r=document.activeElement!==e}catch(St){}return r&&e.value!==n}(e,n)||function isDirtyWithModifiers(e,n){var r=e.value,a=e._vModifiers;if(isDef(a)){if(a.number)return toNumber(r)!==toNumber(n);if(a.trim)return r.trim()!==n.trim()}return r!==n}(e,n))}var Je={create:updateDOMProps,update:updateDOMProps},Qe=cached((function(e){var n={},r=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var a=e.split(r);a.length>1&&(n[a[0].trim()]=a[1].trim())}})),n}));function normalizeStyleData(e){var n=normalizeStyleBinding(e.style);return e.staticStyle?extend(e.staticStyle,n):n}function normalizeStyleBinding(e){return Array.isArray(e)?toObject(e):"string"==typeof e?Qe(e):e}var et,tt=/^--/,nt=/\s*!important$/,setProp=function(e,n,r){if(tt.test(n))e.style.setProperty(n,r);else if(nt.test(r))e.style.setProperty(d(n),r.replace(nt,""),"important");else{var a=at(n);if(Array.isArray(r))for(var o=0,i=r.length;o<i;o++)e.style[a]=r[o];else e.style[a]=r}},rt=["Webkit","Moz","ms"],at=cached((function(e){if(et=et||document.createElement("div").style,"filter"!==(e=l(e))&&e in et)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<rt.length;r++){var a=rt[r]+n;if(a in et)return a}}));function updateStyle(e,n){var r=n.data,a=e.data;if(!(isUndef(r.staticStyle)&&isUndef(r.style)&&isUndef(a.staticStyle)&&isUndef(a.style))){var o,i,s=n.elm,l=a.staticStyle,c=a.normalizedStyle||a.style||{},u=l||c,d=normalizeStyleBinding(n.data.style)||{};n.data.normalizedStyle=isDef(d.__ob__)?extend({},d):d;var p=function getStyle(e,n){var r,a={};if(n)for(var o=e;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(r=normalizeStyleData(o.data))&&extend(a,r);(r=normalizeStyleData(e.data))&&extend(a,r);for(var i=e;i=i.parent;)i.data&&(r=normalizeStyleData(i.data))&&extend(a,r);return a}(n,!0);for(i in u)isUndef(p[i])&&setProp(s,i,"");for(i in p)(o=p[i])!==u[i]&&setProp(s,i,null==o?"":o)}}var ot={create:updateStyle,update:updateStyle},it=/\s+/;function addClass(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(it).forEach((function(n){return e.classList.add(n)})):e.classList.add(n);else{var r=" "+(e.getAttribute("class")||"")+" ";r.indexOf(" "+n+" ")<0&&e.setAttribute("class",(r+n).trim())}}function removeClass(e,n){if(n&&(n=n.trim()))if(e.classList)n.indexOf(" ")>-1?n.split(it).forEach((function(n){return e.classList.remove(n)})):e.classList.remove(n),e.classList.length||e.removeAttribute("class");else{for(var r=" "+(e.getAttribute("class")||"")+" ",a=" "+n+" ";r.indexOf(a)>=0;)r=r.replace(a," ");(r=r.trim())?e.setAttribute("class",r):e.removeAttribute("class")}}function resolveTransition(e){if(e){if("object"==typeof e){var n={};return!1!==e.css&&extend(n,st(e.name||"v")),extend(n,e),n}return"string"==typeof e?st(e):void 0}}var st=cached((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),lt=w&&!C,ct="transition",ut="animation",dt="transition",ft="transitionend",ht="animation",mt="animationend";lt&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(dt="WebkitTransition",ft="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ht="WebkitAnimation",mt="webkitAnimationEnd"));var gt=w?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function nextFrame(e){gt((function(){gt(e)}))}function addTransitionClass(e,n){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(n)<0&&(r.push(n),addClass(e,n))}function removeTransitionClass(e,n){e._transitionClasses&&remove(e._transitionClasses,n),removeClass(e,n)}function whenTransitionEnds(e,n,r){var a=getTransitionInfo(e,n),o=a.type,i=a.timeout,s=a.propCount;if(!o)return r();var l=o===ct?ft:mt,c=0,end=function(){e.removeEventListener(l,onEnd),r()},onEnd=function(n){n.target===e&&++c>=s&&end()};setTimeout((function(){c<s&&end()}),i+1),e.addEventListener(l,onEnd)}var yt=/\b(transform|all)(,|$)/;function getTransitionInfo(e,n){var r,a=window.getComputedStyle(e),o=(a[dt+"Delay"]||"").split(", "),i=(a[dt+"Duration"]||"").split(", "),s=getTimeout(o,i),l=(a[ht+"Delay"]||"").split(", "),c=(a[ht+"Duration"]||"").split(", "),u=getTimeout(l,c),d=0,p=0;return n===ct?s>0&&(r=ct,d=s,p=i.length):n===ut?u>0&&(r=ut,d=u,p=c.length):p=(r=(d=Math.max(s,u))>0?s>u?ct:ut:null)?r===ct?i.length:c.length:0,{type:r,timeout:d,propCount:p,hasTransform:r===ct&&yt.test(a[dt+"Property"])}}function getTimeout(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max.apply(null,n.map((function(n,r){return toMs(n)+toMs(e[r])})))}function toMs(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function enter(e,n){var r=e.elm;isDef(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var a=resolveTransition(e.data.transition);if(!isUndef(a)&&!isDef(r._enterCb)&&1===r.nodeType){for(var o=a.css,i=a.type,s=a.enterClass,l=a.enterToClass,c=a.enterActiveClass,u=a.appearClass,d=a.appearToClass,p=a.appearActiveClass,f=a.beforeEnter,h=a.enter,m=a.afterEnter,g=a.enterCancelled,y=a.beforeAppear,b=a.appear,x=a.afterAppear,_=a.appearCancelled,w=a.duration,k=de,T=de.$vnode;T&&T.parent;)k=T.context,T=T.parent;var S=!k._isMounted||!e.isRootInsert;if(!S||b||""===b){var O=S&&u?u:s,A=S&&p?p:c,I=S&&d?d:l,N=S&&y||f,M=S&&"function"==typeof b?b:h,E=S&&x||m,D=S&&_||g,j=toNumber(isObject(w)?w.enter:w);0;var R=!1!==o&&!C,L=getHookArgumentsLength(M),z=r._enterCb=once((function(){R&&(removeTransitionClass(r,I),removeTransitionClass(r,A)),z.cancelled?(R&&removeTransitionClass(r,O),D&&D(r)):E&&E(r),r._enterCb=null}));e.data.show||mergeVNodeHook(e,"insert",(function(){var n=r.parentNode,a=n&&n._pending&&n._pending[e.key];a&&a.tag===e.tag&&a.elm._leaveCb&&a.elm._leaveCb(),M&&M(r,z)})),N&&N(r),R&&(addTransitionClass(r,O),addTransitionClass(r,A),nextFrame((function(){removeTransitionClass(r,O),z.cancelled||(addTransitionClass(r,I),L||(isValidDuration(j)?setTimeout(z,j):whenTransitionEnds(r,i,z)))}))),e.data.show&&(n&&n(),M&&M(r,z)),R||L||z()}}}function leave(e,n){var r=e.elm;isDef(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=resolveTransition(e.data.transition);if(isUndef(a)||1!==r.nodeType)return n();if(!isDef(r._leaveCb)){var o=a.css,i=a.type,s=a.leaveClass,l=a.leaveToClass,c=a.leaveActiveClass,u=a.beforeLeave,d=a.leave,p=a.afterLeave,f=a.leaveCancelled,h=a.delayLeave,m=a.duration,g=!1!==o&&!C,y=getHookArgumentsLength(d),b=toNumber(isObject(m)?m.leave:m);0;var x=r._leaveCb=once((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),g&&(removeTransitionClass(r,l),removeTransitionClass(r,c)),x.cancelled?(g&&removeTransitionClass(r,s),f&&f(r)):(n(),p&&p(r)),r._leaveCb=null}));h?h(performLeave):performLeave()}function performLeave(){x.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),u&&u(r),g&&(addTransitionClass(r,s),addTransitionClass(r,c),nextFrame((function(){removeTransitionClass(r,s),x.cancelled||(addTransitionClass(r,l),y||(isValidDuration(b)?setTimeout(x,b):whenTransitionEnds(r,i,x)))}))),d&&d(r,x),g||y||x())}}function isValidDuration(e){return"number"==typeof e&&!isNaN(e)}function getHookArgumentsLength(e){if(isUndef(e))return!1;var n=e.fns;return isDef(n)?getHookArgumentsLength(Array.isArray(n)?n[0]:n):(e._length||e.length)>1}function _enter(e,n){!0!==n.data.show&&enter(n)}var bt=function createPatchFunction(e){var n,r,a={},o=e.modules,i=e.nodeOps;for(n=0;n<Ve.length;++n)for(a[Ve[n]]=[],r=0;r<o.length;++r)isDef(o[r][Ve[n]])&&a[Ve[n]].push(o[r][Ve[n]]);function removeNode(e){var n=i.parentNode(e);isDef(n)&&i.removeChild(n,e)}function createElm(e,n,r,o,s,l,c){if(isDef(e.elm)&&isDef(l)&&(e=l[c]=cloneVNode(e)),e.isRootInsert=!s,!function createComponent(e,n,r,o){var i=e.data;if(isDef(i)){var s=isDef(e.componentInstance)&&i.keepAlive;if(isDef(i=i.hook)&&isDef(i=i.init)&&i(e,!1),isDef(e.componentInstance))return initComponent(e,n),insert(r,e.elm,o),isTrue(s)&&function reactivateComponent(e,n,r,o){var i,s=e;for(;s.componentInstance;)if(isDef(i=(s=s.componentInstance._vnode).data)&&isDef(i=i.transition)){for(i=0;i<a.activate.length;++i)a.activate[i](Be,s);n.push(s);break}insert(r,e.elm,o)}(e,n,r,o),!0}}(e,n,r,o)){var u=e.data,d=e.children,p=e.tag;isDef(p)?(e.elm=e.ns?i.createElementNS(e.ns,p):i.createElement(p,e),setScope(e),createChildren(e,d,n),isDef(u)&&invokeCreateHooks(e,n),insert(r,e.elm,o)):isTrue(e.isComment)?(e.elm=i.createComment(e.text),insert(r,e.elm,o)):(e.elm=i.createTextNode(e.text),insert(r,e.elm,o))}}function initComponent(e,n){isDef(e.data.pendingInsert)&&(n.push.apply(n,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,isPatchable(e)?(invokeCreateHooks(e,n),setScope(e)):(registerRef(e),n.push(e))}function insert(e,n,r){isDef(e)&&(isDef(r)?i.parentNode(r)===e&&i.insertBefore(e,n,r):i.appendChild(e,n))}function createChildren(e,n,r){if(Array.isArray(n)){0;for(var a=0;a<n.length;++a)createElm(n[a],r,e.elm,null,!0,n,a)}else isPrimitive(e.text)&&i.appendChild(e.elm,i.createTextNode(String(e.text)))}function isPatchable(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return isDef(e.tag)}function invokeCreateHooks(e,r){for(var o=0;o<a.create.length;++o)a.create[o](Be,e);isDef(n=e.data.hook)&&(isDef(n.create)&&n.create(Be,e),isDef(n.insert)&&r.push(e))}function setScope(e){var n;if(isDef(n=e.fnScopeId))i.setStyleScope(e.elm,n);else for(var r=e;r;)isDef(n=r.context)&&isDef(n=n.$options._scopeId)&&i.setStyleScope(e.elm,n),r=r.parent;isDef(n=de)&&n!==e.context&&n!==e.fnContext&&isDef(n=n.$options._scopeId)&&i.setStyleScope(e.elm,n)}function addVnodes(e,n,r,a,o,i){for(;a<=o;++a)createElm(r[a],i,e,n,!1,r,a)}function invokeDestroyHook(e){var n,r,o=e.data;if(isDef(o))for(isDef(n=o.hook)&&isDef(n=n.destroy)&&n(e),n=0;n<a.destroy.length;++n)a.destroy[n](e);if(isDef(n=e.children))for(r=0;r<e.children.length;++r)invokeDestroyHook(e.children[r])}function removeVnodes(e,n,r){for(;n<=r;++n){var a=e[n];isDef(a)&&(isDef(a.tag)?(removeAndInvokeRemoveHook(a),invokeDestroyHook(a)):removeNode(a.elm))}}function removeAndInvokeRemoveHook(e,n){if(isDef(n)||isDef(e.data)){var r,o=a.remove.length+1;for(isDef(n)?n.listeners+=o:n=function createRmCb(e,n){function remove$$1(){0==--remove$$1.listeners&&removeNode(e)}return remove$$1.listeners=n,remove$$1}(e.elm,o),isDef(r=e.componentInstance)&&isDef(r=r._vnode)&&isDef(r.data)&&removeAndInvokeRemoveHook(r,n),r=0;r<a.remove.length;++r)a.remove[r](e,n);isDef(r=e.data.hook)&&isDef(r=r.remove)?r(e,n):n()}else removeNode(e.elm)}function findIdxInOld(e,n,r,a){for(var o=r;o<a;o++){var i=n[o];if(isDef(i)&&sameVnode(e,i))return o}}function patchVnode(e,n,r,o,s,l){if(e!==n){isDef(n.elm)&&isDef(o)&&(n=o[s]=cloneVNode(n));var c=n.elm=e.elm;if(isTrue(e.isAsyncPlaceholder))isDef(n.asyncFactory.resolved)?hydrate(e.elm,n,r):n.isAsyncPlaceholder=!0;else if(isTrue(n.isStatic)&&isTrue(e.isStatic)&&n.key===e.key&&(isTrue(n.isCloned)||isTrue(n.isOnce)))n.componentInstance=e.componentInstance;else{var u,d=n.data;isDef(d)&&isDef(u=d.hook)&&isDef(u=u.prepatch)&&u(e,n);var p=e.children,f=n.children;if(isDef(d)&&isPatchable(n)){for(u=0;u<a.update.length;++u)a.update[u](e,n);isDef(u=d.hook)&&isDef(u=u.update)&&u(e,n)}isUndef(n.text)?isDef(p)&&isDef(f)?p!==f&&function updateChildren(e,n,r,a,o){var s,l,c,u=0,d=0,p=n.length-1,f=n[0],h=n[p],m=r.length-1,g=r[0],y=r[m],b=!o;for(;u<=p&&d<=m;)isUndef(f)?f=n[++u]:isUndef(h)?h=n[--p]:sameVnode(f,g)?(patchVnode(f,g,a,r,d),f=n[++u],g=r[++d]):sameVnode(h,y)?(patchVnode(h,y,a,r,m),h=n[--p],y=r[--m]):sameVnode(f,y)?(patchVnode(f,y,a,r,m),b&&i.insertBefore(e,f.elm,i.nextSibling(h.elm)),f=n[++u],y=r[--m]):sameVnode(h,g)?(patchVnode(h,g,a,r,d),b&&i.insertBefore(e,h.elm,f.elm),h=n[--p],g=r[++d]):(isUndef(s)&&(s=createKeyToOldIdx(n,u,p)),isUndef(l=isDef(g.key)?s[g.key]:findIdxInOld(g,n,u,p))?createElm(g,a,e,f.elm,!1,r,d):sameVnode(c=n[l],g)?(patchVnode(c,g,a,r,d),n[l]=void 0,b&&i.insertBefore(e,c.elm,f.elm)):createElm(g,a,e,f.elm,!1,r,d),g=r[++d]);u>p?addVnodes(e,isUndef(r[m+1])?null:r[m+1].elm,r,d,m,a):d>m&&removeVnodes(n,u,p)}(c,p,f,r,l):isDef(f)?(isDef(e.text)&&i.setTextContent(c,""),addVnodes(c,null,f,0,f.length-1,r)):isDef(p)?removeVnodes(p,0,p.length-1):isDef(e.text)&&i.setTextContent(c,""):e.text!==n.text&&i.setTextContent(c,n.text),isDef(d)&&isDef(u=d.hook)&&isDef(u=u.postpatch)&&u(e,n)}}}function invokeInsertHook(e,n,r){if(isTrue(r)&&isDef(e.parent))e.parent.data.pendingInsert=n;else for(var a=0;a<n.length;++a)n[a].data.hook.insert(n[a])}var s=makeMap("attrs,class,staticClass,staticStyle,key");function hydrate(e,n,r,a){var o,i=n.tag,l=n.data,c=n.children;if(a=a||l&&l.pre,n.elm=e,isTrue(n.isComment)&&isDef(n.asyncFactory))return n.isAsyncPlaceholder=!0,!0;if(isDef(l)&&(isDef(o=l.hook)&&isDef(o=o.init)&&o(n,!0),isDef(o=n.componentInstance)))return initComponent(n,r),!0;if(isDef(i)){if(isDef(c))if(e.hasChildNodes())if(isDef(o=l)&&isDef(o=o.domProps)&&isDef(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var u=!0,d=e.firstChild,p=0;p<c.length;p++){if(!d||!hydrate(d,c[p],r,a)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else createChildren(n,c,r);if(isDef(l)){var f=!1;for(var h in l)if(!s(h)){f=!0,invokeCreateHooks(n,r);break}!f&&l.class&&traverse(l.class)}}else e.data!==n.text&&(e.data=n.text);return!0}return function patch(e,n,r,o){if(!isUndef(n)){var s=!1,l=[];if(isUndef(e))s=!0,createElm(n,l);else{var c=isDef(e.nodeType);if(!c&&sameVnode(e,n))patchVnode(e,n,l,null,null,o);else{if(c){if(1===e.nodeType&&e.hasAttribute(f)&&(e.removeAttribute(f),r=!0),isTrue(r)&&hydrate(e,n,l))return invokeInsertHook(n,l,!0),e;e=function emptyNodeAt(e){return new U(i.tagName(e).toLowerCase(),{},[],void 0,e)}(e)}var u=e.elm,d=i.parentNode(u);if(createElm(n,l,u._leaveCb?null:d,i.nextSibling(u)),isDef(n.parent))for(var p=n.parent,h=isPatchable(n);p;){for(var m=0;m<a.destroy.length;++m)a.destroy[m](p);if(p.elm=n.elm,h){for(var g=0;g<a.create.length;++g)a.create[g](Be,p);var y=p.data.hook.insert;if(y.merged)for(var b=1;b<y.fns.length;b++)y.fns[b]()}else registerRef(p);p=p.parent}isDef(d)?removeVnodes([e],0,0):isDef(e.tag)&&invokeDestroyHook(e)}}return invokeInsertHook(n,l,s),n.elm}isDef(e)&&invokeDestroyHook(e)}}({nodeOps:ze,modules:[Ge,Ke,Ze,Je,ot,w?{create:_enter,activate:_enter,remove:function remove$$1(e,n){!0!==e.data.show?leave(e,n):n()}}:{}].concat(He)});C&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&trigger(e,"input")}));var vt={inserted:function inserted(e,n,r,a){"select"===r.tag?(a.elm&&!a.elm._vOptions?mergeVNodeHook(r,"postpatch",(function(){vt.componentUpdated(e,n,r)})):setSelected(e,n,r.context),e._vOptions=[].map.call(e.options,getValue)):("textarea"===r.tag||Fe(e.type))&&(e._vModifiers=n.modifiers,n.modifiers.lazy||(e.addEventListener("compositionstart",onCompositionStart),e.addEventListener("compositionend",onCompositionEnd),e.addEventListener("change",onCompositionEnd),C&&(e.vmodel=!0)))},componentUpdated:function componentUpdated(e,n,r){if("select"===r.tag){setSelected(e,n,r.context);var a=e._vOptions,o=e._vOptions=[].map.call(e.options,getValue);if(o.some((function(e,n){return!looseEqual(e,a[n])})))(e.multiple?n.value.some((function(e){return hasNoMatchingOption(e,o)})):n.value!==n.oldValue&&hasNoMatchingOption(n.value,o))&&trigger(e,"change")}}};function setSelected(e,n,r){actuallySetSelected(e,n,r),(O||A)&&setTimeout((function(){actuallySetSelected(e,n,r)}),0)}function actuallySetSelected(e,n,r){var a=n.value,o=e.multiple;if(!o||Array.isArray(a)){for(var i,s,l=0,c=e.options.length;l<c;l++)if(s=e.options[l],o)i=looseIndexOf(a,getValue(s))>-1,s.selected!==i&&(s.selected=i);else if(looseEqual(getValue(s),a))return void(e.selectedIndex!==l&&(e.selectedIndex=l));o||(e.selectedIndex=-1)}}function hasNoMatchingOption(e,n){return n.every((function(n){return!looseEqual(n,e)}))}function getValue(e){return"_value"in e?e._value:e.value}function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){e.target.composing&&(e.target.composing=!1,trigger(e.target,"input"))}function trigger(e,n){var r=document.createEvent("HTMLEvents");r.initEvent(n,!0,!0),e.dispatchEvent(r)}function locateNode(e){return!e.componentInstance||e.data&&e.data.transition?e:locateNode(e.componentInstance._vnode)}var xt={model:vt,show:{bind:function bind(e,n,r){var a=n.value,o=(r=locateNode(r)).data&&r.data.transition,i=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;a&&o?(r.data.show=!0,enter(r,(function(){e.style.display=i}))):e.style.display=a?i:"none"},update:function update(e,n,r){var a=n.value;!a!=!n.oldValue&&((r=locateNode(r)).data&&r.data.transition?(r.data.show=!0,a?enter(r,(function(){e.style.display=e.__vOriginalDisplay})):leave(r,(function(){e.style.display="none"}))):e.style.display=a?e.__vOriginalDisplay:"none")},unbind:function unbind(e,n,r,a,o){o||(e.style.display=e.__vOriginalDisplay)}}},_t={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function getRealChild(e){var n=e&&e.componentOptions;return n&&n.Ctor.options.abstract?getRealChild(getFirstComponentChild(n.children)):e}function extractTransitionData(e){var n={},r=e.$options;for(var a in r.propsData)n[a]=e[a];var o=r._parentListeners;for(var i in o)n[l(i)]=o[i];return n}function placeholder(e,n){if(/\d-keep-alive$/.test(n.tag))return e("keep-alive",{props:n.componentOptions.propsData})}var isNotTextNode=function(e){return e.tag||isAsyncPlaceholder(e)},isVShowDirective=function(e){return"show"===e.name},wt={name:"transition",props:_t,abstract:!0,render:function render(e){var n=this,r=this.$slots.default;if(r&&(r=r.filter(isNotTextNode)).length){0;var a=this.mode;0;var o=r[0];if(function hasParentTransition(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var i=getRealChild(o);if(!i)return o;if(this._leaving)return placeholder(e,o);var s="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?s+"comment":s+i.tag:isPrimitive(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var l=(i.data||(i.data={})).transition=extractTransitionData(this),c=this._vnode,u=getRealChild(c);if(i.data.directives&&i.data.directives.some(isVShowDirective)&&(i.data.show=!0),u&&u.data&&!function isSameChild(e,n){return n.key===e.key&&n.tag===e.tag}(i,u)&&!isAsyncPlaceholder(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=extend({},l);if("out-in"===a)return this._leaving=!0,mergeVNodeHook(d,"afterLeave",(function(){n._leaving=!1,n.$forceUpdate()})),placeholder(e,o);if("in-out"===a){if(isAsyncPlaceholder(i))return c;var p,performLeave=function(){p()};mergeVNodeHook(l,"afterEnter",performLeave),mergeVNodeHook(l,"enterCancelled",performLeave),mergeVNodeHook(d,"delayLeave",(function(e){p=e}))}}return o}}},kt=extend({tag:String,moveClass:String},_t);function callPendingCbs(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function recordPosition(e){e.data.newPos=e.elm.getBoundingClientRect()}function applyTranslation(e){var n=e.data.pos,r=e.data.newPos,a=n.left-r.left,o=n.top-r.top;if(a||o){e.data.moved=!0;var i=e.elm.style;i.transform=i.WebkitTransform="translate("+a+"px,"+o+"px)",i.transitionDuration="0s"}}delete kt.mode;var Tt={Transition:wt,TransitionGroup:{props:kt,beforeMount:function beforeMount(){var e=this,n=this._update;this._update=function(r,a){var o=setActiveInstance(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,o(),n.call(e,r,a)}},render:function render(e){for(var n=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),a=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=extractTransitionData(this),l=0;l<o.length;l++){var c=o[l];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))i.push(c),r[c.key]=c,(c.data||(c.data={})).transition=s;else;}if(a){for(var u=[],d=[],p=0;p<a.length;p++){var f=a[p];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?u.push(f):d.push(f)}this.kept=e(n,null,u),this.removed=d}return e(n,null,i)},updated:function updated(){var e=this.prevChildren,n=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,n)&&(e.forEach(callPendingCbs),e.forEach(recordPosition),e.forEach(applyTranslation),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var r=e.elm,a=r.style;addTransitionClass(r,n),a.transform=a.WebkitTransform=a.transitionDuration="",r.addEventListener(ft,r._moveCb=function cb(e){e&&e.target!==r||e&&!/transform$/.test(e.propertyName)||(r.removeEventListener(ft,cb),r._moveCb=null,removeTransitionClass(r,n))})}})))},methods:{hasMove:function hasMove(e,n){if(!lt)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){removeClass(r,e)})),addClass(r,n),r.style.display="none",this.$el.appendChild(r);var a=getTransitionInfo(r);return this.$el.removeChild(r),this._hasMove=a.hasTransform}}}};Vue.config.mustUseProp=function(e,n,r){return"value"===r&&Ie(e)&&"button"!==n||"selected"===r&&"option"===e||"checked"===r&&"input"===e||"muted"===r&&"video"===e},Vue.config.isReservedTag=isReservedTag,Vue.config.isReservedAttr=Ae,Vue.config.getTagNamespace=function getTagNamespace(e){return Le(e)?"svg":"math"===e?"math":void 0},Vue.config.isUnknownElement=function isUnknownElement(e){if(!w)return!0;if(isReservedTag(e))return!1;if(e=e.toLowerCase(),null!=Pe[e])return Pe[e];var n=document.createElement(e);return e.indexOf("-")>-1?Pe[e]=n.constructor===window.HTMLUnknownElement||n.constructor===window.HTMLElement:Pe[e]=/HTMLUnknownElement/.test(n.toString())},extend(Vue.options.directives,xt),extend(Vue.options.components,Tt),Vue.prototype.__patch__=w?bt:noop,Vue.prototype.$mount=function(e,n){return function mountComponent(e,n,r){var a;return e.$el=n,e.$options.render||(e.$options.render=createEmptyVNode),callHook(e,"beforeMount"),a=function(){e._update(e._render(),r)},new we(e,a,noop,{before:function before(){e._isMounted&&!e._isDestroyed&&callHook(e,"beforeUpdate")}},!0),r=!1,null==e.$vnode&&(e._isMounted=!0,callHook(e,"mounted")),e}(this,e=e&&w?function query(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,n)},w&&setTimeout((function(){g.devtools&&j&&j.emit("init",Vue)}),0),n.default=Vue}.call(this,r("c8ba"))},"2bb5":function(e,n,r){"use strict";n.__esModule=!0;r("8122");n.default={mounted:function mounted(){},methods:{getMigratingConfig:function getMigratingConfig(){return{props:{},events:{}}}}}},"2c8d":function(e,n,r){"use strict";(function(n){var a,o=r("dcf3");a="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:o,e.exports=a}).call(this,r("c8ba"))},"2c94":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^e^e<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),a==r.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n.v=e.v,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorwow=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"2cf4":function(e,n,r){var a,o,i,s=r("da84"),l=r("d039"),c=r("0366"),u=r("1be4"),d=r("cc12"),p=r("1cdc"),f=r("605d"),h=s.location,m=s.setImmediate,g=s.clearImmediate,y=s.process,b=s.MessageChannel,x=s.Dispatch,_=0,w={},k="onreadystatechange",run=function(e){if(w.hasOwnProperty(e)){var n=w[e];delete w[e],n()}},runner=function(e){return function(){run(e)}},listener=function(e){run(e.data)},post=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};m&&g||(m=function setImmediate(e){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return w[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,n)},a(_),_},g=function clearImmediate(e){delete w[e]},f?a=function(e){y.nextTick(runner(e))}:x&&x.now?a=function(e){x.now(runner(e))}:b&&!p?(i=(o=new b).port2,o.port1.onmessage=listener,a=c(i.postMessage,i,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts&&h&&"file:"!==h.protocol&&!l(post)?(a=post,s.addEventListener("message",listener,!1)):a=k in d("script")?function(e){u.appendChild(d("script")).onreadystatechange=function(){u.removeChild(this),run(e)}}:function(e){setTimeout(runner(e),0)}),e.exports={set:m,clear:g}},"2d00":function(e,n,r){var a,o,i=r("da84"),s=r("342f"),l=i.process,c=l&&l.versions,u=c&&c.v8;u?o=(a=u.split("."))[0]+a[1]:s&&(!(a=s.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=s.match(/Chrome\/(\d+)/))&&(o=a[1]),e.exports=o&&+o},"2d9a":function(e,n,r){"use strict";var a=r("fc26"),o=a.isPlainObject,i=r("6921"),s=r("bb71"),l=r("a876"),c=r("a651"),u=r("3ff5").dfltConfig;function mergeTemplates(e,n){e=a.extendDeep({},e);var r,i,s=Object.keys(e).sort();function mergeOne(n,r,a){if(o(r)&&o(n))mergeTemplates(n,r);else if(Array.isArray(r)&&Array.isArray(n)){var s=c.arrayTemplater({_template:e},a);for(i=0;i<r.length;i++){var l=r[i],u=s.newItem(l)._template;u&&mergeTemplates(u,l)}var d=s.defaultItems();for(i=0;i<d.length;i++)r.push(d[i]._template);for(i=0;i<r.length;i++)delete r[i].templateitemname}}for(r=0;r<s.length;r++){var l=s[r],u=e[l];if(l in n?mergeOne(u,n[l],l):n[l]=u,getBaseKey(l)===l)for(var d in n){var p=getBaseKey(d);d===p||p!==l||d in e||mergeOne(u,n[d],l)}}}function getBaseKey(e){return e.replace(/[0-9]+$/,"")}function walkStyleKeys(e,n,r,i,s){var l=s&&r(s);for(var u in e){var d=e[u],p=getNextPath(e,u,i),f=getNextPath(e,u,s),h=r(f);if(!h){var m=getBaseKey(u);m!==u&&(h=r(f=getNextPath(e,m,s)))}if((!l||l!==h)&&!(!h||h._noTemplating||"data_array"===h.valType||h.arrayOk&&Array.isArray(d)))if(!h.valType&&o(d))walkStyleKeys(d,n,r,p,f);else if(h._isLinkedToArray&&Array.isArray(d))for(var g=!1,y=0,b={},x=0;x<d.length;x++){var _=d[x];if(o(_)){var w=_.name;if(w)b[w]||(walkStyleKeys(_,n,r,getNextPath(d,y,p),getNextPath(d,y,f)),y++,b[w]=1);else if(!g){var k=getNextPath(e,c.arrayDefaultKey(u),i),T=getNextPath(d,y,p);walkStyleKeys(_,n,r,T,getNextPath(d,y,f));var S=a.nestedProperty(n,T);a.nestedProperty(n,k).set(S.get()),S.set(null),g=!0}}}else{a.nestedProperty(n,p).set(d)}}}function getLayoutInfo(e,n){return i.getLayoutValObject(e,a.nestedProperty({},n).parts)}function getTraceInfo(e,n){return i.getTraceValObject(e,a.nestedProperty({},n).parts)}function getNextPath(e,n,r){return r?Array.isArray(e)?r+"["+n+"]":r+"."+n:n}function hasPlainObject(e){for(var n=0;n<e.length;n++)if(o(e[n]))return!0}function format(e){var n;switch(e.code){case"data":n="The template has no key data.";break;case"layout":n="The template has no key layout.";break;case"missing":n=e.path?"There are no templates for item "+e.path+" with name "+e.templateitemname:"There are no templates for trace "+e.index+", of type "+e.traceType+".";break;case"unused":n=e.path?"The template item at "+e.path+" was not used in constructing the plot.":e.dataCount?"Some of the templates of type "+e.traceType+" were not used. The template has "+e.templateCount+" traces, the data only has "+e.dataCount+" of this type.":"The template has "+e.templateCount+" traces of type "+e.traceType+" but there are none in the data.";break;case"reused":n="Some of the templates of type "+e.traceType+" were used more than once. The template has "+e.templateCount+" traces, the data has "+e.dataCount+" of this type."}return e.msg=n,e}n.makeTemplate=function(e){e=a.isPlainObject(e)?e:a.getGraphDiv(e),e=a.extendDeep({_context:u},{data:e.data,layout:e.layout}),s.supplyDefaults(e);var n=e.data||[],r=e.layout||{};r._basePlotModules=e._fullLayout._basePlotModules,r._modules=e._fullLayout._modules;var i={data:{},layout:{}};n.forEach((function(e){var n={};walkStyleKeys(e,n,getTraceInfo.bind(null,e));var r=a.coerce(e,{},l,"type"),o=i.data[r];o||(o=i.data[r]=[]),o.push(n)})),walkStyleKeys(r,i.layout,getLayoutInfo.bind(null,r)),delete i.layout.template;var c=r.template;if(o(c)){var d,p,f,h,m,g,y=c.layout;o(y)&&mergeTemplates(y,i.layout);var b=c.data;if(o(b)){for(p in i.data)if(f=b[p],Array.isArray(f)){for(g=(m=i.data[p]).length,h=f.length,d=0;d<g;d++)mergeTemplates(f[d%h],m[d]);for(d=g;d<h;d++)m.push(a.extendDeep({},f[d]))}for(p in b)p in i.data||(i.data[p]=a.extendDeep([],b[p]))}}return i},n.validateTemplate=function(e,n){var r=a.extendDeep({},{_context:u,data:e.data,layout:e.layout}),i=r.layout||{};o(n)||(n=i.template||{});var l=n.layout,c=n.data,d=[];r.layout=i,r.layout.template=n,s.supplyDefaults(r);var p=r._fullLayout,f=r._fullData,h={};if(o(l)?(!function crawlLayoutForContainers(e,n){for(var r in e)if("_"!==r.charAt(0)&&o(e[r])){var a,i=getBaseKey(r),s=[];for(a=0;a<n.length;a++)s.push(getNextPath(e,r,n[a])),i!==r&&s.push(getNextPath(e,i,n[a]));for(a=0;a<s.length;a++)h[s[a]]=1;crawlLayoutForContainers(e[r],s)}}(p,["layout"]),function crawlLayoutTemplateForContainers(e,n){for(var r in e)if(-1===r.indexOf("defaults")&&o(e[r])){var a=getNextPath(e,r,n);h[a]?crawlLayoutTemplateForContainers(e[r],a):d.push({code:"unused",path:a})}}(l,"layout")):d.push({code:"layout"}),o(c)){for(var m,g={},y=0;y<f.length;y++){var b=f[y];g[m=b.type]=(g[m]||0)+1,b._fullInput._template||d.push({code:"missing",index:b._fullInput.index,traceType:m})}for(m in c){var x=c[m].length,_=g[m]||0;x>_?d.push({code:"unused",traceType:m,templateCount:x,dataCount:_}):_>x&&d.push({code:"reused",traceType:m,templateCount:x,dataCount:_})}}else d.push({code:"data"});if(function crawlForMissingTemplates(e,n){for(var r in e)if("_"!==r.charAt(0)){var a=e[r],i=getNextPath(e,r,n);o(a)?(Array.isArray(e)&&!1===a._template&&a.templateitemname&&d.push({code:"missing",path:i,templateitemname:a.templateitemname}),crawlForMissingTemplates(a,i)):Array.isArray(a)&&hasPlainObject(a)&&crawlForMissingTemplates(a,i)}}({data:f,layout:p},""),d.length)return d.map(format)}},"2df3":function(e,n,r){"use strict";var a=r("6e58"),o=r("d115"),i=r("83d1"),s=r("fc26"),l=r("371e"),c=r("93a6").resizeText,u=r("fb5a"),d=u.textfont,p=u.insidetextfont,f=u.outsidetextfont,h=r("6833");function stylePoints(e,n,r){i.pointStyle(e.selectAll("path"),n,r),styleTextPoints(e,n,r)}function styleTextPoints(e,n,r){e.selectAll("text").each((function(e){var o=a.select(this),l=s.ensureUniformFontSize(r,determineFont(o,e,n,r));i.font(o,l)}))}function determineFont(e,n,r,a){var o=a._fullLayout.font,i=r.textfont;if(e.classed("bartext-inside")){var s=getBarColor(n,r);i=getInsideTextFont(r,n.i,o,s)}else e.classed("bartext-outside")&&(i=getOutsideTextFont(r,n.i,o));return i}function getTextFont(e,n,r){return getFontValue(d,e.textfont,n,r)}function getInsideTextFont(e,n,r,a){var i=getTextFont(e,n,r);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[n])&&(i={color:o.contrast(a),family:i.family,size:i.size}),getFontValue(p,e.insidetextfont,n,i)}function getOutsideTextFont(e,n,r){var a=getTextFont(e,n,r);return getFontValue(f,e.outsidetextfont,n,a)}function getFontValue(e,n,r,a){n=n||{};var o=h.getValue(n.family,r),i=h.getValue(n.size,r),s=h.getValue(n.color,r);return{family:h.coerceString(e.family,o,a.family),size:h.coerceNumber(e.size,i,a.size),color:h.coerceColor(e.color,s,a.color)}}function getBarColor(e,n){return"waterfall"===n.type?n[e.dir].marker.color:e.mc||n.marker.color}e.exports={style:function style(e){var n=a.select(e).selectAll("g.barlayer").selectAll("g.trace");c(e,n,"bar");var r=n.size(),o=e._fullLayout;n.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===o.barmode&&r>1||0===o.bargap&&0===o.bargroupgap&&!e[0].trace.marker.line.width)&&a.select(this).attr("shape-rendering","crispEdges")})),n.selectAll("g.points").each((function(n){stylePoints(a.select(this),n[0].trace,e)})),l.getComponentMethod("errorbars","style")(n)},styleTextPoints:styleTextPoints,styleOnSelect:function styleOnSelect(e,n,r){var o=n[0].trace;o.selectedpoints?function stylePointsInSelectionMode(e,n,r){i.selectedPointStyle(e.selectAll("path"),n),function styleTextInSelectionMode(e,n,r){e.each((function(e){var o,l=a.select(this);if(e.selected){o=s.ensureUniformFontSize(r,determineFont(l,e,n,r));var c=n.selected.textfont&&n.selected.textfont.color;c&&(o.color=c),i.font(l,o)}else i.selectedTextStyle(l,n)}))}(e.selectAll("text"),n,r)}(r,o,e):(stylePoints(r,o,e),l.getComponentMethod("errorbars","style")(r))},getInsideTextFont:getInsideTextFont,getOutsideTextFont:getOutsideTextFont,getBarColor:getBarColor,resizeText:c}},"2e3d":function(e,n,r){"use strict";var a=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,o=/^[^\.\[\]]+$/;e.exports=function(e,n){for(;n;){var r=e.match(a);if(r)e=r[1];else{if(!e.match(o))throw new Error("bad relativeAttr call:"+[e,n]);e=""}if("^"!==n.charAt(0))break;n=n.slice(1)}return e&&"["!==n.charAt(0)?e+"."+n:e+n}},"2f2c":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({denseBincount_:function denseBincount_(e,n,r,l=!1){const c=Object(i.a)(e,"x","denseBincount"),u=Object(i.a)(n,"weights","denseBincount");s.b("int32"===c.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${c.dtype}`)),s.b(c.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${c.rank}.`)),s.b(r>=0,(()=>`size must be non-negative, but got ${r}.`)),s.b(u.size===c.size||0===u.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${c.shape}, weights shape: ${u.shape}.`));const d={x:c,weights:u},p={size:r,binaryOutput:l};return a.a.runKernel(o.M,d,p)}})},"2f62":function(e,n,r){"use strict";(function(e){r.d(n,"b",(function(){return d}));var a=("undefined"!=typeof window?window:void 0!==e?e:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function deepCopy(e,n){if(void 0===n&&(n=[]),null===e||"object"!=typeof e)return e;var r=function find(e,n){return e.filter(n)[0]}(n,(function(n){return n.original===e}));if(r)return r.copy;var a=Array.isArray(e)?[]:{};return n.push({original:e,copy:a}),Object.keys(e).forEach((function(r){a[r]=deepCopy(e[r],n)})),a}function forEachValue(e,n){Object.keys(e).forEach((function(r){return n(e[r],r)}))}function isObject(e){return null!==e&&"object"==typeof e}var o=function Module(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"==typeof r?r():r)||{}},i={namespaced:{configurable:!0}};i.namespaced.get=function(){return!!this._rawModule.namespaced},o.prototype.addChild=function addChild(e,n){this._children[e]=n},o.prototype.removeChild=function removeChild(e){delete this._children[e]},o.prototype.getChild=function getChild(e){return this._children[e]},o.prototype.hasChild=function hasChild(e){return e in this._children},o.prototype.update=function update(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},o.prototype.forEachChild=function forEachChild(e){forEachValue(this._children,e)},o.prototype.forEachGetter=function forEachGetter(e){this._rawModule.getters&&forEachValue(this._rawModule.getters,e)},o.prototype.forEachAction=function forEachAction(e){this._rawModule.actions&&forEachValue(this._rawModule.actions,e)},o.prototype.forEachMutation=function forEachMutation(e){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,e)},Object.defineProperties(o.prototype,i);var s=function ModuleCollection(e){this.register([],e,!1)};function update(e,n,r){if(n.update(r),r.modules)for(var a in r.modules){if(!n.getChild(a))return void 0;update(e.concat(a),n.getChild(a),r.modules[a])}}s.prototype.get=function get(e){return e.reduce((function(e,n){return e.getChild(n)}),this.root)},s.prototype.getNamespace=function getNamespace(e){var n=this.root;return e.reduce((function(e,r){return e+((n=n.getChild(r)).namespaced?r+"/":"")}),"")},s.prototype.update=function update$1(e){update([],this.root,e)},s.prototype.register=function register(e,n,r){var a=this;void 0===r&&(r=!0);var i=new o(n,r);0===e.length?this.root=i:this.get(e.slice(0,-1)).addChild(e[e.length-1],i);n.modules&&forEachValue(n.modules,(function(n,o){a.register(e.concat(o),n,r)}))},s.prototype.unregister=function unregister(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],a=n.getChild(r);a&&a.runtime&&n.removeChild(r)},s.prototype.isRegistered=function isRegistered(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return!!n&&n.hasChild(r)};var l;var c=function Store(e){var n=this;void 0===e&&(e={}),!l&&"undefined"!=typeof window&&window.Vue&&install(window.Vue);var r=e.plugins;void 0===r&&(r=[]);var o=e.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new s(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new l,this._makeLocalGettersCache=Object.create(null);var i=this,c=this.dispatch,u=this.commit;this.dispatch=function boundDispatch(e,n){return c.call(i,e,n)},this.commit=function boundCommit(e,n,r){return u.call(i,e,n,r)},this.strict=o;var d=this._modules.root.state;installModule(this,d,[],this._modules.root),resetStoreVM(this,d),r.forEach((function(e){return e(n)})),(void 0!==e.devtools?e.devtools:l.config.devtools)&&function devtoolPlugin(e){a&&(e._devtoolHook=a,a.emit("vuex:init",e),a.on("vuex:travel-to-state",(function(n){e.replaceState(n)})),e.subscribe((function(e,n){a.emit("vuex:mutation",e,n)}),{prepend:!0}),e.subscribeAction((function(e,n){a.emit("vuex:action",e,n)}),{prepend:!0}))}(this)},u={state:{configurable:!0}};function genericSubscribe(e,n,r){return n.indexOf(e)<0&&(r&&r.prepend?n.unshift(e):n.push(e)),function(){var r=n.indexOf(e);r>-1&&n.splice(r,1)}}function resetStore(e,n){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;installModule(e,r,[],e._modules.root,!0),resetStoreVM(e,r,n)}function resetStoreVM(e,n,r){var a=e._vm;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,i={};forEachValue(o,(function(n,r){i[r]=function partial(e,n){return function(){return e(n)}}(n,e),Object.defineProperty(e.getters,r,{get:function(){return e._vm[r]},enumerable:!0})}));var s=l.config.silent;l.config.silent=!0,e._vm=new l({data:{$$state:n},computed:i}),l.config.silent=s,e.strict&&function enableStrictMode(e){e._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(e),a&&(r&&e._withCommit((function(){a._data.$$state=null})),l.nextTick((function(){return a.$destroy()})))}function installModule(e,n,r,a,o){var i=!r.length,s=e._modules.getNamespace(r);if(a.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=a),!i&&!o){var c=getNestedState(n,r.slice(0,-1)),u=r[r.length-1];e._withCommit((function(){l.set(c,u,a.state)}))}var d=a.context=function makeLocalContext(e,n,r){var a=""===n,o={dispatch:a?e.dispatch:function(r,a,o){var i=unifyObjectStyle(r,a,o),s=i.payload,l=i.options,c=i.type;return l&&l.root||(c=n+c),e.dispatch(c,s)},commit:a?e.commit:function(r,a,o){var i=unifyObjectStyle(r,a,o),s=i.payload,l=i.options,c=i.type;l&&l.root||(c=n+c),e.commit(c,s,l)}};return Object.defineProperties(o,{getters:{get:a?function(){return e.getters}:function(){return function makeLocalGetters(e,n){if(!e._makeLocalGettersCache[n]){var r={},a=n.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,a)===n){var i=o.slice(a);Object.defineProperty(r,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[n]=r}return e._makeLocalGettersCache[n]}(e,n)}},state:{get:function(){return getNestedState(e.state,r)}}}),o}(e,s,r);a.forEachMutation((function(n,r){!function registerMutation(e,n,r,a){(e._mutations[n]||(e._mutations[n]=[])).push((function wrappedMutationHandler(n){r.call(e,a.state,n)}))}(e,s+r,n,d)})),a.forEachAction((function(n,r){var a=n.root?r:s+r,o=n.handler||n;!function registerAction(e,n,r,a){(e._actions[n]||(e._actions[n]=[])).push((function wrappedActionHandler(n){var o=r.call(e,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:e.getters,rootState:e.state},n);return function isPromise(e){return e&&"function"==typeof e.then}(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(n){throw e._devtoolHook.emit("vuex:error",n),n})):o}))}(e,a,o,d)})),a.forEachGetter((function(n,r){!function registerGetter(e,n,r,a){if(e._wrappedGetters[n])return void 0;e._wrappedGetters[n]=function wrappedGetter(e){return r(a.state,a.getters,e.state,e.getters)}}(e,s+r,n,d)})),a.forEachChild((function(a,i){installModule(e,n,r.concat(i),a,o)}))}function getNestedState(e,n){return n.reduce((function(e,n){return e[n]}),e)}function unifyObjectStyle(e,n,r){return isObject(e)&&e.type&&(r=n,n=e,e=e.type),{type:e,payload:n,options:r}}function install(e){l&&e===l||function applyMixin(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:vuexInit});else{var n=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[vuexInit].concat(e.init):vuexInit,n.call(this,e)}}function vuexInit(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}(l=e)}u.state.get=function(){return this._vm._data.$$state},u.state.set=function(e){0},c.prototype.commit=function commit(e,n,r){var a=this,o=unifyObjectStyle(e,n,r),i=o.type,s=o.payload,l=(o.options,{type:i,payload:s}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function commitIterator(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(l,a.state)})))},c.prototype.dispatch=function dispatch(e,n){var r=this,a=unifyObjectStyle(e,n),o=a.type,i=a.payload,s={type:o,payload:i},l=this._actions[o];if(l){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,r.state)}))}catch(u){0}var c=l.length>1?Promise.all(l.map((function(e){return e(i)}))):l[0](i);return new Promise((function(e,n){c.then((function(n){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,r.state)}))}catch(u){0}e(n)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(n){return n.error(s,r.state,e)}))}catch(u){0}n(e)}))}))}},c.prototype.subscribe=function subscribe(e,n){return genericSubscribe(e,this._subscribers,n)},c.prototype.subscribeAction=function subscribeAction(e,n){return genericSubscribe("function"==typeof e?{before:e}:e,this._actionSubscribers,n)},c.prototype.watch=function watch(e,n,r){var a=this;return this._watcherVM.$watch((function(){return e(a.state,a.getters)}),n,r)},c.prototype.replaceState=function replaceState(e){var n=this;this._withCommit((function(){n._vm._data.$$state=e}))},c.prototype.registerModule=function registerModule(e,n,r){void 0===r&&(r={}),"string"==typeof e&&(e=[e]),this._modules.register(e,n),installModule(this,this.state,e,this._modules.get(e),r.preserveState),resetStoreVM(this,this.state)},c.prototype.unregisterModule=function unregisterModule(e){var n=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var r=getNestedState(n.state,e.slice(0,-1));l.delete(r,e[e.length-1])})),resetStore(this)},c.prototype.hasModule=function hasModule(e){return"string"==typeof e&&(e=[e]),this._modules.isRegistered(e)},c.prototype.hotUpdate=function hotUpdate(e){this._modules.update(e),resetStore(this,!0)},c.prototype._withCommit=function _withCommit(e){var n=this._committing;this._committing=!0,e(),this._committing=n},Object.defineProperties(c.prototype,u);var d=normalizeNamespace((function(e,n){var r={};return normalizeMap(n).forEach((function(n){var a=n.key,o=n.val;r[a]=function mappedState(){var n=this.$store.state,r=this.$store.getters;if(e){var a=getModuleByNamespace(this.$store,"mapState",e);if(!a)return;n=a.context.state,r=a.context.getters}return"function"==typeof o?o.call(this,n,r):n[o]},r[a].vuex=!0})),r})),p=normalizeNamespace((function(e,n){var r={};return normalizeMap(n).forEach((function(n){var a=n.key,o=n.val;r[a]=function mappedMutation(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var a=this.$store.commit;if(e){var i=getModuleByNamespace(this.$store,"mapMutations",e);if(!i)return;a=i.context.commit}return"function"==typeof o?o.apply(this,[a].concat(n)):a.apply(this.$store,[o].concat(n))}})),r})),f=normalizeNamespace((function(e,n){var r={};return normalizeMap(n).forEach((function(n){var a=n.key,o=n.val;o=e+o,r[a]=function mappedGetter(){if(!e||getModuleByNamespace(this.$store,"mapGetters",e))return this.$store.getters[o]},r[a].vuex=!0})),r})),h=normalizeNamespace((function(e,n){var r={};return normalizeMap(n).forEach((function(n){var a=n.key,o=n.val;r[a]=function mappedAction(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var a=this.$store.dispatch;if(e){var i=getModuleByNamespace(this.$store,"mapActions",e);if(!i)return;a=i.context.dispatch}return"function"==typeof o?o.apply(this,[a].concat(n)):a.apply(this.$store,[o].concat(n))}})),r}));function normalizeMap(e){return function isValidMap(e){return Array.isArray(e)||isObject(e)}(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(n){return{key:n,val:e[n]}})):[]}function normalizeNamespace(e){return function(n,r){return"string"!=typeof n?(r=n,n=""):"/"!==n.charAt(n.length-1)&&(n+="/"),e(n,r)}}function getModuleByNamespace(e,n,r){return e._modulesNamespaceMap[r]}function startMessage(e,n,r){var a=r?e.groupCollapsed:e.group;try{a.call(e,n)}catch(o){e.log(n)}}function endMessage(e){try{e.groupEnd()}catch(n){e.log("—— log end ——")}}function getFormattedTime(){var e=new Date;return" @ "+pad(e.getHours(),2)+":"+pad(e.getMinutes(),2)+":"+pad(e.getSeconds(),2)+"."+pad(e.getMilliseconds(),3)}function pad(e,n){return function repeat(e,n){return new Array(n+1).join(e)}("0",n-e.toString().length)+e}var m={Store:c,install:install,version:"3.6.2",mapState:d,mapMutations:p,mapGetters:f,mapActions:h,createNamespacedHelpers:function(e){return{mapState:d.bind(null,e),mapGetters:f.bind(null,e),mapMutations:p.bind(null,e),mapActions:h.bind(null,e)}},createLogger:function createLogger(e){void 0===e&&(e={});var n=e.collapsed;void 0===n&&(n=!0);var r=e.filter;void 0===r&&(r=function(e,n,r){return!0});var a=e.transformer;void 0===a&&(a=function(e){return e});var o=e.mutationTransformer;void 0===o&&(o=function(e){return e});var i=e.actionFilter;void 0===i&&(i=function(e,n){return!0});var s=e.actionTransformer;void 0===s&&(s=function(e){return e});var l=e.logMutations;void 0===l&&(l=!0);var c=e.logActions;void 0===c&&(c=!0);var u=e.logger;return void 0===u&&(u=console),function(e){var d=deepCopy(e.state);void 0!==u&&(l&&e.subscribe((function(e,i){var s=deepCopy(i);if(r(e,d,s)){var l=getFormattedTime(),c=o(e),p="mutation "+e.type+l;startMessage(u,p,n),u.log("%c prev state","color: #9E9E9E; font-weight: bold",a(d)),u.log("%c mutation","color: #03A9F4; font-weight: bold",c),u.log("%c next state","color: #4CAF50; font-weight: bold",a(s)),endMessage(u)}d=s})),c&&e.subscribeAction((function(e,r){if(i(e,r)){var a=getFormattedTime(),o=s(e),l="action "+e.type+a;startMessage(u,l,n),u.log("%c action","color: #03A9F4; font-weight: bold",o),endMessage(u)}})))}}};n.a=m}).call(this,r("c8ba"))},"2fb1":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({step_:function step_(e,n=0){const r={x:Object(i.a)(e,"x","step")},s={alpha:n};return a.a.runKernel(o.Mc,r,s)}})},"306c":function(e,n,r){"use strict";e.exports=function identity(e){return e}},"31bb":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}]},3273:function(e,n,r){"use strict";var a=r("236d");e.exports={moduleType:"component",name:"shapes",layoutAttributes:r("a5cc"),supplyLayoutDefaults:r("567e"),supplyDrawNewShapeDefaults:r("0a5b"),includeBasePlot:r("37d1")("shapes"),calcAutorange:r("cef00"),draw:a.draw,drawOne:a.drawOne}},3350:function(e,n,r){"use strict";var a=r("6e58");e.exports={circle:{n:0,f:function(e){var n=a.round(e,2);return"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z"}},square:{n:1,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z"}},diamond:{n:2,f:function(e){var n=a.round(1.3*e,2);return"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"Z"}},cross:{n:3,f:function(e){var n=a.round(.4*e,2),r=a.round(1.2*e,2);return"M"+r+","+n+"H"+n+"V"+r+"H-"+n+"V"+n+"H-"+r+"V-"+n+"H-"+n+"V-"+r+"H"+n+"V-"+n+"H"+r+"Z"}},x:{n:4,f:function(e){var n=a.round(.8*e/Math.sqrt(2),2),r="l"+n+","+n,o="l"+n+",-"+n,i="l-"+n+",-"+n,s="l-"+n+","+n;return"M0,"+n+r+o+i+o+i+s+i+s+r+s+r+"Z"}},"triangle-up":{n:5,f:function(e){var n=a.round(2*e/Math.sqrt(3),2);return"M-"+n+","+a.round(e/2,2)+"H"+n+"L0,-"+a.round(e,2)+"Z"}},"triangle-down":{n:6,f:function(e){var n=a.round(2*e/Math.sqrt(3),2);return"M-"+n+",-"+a.round(e/2,2)+"H"+n+"L0,"+a.round(e,2)+"Z"}},"triangle-left":{n:7,f:function(e){var n=a.round(2*e/Math.sqrt(3),2);return"M"+a.round(e/2,2)+",-"+n+"V"+n+"L-"+a.round(e,2)+",0Z"}},"triangle-right":{n:8,f:function(e){var n=a.round(2*e/Math.sqrt(3),2);return"M-"+a.round(e/2,2)+",-"+n+"V"+n+"L"+a.round(e,2)+",0Z"}},"triangle-ne":{n:9,f:function(e){var n=a.round(.6*e,2),r=a.round(1.2*e,2);return"M-"+r+",-"+n+"H"+n+"V"+r+"Z"}},"triangle-se":{n:10,f:function(e){var n=a.round(.6*e,2),r=a.round(1.2*e,2);return"M"+n+",-"+r+"V"+n+"H-"+r+"Z"}},"triangle-sw":{n:11,f:function(e){var n=a.round(.6*e,2),r=a.round(1.2*e,2);return"M"+r+","+n+"H-"+n+"V-"+r+"Z"}},"triangle-nw":{n:12,f:function(e){var n=a.round(.6*e,2),r=a.round(1.2*e,2);return"M-"+n+","+r+"V-"+n+"H"+r+"Z"}},pentagon:{n:13,f:function(e){var n=a.round(.951*e,2),r=a.round(.588*e,2),o=a.round(-e,2),i=a.round(-.309*e,2);return"M"+n+","+i+"L"+r+","+a.round(.809*e,2)+"H-"+r+"L-"+n+","+i+"L0,"+o+"Z"}},hexagon:{n:14,f:function(e){var n=a.round(e,2),r=a.round(e/2,2),o=a.round(e*Math.sqrt(3)/2,2);return"M"+o+",-"+r+"V"+r+"L0,"+n+"L-"+o+","+r+"V-"+r+"L0,-"+n+"Z"}},hexagon2:{n:15,f:function(e){var n=a.round(e,2),r=a.round(e/2,2),o=a.round(e*Math.sqrt(3)/2,2);return"M-"+r+","+o+"H"+r+"L"+n+",0L"+r+",-"+o+"H-"+r+"L-"+n+",0Z"}},octagon:{n:16,f:function(e){var n=a.round(.924*e,2),r=a.round(.383*e,2);return"M-"+r+",-"+n+"H"+r+"L"+n+",-"+r+"V"+r+"L"+r+","+n+"H-"+r+"L-"+n+","+r+"V-"+r+"Z"}},star:{n:17,f:function(e){var n=1.4*e,r=a.round(.225*n,2),o=a.round(.951*n,2),i=a.round(.363*n,2),s=a.round(.588*n,2),l=a.round(-n,2),c=a.round(-.309*n,2),u=a.round(.118*n,2),d=a.round(.809*n,2);return"M"+r+","+c+"H"+o+"L"+i+","+u+"L"+s+","+d+"L0,"+a.round(.382*n,2)+"L-"+s+","+d+"L-"+i+","+u+"L-"+o+","+c+"H-"+r+"L0,"+l+"Z"}},hexagram:{n:18,f:function(e){var n=a.round(.66*e,2),r=a.round(.38*e,2),o=a.round(.76*e,2);return"M-"+o+",0l-"+r+",-"+n+"h"+o+"l"+r+",-"+n+"l"+r+","+n+"h"+o+"l-"+r+","+n+"l"+r+","+n+"h-"+o+"l-"+r+","+n+"l-"+r+",-"+n+"h-"+o+"Z"}},"star-triangle-up":{n:19,f:function(e){var n=a.round(e*Math.sqrt(3)*.8,2),r=a.round(.8*e,2),o=a.round(1.6*e,2),i=a.round(4*e,2),s="A "+i+","+i+" 0 0 1 ";return"M-"+n+","+r+s+n+","+r+s+"0,-"+o+s+"-"+n+","+r+"Z"}},"star-triangle-down":{n:20,f:function(e){var n=a.round(e*Math.sqrt(3)*.8,2),r=a.round(.8*e,2),o=a.round(1.6*e,2),i=a.round(4*e,2),s="A "+i+","+i+" 0 0 1 ";return"M"+n+",-"+r+s+"-"+n+",-"+r+s+"0,"+o+s+n+",-"+r+"Z"}},"star-square":{n:21,f:function(e){var n=a.round(1.1*e,2),r=a.round(2*e,2),o="A "+r+","+r+" 0 0 1 ";return"M-"+n+",-"+n+o+"-"+n+","+n+o+n+","+n+o+n+",-"+n+o+"-"+n+",-"+n+"Z"}},"star-diamond":{n:22,f:function(e){var n=a.round(1.4*e,2),r=a.round(1.9*e,2),o="A "+r+","+r+" 0 0 1 ";return"M-"+n+",0"+o+"0,"+n+o+n+",0"+o+"0,-"+n+o+"-"+n+",0Z"}},"diamond-tall":{n:23,f:function(e){var n=a.round(.7*e,2),r=a.round(1.4*e,2);return"M0,"+r+"L"+n+",0L0,-"+r+"L-"+n+",0Z"}},"diamond-wide":{n:24,f:function(e){var n=a.round(1.4*e,2),r=a.round(.7*e,2);return"M0,"+r+"L"+n+",0L0,-"+r+"L-"+n+",0Z"}},hourglass:{n:25,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"H-"+n+"L"+n+",-"+n+"H-"+n+"Z"},noDot:!0},bowtie:{n:26,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"V-"+n+"L-"+n+","+n+"V-"+n+"Z"},noDot:!0},"circle-cross":{n:27,f:function(e){var n=a.round(e,2);return"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e){var n=a.round(e,2),r=a.round(e/Math.sqrt(2),2);return"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r+"M"+n+",0A"+n+","+n+" 0 1,1 0,-"+n+"A"+n+","+n+" 0 0,1 "+n+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e){var n=a.round(e,2);return"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+n+","+n+"H-"+n+"V-"+n+"H"+n+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e){var n=a.round(1.3*e,2);return"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM0,-"+n+"V"+n+"M-"+n+",0H"+n},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e){var n=a.round(1.3*e,2),r=a.round(.65*e,2);return"M"+n+",0L0,"+n+"L-"+n+",0L0,-"+n+"ZM-"+r+",-"+r+"L"+r+","+r+"M-"+r+","+r+"L"+r+",-"+r},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e){var n=a.round(1.4*e,2);return"M0,"+n+"V-"+n+"M"+n+",0H-"+n},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e){var n=a.round(1.2*e,2),r=a.round(.85*e,2);return"M0,"+n+"V-"+n+"M"+n+",0H-"+n+"M"+r+","+r+"L-"+r+",-"+r+"M"+r+",-"+r+"L-"+r+","+r},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e){var n=a.round(e/2,2),r=a.round(e,2);return"M"+n+","+r+"V-"+r+"m-"+r+",0V"+r+"M"+r+","+n+"H-"+r+"m0,-"+r+"H"+r},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e){var n=a.round(1.2*e,2),r=a.round(1.6*e,2),o=a.round(.8*e,2);return"M-"+n+","+o+"L0,0M"+n+","+o+"L0,0M0,-"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e){var n=a.round(1.2*e,2),r=a.round(1.6*e,2),o=a.round(.8*e,2);return"M-"+n+",-"+o+"L0,0M"+n+",-"+o+"L0,0M0,"+r+"L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e){var n=a.round(1.2*e,2),r=a.round(1.6*e,2),o=a.round(.8*e,2);return"M"+o+","+n+"L0,0M"+o+",-"+n+"L0,0M-"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e){var n=a.round(1.2*e,2),r=a.round(1.6*e,2),o=a.round(.8*e,2);return"M-"+o+","+n+"L0,0M-"+o+",-"+n+"L0,0M"+r+",0L0,0"},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e){var n=a.round(1.4*e,2);return"M"+n+",0H-"+n},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e){var n=a.round(1.4*e,2);return"M0,"+n+"V-"+n},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e){var n=a.round(e,2);return"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e){var n=a.round(e,2);return"M"+n+","+n+"L-"+n+",-"+n},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e){var n=a.round(e,2);return"M0,0L-"+n+","+a.round(2*e,2)+"H"+n+"Z"},noDot:!0},"arrow-down":{n:46,f:function(e){var n=a.round(e,2);return"M0,0L-"+n+",-"+a.round(2*e,2)+"H"+n+"Z"},noDot:!0},"arrow-left":{n:47,f:function(e){var n=a.round(2*e,2),r=a.round(e,2);return"M0,0L"+n+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-right":{n:48,f:function(e){var n=a.round(2*e,2),r=a.round(e,2);return"M0,0L-"+n+",-"+r+"V"+r+"Z"},noDot:!0},"arrow-bar-up":{n:49,f:function(e){var n=a.round(e,2);return"M-"+n+",0H"+n+"M0,0L-"+n+","+a.round(2*e,2)+"H"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e){var n=a.round(e,2);return"M-"+n+",0H"+n+"M0,0L-"+n+",-"+a.round(2*e,2)+"H"+n+"Z"},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e){var n=a.round(2*e,2),r=a.round(e,2);return"M0,-"+r+"V"+r+"M0,0L"+n+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e){var n=a.round(2*e,2),r=a.round(e,2);return"M0,-"+r+"V"+r+"M0,0L-"+n+",-"+r+"V"+r+"Z"},needLine:!0,noDot:!0}}},"342f":function(e,n,r){var a=r("d066");e.exports=a("navigator","userAgent")||""},"34cc":function(e,n){var r={toPolygon:function(e,n){function GeoPoly(n){if(n.length<=0)return e.segments({inverted:!1,regions:[]});function LineString(n){var r=n.slice(0,n.length-1);return e.segments({inverted:!1,regions:[r]})}for(var r=LineString(n[0]),a=1;a<n.length;a++)r=e.selectDifference(e.combine(r,LineString(n[a])));return r}if("Polygon"===n.type)return e.polygon(GeoPoly(n.coordinates));if("MultiPolygon"===n.type){for(var r=e.segments({inverted:!1,regions:[]}),a=0;a<n.coordinates.length;a++)r=e.selectUnion(e.combine(r,GeoPoly(n.coordinates[a])));return e.polygon(r)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,n,r){function regionInsideRegion(e,r){return n.pointInsideRegion([.5*(e[0][0]+e[1][0]),.5*(e[0][1]+e[1][1])],r)}function newNode(e){return{region:e,children:[]}}r=e.polygon(e.segments(r));var a=newNode(null);function addChild(e,n){for(var r=0;r<e.children.length;r++){if(regionInsideRegion(n,(o=e.children[r]).region))return void addChild(o,n)}var a=newNode(n);for(r=0;r<e.children.length;r++){var o;regionInsideRegion((o=e.children[r]).region,n)&&(a.children.push(o),e.children.splice(r,1),r--)}e.children.push(a)}for(var o=0;o<r.regions.length;o++){var i=r.regions[o];i.length<3||addChild(a,i)}function forceWinding(e,n){for(var r=0,a=e[e.length-1][0],o=e[e.length-1][1],i=[],s=0;s<e.length;s++){var l=e[s][0],c=e[s][1];i.push([l,c]),r+=c*a-l*o,a=l,o=c}return r<0!==n&&i.reverse(),i.push([i[0][0],i[0][1]]),i}var s=[];function addExterior(e){var n=[forceWinding(e.region,!1)];s.push(n);for(var r=0;r<e.children.length;r++)n.push(getInterior(e.children[r]))}function getInterior(e){for(var n=0;n<e.children.length;n++)addExterior(e.children[n]);return forceWinding(e.region,!0)}for(o=0;o<a.children.length;o++)addExterior(a.children[o]);return s.length<=0?{type:"Polygon",coordinates:[]}:1==s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};e.exports=r},"34d7":function(e,n,r){"use strict";r.d(n,"b",(function(){return tensor_TensorBuffer})),r.d(n,"g",(function(){return setTensorTracker})),r.d(n,"f",(function(){return setOpHandler})),r.d(n,"e",(function(){return setDeprecationWarningFn})),r.d(n,"a",(function(){return tensor_Tensor})),r.d(n,"d",(function(){return getGlobalTensorClass})),r.d(n,"c",(function(){return tensor_Variable}));var a=r("f490"),o=r("6ad5");function tensorToString(e,n,r,a){const i=Object(o.j)(n),s=function computeMaxSizePerColumn(e,n,r,a){const i=Object(o.O)(n),s=a[a.length-1],l=new Array(s).fill(0),c=n.length,u="complex64"===r?createComplexTuples(e):e;if(c>1)for(let o=0;o<i/s;o++){const e=o*s;for(let n=0;n<s;n++)l[n]=Math.max(l[n],valToString(u[e+n],0,r).length)}return l}(e,n,r,i),l=n.length,c=subTensorToString(e,n,r,i,s),u=["Tensor"];return a&&(u.push(`  dtype: ${r}`),u.push(`  rank: ${l}`),u.push(`  shape: [${n}]`),u.push("  values:")),u.push(c.map((e=>"    "+e)).join("\n")),u.join("\n")}function valToString(e,n,r){let a;return a=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:Object(o.z)(e)?`'${e}'`:"bool"===r?boolNumToString(e):parseFloat(e.toFixed(7)).toString(),Object(o.L)(a,n)}function boolNumToString(e){return 0===e?"false":"true"}function subTensorToString(e,n,r,a,o,i=!0){const s="complex64"===r?2:1,l=n[0],c=n.length;if(0===c){if("complex64"===r){return[valToString(createComplexTuples(e)[0],0,r)]}return"bool"===r?[boolNumToString(e[0])]:[e[0].toString()]}if(1===c){if(l>20){const n=3*s;let a=Array.from(e.slice(0,n)),i=Array.from(e.slice((l-3)*s,l*s));return"complex64"===r&&(a=createComplexTuples(a),i=createComplexTuples(i)),["["+a.map(((e,n)=>valToString(e,o[n],r))).join(", ")+", ..., "+i.map(((e,n)=>valToString(e,o[l-3+n],r))).join(", ")+"]"]}return["["+("complex64"===r?createComplexTuples(e):Array.from(e)).map(((e,n)=>valToString(e,o[n],r))).join(", ")+"]"]}const u=n.slice(1),d=a.slice(1),p=a[0]*s,f=[];if(l>20){for(let n=0;n<3;n++){const a=n*p,i=a+p;f.push(...subTensorToString(e.slice(a,i),u,r,d,o,!1))}f.push("...");for(let n=l-3;n<l;n++){const a=n*p,i=a+p;f.push(...subTensorToString(e.slice(a,i),u,r,d,o,n===l-1))}}else for(let g=0;g<l;g++){const n=g*p,a=n+p;f.push(...subTensorToString(e.slice(n,a),u,r,d,o,g===l-1))}const h=2===c?",":"";f[0]="["+f[0]+h;for(let g=1;g<f.length-1;g++)f[g]=" "+f[g]+h;let m=",\n";for(let g=2;g<c;g++)m+="\n";return f[f.length-1]=" "+f[f.length-1]+"]"+(i?"":m),f}function createComplexTuples(e){const n=[];for(let r=0;r<e.length;r+=2)n.push([e[r],e[r+1]]);return n}var i=r("eb7e");class tensor_TensorBuffer{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=o.O(e),null!=r){const e=r.length;o.b(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||o.n(n,this.size),this.strides=Object(o.j)(e)}set(e,...n){0===n.length&&(n=[0]),o.b(n.length===this.rank,(()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`));const r=this.locToIndex(n);this.values[r]=e}get(...e){0===e.length&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const n=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(n)}n++}let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=this.strides[a]*e[a];return this.values[r]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return s().makeTensor(this.values,this.shape,this.dtype)}}let s=null,l=null,c=null;function setTensorTracker(e){s=e}function setOpHandler(e){l=e}function setDeprecationWarningFn(e){c=e}class tensor_Tensor{constructor(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=o.O(e),this.strides=Object(o.j)(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return l.buffer(this.shape,this.dtype,e)}bufferSync(){return l.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Object(o.T)(this.shape,e)}arraySync(){return Object(o.T)(this.shape,this.dataSync())}async data(){this.throwIfDisposed();const e=s().read(this.dataId);if("string"===this.dtype){const r=await e;try{return r.map((e=>i.decodeString(e)))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataSync(){this.throwIfDisposed();const e=s().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>i.decodeString(e)))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await s().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(s().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return l.print(this,e)}clone(){return this.throwIfDisposed(),l.clone(this)}toString(e=!1){return tensorToString(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),l.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),s().makeVariable(this,e,n,r)}}function getGlobalTensorClass(){return Object(a.a)("Tensor",(()=>tensor_Tensor))}Object.defineProperty(tensor_Tensor,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),getGlobalTensorClass();class tensor_Variable extends tensor_Tensor{constructor(e,n,r,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!o.a(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);s().disposeTensor(this),this.dataId=e.dataId,s().incRef(this,null)}dispose(){s().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(tensor_Variable,Symbol.hasInstance,{value:e=>e instanceof tensor_Tensor&&null!=e.assign&&e.assign instanceof Function})},"34f9":function(e,n,r){"use strict";var a=r("fc26"),o=r("371e"),i=r("a651").arrayEditor;function getToggleSets(e,n){var r,a,o,i,s,l,c,u=e._fullLayout.annotations,d=[],p=[],f=[],h=(n||[]).length;for(r=0;r<u.length;r++)if(i=(o=u[r]).clicktoshow){for(a=0;a<h;a++)if(l=(s=n[a]).xaxis,c=s.yaxis,l._id===o.xref&&c._id===o.yref&&l.d2r(s.x)===clickData2r(o._xclick,l)&&c.d2r(s.y)===clickData2r(o._yclick,c)){(o.visible?"onout"===i?p:f:d).push(r);break}a===h&&o.visible&&"onout"===i&&p.push(r)}return{on:d,off:p,explicitOff:f}}function clickData2r(e,n){return"log"===n.type?n.l2r(e):n.d2r(e)}e.exports={hasClickToShow:function hasClickToShow(e,n){var r=getToggleSets(e,n);return r.on.length>0||r.explicitOff.length>0},onClick:function onClick(e,n){var r,s,l=getToggleSets(e,n),c=l.on,u=l.off.concat(l.explicitOff),d={},p=e._fullLayout.annotations;if(!c.length&&!u.length)return;for(r=0;r<c.length;r++)(s=i(e.layout,"annotations",p[c[r]])).modifyItem("visible",!0),a.extendFlat(d,s.getUpdateObj());for(r=0;r<u.length;r++)(s=i(e.layout,"annotations",p[u[r]])).modifyItem("visible",!1),a.extendFlat(d,s.getUpdateObj());return o.call("update",e,{},d)}}},"350f":function(e,n,r){"use strict";(function(e){r.d(n,"f",(function(){return encodeWeights})),r.d(n,"e",(function(){return decodeWeights})),r.d(n,"a",(function(){return arrayBufferToBase64String})),r.d(n,"b",(function(){return base64StringToArrayBuffer})),r.d(n,"d",(function(){return concatenateArrayBuffers})),r.d(n,"c",(function(){return basename})),r.d(n,"g",(function(){return getModelArtifactsInfoForJSON}));var a=r("0777"),o=r("357d"),i=r("6ad5"),s=r("9847");async function encodeWeights(e,n){const r=[],a=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<o.length;++i){const s=o[i],l=Array.isArray(e)?e[i].tensor:e[s];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype&&"complex64"!==l.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${l.dtype}`);const c={name:s,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){const e=new Promise((async e=>{const n=await l.bytes(),r=n.reduce(((e,n)=>e+n.length),0)+4*n.length,a=new Uint8Array(r);let o=0;for(let i=0;i<n.length;i++){const e=n[i],r=new Uint8Array(new Uint32Array([e.length]).buffer);a.set(r,o),o+=4,a.set(e,o),o+=e.length}e(a)}));a.push(e)}else a.push(l.data());null!=n&&(c.group=n),r.push(c)}return{data:concatenateTypedArrays(await Promise.all(a)),specs:r}}function decodeWeights(e,n){const r={};let l,c=0;for(const u of n){const n=u.name,d=u.dtype,p=u.shape,f=Object(i.O)(p);let h;if("quantization"in u){const r=u.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error(`Weight ${u.name} with quantization ${r.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==r.dtype)throw new Error(`Weight ${u.name} has unknown quantization dtype ${r.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==d)throw new Error(`Weight ${u.name} is quantized with ${r.dtype} which only supports weights of type float32 not ${d}.`)}const a=s.a[r.dtype],o=e.slice(c,c+f*a),i="uint8"===r.dtype?new Uint8Array(o):new Uint16Array(o);if("float32"===d)if("uint8"===r.dtype||"uint16"===r.dtype){h=new Float32Array(i.length);for(let e=0;e<i.length;e++){const n=i[e];h[e]=n*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type float32.`);void 0===l&&(l=getFloat16Decoder()),h=l(i)}else{if("int32"!==d)throw new Error(`Unsupported dtype in weight '${n}': ${d}`);if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error(`Unsupported quantization type ${r.dtype} for weight type int32.`);h=new Int32Array(i.length);for(let e=0;e<i.length;e++){const n=i[e];h[e]=Math.round(n*r.scale+r.min)}}c+=f*a}else if("string"===d){const n=Object(i.O)(u.shape);h=[];for(let r=0;r<n;r++){const n=new Uint32Array(e.slice(c,c+4))[0];c+=4;const r=new Uint8Array(e.slice(c,c+n));h.push(r),c+=n}}else{const i=s.a[d],l=e.slice(c,c+f*i);if("float32"===d)h=new Float32Array(l);else if("int32"===d)h=new Int32Array(l);else if("bool"===d)h=new Uint8Array(l);else{if("complex64"!==d)throw new Error(`Unsupported dtype in weight '${n}': ${d}`);{h=new Float32Array(l);const e=new Float32Array(h.length/2),i=new Float32Array(h.length/2);for(let n=0;n<e.length;n++)e[n]=h[2*n],i[n]=h[2*n+1];const s=Object(o.a)(e,p,"float32"),c=Object(o.a)(i,p,"float32");r[n]=Object(a.a)(s,c),s.dispose(),c.dispose()}}c+=f*i}"complex64"!==d&&(r[n]=Object(o.a)(h,p,d))}return r}function concatenateTypedArrays(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let n=0;const r=[];e.forEach((e=>{if(n+=e.byteLength,r.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const a=new Uint8Array(n);let o=0;return r.forEach((e=>{a.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),a.buffer}const l=void 0!==e&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function stringByteLength(n){return l?e.byteLength(n):new Blob([n]).size}function arrayBufferToBase64String(n){if(l)return e.from(n).toString("base64");const r=new Uint8Array(n);let a="";for(let e=0,o=r.length;e<o;e++)a+=String.fromCharCode(r[e]);return btoa(a)}function base64StringToArrayBuffer(n){if(l){const r=e.from(n,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const r=atob(n),a=new Uint8Array(r.length);for(let e=0;e<r.length;++e)a.set([r.charCodeAt(e)],e);return a.buffer}function concatenateArrayBuffers(e){if(1===e.length)return e[0];let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let a=0;return e.forEach((e=>{r.set(new Uint8Array(e),a),a+=e.byteLength})),r.buffer}function basename(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const n=e.split("/");return n[n.length-1]}function getModelArtifactsInfoForJSON(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:stringByteLength(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:stringByteLength(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function getFloat16Decoder(){const e=function computeFloat16MantisaTable(){const convertMantissa=e=>{let n=e<<13,r=0;for(;0==(8388608&n);)r-=8388608,n<<=1;return n&=-8388609,r+=947912704,n|r},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=convertMantissa(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}(),n=function computeFloat16ExponentTable(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let n=1;n<31;n++)e[n]=n<<23;for(let n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),r=function computeFloat16OffsetTable(){const e=new Uint32Array(64);for(let n=0;n<64;n++)e[n]=1024;return e[0]=e[32]=0,e}();return a=>{const o=new ArrayBuffer(4*a.length),i=new Uint32Array(o);for(let s=0;s<a.length;s++){const o=a[s],l=e[r[o>>10]+(1023&o)]+n[o>>10];i[s]=l}return new Float32Array(o)}}}).call(this,r("b639").Buffer)},"351b":function(e,n,r){"use strict";var a=r("19b2"),o=r("f6b0");e.exports=function convertCoords(e,n,r,i){n=n||{};var s="log"===r&&"linear"===n.type,l="linear"===r&&"log"===n.type;if(s||l)for(var c,u,d=e._fullLayout.annotations,p=n._id.charAt(0),f=0;f<d.length;f++)c=d[f],u="annotations["+f+"].",c[p+"ref"]===n._id&&convert(p),c["a"+p+"ref"]===n._id&&convert("a"+p);function convert(e){var r=c[e],l=null;l=s?o(r,n.range):Math.pow(10,r),a(l)||(l=null),i(u+e,l)}}},"357d":function(e,n,r){"use strict";r.d(n,"a",(function(){return tensor}));var a=r("a3f7"),o=r("5959");function tensor(e,n,r){const i=Object(a.c)(e,r);return Object(o.a)(e,n,i,r)}},"35a1":function(e,n,r){var a=r("f5df"),o=r("3f8c"),i=r("b622")("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[a(e)]}},"35c9":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({reshape_:function reshape_(e,n){const r={x:Object(i.a)(e,"x","reshape","string_or_numeric")},s={shape:n};return a.a.runKernel(o.nc,r,s)}})},"364e":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({depthToSpace_:function depthToSpace_(e,n,r="NHWC"){const l=Object(i.a)(e,"x","depthToSpace"),c="NHWC"===r?l.shape[1]:l.shape[2],u="NHWC"===r?l.shape[2]:l.shape[3],d="NHWC"===r?l.shape[3]:l.shape[1];s.b(c*n>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${c} and ${n}  for depthToSpace with input shape\n    ${l.shape}`)),s.b(u*n>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${u} and ${n} for depthToSpace with input shape\n        ${l.shape}`)),s.b(d%(n*n)==0,(()=>`Dimension size must be evenly divisible by ${n*n} but is ${d} for depthToSpace with input shape ${l.shape}`));const p={x:l},f={blockSize:n,dataFormat:r};return a.a.runKernel(o.N,p,f)}})},"36e5":function(e,n,r){"use strict";r.d(n,"b",(function(){return axesAreInnerMostDims})),r.d(n,"c",(function(){return combineLocations})),r.d(n,"d",(function(){return computeOutAndReduceShapes})),r.d(n,"e",(function(){return expandShapeToKeepDim})),r.d(n,"a",(function(){return assertAxesAreInnerMostDims})),r.d(n,"f",(function(){return getAxesPermutation})),r.d(n,"h",(function(){return getUndoAxesPermutation})),r.d(n,"g",(function(){return getInnerMostAxes}));var a=r("6ad5");function axesAreInnerMostDims(e,n){for(let r=0;r<e.length;++r)if(e[e.length-r-1]!==n-1-r)return!1;return!0}function combineLocations(e,n,r){const a=e.length+n.length,o=[];let i=0,s=0;for(let l=0;l<a;l++)-1===r.indexOf(l)?o.push(e[i++]):o.push(n[s++]);return o}function computeOutAndReduceShapes(e,n){const r=[],a=e.length;for(let o=0;o<a;o++)-1===n.indexOf(o)&&r.push(e[o]);return[r,n.map((n=>e[n]))]}function expandShapeToKeepDim(e,n){return combineLocations(e,n.map((e=>1)),n)}function assertAxesAreInnerMostDims(e,n,r){a.b(axesAreInnerMostDims(n,r),(()=>`${e} supports only inner-most axes for now. Got axes ${n} and rank-${r} input.`))}function getAxesPermutation(e,n){if(axesAreInnerMostDims(e,n))return null;const r=[];for(let a=0;a<n;++a)-1===e.indexOf(a)&&r.push(a);return e.forEach((e=>r.push(e))),r}function getUndoAxesPermutation(e){return e.map(((e,n)=>[n,e])).sort(((e,n)=>e[1]-n[1])).map((e=>e[0]))}function getInnerMostAxes(e,n){const r=[];for(let a=n-e;a<n;++a)r.push(a);return r}},"371e":function(e,n,r){"use strict";var a=r("ae13"),o=r("b778"),i=r("5a1b"),s=r("1385"),l=r("1b88").addStyleRule,c=r("9092"),u=r("a876"),d=r("a685"),p=c.extendFlat,f=c.extendDeepAll;function registerTraceModule(e){var r=e.name,o=e.categories,i=e.meta;if(n.modules[r])a.log("Type "+r+" already registered");else{n.subplotsRegistry[e.basePlotModule.name]||function registerSubplot(e){var r=e.name;if(n.subplotsRegistry[r])return void a.log("Plot type "+r+" already registered.");for(var o in findArrayRegexps(e),n.subplotsRegistry[r]=e,n.componentsRegistry)mergeComponentAttrsToSubplot(o,e.name)}(e.basePlotModule);for(var s={},c=0;c<o.length;c++)s[o[c]]=!0,n.allCategories[o[c]]=!0;for(var u in n.modules[r]={_module:e,categories:s},i&&Object.keys(i).length&&(n.modules[r].meta=i),n.allTypes.push(r),n.componentsRegistry)mergeComponentAttrsToTrace(u,r);e.layoutAttributes&&p(n.traceLayoutAttributes,e.layoutAttributes);var d=e.basePlotModule,f=d.name;if("mapbox"===f){var h=d.constants.styleRules;for(var m in h)l(".js-plotly-plot .plotly .mapboxgl-"+m,h[m])}"geo"!==f&&"mapbox"!==f||void 0===typeof window||void 0!==window.PlotlyGeoAssets||(window.PlotlyGeoAssets={topojson:{}})}}function registerComponentModule(e){if("string"!=typeof e.name)throw new Error("Component module *name* must be a string.");var r=e.name;for(var a in n.componentsRegistry[r]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&i(n.layoutArrayContainers,r),findArrayRegexps(e)),n.modules)mergeComponentAttrsToTrace(r,a);for(var o in n.subplotsRegistry)mergeComponentAttrsToSubplot(r,o);for(var s in n.transformsRegistry)mergeComponentAttrsToTransform(r,s);e.schema&&e.schema.layout&&f(d,e.schema.layout)}function registerTransformModule(e){if("string"!=typeof e.name)throw new Error("Transform module *name* must be a string.");var r="Transform module "+e.name,o="function"==typeof e.transform,i="function"==typeof e.calcTransform;if(!o&&!i)throw new Error(r+" is missing a *transform* or *calcTransform* method.");for(var l in o&&i&&a.log([r+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s(e.attributes)||a.log(r+" registered without an *attributes* object."),"function"!=typeof e.supplyDefaults&&a.log(r+" registered without a *supplyDefaults* method."),n.transformsRegistry[e.name]=e,n.componentsRegistry)mergeComponentAttrsToTransform(l,e.name)}function registerLocale(e){var r=e.name,a=r.split("-")[0],o=e.dictionary,i=e.format,s=o&&Object.keys(o).length,l=i&&Object.keys(i).length,c=n.localeRegistry,u=c[r];if(u||(c[r]=u={}),a!==r){var d=c[a];d||(c[a]=d={}),s&&d.dictionary===u.dictionary&&(d.dictionary=o),l&&d.format===u.format&&(d.format=i)}s&&(u.dictionary=o),l&&(u.format=i)}function findArrayRegexps(e){if(e.layoutAttributes){var r=e.layoutAttributes._arrayAttrRegexps;if(r)for(var a=0;a<r.length;a++)i(n.layoutArrayRegexes,r[a])}}function mergeComponentAttrsToTrace(e,r){var a=n.componentsRegistry[e].schema;if(a&&a.traces){var o=a.traces[r];o&&f(n.modules[r]._module.attributes,o)}}function mergeComponentAttrsToTransform(e,r){var a=n.componentsRegistry[e].schema;if(a&&a.transforms){var o=a.transforms[r];o&&f(n.transformsRegistry[r].attributes,o)}}function mergeComponentAttrsToSubplot(e,r){var a=n.componentsRegistry[e].schema;if(a&&a.subplots){var o=n.subplotsRegistry[r],i=o.layoutAttributes,s="subplot"===o.attr?o.name:o.attr;Array.isArray(s)&&(s=s[0]);var l=a.subplots[s];i&&l&&f(i,l)}}function getTraceType(e){return"object"==typeof e&&(e=e.type),e}n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.localeRegistry={},n.apiMethodRegistry={},n.collectableSubplotTypes=null,n.register=function register(e){if(n.collectableSubplotTypes=null,!e)throw new Error("No argument passed to Plotly.register.");e&&!Array.isArray(e)&&(e=[e]);for(var r=0;r<e.length;r++){var a=e[r];if(!a)throw new Error("Invalid module was attempted to be registered!");switch(a.moduleType){case"trace":registerTraceModule(a);break;case"transform":registerTransformModule(a);break;case"component":registerComponentModule(a);break;case"locale":registerLocale(a);break;case"apiMethod":var o=a.name;n.apiMethodRegistry[o]=a.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},n.getModule=function(e){var r=n.modules[getTraceType(e)];return!!r&&r._module},n.traceIs=function(e,r){if("various"===(e=getTraceType(e)))return!1;var o=n.modules[e];return o||(e&&"area"!==e&&a.log("Unrecognized trace type "+e+"."),o=n.modules[u.type.dflt]),!!o.categories[r]},n.getTransformIndices=function(e,n){for(var r=[],a=e.transforms||[],o=0;o<a.length;o++)a[o].type===n&&r.push(o);return r},n.hasTransform=function(e,n){for(var r=e.transforms||[],a=0;a<r.length;a++)if(r[a].type===n)return!0;return!1},n.getComponentMethod=function(e,r){var a=n.componentsRegistry[e];return a&&a[r]||o},n.call=function(){var e=arguments[0],r=[].slice.call(arguments,1);return n.apiMethodRegistry[e].apply(null,r)}},"37d1":function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=r("3c1c");e.exports=function makeIncludeComponents(e){return function includeComponents(n,r){var s=n[e];if(Array.isArray(s))for(var l=a.subplotsRegistry.cartesian,c=l.idRegex,u=r._subplots,d=u.xaxis,p=u.yaxis,f=u.cartesian,h=r._has("cartesian")||r._has("gl2d"),m=0;m<s.length;m++){var g=s[m];if(o.isPlainObject(g)){var y=i.cleanId(g.xref,"x",!1),b=i.cleanId(g.yref,"y",!1),x=c.x.test(y),_=c.y.test(b);if(x||_){h||o.pushUnique(r._basePlotModules,l);var w=!1;x&&-1===d.indexOf(y)&&(d.push(y),w=!0),_&&-1===p.indexOf(b)&&(p.push(b),w=!0),w&&x&&_&&f.push(y+b)}}}}}},"37e3":function(e,n,r){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",role:"info",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",role:"info",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},"37e8":function(e,n,r){var a=r("83ab"),o=r("9bf2"),i=r("825a"),s=r("df75");e.exports=a?Object.defineProperties:function defineProperties(e,n){i(e);for(var r,a=s(n),l=a.length,c=0;l>c;)o.f(e,r=a[c++],n[r]);return e}},3802:function(e,n,r){"use strict";var a=r("d115"),o=r("fc26").isArrayOrTypedArray;e.exports=function fillColorDefaults(e,n,r,i){var s=!1;if(n.marker){var l=n.marker.color,c=(n.marker.line||{}).color;l&&!o(l)?s=l:c&&!o(c)&&(s=c)}i("fillcolor",a.addOpacity((n.line||{}).color||s||r,.5))}},"391b":function(e,n,r){"use strict";var a=r("fc26"),o=r("a5c4"),i=r("371e"),s=r("feed"),l=r("d115"),c=a.fillText;e.exports=function hoverPoints(e,n,r,u){var d=e.cd,p=d[0].trace,f=e.xa,h=e.ya,m=f.c2p(n),g=h.c2p(r),y=[m,g],b=p.hoveron||"",x=-1!==p.mode.indexOf("markers")?3:.5;if(-1!==b.indexOf("points")){var dxy=function(e){var n=Math.max(x,e.mrc||0),r=f.c2p(e.x)-m,a=h.c2p(e.y)-g;return Math.max(Math.sqrt(r*r+a*a)-n,1-x/n)},_=o.getDistanceFunction(u,(function(e){var n=Math.max(3,e.mrc||0),r=1-1/n,a=Math.abs(f.c2p(e.x)-m);return a<n?r*a/n:a-n+r}),(function(e){var n=Math.max(3,e.mrc||0),r=1-1/n,a=Math.abs(h.c2p(e.y)-g);return a<n?r*a/n:a-n+r}),dxy);if(o.getClosest(d,_,e),!1!==e.index){var w=d[e.index],k=f.c2p(w.x,!0),T=h.c2p(w.y,!0),S=w.mrc||1;e.index=w.i;var O=d[0].t.orientation,C=O&&(w.sNorm||w.s),A="h"===O?C:void 0!==w.orig_x?w.orig_x:w.x,I="v"===O?C:void 0!==w.orig_y?w.orig_y:w.y;return a.extendFlat(e,{color:s(p,w),x0:k-S,x1:k+S,xLabelVal:A,y0:T-S,y1:T+S,yLabelVal:I,spikeDistance:dxy(w),hovertemplate:p.hovertemplate}),c(w,p,e),i.getComponentMethod("errorbars","hoverInfo")(w,p,e),[e]}}if(-1!==b.indexOf("fills")&&p._polygons){var N,M,E,D,j,R,L,z,$,B=p._polygons,V=[],U=!1,W=1/0,H=-1/0,G=1/0,q=-1/0;for(N=0;N<B.length;N++)(E=B[N]).contains(y)&&(U=!U,V.push(E),G=Math.min(G,E.ymin),q=Math.max(q,E.ymax));if(U){var K=((G=Math.max(G,0))+(q=Math.min(q,h._length)))/2;for(N=0;N<V.length;N++)for(D=V[N].pts,M=1;M<D.length;M++)(z=D[M-1][1])>K!=($=D[M][1])>=K&&(R=D[M-1][0],L=D[M][0],$-z&&(j=R+(L-R)*(K-z)/($-z),W=Math.min(W,j),H=Math.max(H,j)));W=Math.max(W,0),H=Math.min(H,f._length);var X=l.defaultLine;return l.opacity(p.fillcolor)?X=p.fillcolor:l.opacity((p.line||{}).color)&&(X=p.line.color),a.extendFlat(e,{distance:e.maxHoverDistance,x0:W,x1:H,y0:K,y1:K,color:X,hovertemplate:!1}),delete e.index,p.text&&!Array.isArray(p.text)?e.text=String(p.text):e.text=p.name,[e]}}}},"3a44":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({unstack_:function unstack_(e,n=0){const r=Object(i.a)(e,"x","unstack","string_or_numeric");s.b(n>=-r.shape.length&&n<r.shape.length,(()=>`Axis = ${n} is not in [-${r.shape.length}, ${r.shape.length})`));const l={value:r},c={axis:n};return a.a.runKernel(o.Xc,l,c)}})},"3a99":function(e,n,r){var a=r("6e58"),o=r("fc26").extendDeepAll,i=r("63dc").MID_SHIFT,s=e.exports={version:"0.2.2"};s.Axis=function module(){var e,n,r,l,c={data:[],layout:{}},u={},d={},p=a.dispatch("hover"),f={};return f.render=function(u){return function render(u){n=u||n;var p=c.data,h=c.layout;return("string"==typeof n||n.nodeName)&&(n=a.select(n)),n.datum(p).each((function(n,c){var u=n.slice();d={data:s.util.cloneJson(u),layout:s.util.cloneJson(h)};var p=0;u.forEach((function(e,n){e.color||(e.color=h.defaultColorRange[p],p=(p+1)%h.defaultColorRange.length),e.strokeColor||(e.strokeColor="LinePlot"===e.geometry?e.color:a.rgb(e.color).darker().toString()),d.data[n].color=e.color,d.data[n].strokeColor=e.strokeColor,d.data[n].strokeDash=e.strokeDash,d.data[n].strokeSize=e.strokeSize}));var f=u.filter((function(e,n){var r=e.visible;return void 0===r||!0===r})),m=!1,g=f.map((function(e,n){return m=m||void 0!==e.groupId,e}));if(m){var y=a.nest().key((function(e,n){return void 0!==e.groupId?e.groupId:"unstacked"})).entries(g),b=[],x=y.map((function(e,n){if("unstacked"===e.key)return e.values;var r=e.values[0].r.map((function(e,n){return 0}));return e.values.forEach((function(e,n,a){e.yStack=[r],b.push(r),r=s.util.sumArrays(e.r,r)})),e.values}));f=a.merge(x)}f.forEach((function(e,n){e.t=Array.isArray(e.t[0])?e.t:[e.t],e.r=Array.isArray(e.r[0])?e.r:[e.r]}));var _=Math.min(h.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2;_=Math.max(10,_);var w,k=[h.margin.left+_,h.margin.top+_];w=m?[0,a.max(s.util.sumArrays(s.util.arrayLast(f).r[0],s.util.arrayLast(b)))]:a.extent(s.util.flattenArray(f.map((function(e,n){return e.r})))),h.radialAxis.domain!=s.DATAEXTENT&&(w[0]=0),r=a.scale.linear().domain(h.radialAxis.domain!=s.DATAEXTENT&&h.radialAxis.domain?h.radialAxis.domain:w).range([0,_]),d.layout.radialAxis.domain=r.domain();var T,S=s.util.flattenArray(f.map((function(e,n){return e.t}))),O="string"==typeof S[0];O&&(S=s.util.deduplicate(S),T=S.slice(),S=a.range(S.length),f=f.map((function(e,n){var r=e;return e.t=[S],m&&(r.yStack=e.yStack),r})));var C=f.filter((function(e,n){return"LinePlot"===e.geometry||"DotPlot"===e.geometry})).length===f.length,A=null===h.needsEndSpacing?O||!C:h.needsEndSpacing,I=h.angularAxis.domain&&h.angularAxis.domain!=s.DATAEXTENT&&!O&&h.angularAxis.domain[0]>=0?h.angularAxis.domain:a.extent(S),N=Math.abs(S[1]-S[0]);C&&!O&&(N=0);var M=I.slice();A&&O&&(M[1]+=N);var E=h.angularAxis.ticksCount||4;E>8&&(E=E/(E/8)+E%8),h.angularAxis.ticksStep&&(E=(M[1]-M[0])/E);var D=h.angularAxis.ticksStep||(M[1]-M[0])/(E*(h.minorTicks+1));T&&(D=Math.max(Math.round(D),1)),M[2]||(M[2]=D);var j=a.range.apply(this,M);if(j=j.map((function(e,n){return parseFloat(e.toPrecision(12))})),l=a.scale.linear().domain(M.slice(0,2)).range("clockwise"===h.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=l.domain(),d.layout.angularAxis.endPadding=A?N:0,void 0===(e=a.select(this).select("svg.chart-root"))||e.empty()){var R=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),L=this.appendChild(this.ownerDocument.importNode(R.documentElement,!0));e=a.select(L)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var z,$=e.select(".chart-group"),B={fill:"none",stroke:h.tickColor},V={"font-size":h.font.size,"font-family":h.font.family,fill:h.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map((function(e,n){return" "+e+" 0 "+h.font.outlineColor})).join(",")};if(h.showLegend){z=e.select(".legend-group").attr({transform:"translate("+[_,h.margin.top]+")"}).style({display:"block"});var U=f.map((function(e,n){var r=s.util.cloneJson(e);return r.symbol="DotPlot"===e.geometry?e.dotType||"circle":"LinePlot"!=e.geometry?"square":"line",r.visibleInLegend=void 0===e.visibleInLegend||e.visibleInLegend,r.color="LinePlot"===e.geometry?e.strokeColor:e.color,r}));s.Legend().config({data:f.map((function(e,n){return e.name||"Element"+n})),legendConfig:o({},s.Legend.defaultConfig().legendConfig,{container:z,elements:U,reverseOrder:h.legend.reverseOrder})})();var W=z.node().getBBox();_=Math.min(h.width-W.width-h.margin.left-h.margin.right,h.height-h.margin.top-h.margin.bottom)/2,_=Math.max(10,_),k=[h.margin.left+_,h.margin.top+_],r.range([0,_]),d.layout.radialAxis.domain=r.domain(),z.attr("transform","translate("+[k[0]+_,k[1]-_]+")")}else z=e.select(".legend-group").style({display:"none"});e.attr({width:h.width,height:h.height}).style({opacity:h.opacity}),$.attr("transform","translate("+k+")").style({cursor:"crosshair"});var H=[(h.width-(h.margin.left+h.margin.right+2*_+(W?W.width:0)))/2,(h.height-(h.margin.top+h.margin.bottom+2*_))/2];if(H[0]=Math.max(0,H[0]),H[1]=Math.max(0,H[1]),e.select(".outer-group").attr("transform","translate("+H+")"),h.title&&h.title.text){var G=e.select("g.title-group text").style(V).text(h.title.text),q=G.node().getBBox();G.attr({x:k[0]-q.width/2,y:k[1]-_-20})}var K=e.select(".radial.axis-group");if(h.radialAxis.gridLinesVisible){var X=K.selectAll("circle.grid-circle").data(r.ticks(5));X.enter().append("circle").attr({class:"grid-circle"}).style(B),X.attr("r",r),X.exit().remove()}K.select("circle.outside-circle").attr({r:_}).style(B);var Y=e.select("circle.background-circle").attr({r:_}).style({fill:h.backgroundColor,stroke:h.stroke});function currentAngle(e,n){return l(e)%360+h.orientation}if(h.radialAxis.visible){var Z=a.svg.axis().scale(r).ticks(5).tickSize(5);K.call(Z).attr({transform:"rotate("+h.radialAxis.orientation+")"}),K.selectAll(".domain").style(B),K.selectAll("g>text").text((function(e,n){return this.textContent+h.radialAxis.ticksSuffix})).style(V).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(e,n){return"horizontal"===h.radialAxis.tickOrientation?"rotate("+-h.radialAxis.orientation+") translate("+[0,V["font-size"]]+")":"translate("+[0,V["font-size"]]+")"}}),K.selectAll("g>line").style({stroke:"black"})}var J=e.select(".angular.axis-group").selectAll("g.angular-tick").data(j),Q=J.enter().append("g").classed("angular-tick",!0);J.attr({transform:function(e,n){return"rotate("+currentAngle(e)+")"}}).style({display:h.angularAxis.visible?"block":"none"}),J.exit().remove(),Q.append("line").classed("grid-line",!0).classed("major",(function(e,n){return n%(h.minorTicks+1)==0})).classed("minor",(function(e,n){return!(n%(h.minorTicks+1)==0)})).style(B),Q.selectAll(".minor").style({stroke:h.minorTickColor}),J.select("line.grid-line").attr({x1:h.tickLength?_-h.tickLength:0,x2:_}).style({display:h.angularAxis.gridLinesVisible?"block":"none"}),Q.append("text").classed("axis-text",!0).style(V);var ee=J.select("text.axis-text").attr({x:_+h.labelOffset,dy:i+"em",transform:function(e,n){var r=currentAngle(e),a=_+h.labelOffset,o=h.angularAxis.tickOrientation;return"horizontal"==o?"rotate("+-r+" "+a+" 0)":"radial"==o?r<270&&r>90?"rotate(180 "+a+" 0)":null:"rotate("+(r<=180&&r>0?-90:90)+" "+a+" 0)"}}).style({"text-anchor":"middle",display:h.angularAxis.labelsVisible?"block":"none"}).text((function(e,n){return n%(h.minorTicks+1)!=0?"":T?T[e]+h.angularAxis.ticksSuffix:e+h.angularAxis.ticksSuffix})).style(V);h.angularAxis.rewriteTicks&&ee.text((function(e,n){return n%(h.minorTicks+1)!=0?"":h.angularAxis.rewriteTicks(this.textContent,n)}));var te=a.max($.selectAll(".angular-tick text")[0].map((function(e,n){return e.getCTM().e+e.getBBox().width})));z.attr({transform:"translate("+[_+te,h.margin.top]+")"});var ne=e.select("g.geometry-group").selectAll("g").size()>0,re=e.select("g.geometry-group").selectAll("g.geometry").data(f);if(re.enter().append("g").attr({class:function(e,n){return"geometry geometry"+n}}),re.exit().remove(),f[0]||ne){var ae=[];f.forEach((function(e,n){var a={};a.radialScale=r,a.angularScale=l,a.container=re.filter((function(e,r){return r==n})),a.geometry=e.geometry,a.orientation=h.orientation,a.direction=h.direction,a.index=n,ae.push({data:e,geometryConfig:a})}));var oe=a.nest().key((function(e,n){return void 0!==e.data.groupId||"unstacked"})).entries(ae),ie=[];oe.forEach((function(e,n){"unstacked"===e.key?ie=ie.concat(e.values.map((function(e,n){return[e]}))):ie.push(e.values)})),ie.forEach((function(e,n){var r;r=Array.isArray(e)?e[0].geometryConfig.geometry:e.geometryConfig.geometry;var a=e.map((function(e,n){return o(s[r].defaultConfig(),e)}));s[r]().config(a)()}))}var se,le,ce=e.select(".guides-group"),ue=e.select(".tooltips-group"),de=s.tooltipPanel().config({container:ue,fontSize:8})(),pe=s.tooltipPanel().config({container:ue,fontSize:8})(),fe=s.tooltipPanel().config({container:ue,hasTick:!0})();if(!O){var he=ce.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});$.on("mousemove.angular-guide",(function(e,n){var r=s.util.getMousePos(Y).angle;he.attr({x2:-_,transform:"rotate("+r+")"}).style({opacity:.5});var a=(r+180+360-h.orientation)%360;se=l.invert(a);var o=s.util.convertToCartesian(_+12,r+180);de.text(s.util.round(se)).move([o[0]+k[0],o[1]+k[1]])})).on("mouseout.angular-guide",(function(e,n){ce.select("line").style({opacity:0})}))}var me=ce.select("circle").style({stroke:"grey",fill:"none"});$.on("mousemove.radial-guide",(function(e,n){var a=s.util.getMousePos(Y).radius;me.attr({r:a}).style({opacity:.5}),le=r.invert(s.util.getMousePos(Y).radius);var o=s.util.convertToCartesian(a,h.radialAxis.orientation);pe.text(s.util.round(le)).move([o[0]+k[0],o[1]+k[1]])})).on("mouseout.radial-guide",(function(e,n){me.style({opacity:0}),fe.hide(),de.hide(),pe.hide()})),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",(function(n,r){var o=a.select(this),i=this.style.fill,l="black",c=this.style.opacity||1;if(o.attr({"data-opacity":c}),i&&"none"!==i){o.attr({"data-fill":i}),l=a.hsl(i).darker().toString(),o.style({fill:l,opacity:1});var u={t:s.util.round(n[0]),r:s.util.round(n[1])};O&&(u.t=T[n[0]]);var d="t: "+u.t+", r: "+u.r,p=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),h=[p.left+p.width/2-H[0]-f.left,p.top+p.height/2-H[1]-f.top];fe.config({color:l}).text(d),fe.move(h)}else i=this.style.stroke||"black",o.attr({"data-stroke":i}),l=a.hsl(i).darker().toString(),o.style({stroke:l,opacity:1})})).on("mousemove.tooltip",(function(e,n){if(0!=a.event.which)return!1;a.select(this).attr("data-fill")&&fe.show()})).on("mouseout.tooltip",(function(e,n){fe.hide();var r=a.select(this),o=r.attr("data-fill");o?r.style({fill:o,opacity:r.attr("data-opacity")}):r.style({stroke:r.attr("data-stroke"),opacity:r.attr("data-opacity")})}))})),f}(u),this},f.config=function(e){if(!arguments.length)return c;var n=s.util.cloneJson(e);return n.data.forEach((function(e,n){c.data[n]||(c.data[n]={}),o(c.data[n],s.Axis.defaultConfig().data[0]),o(c.data[n],e)})),o(c.layout,s.Axis.defaultConfig().layout),o(c.layout,n.layout),this},f.getLiveConfig=function(){return d},f.getinputConfig=function(){return u},f.radialScale=function(e){return r},f.angularScale=function(e){return l},f.svg=function(){return e},a.rebind(f,p,"on"),f},s.Axis.defaultConfig=function(e,n){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:a.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},s.util={},s.DATAEXTENT="dataExtent",s.AREA="AreaChart",s.LINE="LinePlot",s.DOT="DotPlot",s.BAR="BarChart",s.util._override=function(e,n){for(var r in e)r in n&&(n[r]=e[r])},s.util._extend=function(e,n){for(var r in e)n[r]=e[r]},s.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},s.util.dataFromEquation2=function(e,n){var r=n||6;return a.range(0,360+r,r).map((function(n,r){var a=n*Math.PI/180;return[n,e(a)]}))},s.util.dataFromEquation=function(e,n,r){var o=n||6,i=[],s=[];a.range(0,360+o,o).forEach((function(n,r){var a=n*Math.PI/180,o=e(a);i.push(n),s.push(o)}));var l={t:i,r:s};return r&&(l.name=r),l},s.util.ensureArray=function(e,n){if(void 0===e)return null;var r=[].concat(e);return a.range(n).map((function(e,n){return r[n]||r[0]}))},s.util.fillArrays=function(e,n,r){return n.forEach((function(n,a){e[n]=s.util.ensureArray(e[n],r)})),e},s.util.cloneJson=function(e){return JSON.parse(JSON.stringify(e))},s.util.validateKeys=function(e,n){"string"==typeof n&&(n=n.split("."));var r=n.shift();return e[r]&&(!n.length||objHasKeys(e[r],n))},s.util.sumArrays=function(e,n){return a.zip(e,n).map((function(e,n){return a.sum(e)}))},s.util.arrayLast=function(e){return e[e.length-1]},s.util.arrayEqual=function(e,n){for(var r=Math.max(e.length,n.length,1);r-- >=0&&e[r]===n[r];);return-2===r},s.util.flattenArray=function(e){for(var n=[];!s.util.arrayEqual(n,e);)n=e,e=[].concat.apply([],e);return e},s.util.deduplicate=function(e){return e.filter((function(e,n,r){return r.indexOf(e)==n}))},s.util.convertToCartesian=function(e,n){var r=n*Math.PI/180;return[e*Math.cos(r),e*Math.sin(r)]},s.util.round=function(e,n){var r=n||2,a=Math.pow(10,r);return Math.round(e*a)/a},s.util.getMousePos=function(e){var n=a.mouse(e.node()),r=n[0],o=n[1],i={};return i.x=r,i.y=o,i.pos=n,i.angle=180*(Math.atan2(o,r)+Math.PI)/Math.PI,i.radius=Math.sqrt(r*r+o*o),i},s.util.duplicatesCount=function(e){for(var n,r={},a={},o=0,i=e.length;o<i;o++)(n=e[o])in r?(r[n]++,a[n]=r[n]):r[n]=1;return a},s.util.duplicates=function(e){return Object.keys(s.util.duplicatesCount(e))},s.util.translator=function(e,n,r,a){if(a){var o=r.slice();r=n,n=o}var i=n.reduce((function(e,n){if(void 0!==e)return e[n]}),e);void 0!==i&&(n.reduce((function(e,r,a){if(void 0!==e)return a===n.length-1&&delete e[r],e[r]}),e),r.reduce((function(e,n,a){return void 0===e[n]&&(e[n]={}),a===r.length-1&&(e[n]=i),e[n]}),e))},s.PolyChart=function module(){var e=[s.PolyChart.defaultConfig()],n=a.dispatch("hover"),r={solid:"none",dash:[5,2],dot:[2,5]};function exports(){var n=e[0].geometryConfig,o=n.container;"string"==typeof o&&(o=a.select(o)),o.datum(e).each((function(e,o){var i=!!e[0].data.yStack,s=e.map((function(e,n){return i?a.zip(e.data.t[0],e.data.r[0],e.data.yStack[0]):a.zip(e.data.t[0],e.data.r[0])})),l=n.angularScale,c=n.radialScale.domain()[0],u={bar:function(r,o,i){var s=e[i].data,c=n.radialScale(r[1])-n.radialScale(0),u=n.radialScale(r[2]||0),d=s.barWidth;a.select(this).attr({class:"mark bar",d:"M"+[[c+u,-d/2],[c+u,d/2],[u,d/2],[u,-d/2]].join("L")+"Z",transform:function(e,r){return"rotate("+(n.orientation+l(e[0]))+")"}})}};u.dot=function(r,o,i){var s=r[2]?[r[0],r[1]+r[2]]:r,l=a.svg.symbol().size(e[i].data.dotSize).type(e[i].data.dotType)(r,o);a.select(this).attr({class:"mark dot",d:l,transform:function(e,r){var a=function convertToCartesian(e){var n=e.r*Math.cos(e.t),r=e.r*Math.sin(e.t);return{x:n,y:r}}(function getPolarCoordinates(e,r){var a=n.radialScale(e[1]),o=(n.angularScale(e[0])+n.orientation)*Math.PI/180;return{r:a,t:o}}(s));return"translate("+[a.x,a.y]+")"}})};var d=a.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius((function(e){return n.radialScale(e[1])})).angle((function(e){return n.angularScale(e[0])*Math.PI/180}));u.line=function(r,o,i){var l=r[2]?s[i].map((function(e,n){return[e[0],e[1]+e[2]]})):s[i];if(a.select(this).each(u.dot).style({opacity:function(n,r){return+e[i].data.dotVisible},fill:m.stroke(r,o,i)}).attr({class:"mark dot"}),!(o>0)){var c=a.select(this.parentNode).selectAll("path.line").data([0]);c.enter().insert("path"),c.attr({class:"line",d:d(l),transform:function(e,r){return"rotate("+(n.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(e,n){return m.fill(r,o,i)},"fill-opacity":0,stroke:function(e,n){return m.stroke(r,o,i)},"stroke-width":function(e,n){return m["stroke-width"](r,o,i)},"stroke-dasharray":function(e,n){return m["stroke-dasharray"](r,o,i)},opacity:function(e,n){return m.opacity(r,o,i)},display:function(e,n){return m.display(r,o,i)}})}};var p=n.angularScale.range(),f=Math.abs(p[1]-p[0])/s[0].length*Math.PI/180,h=a.svg.arc().startAngle((function(e){return-f/2})).endAngle((function(e){return f/2})).innerRadius((function(e){return n.radialScale(c+(e[2]||0))})).outerRadius((function(e){return n.radialScale(c+(e[2]||0))+n.radialScale(e[1])}));u.arc=function(e,r,o){a.select(this).attr({class:"mark arc",d:h,transform:function(e,r){return"rotate("+(n.orientation+l(e[0])+90)+")"}})};var m={fill:function(n,r,a){return e[a].data.color},stroke:function(n,r,a){return e[a].data.strokeColor},"stroke-width":function(n,r,a){return e[a].data.strokeSize+"px"},"stroke-dasharray":function(n,a,o){return r[e[o].data.strokeDash]},opacity:function(n,r,a){return e[a].data.opacity},display:function(n,r,a){return void 0===e[a].data.visible||e[a].data.visible?"block":"none"}},g=a.select(this).selectAll("g.layer").data(s);g.enter().append("g").attr({class:"layer"});var y=g.selectAll("path.mark").data((function(e,n){return e}));y.enter().append("path").attr({class:"mark"}),y.style(m).each(u[n.geometryType]),y.exit().remove(),g.exit().remove()}))}return exports.config=function(n){return arguments.length?(n.forEach((function(n,r){e[r]||(e[r]={}),o(e[r],s.PolyChart.defaultConfig()),o(e[r],n)})),this):e},exports.getColorScale=function(){},a.rebind(exports,n,"on"),exports},s.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:a.scale.category20()}}},s.BarChart=function module(){return s.PolyChart()},s.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},s.AreaChart=function module(){return s.PolyChart()},s.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},s.DotPlot=function module(){return s.PolyChart()},s.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},s.LinePlot=function module(){return s.PolyChart()},s.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},s.Legend=function module(){var e=s.Legend.defaultConfig(),n=a.dispatch("hover");function exports(){var n=e.legendConfig,r=e.data.map((function(e,r){return[].concat(e).map((function(e,a){var i=o({},n.elements[r]);return i.name=e,i.color=[].concat(n.elements[r].color)[a],i}))})),i=a.merge(r);i=i.filter((function(e,r){return n.elements[r]&&(n.elements[r].visibleInLegend||void 0===n.elements[r].visibleInLegend)})),n.reverseOrder&&(i=i.reverse());var s=n.container;("string"==typeof s||s.nodeName)&&(s=a.select(s));var l=i.map((function(e,n){return e.color})),c=n.fontSize,u=null==n.isContinuous?"number"==typeof i[0]:n.isContinuous,d=u?n.height:c*i.length,p=s.classed("legend-group",!0).selectAll("svg").data([0]),f=p.enter().append("svg").attr({width:300,height:d+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});f.append("g").classed("legend-axis",!0),f.append("g").classed("legend-marks",!0);var h=a.range(i.length),m=a.scale[u?"linear":"ordinal"]().domain(h).range(l),g=a.scale[u?"linear":"ordinal"]().domain(h)[u?"range":"rangePoints"]([0,d]);if(u){var y=p.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);y.enter().append("stop"),y.attr({offset:function(e,n){return n/(l.length-1)*100+"%"}}).style({"stop-color":function(e,n){return e}}),p.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var b=p.select(".legend-marks").selectAll("path.legend-mark").data(i);b.enter().append("path").classed("legend-mark",!0),b.attr({transform:function(e,n){return"translate("+[c/2,g(n)+c/2]+")"},d:function(e,n){return function(e,n){var r=3*n;return"line"===e?"M"+[[-n/2,-n/12],[n/2,-n/12],[n/2,n/12],[-n/2,n/12]]+"Z":-1!=a.svg.symbolTypes.indexOf(e)?a.svg.symbol().type(e).size(r)():a.svg.symbol().type("square").size(r)()}(e.symbol,c)},fill:function(e,n){return m(n)}}),b.exit().remove()}var x=a.svg.axis().scale(g).orient("right"),_=p.select("g.legend-axis").attr({transform:"translate("+[u?n.colorBandWidth:c,c/2]+")"}).call(x);return _.selectAll(".domain").style({fill:"none",stroke:"none"}),_.selectAll("line").style({fill:"none",stroke:u?n.textColor:"none"}),_.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text((function(e,n){return i[n].name})),exports}return exports.config=function(n){return arguments.length?(o(e,n),this):e},a.rebind(exports,n,"on"),exports},s.Legend.defaultConfig=function(e,n){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},s.tooltipPanel=function(){var e,n,r,i={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},l="tooltip-"+s.tooltipPanel.uid++,c=10,exports=function(){var a=(e=i.container.selectAll("g."+l).data([0])).enter().append("g").classed(l,!0).style({"pointer-events":"none",display:"none"});return r=a.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),n=a.append("text").attr({dx:i.padding+c,dy:.3*+i.fontSize}),exports};return exports.text=function(o){var s=a.hsl(i.color).l,l=s>=.5?"#aaa":"white",u=s>=.5?"black":"white",d=o||"";n.style({fill:u,"font-size":i.fontSize+"px"}).text(d);var p=i.padding,f=n.node().getBBox(),h={fill:i.color,stroke:l,"stroke-width":"2px"},m=f.width+2*p+c,g=f.height+2*p;return r.attr({d:"M"+[[c,-g/2],[c,-g/4],[i.hasTick?0:c,0],[c,g/4],[c,g/2],[m,g/2],[m,-g/2]].join("L")+"Z"}).style(h),e.attr({transform:"translate("+[c,-g/2+2*p]+")"}),e.style({display:"block"}),exports},exports.move=function(n){if(e)return e.attr({transform:"translate("+[n[0],n[1]]+")"}).style({display:"block"}),exports},exports.hide=function(){if(e)return e.style({display:"none"}),exports},exports.show=function(){if(e)return e.style({display:"block"}),exports},exports.config=function(e){return o(i,e),exports},exports},s.tooltipPanel.uid=1,s.adapter={},s.adapter.plotly=function module(){var e={convert:function(e,n){var r={};if(e.data&&(r.data=e.data.map((function(e,r){var a=o({},e);return[[a,["marker","color"],["color"]],[a,["marker","opacity"],["opacity"]],[a,["marker","line","color"],["strokeColor"]],[a,["marker","line","dash"],["strokeDash"]],[a,["marker","line","width"],["strokeSize"]],[a,["marker","symbol"],["dotType"]],[a,["marker","size"],["dotSize"]],[a,["marker","barWidth"],["barWidth"]],[a,["line","interpolation"],["lineInterpolation"]],[a,["showlegend"],["visibleInLegend"]]].forEach((function(e,r){s.util.translator.apply(null,e.concat(n))})),n||delete a.marker,n&&delete a.groupId,n?("LinePlot"===a.geometry?(a.type="scatter",!0===a.dotVisible?(delete a.dotVisible,a.mode="lines+markers"):a.mode="lines"):"DotPlot"===a.geometry?(a.type="scatter",a.mode="markers"):"AreaChart"===a.geometry?a.type="area":"BarChart"===a.geometry&&(a.type="bar"),delete a.geometry):("scatter"===a.type?"lines"===a.mode?a.geometry="LinePlot":"markers"===a.mode?a.geometry="DotPlot":"lines+markers"===a.mode&&(a.geometry="LinePlot",a.dotVisible=!0):"area"===a.type?a.geometry="AreaChart":"bar"===a.type&&(a.geometry="BarChart"),delete a.mode,delete a.type),a})),!n&&e.layout&&"stack"===e.layout.barmode)){var i=s.util.duplicates(r.data.map((function(e,n){return e.geometry})));r.data.forEach((function(e,n){var a=i.indexOf(e.geometry);-1!=a&&(r.data[n].groupId=a)}))}if(e.layout){var l=o({},e.layout);if([[l,["plot_bgcolor"],["backgroundColor"]],[l,["showlegend"],["showLegend"]],[l,["radialaxis"],["radialAxis"]],[l,["angularaxis"],["angularAxis"]],[l.angularaxis,["showline"],["gridLinesVisible"]],[l.angularaxis,["showticklabels"],["labelsVisible"]],[l.angularaxis,["nticks"],["ticksCount"]],[l.angularaxis,["tickorientation"],["tickOrientation"]],[l.angularaxis,["ticksuffix"],["ticksSuffix"]],[l.angularaxis,["range"],["domain"]],[l.angularaxis,["endpadding"],["endPadding"]],[l.radialaxis,["showline"],["gridLinesVisible"]],[l.radialaxis,["tickorientation"],["tickOrientation"]],[l.radialaxis,["ticksuffix"],["ticksSuffix"]],[l.radialaxis,["range"],["domain"]],[l.angularAxis,["showline"],["gridLinesVisible"]],[l.angularAxis,["showticklabels"],["labelsVisible"]],[l.angularAxis,["nticks"],["ticksCount"]],[l.angularAxis,["tickorientation"],["tickOrientation"]],[l.angularAxis,["ticksuffix"],["ticksSuffix"]],[l.angularAxis,["range"],["domain"]],[l.angularAxis,["endpadding"],["endPadding"]],[l.radialAxis,["showline"],["gridLinesVisible"]],[l.radialAxis,["tickorientation"],["tickOrientation"]],[l.radialAxis,["ticksuffix"],["ticksSuffix"]],[l.radialAxis,["range"],["domain"]],[l.font,["outlinecolor"],["outlineColor"]],[l.legend,["traceorder"],["reverseOrder"]],[l,["labeloffset"],["labelOffset"]],[l,["defaultcolorrange"],["defaultColorRange"]]].forEach((function(e,r){s.util.translator.apply(null,e.concat(n))})),n?(void 0!==l.tickLength&&(l.angularaxis.ticklen=l.tickLength,delete l.tickLength),l.tickColor&&(l.angularaxis.tickcolor=l.tickColor,delete l.tickColor)):(l.angularAxis&&void 0!==l.angularAxis.ticklen&&(l.tickLength=l.angularAxis.ticklen),l.angularAxis&&void 0!==l.angularAxis.tickcolor&&(l.tickColor=l.angularAxis.tickcolor)),l.legend&&"boolean"!=typeof l.legend.reverseOrder&&(l.legend.reverseOrder="normal"!=l.legend.reverseOrder),l.legend&&"boolean"==typeof l.legend.traceorder&&(l.legend.traceorder=l.legend.traceorder?"reversed":"normal",delete l.legend.reverseOrder),l.margin&&void 0!==l.margin.t){var c=["t","r","b","l","pad"],u=["top","right","bottom","left","pad"],d={};a.entries(l.margin).forEach((function(e,n){d[u[c.indexOf(e.key)]]=e.value})),l.margin=d}n&&(delete l.needsEndSpacing,delete l.minorTickColor,delete l.minorTicks,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksCount,delete l.angularaxis.ticksStep,delete l.angularaxis.rewriteTicks,delete l.angularaxis.nticks,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksCount,delete l.radialaxis.ticksStep,delete l.radialaxis.rewriteTicks,delete l.radialaxis.nticks),r.layout=l}return r}};return e}},"3aa8":function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("215c").extractOpts;e.exports=function calc(e,n,r){var s,l=e._fullLayout,c=r.vals,u=r.containerStr,d=u?o.nestedProperty(n,u).get():n,p=i(d),f=!1!==p.auto,h=p.min,m=p.max,g=p.mid,minVal=function(){return o.aggNums(Math.min,null,c)},maxVal=function(){return o.aggNums(Math.max,null,c)};(void 0===h?h=minVal():f&&(h=d._colorAx&&a(h)?Math.min(h,minVal()):minVal()),void 0===m?m=maxVal():f&&(m=d._colorAx&&a(m)?Math.max(m,maxVal()):maxVal()),f&&void 0!==g&&(m-g>g-h?h=g-(m-g):m-g<g-h&&(m=g+(g-h))),h===m&&(h-=.5,m+=.5),p._sync("min",h),p._sync("max",m),p.autocolorscale)&&(s=h*m<0?l.colorscale.diverging:h>=0?l.colorscale.sequential:l.colorscale.sequentialminus,p._sync("colorscale",s))}},"3b24":function(e,n,r){"use strict";var a=r("e21b"),o=a.drawMode,i=a.openMode,s=r("52d8"),l=s.i000,c=s.i090,u=s.i180,d=s.i270,p=s.cos45,f=s.sin45,h=r("ac33"),m=h.p2r,g=h.r2p,y=r("e947").clearSelect,b=r("b34d"),x=b.readPaths,_=b.writePaths,w=b.ellipseOver;e.exports=function newShapes(e,n){if(e.length){var r=e[0][0];if(r){var a=r.getAttribute("d"),s=n.gd,h=s._fullLayout.newshape,b=n.plotinfo,k=b.xaxis,T=b.yaxis,S=!!b.domain||!b.xaxis,O=!!b.domain||!b.yaxis,C=n.isActiveShape,A=n.dragmode,I=(s.layout||{}).shapes||[];if(!o(A)&&void 0!==C){var N=s._fullLayout._activeShapeIndex;if(N<I.length)switch(s._fullLayout.shapes[N].type){case"rect":A="drawrect";break;case"circle":A="drawcircle";break;case"line":A="drawline";break;case"path":var M=I[N].path||"";A="Z"===M[M.length-1]?"drawclosedpath":"drawopenpath"}}var E,D=i(A),j=x(a,s,b,C),R={editable:!0,xref:S?"paper":k._id,yref:O?"paper":T._id,layer:h.layer,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};if(D||(R.fillcolor=h.fillcolor,R.fillrule=h.fillrule),1===j.length&&(E=j[0]),E&&"drawrect"===A)R.type="rect",R.x0=E[0][1],R.y0=E[0][2],R.x1=E[2][1],R.y1=E[2][2];else if(E&&"drawline"===A)R.type="line",R.x0=E[0][1],R.y0=E[0][2],R.x1=E[1][1],R.y1=E[1][2];else if(E&&"drawcircle"===A){R.type="circle";var L=E[l][1],z=E[c][1],$=E[u][1],B=E[d][1],V=E[l][2],U=E[c][2],W=E[u][2],H=E[d][2],G=b.xaxis&&("date"===b.xaxis.type||"log"===b.xaxis.type),q=b.yaxis&&("date"===b.yaxis.type||"log"===b.yaxis.type);G&&(L=g(b.xaxis,L),z=g(b.xaxis,z),$=g(b.xaxis,$),B=g(b.xaxis,B)),q&&(V=g(b.yaxis,V),U=g(b.yaxis,U),W=g(b.yaxis,W),H=g(b.yaxis,H));var K=(z+B)/2,X=(V+W)/2,Y=w({x0:K,y0:X,x1:K+(B-z+$-L)/2*p,y1:X+(H-U+W-V)/2*f});G&&(Y.x0=m(b.xaxis,Y.x0),Y.x1=m(b.xaxis,Y.x1)),q&&(Y.y0=m(b.yaxis,Y.y0),Y.y1=m(b.yaxis,Y.y1)),R.x0=Y.x0,R.y0=Y.y0,R.x1=Y.x1,R.y1=Y.y1}else R.type="path",k&&T&&function fixDatesForPaths(e,n,r){var a="date"===n.type,o="date"===r.type;if(!a&&!o)return e;for(var i=0;i<e.length;i++)for(var s=0;s<e[i].length;s++)for(var l=0;l+2<e[i][s].length;l+=2)a&&(e[i][s][l+1]=e[i][s][l+1].replace(" ","_")),o&&(e[i][s][l+2]=e[i][s][l+2].replace(" ","_"));return e}(j,k,T),R.path=_(j),E=null;y(s);for(var Z=n.editHelpers,J=(Z||{}).modifyItem,Q=[],ee=0;ee<I.length;ee++){var te=s._fullLayout.shapes[ee];if(Q[ee]=te._input,void 0!==C&&ee===s._fullLayout._activeShapeIndex){var ne=R;switch(te.type){case"line":case"rect":case"circle":J("x0",ne.x0),J("x1",ne.x1),J("y0",ne.y0),J("y1",ne.y1);break;case"path":J("path",ne.path)}}}return void 0===C?(Q.push(R),Q):Z?Z.getUpdateObj():{}}}}},"3b28":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({batchToSpaceND_:function batchToSpaceND_(e,n,r){const l=Object(i.a)(e,"x","batchToSpaceND"),c=n.reduce(((e,n)=>e*n));s.b(l.rank>=1+n.length,(()=>`input rank is ${l.rank} but should be > than blockShape.length ${n.length}`)),s.b(r.length===n.length,(()=>`crops.length is ${r.length} but should be equal to blockShape.length  ${n.length}`)),s.b(l.shape[0]%c==0,(()=>`input tensor batch is ${l.shape[0]} but is not divisible by the product of the elements of blockShape ${n.join(" * ")} === ${c}`));const u={x:l},d={blockShape:n,crops:r};return a.a.runKernel(o.t,u,d)}})},"3bb7":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({neg_:function neg_(e){const n={x:Object(i.a)(e,"x","neg")};return a.a.runKernel(o.Vb,n)}})},"3bbe":function(e,n,r){var a=r("861d");e.exports=function(e){if(!a(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3bfc":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}]},"3c1c":function(e,n,r){"use strict";var a=r("371e"),o=r("d301");function isFound(e,n){if(n&&n.length)for(var r=0;r<n.length;r++)if(n[r][e])return!0;return!1}n.id2name=function id2name(e){if("string"==typeof e&&e.match(o.AX_ID_PATTERN)){var n=e.split(" ")[0].substr(1);return"1"===n&&(n=""),e.charAt(0)+"axis"+n}},n.name2id=function name2id(e){if(e.match(o.AX_NAME_PATTERN)){var n=e.substr(5);return"1"===n&&(n=""),e.charAt(0)+n}},n.cleanId=function cleanId(e,n,r){var a=/( domain)$/.test(e);if("string"==typeof e&&e.match(o.AX_ID_PATTERN)&&(!n||e.charAt(0)===n)&&(!a||r)){var i=e.split(" ")[0].substr(1).replace(/^0+/,"");return"1"===i&&(i=""),e.charAt(0)+i+(a&&r?" domain":"")}},n.list=function(e,r,a){var o=e._fullLayout;if(!o)return[];var i,s=n.listIds(e,r),l=new Array(s.length);for(i=0;i<s.length;i++){var c=s[i];l[i]=o[c.charAt(0)+"axis"+c.substr(1)]}if(!a){var u=o._subplots.gl3d||[];for(i=0;i<u.length;i++){var d=o[u[i]];r?l.push(d[r+"axis"]):l.push(d.xaxis,d.yaxis,d.zaxis)}}return l},n.listIds=function(e,n){var r=e._fullLayout;if(!r)return[];var a=r._subplots;return n?a[n+"axis"]:a.xaxis.concat(a.yaxis)},n.getFromId=function(e,r,a){var o=e._fullLayout;return r=void 0===r||"string"!=typeof r?r:r.replace(" domain",""),"x"===a?r=r.replace(/y[0-9]*/,""):"y"===a&&(r=r.replace(/x[0-9]*/,"")),o[n.id2name(r)]},n.getFromTrace=function(e,r,o){var i=e._fullLayout,s=null;if(a.traceIs(r,"gl3d")){var l=r.scene;"scene"===l.substr(0,5)&&(s=i[l][o+"axis"])}else s=n.getFromId(e,r[o+"axis"]||o);return s},n.idSort=function(e,n){var r=e.charAt(0),a=n.charAt(0);return r!==a?r>a?1:-1:+(e.substr(1)||1)-+(n.substr(1)||1)},n.ref2id=function(e){return!!/^[xyz]/.test(e)&&e.split(" ")[0]},n.isLinked=function(e,n){return isFound(n,e._axisMatchGroups)||isFound(n,e._axisConstraintGroups)}},"3c31":function(e,n,r){"use strict";function makeComputeErrorValue(e,n){return"percent"===e?function(e){return Math.abs(e*n/100)}:"constant"===e?function(){return Math.abs(n)}:"sqrt"===e?function(e){return Math.sqrt(Math.abs(e))}:void 0}e.exports=function makeComputeError(e){var n=e.type,r=e.symmetric;if("data"===n){var a=e.array||[];if(r)return function computeError(e,n){var r=+a[n];return[r,r]};var o=e.arrayminus||[];return function computeError(e,n){var r=+a[n],i=+o[n];return isNaN(r)&&isNaN(i)?[NaN,NaN]:[i||0,r||0]}}var i=makeComputeErrorValue(n,e.value),s=makeComputeErrorValue(n,e.valueminus);return r||void 0===e.valueminus?function computeError(e){var n=i(e);return[n,n]}:function computeError(e){return[s(e),i(e)]}}},"3c35":function(e,n){(function(n){e.exports=n}).call(this,{})},"3c4e":function(e,n,r){"use strict";var a=function isMergeableObject(e){return function isNonNullObject(e){return!!e&&"object"==typeof e}(e)&&!function isSpecial(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function isReactElement(e){return e.$$typeof===o}(e)}(e)};var o="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneIfNecessary(e,n){return n&&!0===n.clone&&a(e)?deepmerge(function emptyTarget(e){return Array.isArray(e)?[]:{}}(e),e,n):e}function defaultArrayMerge(e,n,r){var o=e.slice();return n.forEach((function(n,i){void 0===o[i]?o[i]=cloneIfNecessary(n,r):a(n)?o[i]=deepmerge(e[i],n,r):-1===e.indexOf(n)&&o.push(cloneIfNecessary(n,r))})),o}function deepmerge(e,n,r){var o=Array.isArray(n);return o===Array.isArray(e)?o?((r||{arrayMerge:defaultArrayMerge}).arrayMerge||defaultArrayMerge)(e,n,r):function mergeObject(e,n,r){var o={};return a(e)&&Object.keys(e).forEach((function(n){o[n]=cloneIfNecessary(e[n],r)})),Object.keys(n).forEach((function(i){a(n[i])&&e[i]?o[i]=deepmerge(e[i],n[i],r):o[i]=cloneIfNecessary(n[i],r)})),o}(e,n,r):cloneIfNecessary(n,r)}deepmerge.all=function deepmergeAll(e,n){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,r){return deepmerge(e,r,n)}))};var i=deepmerge;e.exports=i},"3d2e":function(e,n,r){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},"3d30":function(e,n,r){"use strict";e.exports=r("5e8f")},"3d50":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}]},"3e44":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.x,o=n.i;return e=a[o],r=(e^=e>>>7)^e<<24,r^=(e=a[o+1&7])^e>>>10,r^=(e=a[o+3&7])^e>>>3,r^=(e=a[o+4&7])^e<<7,e=a[o+7&7],r^=(e^=e<<13)^e<<9,a[o]=r,n.i=o+1&7,r},function init(e,n){var r,a=[];if(n===(0|n))a[0]=n;else for(n=""+n,r=0;r<n.length;++r)a[7&r]=a[7&r]<<15^n.charCodeAt(r)+a[r+1&7]<<13;for(;a.length<8;)a.push(0);for(r=0;r<8&&0===a[r];++r);for(8==r?a[7]=-1:a[r],e.x=a,e.i=0,r=256;r>0;--r)e.next()}(n,e)}function copy(e,n){return n.x=e.x.slice(),n.i=e.i,n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.x&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorshift7=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"3efc":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef"),l=r("35c9");const c=Object(s.a)({multinomial_:function multinomial_(e,n,r,s=!1){const c=Object(i.a)(e,"logits","multinomial"),u=c.size,d=c.rank;if(u<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${u}.`);if(d>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${d}`);r=r||Math.random();const p={logits:1===d?Object(l.a)(c,[1,-1]):c},f={numSamples:n,seed:r,normalized:s},h=a.a.runKernel(o.Tb,p,f);return 1===d?Object(l.a)(h,[h.size]):h}})},"3f8c":function(e,n){e.exports={}},"3fb2":function(e,n,r){"use strict";var a=r("fc26"),o=r("bb71"),i=r("6921"),s=r("3ff5").dfltConfig,l=a.isPlainObject,c=Array.isArray,u=a.isArrayOrTypedArray;function crawl(e,n,r,o,i,s){s=s||[];for(var d=Object.keys(e),p=0;p<d.length;p++){var f=d[p];if("transforms"!==f){var h=s.slice();h.push(f);var m=e[f],g=n[f],y=getNestedSchema(r,f),b=(y||{}).valType,x="info_array"===b,_="colorscale"===b,w=(y||{}).items;if(isInSchema(r,f))if(l(m)&&l(g)&&"any"!==b)crawl(m,g,y,o,i,h);else if(x&&c(m)){m.length>g.length&&o.push(format("unused",i,h.concat(g.length)));var k,T,S,O,C,A=g.length,I=Array.isArray(w);if(I&&(A=Math.min(A,w.length)),2===y.dimensions)for(T=0;T<A;T++)if(c(m[T])){m[T].length>g[T].length&&o.push(format("unused",i,h.concat(T,g[T].length)));var N=g[T].length;for(k=0;k<(I?Math.min(N,w[T].length):N);k++)S=I?w[T][k]:w,O=m[T][k],C=g[T][k],a.validate(O,S)?C!==O&&C!==+O&&o.push(format("dynamic",i,h.concat(T,k),O,C)):o.push(format("value",i,h.concat(T,k),O))}else o.push(format("array",i,h.concat(T),m[T]));else for(T=0;T<A;T++)S=I?w[T]:w,O=m[T],C=g[T],a.validate(O,S)?C!==O&&C!==+O&&o.push(format("dynamic",i,h.concat(T),O,C)):o.push(format("value",i,h.concat(T),O))}else if(y.items&&!x&&c(m)){var M,E,D=w[Object.keys(w)[0]],j=[];for(M=0;M<g.length;M++){var R=g[M]._index||M;if((E=h.slice()).push(R),l(m[R])&&l(g[M])){j.push(R);var L=m[R],z=g[M];l(L)&&!1!==L.visible&&!1===z.visible?o.push(format("invisible",i,E)):crawl(L,z,D,o,i,E)}}for(M=0;M<m.length;M++)(E=h.slice()).push(M),l(m[M])?-1===j.indexOf(M)&&o.push(format("unused",i,E)):o.push(format("object",i,E,m[M]))}else!l(m)&&l(g)?o.push(format("object",i,h,m)):u(m)||!u(g)||x||_?f in n?a.validate(m,y)?"enumerated"===y.valType&&(y.coerceNumber&&m!==+g||m!==g)&&o.push(format("dynamic",i,h,m,g)):o.push(format("value",i,h,m)):o.push(format("unused",i,h,m)):o.push(format("array",i,h,m));else o.push(format("schema",i,h))}}return o}function fillLayoutSchema(e,n){for(var r=e.layout.layoutAttributes,o=0;o<n.length;o++){var i=n[o],s=e.traces[i.type],l=s.layoutAttributes;l&&(i.subplot?a.extendFlat(r[s.attributes.subplot.dflt],l):a.extendFlat(r,l))}return r}e.exports=function validate(e,n){void 0===e&&(e=[]),void 0===n&&(n={});var r,u,d=i.get(),p=[],f={_context:a.extendFlat({},s)};c(e)?(f.data=a.extendDeep([],e),r=e):(f.data=[],r=[],p.push(format("array","data"))),l(n)?(f.layout=a.extendDeep({},n),u=n):(f.layout={},u={},arguments.length>1&&p.push(format("object","layout"))),o.supplyDefaults(f);for(var h=f._fullData,m=r.length,g=0;g<m;g++){var y=r[g],b=["data",g];if(l(y)){var x=h[g],_=x.type,w=d.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===x.visible&&!1!==y.visible&&p.push(format("invisible",b)),crawl(y,x,w,p,b);var k=y.transforms,T=x.transforms;if(k){c(k)||p.push(format("array",b,["transforms"])),b.push("transforms");for(var S=0;S<k.length;S++){var O=["transforms",S],C=k[S].type;if(l(k[S])){var A=d.transforms[C]?d.transforms[C].attributes:{};A.type={valType:"enumerated",values:Object.keys(d.transforms)},crawl(k[S],T[S],A,p,b,O)}else p.push(format("object",b,O))}}}else p.push(format("object",b))}var I=f._fullLayout,N=fillLayoutSchema(d,h);return crawl(u,I,N,p,"layout"),0===p.length?void 0:p};var d={object:function(e,n){return("layout"===e&&""===n?"The layout argument":"data"===e[0]&&""===n?"Trace "+e[1]+" in the data argument":inBase(e)+"key "+n)+" must be linked to an object container"},array:function(e,n){return("data"===e?"The data argument":inBase(e)+"key "+n)+" must be linked to an array container"},schema:function(e,n){return inBase(e)+"key "+n+" is not part of the schema"},unused:function(e,n,r){var a=l(r)?"container":"key";return inBase(e)+a+" "+n+" did not get coerced"},dynamic:function(e,n,r,a){return[inBase(e)+"key",n,"(set to '"+r+"')","got reset to","'"+a+"'","during defaults."].join(" ")},invisible:function(e,n){return(n?inBase(e)+"item "+n:"Trace "+e[1])+" got defaulted to be not visible"},value:function(e,n,r){return[inBase(e)+"key "+n,"is set to an invalid value ("+r+")"].join(" ")}};function inBase(e){return c(e)?"In data trace "+e[1]+", ":"In "+e+", "}function format(e,n,r,o,i){var s,l;r=r||"",c(n)?(s=n[0],l=n[1]):(s=n,l=null);var u=function convertPathToAttributeString(e){if(!c(e))return String(e);for(var n="",r=0;r<e.length;r++){var a=e[r];"number"==typeof a?n=n.substr(0,n.length-1)+"["+a+"]":n+=a,r<e.length-1&&(n+=".")}return n}(r),p=d[e](n,u,o,i);return a.log(p),{code:e,container:s,trace:l,path:r,astr:u,msg:p}}function isInSchema(e,n){var r=splitKey(n),a=r.keyMinusId,o=r.id;return!!(a in e&&e[a]._isSubplotObj&&o)||n in e}function getNestedSchema(e,n){return n in e?e[n]:e[splitKey(n).keyMinusId]}var p=a.counterRegex("([a-z]+)");function splitKey(e){var n=e.match(p);return{keyMinusId:n&&n[1],id:n&&n[2]}}},"3ff5":function(e,n,r){"use strict";var a={staticPlot:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are interactive or not.","If *false*, no interactivity, for export or image generation."].join(" ")},plotlyServerURL:{valType:"string",dflt:"",description:["When set it determines base URL for","the 'Edit in Chart Studio' `showEditInChartStudio`/`showSendToCloud` mode bar button","and the showLink/sendData on-graph link.","To enable sending your data to Chart Studio Cloud, you need to","set both `plotlyServerURL` to 'https://chart-studio.plotly.com' and","also set `showSendToCloud` to true."].join(" ")},editable:{valType:"boolean",dflt:!1,description:["Determines whether the graph is editable or not.","Sets all pieces of `edits`","unless a separate `edits` config item overrides individual parts."].join(" ")},edits:{annotationPosition:{valType:"boolean",dflt:!1,description:["Determines if the main anchor of the annotation is editable.","The main anchor corresponds to the","text (if no arrow) or the arrow (which drags the whole thing leaving","the arrow length & direction unchanged)."].join(" ")},annotationTail:{valType:"boolean",dflt:!1,description:["Has only an effect for annotations with arrows.","Enables changing the length and direction of the arrow."].join(" ")},annotationText:{valType:"boolean",dflt:!1,description:"Enables editing annotation text."},axisTitleText:{valType:"boolean",dflt:!1,description:"Enables editing axis title text."},colorbarPosition:{valType:"boolean",dflt:!1,description:"Enables moving colorbars."},colorbarTitleText:{valType:"boolean",dflt:!1,description:"Enables editing colorbar title text."},legendPosition:{valType:"boolean",dflt:!1,description:"Enables moving the legend."},legendText:{valType:"boolean",dflt:!1,description:"Enables editing the trace name fields from the legend"},shapePosition:{valType:"boolean",dflt:!1,description:"Enables moving shapes."},titleText:{valType:"boolean",dflt:!1,description:"Enables editing the global layout title."}},autosizable:{valType:"boolean",dflt:!1,description:["Determines whether the graphs are plotted with respect to","layout.autosize:true and infer its container size."].join(" ")},responsive:{valType:"boolean",dflt:!1,description:["Determines whether to change the layout size when window is resized.","In v2, this option will be removed and will always be true."].join(" ")},fillFrame:{valType:"boolean",dflt:!1,description:["When `layout.autosize` is turned on, determines whether the graph","fills the container (the default) or the screen (if set to *true*)."].join(" ")},frameMargins:{valType:"number",dflt:0,min:0,max:.5,description:["When `layout.autosize` is turned on, set the frame margins","in fraction of the graph size."].join(" ")},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox",description:["Determines whether mouse wheel or two-finger scroll zooms is enable.","Turned on by default for gl3d, geo and mapbox subplots","(as these subplot types do not have zoombox via pan),","but turned off by default for cartesian subplots.","Set `scrollZoom` to *false* to disable scrolling for all subplots."].join(" ")},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize",description:["Sets the double click interaction mode.","Has an effect only in cartesian plots.","If *false*, double click is disable.","If *reset*, double click resets the axis ranges to their initial values.","If *autosize*, double click set the axis ranges to their autorange values.","If *reset+autosize*, the odd double clicks resets the axis ranges","to their initial values and even double clicks set the axis ranges","to their autorange values."].join(" ")},doubleClickDelay:{valType:"number",dflt:300,min:0,description:["Sets the delay for registering a double-click in ms.","This is the time interval (in ms) between first mousedown and","2nd mouseup to constitute a double-click.","This setting propagates to all on-subplot double clicks","(except for geo and mapbox) and on-legend double clicks."].join(" ")},showAxisDragHandles:{valType:"boolean",dflt:!0,description:["Set to *false* to omit cartesian axis pan/zoom drag handles."].join(" ")},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0,description:["Set to *false* to omit direct range entry at the pan/zoom drag points,","note that `showAxisDragHandles` must be enabled to have an effect."].join(" ")},showTips:{valType:"boolean",dflt:!0,description:["Determines whether or not tips are shown while interacting","with the resulting graphs."].join(" ")},showLink:{valType:"boolean",dflt:!1,description:["Determines whether a link to Chart Studio Cloud is displayed","at the bottom right corner of resulting graphs.","Use with `sendData` and `linkText`."].join(" ")},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0,description:["Sets the text appearing in the `showLink` link."].join(" ")},sendData:{valType:"boolean",dflt:!0,description:["If *showLink* is true, does it contain data","just link to a Chart Studio Cloud file?"].join(" ")},showSources:{valType:"any",dflt:!1,description:["Adds a source-displaying function to show sources on","the resulting graphs."].join(" ")},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover",description:["Determines the mode bar display mode.","If *true*, the mode bar is always visible.","If *false*, the mode bar is always hidden.","If *hover*, the mode bar is visible while the mouse cursor","is on the graph container."].join(" ")},showSendToCloud:{valType:"boolean",dflt:!1,description:['Should we include a ModeBar button, labeled "Edit in Chart Studio",',"that sends this chart to chart-studio.plotly.com (formerly plot.ly) or another plotly server","as specified by `plotlyServerURL` for editing, export, etc? Prior to version 1.43.0","this button was included by default, now it is opt-in using this flag.","Note that this button can (depending on `plotlyServerURL` being set) send your data","to an external server. However that server does not persist your data",'until you arrive at the Chart Studio and explicitly click "Save".'].join(" ")},showEditInChartStudio:{valType:"boolean",dflt:!1,description:["Same as `showSendToCloud`, but use a pencil icon instead of a floppy-disk.","Note that if both `showSendToCloud` and `showEditInChartStudio` are turned,","only `showEditInChartStudio` will be honored."].join(" ")},modeBarButtonsToRemove:{valType:"any",dflt:[],description:["Remove mode bar buttons by name.","See ./components/modebar/buttons.js for the list of names."].join(" ")},modeBarButtonsToAdd:{valType:"any",dflt:[],description:["Add mode bar button using config objects","See ./components/modebar/buttons.js for list of arguments."].join(" ")},modeBarButtons:{valType:"any",dflt:!1,description:["Define fully custom mode bar buttons as nested array,","where the outer arrays represents button groups, and","the inner arrays have buttons config objects or names of default buttons","See ./components/modebar/buttons.js for more info."].join(" ")},toImageButtonOptions:{valType:"any",dflt:{},description:["Statically override options for toImage modebar button","allowed keys are format, filename, width, height, scale","see ../components/modebar/buttons.js"].join(" ")},displaylogo:{valType:"boolean",dflt:!0,description:["Determines whether or not the plotly logo is displayed","on the end of the mode bar."].join(" ")},watermark:{valType:"boolean",dflt:!1,description:"watermark the images with the company's logo"},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4,description:["Set the pixel ratio during WebGL image export.","This config option was formerly named `plot3dPixelRatio`","which is now deprecated."].join(" ")},setBackground:{valType:"any",dflt:"transparent",description:["Set function to add the background color (i.e. `layout.paper_color`)","to a different container.","This function take the graph div as first argument and the current background","color as second argument.","Alternatively, set to string *opaque* to ensure there is white behind it."].join(" ")},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/",description:["Set the URL to topojson used in geo charts.","By default, the topojson files are fetched from cdn.plot.ly.","For example, set this option to:","<path-to-plotly.js>/dist/topojson/","to render geographical feature using the topojson files","that ship with the plotly.js module."].join(" ")},mapboxAccessToken:{valType:"string",dflt:null,description:["Mapbox access token (required to plot mapbox trace types)","If using an Mapbox Atlas server, set this option to ''","so that plotly.js won't attempt to authenticate to the public Mapbox server."].join(" ")},logging:{valType:"integer",min:0,max:2,dflt:1,description:["Turn all console logging on or off (errors will be thrown)","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0,description:["Set on-graph logging (notifier) level","This should ONLY be set via Plotly.setPlotConfig","Available levels:","0: no on-graph logs","1: warnings and errors, but not informational messages","2: verbose logs"].join(" ")},queueLength:{valType:"integer",min:0,dflt:0,description:"Sets the length of the undo/redo queue."},globalTransforms:{valType:"any",dflt:[],description:["Set global transform to be applied to all traces with no","specification needed"].join(" ")},locale:{valType:"string",dflt:"en-US",description:["Which localization should we use?","Should be a string like 'en' or 'en-US'."].join(" ")},locales:{valType:"any",dflt:{},description:["Localization definitions","Locales can be provided either here (specific to one chart) or globally","by registering them as modules.","Should be an object of objects {locale: {dictionary: {...}, format: {...}}}","{","  da: {","      dictionary: {'Reset axes': 'Nulstil aksler', ...},","      format: {months: [...], shortMonths: [...]}","  },","  ...","}","All parts are optional. When looking for translation or format fields, we","look first for an exact match in a config locale, then in a registered","module. If those fail, we strip off any regionalization ('en-US' -> 'en')","and try each (config, registry) again. The final fallback for translation","is untranslated (which is US English) and for formats is the base English","(the only consequence being the last fallback date format %x is DD/MM/YYYY","instead of MM/DD/YYYY). Currently `grouping` and `currency` are ignored","for our automatic number formatting, but can be used in custom formats."].join(" ")}},o={};!function crawl(e,n){for(var r in e){var a=e[r];a.valType?n[r]=a.dflt:(n[r]||(n[r]={}),crawl(a,n[r]))}}(a,o),e.exports={configAttributes:a,dfltConfig:o}},"3ff7":function(e,n,r){"use strict";e.exports={xaxis:{valType:"subplotid",role:"info",dflt:"x",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's x coordinates and","a 2D cartesian x axis.","If *x* (the default value), the x coordinates refer to","`layout.xaxis`.","If *x2*, the x coordinates refer to `layout.xaxis2`, and so on."].join(" ")},yaxis:{valType:"subplotid",role:"info",dflt:"y",editType:"calc+clearAxisTypes",description:["Sets a reference between this trace's y coordinates and","a 2D cartesian y axis.","If *y* (the default value), the y coordinates refer to","`layout.yaxis`.","If *y2*, the y coordinates refer to `layout.yaxis2`, and so on."].join(" ")}}},4010:function(e,n,r){"use strict";n.__esModule=!0,n.removeResizeListener=n.addResizeListener=void 0;var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("6dd8"));var o="undefined"==typeof window,i=function resizeHandler(e){var n=e,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{if((a=n.next()).done)break;o=a.value}var i=o.target.__resizeListeners__||[];i.length&&i.forEach((function(e){e()}))}};n.addResizeListener=function addResizeListener(e,n){o||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new a.default(i),e.__ro__.observe(e)),e.__resizeListeners__.push(n))},n.removeResizeListener=function removeResizeListener(e,n){e&&e.__resizeListeners__&&(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(n),1),e.__resizeListeners__.length||e.__ro__.disconnect())}},"408a":function(e,n,r){var a=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=a(e))throw TypeError("Incorrect invocation");return+e}},"40c0":function(e,n,r){"use strict";var a=r("fb5a"),o=r("94d5").hovertemplateAttrs,i=r("4274"),s=r("8d0e"),l=r("9092").extendFlat;e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the x axis."].join(" ")},y:{valType:"data_array",editType:"calc+clearAxisTypes",description:["Sets the sample data to be binned on the y axis."].join(" ")},text:l({},a.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:l({},a.hovertext,{description:"Same as `text`."}),orientation:a.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],role:"style",dflt:"count",editType:"calc",description:["Specifies the binning function used for this histogram trace.","If *count*, the histogram values are computed by counting the","number of values lying inside each bin.","If *sum*, *avg*, *min*, *max*,","the histogram values are computed using","the sum, the average, the minimum or the maximum","of the values lying inside each bin respectively."].join(" ")},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",role:"style",editType:"calc",description:["Specifies the type of normalization used for this histogram trace.","If **, the span of each bar corresponds to the number of","occurrences (i.e. the number of data points lying inside the bins).","If *percent* / *probability*, the span of each bar corresponds to","the percentage / fraction of occurrences with respect to the total","number of sample points","(here, the sum of all bin HEIGHTS equals 100% / 1).","If *density*, the span of each bar corresponds to the number of","occurrences in a bin divided by the size of the bin interval","(here, the sum of all bin AREAS equals the","total number of sample points).","If *probability density*, the area of each bar corresponds to the","probability that an event will fall into the corresponding bin","(here, the sum of all bin AREAS equals 1)."].join(" ")},cumulative:{enabled:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["If true, display the cumulative distribution by summing the","binned values. Use the `direction` and `centralbin` attributes","to tune the accumulation method.","Note: in this mode, the *density* `histnorm` settings behave","the same as their equivalents without *density*:","** and *density* both rise to the number of data points, and","*probability* and *probability density* both rise to the","number of sample points."].join(" ")},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",role:"info",editType:"calc",description:["Only applies if cumulative is enabled.","If *increasing* (default) we sum all prior bins, so the result","increases from left to right. If *decreasing* we sum later bins","so the result decreases from left to right."].join(" ")},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",role:"info",editType:"calc",description:["Only applies if cumulative is enabled.","Sets whether the current bin is included, excluded, or has half","of its value included in the current cumulative value.","*include* is the default for compatibility with various other","tools, however it introduces a half-bin bias to the results.","*exclude* makes the opposite half-bin bias, and *half* removes","it."].join(" ")},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,role:"style",editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `xbins.size` is provided."].join(" ")},xbins:i("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,role:"style",editType:"calc",description:["Specifies the maximum number of desired bins. This value will be used","in an algorithm that will decide the optimal bin size such that the","histogram best visualizes the distribution of the data.","Ignored if `ybins.size` is provided."].join(" ")},ybins:i("y",!0),autobinx:{valType:"boolean",dflt:null,role:"style",editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobinx` is not needed. However, we accept","`autobinx: true` or `false` and will update `xbins` accordingly","before deleting `autobinx` from the trace."].join(" ")},autobiny:{valType:"boolean",dflt:null,role:"style",editType:"calc",description:["Obsolete: since v1.42 each bin attribute is auto-determined","separately and `autobiny` is not needed. However, we accept","`autobiny: true` or `false` and will update `ybins` accordingly","before deleting `autobiny` from the trace."].join(" ")},bingroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set a group of histogram traces which will have compatible bin settings.","Note that traces on the same subplot and with the same *orientation*","under `barmode` *stack*, *relative* and *group* are forced into the same bingroup,","Using `bingroup`, traces under `barmode` *overlay* and on different axes","(of the same axis type) can have compatible bin settings.","Note that histogram and histogram2d* trace can share the same `bingroup`"].join(" ")},hovertemplate:o({},{keys:s.eventDataKeys}),marker:a.marker,offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:a.selected,unselected:a.unselected,_deprecated:{bardir:a._deprecated.bardir}}},4136:function(e,n,r){"use strict";var a=r("fc26");e.exports=function calcSelection(e,n){a.isArrayOrTypedArray(n.selectedpoints)&&a.tagSelected(e,n)}},"417f":function(e,n,r){"use strict";n.__esModule=!0;var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e")),o=r("5924");var i=[],s="@@clickoutsideContext",l=void 0,c=0;function createDocumentHandler(e,n,r){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(r&&r.context&&a.target&&o.target)||e.contains(a.target)||e.contains(o.target)||e===a.target||r.context.popperElm&&(r.context.popperElm.contains(a.target)||r.context.popperElm.contains(o.target))||(n.expression&&e[s].methodName&&r.context[e[s].methodName]?r.context[e[s].methodName]():e[s].bindingFn&&e[s].bindingFn())}}!a.default.prototype.$isServer&&(0,o.on)(document,"mousedown",(function(e){return l=e})),!a.default.prototype.$isServer&&(0,o.on)(document,"mouseup",(function(e){i.forEach((function(n){return n[s].documentHandler(e,l)}))})),n.default={bind:function bind(e,n,r){i.push(e);var a=c++;e[s]={id:a,documentHandler:createDocumentHandler(e,n,r),methodName:n.expression,bindingFn:n.value}},update:function update(e,n,r){e[s].documentHandler=createDocumentHandler(e,n,r),e[s].methodName=n.expression,e[s].bindingFn=n.value},unbind:function unbind(e){for(var n=i.length,r=0;r<n;r++)if(i[r][s].id===e[s].id){i.splice(r,1);break}delete e[s]}}},4183:function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("7089"),s=r("8f2a"),l=r("4852").isValid,c=r("371e").traceIs;function npMaybe(e,n){var r=n.slice(0,n.length-1);return n?o.nestedProperty(e,r).get()||{}:e}e.exports=function colorScaleDefaults(e,n,r,u,d){var p=d.prefix,f=d.cLetter,h="_module"in n,m=npMaybe(e,p),g=npMaybe(n,p),y=npMaybe(n._template||{},p)||{},thisFn=function(){return delete e.coloraxis,delete n.coloraxis,colorScaleDefaults(e,n,r,u,d)};if(h){var b=r._colorAxes||{},x=u(p+"coloraxis");if(x){var _=c(n,"contour")&&o.nestedProperty(n,"contours.coloring").get()||"heatmap",w=b[x];return void(w?(w[2].push(thisFn),w[0]!==_&&(w[0]=!1,o.warn(["Ignoring coloraxis:",x,"setting","as it is linked to incompatible colorscales."].join(" ")))):b[x]=[_,n,[thisFn]])}}var k=m[f+"min"],T=m[f+"max"],S=a(k)&&a(T)&&k<T;u(p+f+"auto",!S)?u(p+f+"mid"):(u(p+f+"min"),u(p+f+"max"));var O,C,A=m.colorscale,I=y.colorscale;(void 0!==A&&(O=!l(A)),void 0!==I&&(O=!l(I)),u(p+"autocolorscale",O),u(p+"colorscale"),u(p+"reversescale"),"marker.line."!==p)&&(p&&h&&(C=i(m)),u(p+"showscale",C)&&(p&&y&&(g._template=y),s(m,g,r)))}},4184:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({squaredDifference_:function squaredDifference_(e,n){let r=Object(s.a)(e,"a","squaredDifference"),c=Object(s.a)(n,"b","squaredDifference");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.Lc,u,{})}})},4248:function(e,n,r){"use strict";var a=r("371e");n.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},n.getRedrawFunc=function(e){return function(){var n=e._fullLayout||{};!(n._has&&n._has("polar"))&&e.data&&e.data[0]&&e.data[0].r||a.getComponentMethod("colorbar","draw")(e)}},n.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},n.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var o=window.URL||window.webkitURL;n.createObjectURL=function(e){return o.createObjectURL(e)},n.revokeObjectURL=function(e){return o.revokeObjectURL(e)},n.createBlob=function(e,n){if("svg"===n)return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if("full-json"===n)return new window.Blob([e],{type:"application/json;charset=utf-8"});var r=function fixBinary(e){for(var n=e.length,r=new ArrayBuffer(n),a=new Uint8Array(r),o=0;o<n;o++)a[o]=e.charCodeAt(o);return r}(window.atob(e));return new window.Blob([r],{type:"image/"+n})},n.octetStream=function(e){document.location.href="data:application/octet-stream"+e},n.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,n.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},"424b":function(e,n,r){"use strict";var a=r("fc26");e.exports=function arraysToCalcdata(e,n){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(n.text,e,"tx"),a.mergeArray(n.hovertext,e,"htx");var o=n.marker;if(o){a.mergeArray(o.opacity,e,"mo",!0),a.mergeArray(o.color,e,"mc");var i=o.line;i&&(a.mergeArray(i.color,e,"mlc"),a.mergeArrayCastPositive(i.width,e,"mlw"))}}},4274:function(e,n,r){"use strict";e.exports=function makeBinAttrs(e,n){return{start:{valType:"any",role:"style",editType:"calc",description:["Sets the starting value for the",e,"axis bins. Defaults to the minimum data value,","shifted down if necessary to make nice round values","and to remove ambiguous bin edges. For example, if most of the","data is integers we shift the bin edges 0.5 down, so a `size`","of 5 would have a default `start` of -0.5, so it is clear","that 0-4 are in the first bin, 5-9 in the second, but","continuous data gets a start of 0 and bins [0,5), [5,10) etc.","Dates behave similarly, and `start` should be a date string.","For category data, `start` is based on the category serial","numbers, and defaults to -0.5.",n?"If multiple non-overlaying histograms share a subplot, the first explicit `start` is used exactly and all others are shifted down (if necessary) to differ from that one by an integer number of bins.":""].join(" ")},end:{valType:"any",role:"style",editType:"calc",description:["Sets the end value for the",e,"axis bins. The last bin may not end exactly at this value,","we increment the bin edge by `size` from `start` until we","reach or exceed `end`. Defaults to the maximum data value.","Like `start`, for dates use a date string, and for category","data `end` is based on the category serial numbers."].join(" ")},size:{valType:"any",role:"style",editType:"calc",description:["Sets the size of each",e,"axis bin.","Default behavior: If `nbins"+e+"` is 0 or omitted,","we choose a nice round bin size such that the number of bins","is about the same as the typical number of samples in each bin.","If `nbins"+e+"` is provided, we choose a nice round","bin size giving no more than that many bins.","For date data, use milliseconds or *M<n>* for months, as in","`axis.dtick`. For category data, the number of categories to","bin together (always defaults to 1).",n?"If multiple non-overlaying histograms share a subplot, the first explicit `size` is used and all others discarded. If no `size` is provided,the sample data from all traces is combined to determine `size` as described above.":""].join(" ")},editType:"calc"}}},"428f":function(e,n,r){var a=r("da84");e.exports=a},"42dc":function(e,n,r){"use strict";var a=r("9845"),o=r("dfb3"),i=r("9092").extendFlat,s=r("cb34").overrideAll,l=r("82b5"),c=r("a651").templatedArray,u=c("button",{visible:{valType:"boolean",role:"info",description:"Determines whether or not this button is visible."},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called on click.","If the `skip` method is used, the API updatemenu will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","updatemenu events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on click."].join(" ")},args2:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets a 2nd set of `args`,","these arguments values are passed to the Plotly","method set in `method` when clicking this button while in the active state.","Use this to create toggle buttons."].join(" ")},label:{valType:"string",role:"info",dflt:"",description:"Sets the text label to appear on the button."},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_buttonclicked` method and executing the API command manually without losing","the benefit of the updatemenu automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=s(c("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean",role:"info",description:["Determines whether or not the update menu is visible."].join(" ")},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown",role:"info",description:["Determines whether the buttons are accessible via a dropdown menu","or whether the buttons are stacked horizontally or vertically"].join(" ")},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down",role:"info",description:["Determines the direction in which the buttons are laid out, whether","in a dropdown menu or a row/column of buttons. For `left` and `up`,","the buttons will still appear in left-to-right or top-to-bottom order","respectively."].join(" ")},active:{valType:"integer",role:"info",min:-1,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},showactive:{valType:"boolean",role:"info",dflt:!0,description:"Highlights active dropdown item or active button if true."},buttons:u,x:{valType:"number",min:-2,max:3,dflt:-.05,role:"style",description:"Sets the x position (in normalized coordinates) of the update menu."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right",role:"info",description:["Sets the update menu's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:1,role:"style",description:"Sets the y position (in normalized coordinates) of the update menu."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the update menu's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},pad:i(l({editType:"arraydraw"}),{description:"Sets the padding around the buttons or dropdown menu."}),font:a({description:"Sets the font of the update menu button text."}),bgcolor:{valType:"color",role:"style",description:"Sets the background color of the update menu buttons."},bordercolor:{valType:"color",dflt:o.borderLine,role:"style",description:"Sets the color of the border enclosing the update menu."},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"arraydraw",description:"Sets the width (in px) of the border enclosing the update menu."}}),"arraydraw","from-root")},4324:function(e,n,r){"use strict";var a=r("70b4");function insertBlank(e,n,r,a,o,i,s){o[a]=!0;var l={i:null,gap:!0,s:0};if(l[s]=r,e.splice(n,0,l),n&&r===e[n-1][s]){var c=e[n-1];l.s=c.s,l.i=c.i,l.gap=c.gap}else i&&(l.s=function getInterp(e,n,r,a){var o=e[n-1],i=e[n+1];return i?o?o.s+(i.s-o.s)*(r-o[a])/(i[a]-o[a]):i.s:o.s}(e,n,r,s));n||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}e.exports=function crossTraceCalc(e,n){var r=n.xaxis,o=n.yaxis,i=r._id+o._id,s=e._fullLayout._scatterStackOpts[i];if(s){var l,c,u,d,p,f,h,m,g,y,b,x,_,w,k,T=e.calcdata;for(var S in s){var O=(y=s[S]).traceIndices;if(O.length){for(b="interpolate"===y.stackgaps,x=y.groupnorm,"v"===y.orientation?(_="x",w="y"):(_="y",w="x"),k=new Array(O.length),l=0;l<k.length;l++)k[l]=!1;f=T[O[0]];var C=new Array(f.length);for(l=0;l<f.length;l++)C[l]=f[l][_];for(l=1;l<O.length;l++){for(p=T[O[l]],c=u=0;c<p.length;c++){for(h=p[c][_];h>C[u]&&u<C.length;u++)insertBlank(p,c,C[u],l,k,b,_),c++;if(h!==C[u]){for(d=0;d<l;d++)insertBlank(T[O[d]],u,h,d,k,b,_);C.splice(u,0,h)}u++}for(;u<C.length;u++)insertBlank(p,c,C[u],l,k,b,_),c++}var A=C.length;for(c=0;c<f.length;c++){for(m=f[c][w]=f[c].s,l=1;l<O.length;l++)(p=T[O[l]])[0].trace._rawLength=p[0].trace._length,p[0].trace._length=A,m+=p[c].s,p[c][w]=m;if(x)for(g=("fraction"===x?m:m/100)||1,l=0;l<O.length;l++){var I=T[O[l]][c];I[w]/=g,I.sNorm=I.s/g}}for(l=0;l<O.length;l++){var N=(p=T[O[l]])[0].trace,M=a.calcMarkerSize(N,N._rawLength),E=Array.isArray(M);if(M&&k[l]||E){var D=M;for(M=new Array(A),c=0;c<A;c++)M[c]=p[c].gap?0:E?D[p[c].i]:D}var j=new Array(A),R=new Array(A);for(c=0;c<A;c++)j[c]=p[c].x,R[c]=p[c].y;a.calcAxisExpansion(e,N,r,o,j,R,M),p[0].t.orientation=y.orientation}}}}}},4358:function(e,n,r){"use strict";var a=r("6af8").isArrayOrTypedArray,o=r("1385");e.exports=function relinkPrivateKeys(e,n){for(var r in n){var i=n[r],s=e[r];if(s!==i)if("_"===r.charAt(0)||"function"==typeof i){if(r in e)continue;e[r]=i}else if(a(i)&&a(s)&&o(i[0])){if("customdata"===r||"ids"===r)continue;for(var l=Math.min(i.length,s.length),c=0;c<l;c++)s[c]!==i[c]&&o(i[c])&&o(s[c])&&relinkPrivateKeys(s[c],i[c])}else o(i)&&o(s)&&(relinkPrivateKeys(s,i),Object.keys(s).length||delete e[r])}}},4362:function(e,n,r){n.nextTick=function nextTick(e){var n=Array.prototype.slice.call(arguments);n.shift(),setTimeout((function(){e.apply(null,n)}),0)},n.platform=n.arch=n.execPath=n.title="browser",n.pid=1,n.browser=!0,n.env={},n.argv=[],n.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,a="/";n.cwd=function(){return a},n.chdir=function(n){e||(e=r("df7c")),a=e.resolve(n,a)}}(),n.exit=n.kill=n.umask=n.dlopen=n.uptime=n.memoryUsage=n.uvCounters=function(){},n.features={}},"43d9":function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26"),i=r("bb71"),s=r("371e"),l=r("8741"),c=r("4efe"),u=r("83d1"),d=r("d115"),p=r("0379"),f=r("84df"),h=r("baf5"),m=r("63dc"),g=m.LINE_SPACING,y=m.FROM_TL,b=m.FROM_BR,x=r("f28e"),_=r("ee77"),w=r("79f1");function clickOrDoubleClick(e,n,r,a,o){var i=r.data()[0][0].trace,c={event:o,node:r.node(),curveNumber:i.index,expandedIndex:i._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};if(i._group&&(c.group=i._group),s.traceIs(i,"pie-like")&&(c.label=r.datum()[0].label),!1!==l.triggerHandler(e,"plotly_legendclick",c))if(1===a)n._clickTimeout=setTimeout((function(){f(r,e,a)}),e._context.doubleClickDelay);else if(2===a){n._clickTimeout&&clearTimeout(n._clickTimeout),e._legendMouseDownTime=0,!1!==l.triggerHandler(e,"plotly_legenddoubleclick",c)&&f(r,e,a)}}function drawTexts(e,n,r){var a,i=e.data()[0][0],l=i.trace,c=s.traceIs(l,"pie-like"),d=l.index,f=r._main&&n._context.edits.legendText&&!c,m=r._maxNameLength;r.entries?a=i.text:(a=c?i.label:l.name,l._meta&&(a=o.templateString(a,l._meta)));var g=o.ensureSingle(e,"text","legendtext");g.attr("text-anchor","start").call(u.font,r.font).text(f?ensureLength(a,m):a);var y=r.itemwidth+2*h.itemGap;p.positionText(g,y,0),f?g.call(p.makeEditable,{gd:n,text:a}).call(textLayout,e,n,r).on("edit",(function(a){this.text(ensureLength(a,m)).call(textLayout,e,n,r);var l=i.trace._fullInput||{},c={};if(s.hasTransform(l,"groupby")){var u=s.getTransformIndices(l,"groupby"),p=u[u.length-1],f=o.keyedContainer(l,"transforms["+p+"].styles","target","value.name");f.set(i.trace._group,a),c=f.constructUpdate()}else c.name=a;return s.call("_guiRestyle",n,c,d)})):textLayout(g,e,n,r)}function ensureLength(e,n){var r=Math.max(4,n);if(e&&e.trim().length>=r/2)return e;for(var a=r-(e=e||"").length;a>0;a--)e+=" ";return e}function setupTraceToggle(e,n){var r,i=n._context.doubleClickDelay,s=1,l=o.ensureSingle(e,"rect","legendtoggle",(function(e){n._context.staticPlot||e.style("cursor","pointer").attr("pointer-events","all"),e.call(d.fill,"rgba(0,0,0,0)")}));n._context.staticPlot||(l.on("mousedown",(function(){(r=(new Date).getTime())-n._legendMouseDownTime<i?s+=1:(s=1,n._legendMouseDownTime=r)})),l.on("mouseup",(function(){if(!n._dragged&&!n._editing){var r=n._fullLayout.legend;(new Date).getTime()-n._legendMouseDownTime>i&&(s=Math.max(s-1,1)),clickOrDoubleClick(n,r,e,s,a.event)}})))}function textLayout(e,n,r,a){a._main||e.attr("data-notex",!0),p.convertToTspans(e,r,(function(){!function computeTextDimensions(e,n,r){var a=e.data()[0][0];if(r._main&&a&&!a.trace.showlegend)return void e.remove();var o=e.select("g[class*=math-group]"),i=o.node();r||(r=n._fullLayout.legend);var s,l,c=r.borderwidth,d=(a?r:r.title).font.size*g;if(i){var f=u.bBox(i);s=f.height,l=f.width,a?u.setTranslate(o,0,.25*s):u.setTranslate(o,c,.75*s+c)}else{var m=e.select(a?".legendtext":".legendtitletext"),y=p.lineCount(m),b=m.node();s=d*y,l=b?u.bBox(b).width:0;var x=d*((y-1)/2-.3);if(a){var _=r.itemwidth+2*h.itemGap;p.positionText(m,_,-x)}else p.positionText(m,h.titlePad+c,d+c)}a?(a.lineHeight=d,a.height=Math.max(s,16)+3,a.width=l):(r._titleWidth=l,r._titleHeight=s)}(n,r,a)}))}function getXanchor(e){return o.isRightAnchor(e)?"right":o.isCenterAnchor(e)?"center":"left"}function getYanchor(e){return o.isBottomAnchor(e)?"bottom":o.isMiddleAnchor(e)?"middle":"top"}e.exports=function draw(e,n){var r,l=e._fullLayout,p="legend"+l._uid;if(n?(r=n.layer,p+="-hover"):((n=l.legend||{})._main=!0,r=l._infolayer),r){var f;if(e._legendMouseDownTime||(e._legendMouseDownTime=0),n._main){if(!e.calcdata)return;f=l.showlegend&&x(e.calcdata,n)}else{if(!n.entries)return;f=x(n.entries,n)}var m=l.hiddenlabels||[];if(n._main&&(!l.showlegend||!f.length))return r.selectAll(".legend").remove(),l._topdefs.select("#"+p).remove(),i.autoMargin(e,"legend");var g=o.ensureSingle(r,"g","legend",(function(e){n._main&&e.attr("pointer-events","all")})),k=o.ensureSingleById(l._topdefs,"clipPath",p,(function(e){e.append("rect")})),T=o.ensureSingle(g,"rect","bg",(function(e){e.attr("shape-rendering","crispEdges")}));T.call(d.stroke,n.bordercolor).call(d.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px");var S=o.ensureSingle(g,"g","scrollbox"),O=n.title;if(n._titleWidth=0,n._titleHeight=0,O.text){var C=o.ensureSingle(S,"text","legendtitletext");C.attr("text-anchor","start").call(u.font,O.font).text(O.text),textLayout(C,S,e,n)}else S.selectAll(".legendtitletext").remove();var A=o.ensureSingle(g,"rect","scrollbar",(function(e){e.attr(h.scrollBarEnterAttrs).call(d.fill,h.scrollBarColor)})),I=S.selectAll("g.groups").data(f);I.enter().append("g").attr("class","groups"),I.exit().remove();var N=I.selectAll("g.traces").data(o.identity);N.enter().append("g").attr("class","traces"),N.exit().remove(),N.style("opacity",(function(e){var n=e[0].trace;return s.traceIs(n,"pie-like")?-1!==m.indexOf(e[0].label)?.5:1:"legendonly"===n.visible?.5:1})).each((function(){a.select(this).call(drawTexts,e,n)})).call(_,e,n).each((function(){n._main&&a.select(this).call(setupTraceToggle,e)})),o.syncOrAsync([i.previousPromises,function(){return function computeLegendDimensions(e,n,r,o){var i=e._fullLayout;o||(o=i.legend);var s=i._size,l=w.isVertical(o),c=w.isGrouped(o),d=o.borderwidth,p=2*d,f=h.itemGap,m=o.itemwidth+2*f,g=2*(d+f),y=getYanchor(o),b=o.y<0||0===o.y&&"top"===y,x=o.y>1||1===o.y&&"bottom"===y;o._maxHeight=Math.max(b||x?i.height/2:s.h,30);var _=0;o._width=0,o._height=0;var k=function getTitleSize(e){var n=0,r=0,a=e.title.side;a&&(-1!==a.indexOf("left")&&(n=e._titleWidth),-1!==a.indexOf("top")&&(r=e._titleHeight));return[n,r]}(o);if(l)r.each((function(e){var n=e[0].height;u.setTranslate(this,d+k[0],d+k[1]+o._height+n/2+f),o._height+=n,o._width=Math.max(o._width,e[0].width)})),_=m+o._width,o._width+=f+m+p,o._height+=g,c&&(n.each((function(e,n){u.setTranslate(this,0,n*o.tracegroupgap)})),o._height+=(o._lgroupsLength-1)*o.tracegroupgap);else{var T=getXanchor(o),S=o.x<0||0===o.x&&"right"===T,O=o.x>1||1===o.x&&"left"===T,C=x||b,A=i.width/2;o._maxWidth=Math.max(S?C&&"left"===T?s.l+s.w:A:O?C&&"right"===T?s.r+s.w:A:s.w,2*m);var I=0,N=0;r.each((function(e){var n=e[0].width+m;I=Math.max(I,n),N+=n})),_=null;var M=0;if(c){var E=0,D=0,j=0;n.each((function(){var e=0,n=0;a.select(this).selectAll("g.traces").each((function(r){var a=r[0].height;u.setTranslate(this,k[0],k[1]+d+f+a/2+n),n+=a,e=Math.max(e,m+r[0].width)})),E=Math.max(E,n);var r=e+f;r+d+D>o._maxWidth&&(M=Math.max(M,D),D=0,j+=E+o.tracegroupgap,E=n),u.setTranslate(this,D,j),D+=r})),o._width=Math.max(M,D)+d,o._height=j+E+g}else{var R=r.size(),L=N+p+(R-1)*f<o._maxWidth,z=0,$=0,B=0,V=0;r.each((function(e){var n=e[0].height,r=m+e[0].width,a=(L?r:I)+f;a+d+$-f>=o._maxWidth&&(M=Math.max(M,V),$=0,B+=z,o._height+=z,z=0),u.setTranslate(this,k[0]+d+$,k[1]+d+B+n/2+f),V=$+r+f,$+=a,z=Math.max(z,n)})),L?(o._width=$+p,o._height=z+g):(o._width=Math.max(M,V)+p,o._height+=z+g)}}o._width=Math.ceil(Math.max(o._width+k[0],o._titleWidth+2*(d+h.titlePad))),o._height=Math.ceil(Math.max(o._height+k[1],o._titleHeight+2*(d+h.itemGap))),o._effHeight=Math.min(o._height,o._maxHeight);var U=e._context.edits,W=U.legendText||U.legendPosition;r.each((function(e){var n=a.select(this).select(".legendtoggle"),r=e[0].height,o=W?m:_||m+e[0].width;l||(o+=f/2),u.setRect(n,0,-r/2,o,r)}))}(e,I,N,n)},function(){if(!n._main||!function expandMargin(e){var n=e._fullLayout.legend,r=getXanchor(n),a=getYanchor(n);return i.autoMargin(e,"legend",{x:n.x,y:n.y,l:n._width*y[r],r:n._width*b[r],b:n._effHeight*b[a],t:n._effHeight*y[a]})}(e)){var d,f,m,x,_=l._size,w=n.borderwidth,O=_.l+_.w*n.x-y[getXanchor(n)]*n._width,C=_.t+_.h*(1-n.y)-y[getYanchor(n)]*n._effHeight;if(n._main&&l.margin.autoexpand){var I=O,N=C;O=o.constrain(O,0,l.width-n._width),C=o.constrain(C,0,l.height-n._effHeight),O!==I&&o.log("Constrain legend.x to make legend fit inside graph"),C!==N&&o.log("Constrain legend.y to make legend fit inside graph")}if(n._main&&u.setTranslate(g,O,C),A.on(".drag",null),g.on("wheel",null),!n._main||n._height<=n._maxHeight||e._context.staticPlot){var M=n._effHeight;n._main||(M=n._height),T.attr({width:n._width-w,height:M-w,x:w/2,y:w/2}),u.setTranslate(S,0,0),k.select("rect").attr({width:n._width-2*w,height:M-2*w,x:w,y:w}),u.setClipUrl(S,p,e),u.setRect(A,0,0,0,0),delete n._scrollY}else{var E,D,j,R=Math.max(h.scrollBarMinHeight,n._effHeight*n._effHeight/n._height),L=n._effHeight-R-2*h.scrollBarMargin,z=n._height-n._effHeight,$=L/z,B=Math.min(n._scrollY||0,z);T.attr({width:n._width-2*w+h.scrollBarWidth+h.scrollBarMargin,height:n._effHeight-w,x:w/2,y:w/2}),k.select("rect").attr({width:n._width-2*w+h.scrollBarWidth+h.scrollBarMargin,height:n._effHeight-2*w,x:w,y:w+B}),u.setClipUrl(S,p,e),scrollHandler(B,R,$),g.on("wheel",(function(){scrollHandler(B=o.constrain(n._scrollY+a.event.deltaY/L*z,0,z),R,$),0!==B&&B!==z&&a.event.preventDefault()}));var V=a.behavior.drag().on("dragstart",(function(){var e=a.event.sourceEvent;E="touchstart"===e.type?e.changedTouches[0].clientY:e.clientY,j=B})).on("drag",(function(){var e=a.event.sourceEvent;2===e.buttons||e.ctrlKey||(D="touchmove"===e.type?e.changedTouches[0].clientY:e.clientY,scrollHandler(B=function(e,n,r){var a=(r-n)/$+e;return o.constrain(a,0,z)}(j,E,D),R,$))}));A.call(V);var U=a.behavior.drag().on("dragstart",(function(){var e=a.event.sourceEvent;"touchstart"===e.type&&(E=e.changedTouches[0].clientY,j=B)})).on("drag",(function(){var e=a.event.sourceEvent;"touchmove"===e.type&&(D=e.changedTouches[0].clientY,scrollHandler(B=function(e,n,r){var a=(n-r)/$+e;return o.constrain(a,0,z)}(j,E,D),R,$))}));S.call(U)}if(e._context.edits.legendPosition)g.classed("cursor-move",!0),c.init({element:g.node(),gd:e,prepFn:function(){var e=u.getTranslate(g);m=e.x,x=e.y},moveFn:function(e,r){var a=m+e,o=x+r;u.setTranslate(g,a,o),d=c.align(a,0,_.l,_.l+_.w,n.xanchor),f=c.align(o,0,_.t+_.h,_.t,n.yanchor)},doneFn:function(){void 0!==d&&void 0!==f&&s.call("_guiRelayout",e,{"legend.x":d,"legend.y":f})},clickFn:function(n,a){var o=r.selectAll("g.traces").filter((function(){var e=this.getBoundingClientRect();return a.clientX>=e.left&&a.clientX<=e.right&&a.clientY>=e.top&&a.clientY<=e.bottom}));o.size()>0&&clickOrDoubleClick(e,g,o,n,a)}})}function scrollHandler(r,a,o){n._scrollY=e._fullLayout.legend._scrollY=r,u.setTranslate(S,0,-r),u.setRect(A,n._width,h.scrollBarMargin+r*o,h.scrollBarWidth,a),k.select("rect").attr("y",w+r)}}],e)}}},"442f":function(e,n,r){"use strict";var a=r("b5e3");n.plot=a.plot,n.newPlot=a.newPlot,n.restyle=a.restyle,n.relayout=a.relayout,n.redraw=a.redraw,n.update=a.update,n._guiRestyle=a._guiRestyle,n._guiRelayout=a._guiRelayout,n._guiUpdate=a._guiUpdate,n._storeDirectGUIEdit=a._storeDirectGUIEdit,n.react=a.react,n.extendTraces=a.extendTraces,n.prependTraces=a.prependTraces,n.addTraces=a.addTraces,n.deleteTraces=a.deleteTraces,n.moveTraces=a.moveTraces,n.purge=a.purge,n.addFrames=a.addFrames,n.deleteFrames=a.deleteFrames,n.animate=a.animate,n.setPlotConfig=a.setPlotConfig,n.toImage=r("a288"),n.validate=r("3fb2"),n.downloadImage=r("ad91");var o=r("2d9a");n.makeTemplate=o.makeTemplate,n.validateTemplate=o.validateTemplate},"445c":function(e,n,r){"use strict";e.exports={axisRefDescription:function(e,n,r){return["If set to a",e,"axis id (e.g. *"+e+"* or","*"+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`","position refers to the distance from the",n,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",n,"("+r+"). If set to a",e,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",n,"of the domain of that axis: e.g.,","*"+e+"2 domain* refers to the domain of the second",e," axis and a",e,"position of 0.5 refers to the","point between the",n,"and the",r,"of the domain of the","second",e,"axis."].join(" ")}}},"44ad":function(e,n,r){var a=r("d039"),o=r("c6b6"),i="".split;e.exports=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},"44d2":function(e,n,r){var a=r("b622"),o=r("7c73"),i=r("9bf2"),s=a("unscopables"),l=Array.prototype;null==l[s]&&i.f(l,s,{configurable:!0,value:o(null)}),e.exports=function(e){l[s][e]=!0}},"44de":function(e,n,r){var a=r("da84");e.exports=function(e,n){var r=a.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,n))}},"44e7":function(e,n,r){var a=r("861d"),o=r("c6b6"),i=r("b622")("match");e.exports=function(e){var n;return a(e)&&(void 0!==(n=e[i])?!!n:"RegExp"==o(e))}},"44fe":function(e,n){e.exports=function rotateY(e,n,r){var a=Math.sin(r),o=Math.cos(r),i=n[0],s=n[1],l=n[2],c=n[3],u=n[8],d=n[9],p=n[10],f=n[11];n!==e&&(e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]);return e[0]=i*o-u*a,e[1]=s*o-d*a,e[2]=l*o-p*a,e[3]=c*o-f*a,e[8]=i*a+u*o,e[9]=s*a+d*o,e[10]=l*a+p*o,e[11]=c*a+f*o,e}},"450d":function(e,n,r){},4516:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({any_:function any_(e,n=null,r=!1){const s={x:Object(i.a)(e,"x","any","bool")},l={axis:n,keepDims:r};return a.a.runKernel(o.g,s,l)}})},"45bb":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({split_:function split_(e,n,r=0){const s={x:Object(i.a)(e,"x","split")},l={numOrSizeSplits:n,axis:r};return a.a.runKernel(o.Ic,s,l)}})},4607:function(e,n,r){e.exports={create:r("dcc8"),clone:r("fb56"),copy:r("7a0e"),identity:r("fec5"),transpose:r("ed2e"),invert:r("9343"),adjoint:r("d0c8"),determinant:r("b1c9"),multiply:r("1417"),translate:r("6f51"),scale:r("9ca2"),rotate:r("9969"),rotateX:r("e9e1"),rotateY:r("44fe"),rotateZ:r("fc11"),fromRotation:r("2649"),fromRotationTranslation:r("e034"),fromScaling:r("f6f8"),fromTranslation:r("6954"),fromXRotation:r("6901"),fromYRotation:r("1479"),fromZRotation:r("e12d"),fromQuat:r("5928"),frustum:r("d7da"),perspective:r("7ad0"),perspectiveFromFieldOfView:r("8bb6"),ortho:r("f889"),lookAt:r("e581"),str:r("fd4c")}},4611:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({mod_:function mod_(e,n){let r=Object(s.a)(e,"a","mod"),l=Object(s.a)(n,"b","mod");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.Sb,c)}})},4615:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({acosh_:function acosh_(e){const n={x:Object(i.a)(e,"x","acosh")};return a.a.runKernel(o.c,n)}})},"469b":function(e,n,r){"use strict";var a=r("371e"),o=r("fc26");function bindingValueHasChanged(e,n,r){var a,i,s,l=!1;if("data"===n.type)a=e._fullData[null!==n.traces?n.traces[0]:0];else{if("layout"!==n.type)return!1;a=e._fullLayout}return i=o.nestedProperty(a,n.prop).get(),(s=r[n.type]=r[n.type]||{}).hasOwnProperty(n.prop)&&s[n.prop]!==i&&(l=!0),s[n.prop]=i,{changed:l,value:i}}function computeLayoutBindings(e,n){var r=[],a=n[0],i={};if("string"==typeof a)i[a]=n[1];else{if(!o.isPlainObject(a))return r;i=a}return crawl(i,(function(e,n,a){r.push({type:"layout",prop:e,value:a})}),"",0),r}function computeDataBindings(e,n){var r,a,i,s,l=[];if(a=n[0],i=n[1],r=n[2],s={},"string"==typeof a)s[a]=i;else{if(!o.isPlainObject(a))return l;s=a,void 0===r&&(r=i)}return void 0===r&&(r=null),crawl(s,(function(n,a,o){var i,s;if(Array.isArray(o)){s=o.slice();var c=Math.min(s.length,e.data.length);r&&(c=Math.min(c,r.length)),i=[];for(var u=0;u<c;u++)i[u]=r?r[u]:u}else s=o,i=r?r.slice():null;if(null===i)Array.isArray(s)&&(s=s[0]);else if(Array.isArray(i)){if(!Array.isArray(s)){var d=s;s=[];for(var p=0;p<i.length;p++)s[p]=d}s.length=Math.min(i.length,s.length)}l.push({type:"data",prop:n,traces:i,value:s})}),"",0),l}function crawl(e,n,r,a){Object.keys(e).forEach((function(i){var s=e[i];if("_"!==i[0]){var l=r+(a>0?".":"")+i;o.isPlainObject(s)?crawl(s,n,l,a+1):n(l,i,s)}}))}n.manageCommandObserver=function(e,r,a,i){var s={},l=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var c=n.hasSimpleAPICommandBindings(e,a,s.lookupTable);if(r&&r._commandObserver){if(c)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(c){bindingValueHasChanged(e,c,s.cache),s.check=function check(){if(l){var n=bindingValueHasChanged(e,c,s.cache);return n.changed&&i&&void 0!==s.lookupTable[n.value]&&(s.disable(),Promise.resolve(i({value:n.value,type:c.type,prop:c.prop,traces:c.traces,index:s.lookupTable[n.value]})).then(s.enable,s.enable)),n.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)e._internalOn(u[d],s.check);s.remove=function(){for(var n=0;n<u.length;n++)e._removeInternalListener(u[n],s.check)}}else o.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function disable(){l=!1},s.enable=function enable(){l=!0},r&&(r._commandObserver=s),s},n.hasSimpleAPICommandBindings=function(e,r,a){var o,i,s=r.length;for(o=0;o<s;o++){var l,c=r[o],u=c.method,d=c.args;if(Array.isArray(d)||(d=[]),!u)return!1;var p=n.computeAPICommandBindings(e,u,d);if(1!==p.length)return!1;if(i){if((l=p[0]).type!==i.type)return!1;if(l.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(l.traces))return!1;l.traces.sort();for(var f=0;f<i.traces.length;f++)if(i.traces[f]!==l.traces[f])return!1}else if(l.prop!==i.prop)return!1}else i=p[0],Array.isArray(i.traces)&&i.traces.sort();var h=(l=p[0]).value;if(Array.isArray(h)){if(1!==h.length)return!1;h=h[0]}a&&(a[h]=o)}return i},n.executeAPICommand=function(e,n,r){if("skip"===n)return Promise.resolve();var i=a.apiMethodRegistry[n],s=[e];Array.isArray(r)||(r=[]);for(var l=0;l<r.length;l++)s.push(r[l]);return i.apply(null,s).catch((function(e){return o.warn("API call to Plotly."+n+" rejected.",e),Promise.reject(e)}))},n.computeAPICommandBindings=function(e,n,r){var a;switch(Array.isArray(r)||(r=[]),n){case"restyle":a=computeDataBindings(e,r);break;case"relayout":a=computeLayoutBindings(e,r);break;case"update":a=computeDataBindings(e,[r[0],r[2]]).concat(computeLayoutBindings(e,[r[1]]));break;case"animate":a=function computeAnimateBindings(e,n){return Array.isArray(n[0])&&1===n[0].length&&-1!==["string","number"].indexOf(typeof n[0][0])?[{type:"layout",prop:"_currentFrame",value:n[0][0].toString()}]:[]}(0,r);break;default:a=[]}return a}},"46a8":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({relu6_:function relu6_(e){const n={x:Object(i.a)(e,"x","relu6")};return a.a.runKernel(o.mc,n)}})},"46b1":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({log1p_:function log1p_(e){const n={x:Object(i.a)(e,"x","log1p")};return a.a.runKernel(o.Cb,n)}})},"46b8":function(e,n,r){"use strict";r.d(n,"a",(function(){return fill}));var a=r("6ae2"),o=r("c05b");function fill(e,n,r){const i={shape:e,value:n,dtype:r};return a.a.runKernel(o.db,{},i)}},"46cc":function(e,n,r){"use strict";var a,o;r.d(n,"a",(function(){return a})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF"}(a||(a={})),function(e){let n;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(n=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(o||(o={}))},4749:function(e,n,r){"use strict";r.d(n,"c",(function(){return getFusedDyActivation})),r.d(n,"b",(function(){return getFusedBiasGradient})),r.d(n,"a",(function(){return applyActivation})),r.d(n,"d",(function(){return shouldFuse}));var a=r("526f"),o=r("9e38"),i=r("6f37"),s=r("a5aa"),l=r("520f"),c=r("917a"),u=r("46a8"),d=r("35c9"),p=r("2fb1"),f=r("e053");function getFusedDyActivation(e,n,r){if(null==r||"linear"===r)return e;if("relu"===r)return Object(s.a)(e,Object(p.a)(n));throw new Error(`Cannot compute gradient for fused activation ${r}.`)}function getFusedBiasGradient(e,n){let r=n;const o=a.c(e.shape,n.shape);return o.length>0&&(r=Object(f.a)(r,o)),Object(d.a)(r,e.shape)}function applyActivation(e,n,r,a){if("linear"===n)return e;if("relu"===n)return Object(c.a)(e);if("elu"===n)return Object(o.a)(e);if("relu6"===n)return Object(u.a)(e);if("prelu"===n)return Object(l.a)(e,r);if("leakyrelu"===n)return Object(i.a)(e,a);throw new Error(`Unknown fused activation ${n}.`)}const shouldFuse=(e,n)=>!(e>0)||"linear"===n},4840:function(e,n,r){var a=r("825a"),o=r("1c0b"),i=r("b622")("species");e.exports=function(e,n){var r,s=a(e).constructor;return void 0===s||null==(r=a(s)[i])?n:o(r)}},4850:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({addN_:function addN_(e){s.b(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),s.b(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const n=e.map(((e,n)=>Object(i.a)(e,`tensors${n}`,"addN"))),r=n[0];n.forEach((e=>{if(e.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),n.forEach((e=>{if(!s.a(e.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const l=n;return a.a.runKernel(o.e,l)}})},4852:function(e,n,r){"use strict";var a=r("66cb"),o={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},i=o.RdBu;function isValidScaleArray(e){var n=0;if(!Array.isArray(e)||e.length<2)return!1;if(!e[0]||!e[e.length-1])return!1;if(0!=+e[0][0]||1!=+e[e.length-1][0])return!1;for(var r=0;r<e.length;r++){var o=e[r];if(2!==o.length||+o[0]<n||!a(o[1]).isValid())return!1;n=+o[0]}return!0}e.exports={scales:o,defaultScale:i,get:function getScale(e,n){if(n||(n=i),!e)return n;function parseScale(){try{e=o[e]||JSON.parse(e)}catch(r){e=n}}return"string"==typeof e&&(parseScale(),"string"==typeof e&&parseScale()),isValidScaleArray(e)?e:n},isValid:function isValidScale(e){return void 0!==o[e]||isValidScaleArray(e)}}},"487b":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({matMul_:function matMul_(e,n,r=!1,l=!1){let c=Object(s.a)(e,"a","matMul"),u=Object(s.a)(n,"b","matMul");[c,u]=Object(i.makeTypesMatch)(c,u);const d={a:c,b:u},p={transposeA:r,transposeB:l};return a.a.runKernel(o.s,d,p)}})},4897:function(e,n,r){"use strict";n.__esModule=!0,n.i18n=n.use=n.t=void 0;var a=_interopRequireDefault(r("f0d9")),o=_interopRequireDefault(r("2b0e")),i=_interopRequireDefault(r("3c4e"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=(0,_interopRequireDefault(r("9d7e")).default)(o.default),l=a.default,c=!1,u=function i18nHandler(){var e=Object.getPrototypeOf(this||o.default).$t;if("function"==typeof e&&o.default.locale)return c||(c=!0,o.default.locale(o.default.config.lang,(0,i.default)(l,o.default.locale(o.default.config.lang)||{},{clone:!0}))),e.apply(this,arguments)},d=n.t=function t(e,n){var r=u.apply(this,arguments);if(null!=r)return r;for(var a=e.split("."),o=l,i=0,c=a.length;i<c;i++){var d=a[i];if(r=o[d],i===c-1)return s(r,n);if(!r)return"";o=r}return""},p=n.use=function use(e){l=e||l},f=n.i18n=function i18n(e){u=e||u};n.default={use:p,t:d,i18n:f}},"48db":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("f0a9"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({broadcastTo_:function broadcastTo_(e,n){let r=Object(i.a)(e,"broadcastTo","x");const l=r.shape;if(n.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${n}].`);if(n.length<r.rank)throw new Error(`broadcastTo(): shape.length=${n.length} < input.rank=${r.rank}.`);if(n.length>r.rank){const e=r.shape.slice();for(;e.length<n.length;)e.unshift(1);r=Object(c.a)(r,e)}const u=r.shape,d=Array.from(n);for(let a=n.length-1;a>=0;a--)if(u[a]===n[a])d[a]=1;else if(1!==r.shape[a])throw new Error(`broadcastTo(): [${l}] cannot be broadcast to [${n}].`);if(0===d.map(((e,n)=>e>1?n:-1)).filter((e=>e>=0)).length)return Object(s.a)(r);const p={x:r},f={reps:d};return a.a.runKernel(o.Sc,p,f)}})},4930:function(e,n,r){var a=r("605d"),o=r("2d00"),i=r("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(a?38===o:o>37&&o<41)}))},"4b05":function(e,n,r){"use strict";(function(e){var n=r("b333");const getNodeFetch_importFetch=()=>r(1);let a;class PlatformNode{constructor(){this.util=r(2),this.textEncoder=new this.util.TextEncoder}fetch(e,r){return null!=Object(n.b)().global.fetch?Object(n.b)().global.fetch(e,r):(null==a&&(a=getNodeFetch_importFetch()),a(e,r))}now(){const n=e.hrtime();return 1e3*n[0]+n[1]/1e6}encode(e,n){if("utf-8"!==n&&"utf8"!==n)throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return 0===e.length?"":new this.util.TextDecoder(n).decode(e)}}Object(n.b)().get("IS_NODE")&&Object(n.b)().setPlatform("node",new PlatformNode)}).call(this,r("4362"))},"4b26":function(e,n,r){"use strict";n.__esModule=!0;var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e")),o=r("5924");var i=!1,s=!1,l=void 0,c=function getModal(){if(!a.default.prototype.$isServer){var e=d.modalDom;return e?i=!0:(i=!1,e=document.createElement("div"),d.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){d.doOnModalClick&&d.doOnModalClick()}))),e}},u={},d={modalFade:!0,getInstance:function getInstance(e){return u[e]},register:function register(e,n){e&&n&&(u[e]=n)},deregister:function deregister(e){e&&(u[e]=null,delete u[e])},nextZIndex:function nextZIndex(){return d.zIndex++},modalStack:[],doOnModalClick:function doOnModalClick(){var e=d.modalStack[d.modalStack.length-1];if(e){var n=d.getInstance(e.id);n&&n.closeOnClickModal&&n.close()}},openModal:function openModal(e,n,r,s,l){if(!a.default.prototype.$isServer&&e&&void 0!==n){this.modalFade=l;for(var u=this.modalStack,d=0,p=u.length;d<p;d++){if(u[d].id===e)return}var f=c();if((0,o.addClass)(f,"v-modal"),this.modalFade&&!i&&(0,o.addClass)(f,"v-modal-enter"),s)s.trim().split(/\s+/).forEach((function(e){return(0,o.addClass)(f,e)}));setTimeout((function(){(0,o.removeClass)(f,"v-modal-enter")}),200),r&&r.parentNode&&11!==r.parentNode.nodeType?r.parentNode.appendChild(f):document.body.appendChild(f),n&&(f.style.zIndex=n),f.tabIndex=0,f.style.display="",this.modalStack.push({id:e,zIndex:n,modalClass:s})}},closeModal:function closeModal(e){var n=this.modalStack,r=c();if(n.length>0){var a=n[n.length-1];if(a.id===e){if(a.modalClass)a.modalClass.trim().split(/\s+/).forEach((function(e){return(0,o.removeClass)(r,e)}));n.pop(),n.length>0&&(r.style.zIndex=n[n.length-1].zIndex)}else for(var i=n.length-1;i>=0;i--)if(n[i].id===e){n.splice(i,1);break}}0===n.length&&(this.modalFade&&(0,o.addClass)(r,"v-modal-leave"),setTimeout((function(){0===n.length&&(r.parentNode&&r.parentNode.removeChild(r),r.style.display="none",d.modalDom=void 0),(0,o.removeClass)(r,"v-modal-leave")}),200))}};Object.defineProperty(d,"zIndex",{configurable:!0,get:function get(){return s||(l=l||(a.default.prototype.$ELEMENT||{}).zIndex||2e3,s=!0),l},set:function set(e){l=e}});a.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var n=function getTopPopup(){if(!a.default.prototype.$isServer&&d.modalStack.length>0){var e=d.modalStack[d.modalStack.length-1];if(!e)return;return d.getInstance(e.id)}}();n&&n.closeOnPressEscape&&(n.handleClose?n.handleClose():n.handleAction?n.handleAction("cancel"):n.close())}})),n.default=d},"4b6a":function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("e5ac"),s=r("d72e");function imageDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,s,r,o)}var i=coerce("source");if(!coerce("visible",!!i))return n;coerce("layer"),coerce("xanchor"),coerce("yanchor"),coerce("sizex"),coerce("sizey"),coerce("sizing"),coerce("opacity");for(var l={_fullLayout:r},c=["x","y"],u=0;u<2;u++){var d=c[u],p=o.coerceRef(e,n,l,d,"paper",void 0);if("paper"!==p)o.getFromId(l,p)._imgIndices.push(n._index);o.coercePosition(n,l,coerce,p,d,0)}return n}e.exports=function supplyLayoutDefaults(e,n){i(e,n,{name:"images",handleItemDefaults:imageDefaults})}},"4c66":function(e,n,r){"use strict";var a=r("3c1c"),o=r("0379"),i=r("22f9"),s=r("63dc").LINE_SPACING,l=i.name;function isVisible(e){var n=e&&e[l];return n&&n.visible}n.isVisible=isVisible,n.makeData=function(e){var n=a.list({_fullLayout:e},"x",!0),r=e.margin,o=[];if(!e._has("gl2d"))for(var i=0;i<n.length;i++){var s=n[i];if(isVisible(s)){o.push(s);var c=s[l];c._id=l+s._id,c._height=(e.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}e._rangeSliderData=o},n.autoMarginOpts=function(e,n){var r=e._fullLayout,a=n[l],c=n._id.charAt(0),u=0,d=0;"bottom"===n.side&&(u=n._depth,n.title.text!==r._dfltTitle[c]&&(d=1.5*n.title.font.size+10+a._offsetShift,d+=(n.title.text.match(o.BR_TAG_ALL)||[]).length*n.title.font.size*s));return{x:0,y:n._counterDomainMin,l:0,r:0,t:0,b:a._height+u+Math.max(r.margin.b,d),pad:i.extraPad+2*a._offsetShift}}},"4c7a":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("6ad5"),s=r("54ef");const l=Object(s.a)({ifft_:function ifft_(e){Object(i.b)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const n={input:e};return a.a.runKernel(o.pb,n)}})},"4cd2":function(e,n,r){"use strict";var a=r("3c1c").list,o=r("ce56").getAutoRange,i=r("22f9");e.exports=function calcAutorange(e){for(var n=a(e,"x",!0),r=0;r<n.length;r++){var s=n[r],l=s[i.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=o(e,s))}}},"4cfc":function(e,n,r){"use strict";r.d(n,"a",(function(){return StringIterator}));var a=r("c388");class StringIterator extends a.a{split(e){return new SplitIterator(this,e)}}class SplitIterator extends StringIterator{constructor(e,n){super(),this.upstream=e,this.impl=new SplitIteratorImpl(e,n)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class SplitIteratorImpl extends a.b{constructor(e,n){super(),this.upstream=e,this.separator=n,this.carryover=""}summary(){return`${this.upstream.summary()} -> Split('${this.separator}')`}async pump(){const e=await this.upstream.next();if(e.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);const n=e.value.split(this.separator);n[0]=this.carryover+n[0];for(const r of n.slice(0,-1))this.outputQueue.push(r);return this.carryover=n[n.length-1],!0}}},"4d64":function(e,n,r){var a=r("fc6a"),o=r("50c4"),i=r("23cb"),createMethod=function(e){return function(n,r,s){var l,c=a(n),u=o(c.length),d=i(s,u);if(e&&r!=r){for(;u>d;)if((l=c[d++])!=l)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}};e.exports={includes:createMethod(!0),indexOf:createMethod(!1)}},"4de4":function(e,n,r){"use strict";var a=r("23e7"),o=r("b727").filter;a({target:"Array",proto:!0,forced:!r("1dde")("filter")},{filter:function filter(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e4b":function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=61)}({0:function(e,n,r){"use strict";function normalizeComponent(e,n,r,a,o,i,s,l){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function renderWithStyleInjection(e,n){return c.call(n),d(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(n,"a",(function(){return normalizeComponent}))},10:function(e,n){e.exports=r("f3ad")},12:function(e,n){e.exports=r("417f")},14:function(e,n){e.exports=r("14e9")},16:function(e,n){e.exports=r("4010")},17:function(e,n){e.exports=r("0e15")},21:function(e,n){e.exports=r("d397")},22:function(e,n){e.exports=r("12f2")},3:function(e,n){e.exports=r("8122")},31:function(e,n){e.exports=r("2a5e")},33:function(e,n,r){"use strict";var render=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(n){return n.stopPropagation(),e.selectOptionClick(n)}}},[e._t("default",[r("span",[e._v(e._s(e.currentLabel))])])],2)};render._withStripped=!0;var a=r(4),o=r.n(a),i=r(3),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function data(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function isObject(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function currentLabel(){return this.label||(this.isObject?"":this.value)},currentValue:function currentValue(){return this.value||this.label||""},itemSelected:function itemSelected(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function limitReached(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function currentLabel(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function value(e,n){var r=this.select,a=r.remote,o=r.valueKey;if(!this.created&&!a){if(o&&"object"===(void 0===e?"undefined":s(e))&&"object"===(void 0===n?"undefined":s(n))&&e[o]===n[o])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function isEqual(e,n){if(this.isObject){var r=this.select.valueKey;return Object(i.getValueByPath)(e,r)===Object(i.getValueByPath)(n,r)}return e===n},contains:function contains(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];if(this.isObject){var r=this.select.valueKey;return e&&e.some((function(e){return Object(i.getValueByPath)(e,r)===Object(i.getValueByPath)(n,r)}))}return e&&e.indexOf(n)>-1},handleGroupDisabled:function handleGroupDisabled(e){this.groupDisabled=e},hoverItem:function hoverItem(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function selectOptionClick(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function queryChange(e){this.visible=new RegExp(Object(i.escapeRegexpString)(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function created(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function beforeDestroy(){var e=this.select,n=e.selected,r=e.multiple?n:[n],a=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);a>-1&&o<0&&this.select.cachedOptions.splice(a,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=r(0),u=Object(c.a)(l,render,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";n.a=u.exports},37:function(e,n){e.exports=r("8bbc")},4:function(e,n){e.exports=r("d010")},5:function(e,n){e.exports=r("e974")},6:function(e,n){e.exports=r("6b7c")},61:function(e,n,r){"use strict";r.r(n);var render=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.handleClose,expression:"handleClose"}],staticClass:"el-select",class:[e.selectSize?"el-select--"+e.selectSize:""],on:{click:function(n){return n.stopPropagation(),e.toggleMenu(n)}}},[e.multiple?r("div",{ref:"tags",staticClass:"el-select__tags",style:{"max-width":e.inputWidth-32+"px",width:"100%"}},[e.collapseTags&&e.selected.length?r("span",[r("el-tag",{attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:"info","disable-transitions":""},on:{close:function(n){e.deleteTag(n,e.selected[0])}}},[r("span",{staticClass:"el-select__tags-text"},[e._v(e._s(e.selected[0].currentLabel))])]),e.selected.length>1?r("el-tag",{attrs:{closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""}},[r("span",{staticClass:"el-select__tags-text"},[e._v("+ "+e._s(e.selected.length-1))])]):e._e()],1):e._e(),e.collapseTags?e._e():r("transition-group",{on:{"after-leave":e.resetInputHeight}},e._l(e.selected,(function(n){return r("el-tag",{key:e.getValueKey(n),attrs:{closable:!e.selectDisabled,size:e.collapseTagSize,hit:n.hitState,type:"info","disable-transitions":""},on:{close:function(r){e.deleteTag(r,n)}}},[r("span",{staticClass:"el-select__tags-text"},[e._v(e._s(n.currentLabel))])])})),1),e.filterable?r("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"el-select__input",class:[e.selectSize?"is-"+e.selectSize:""],style:{"flex-grow":"1",width:e.inputLength/(e.inputWidth-32)+"%","max-width":e.inputWidth-42+"px"},attrs:{type:"text",disabled:e.selectDisabled,autocomplete:e.autoComplete||e.autocomplete},domProps:{value:e.query},on:{focus:e.handleFocus,blur:function(n){e.softFocus=!1},keyup:e.managePlaceholder,keydown:[e.resetInputState,function(n){if(!("button"in n)&&e._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"]))return null;n.preventDefault(),e.navigateOptions("next")},function(n){if(!("button"in n)&&e._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"]))return null;n.preventDefault(),e.navigateOptions("prev")},function(n){return!("button"in n)&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),e.selectOption(n))},function(n){if(!("button"in n)&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"]))return null;n.stopPropagation(),n.preventDefault(),e.visible=!1},function(n){return!("button"in n)&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"])?null:e.deletePrevTag(n)},function(n){if(!("button"in n)&&e._k(n.keyCode,"tab",9,n.key,"Tab"))return null;e.visible=!1}],compositionstart:e.handleComposition,compositionupdate:e.handleComposition,compositionend:e.handleComposition,input:[function(n){n.target.composing||(e.query=n.target.value)},e.debouncedQueryChange]}}):e._e()],1):e._e(),r("el-input",{ref:"reference",class:{"is-focus":e.visible},attrs:{type:"text",placeholder:e.currentPlaceholder,name:e.name,id:e.id,autocomplete:e.autoComplete||e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,tabindex:e.multiple&&e.filterable?"-1":null},on:{focus:e.handleFocus,blur:e.handleBlur},nativeOn:{keyup:function(n){return e.debouncedOnInputChange(n)},keydown:[function(n){if(!("button"in n)&&e._k(n.keyCode,"down",40,n.key,["Down","ArrowDown"]))return null;n.stopPropagation(),n.preventDefault(),e.navigateOptions("next")},function(n){if(!("button"in n)&&e._k(n.keyCode,"up",38,n.key,["Up","ArrowUp"]))return null;n.stopPropagation(),n.preventDefault(),e.navigateOptions("prev")},function(n){return!("button"in n)&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:(n.preventDefault(),e.selectOption(n))},function(n){if(!("button"in n)&&e._k(n.keyCode,"esc",27,n.key,["Esc","Escape"]))return null;n.stopPropagation(),n.preventDefault(),e.visible=!1},function(n){if(!("button"in n)&&e._k(n.keyCode,"tab",9,n.key,"Tab"))return null;e.visible=!1}],paste:function(n){return e.debouncedOnInputChange(n)},mouseenter:function(n){e.inputHovering=!0},mouseleave:function(n){e.inputHovering=!1}},model:{value:e.selectedLabel,callback:function(n){e.selectedLabel=n},expression:"selectedLabel"}},[e.$slots.prefix?r("template",{slot:"prefix"},[e._t("prefix")],2):e._e(),r("template",{slot:"suffix"},[r("i",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],class:["el-select__caret","el-input__icon","el-icon-"+e.iconClass]}),e.showClose?r("i",{staticClass:"el-select__caret el-input__icon el-icon-circle-close",on:{click:e.handleClearClick}}):e._e()])],2),r("transition",{attrs:{name:"el-zoom-in-top"},on:{"before-enter":e.handleMenuEnter,"after-leave":e.doDestroy}},[r("el-select-menu",{directives:[{name:"show",rawName:"v-show",value:e.visible&&!1!==e.emptyText,expression:"visible && emptyText !== false"}],ref:"popper",attrs:{"append-to-body":e.popperAppendToBody}},[r("el-scrollbar",{directives:[{name:"show",rawName:"v-show",value:e.options.length>0&&!e.loading,expression:"options.length > 0 && !loading"}],ref:"scrollbar",class:{"is-empty":!e.allowCreate&&e.query&&0===e.filteredOptionsCount},attrs:{tag:"ul","wrap-class":"el-select-dropdown__wrap","view-class":"el-select-dropdown__list"}},[e.showNewOption?r("el-option",{attrs:{value:e.query,created:""}}):e._e(),e._t("default")],2),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&0===e.options.length)?[e.$slots.empty?e._t("empty"):r("p",{staticClass:"el-select-dropdown__empty"},[e._v("\n          "+e._s(e.emptyText)+"\n        ")])]:e._e()],2)],1)],1)};render._withStripped=!0;var a=r(4),o=r.n(a),i=r(22),s=r.n(i),l=r(6),c=r.n(l),u=r(10),d=r.n(u),select_dropdownvue_type_template_id_06828748_render=function(){var e=this,n=e.$createElement;return(e._self._c||n)("div",{staticClass:"el-select-dropdown el-popper",class:[{"is-multiple":e.$parent.multiple},e.popperClass],style:{minWidth:e.minWidth}},[e._t("default")],2)};select_dropdownvue_type_template_id_06828748_render._withStripped=!0;var p=r(5),f={name:"ElSelectDropdown",componentName:"ElSelectDropdown",mixins:[r.n(p).a],props:{placement:{default:"bottom-start"},boundariesPadding:{default:0},popperOptions:{default:function _default(){return{gpuAcceleration:!1}}},visibleArrow:{default:!0},appendToBody:{type:Boolean,default:!0}},data:function data(){return{minWidth:""}},computed:{popperClass:function popperClass(){return this.$parent.popperClass}},watch:{"$parent.inputWidth":function $parentInputWidth(){this.minWidth=this.$parent.$el.getBoundingClientRect().width+"px"}},mounted:function mounted(){var e=this;this.referenceElm=this.$parent.$refs.reference.$el,this.$parent.popperElm=this.popperElm=this.$el,this.$on("updatePopper",(function(){e.$parent.visible&&e.updatePopper()})),this.$on("destroyPopper",this.destroyPopper)}},h=r(0),m=Object(h.a)(f,select_dropdownvue_type_template_id_06828748_render,[],!1,null,null,null);m.options.__file="packages/select/src/select-dropdown.vue";var g=m.exports,y=r(33),b=r(37),x=r.n(b),_=r(14),w=r.n(_),k=r(17),T=r.n(k),S=r(12),O=r.n(S),C=r(16),A=r(31),I=r.n(A),N=r(3),M=r(21),E={mixins:[o.a,c.a,s()("reference"),{data:function data(){return{hoverOption:-1}},computed:{optionsAllDisabled:function optionsAllDisabled(){return this.options.filter((function(e){return e.visible})).every((function(e){return e.disabled}))}},watch:{hoverIndex:function hoverIndex(e){var n=this;"number"==typeof e&&e>-1&&(this.hoverOption=this.options[e]||{}),this.options.forEach((function(e){e.hover=n.hoverOption===e}))}},methods:{navigateOptions:function navigateOptions(e){var n=this;if(this.visible){if(0!==this.options.length&&0!==this.filteredOptionsCount&&!this.optionsAllDisabled){"next"===e?(this.hoverIndex++,this.hoverIndex===this.options.length&&(this.hoverIndex=0)):"prev"===e&&(this.hoverIndex--,this.hoverIndex<0&&(this.hoverIndex=this.options.length-1));var r=this.options[this.hoverIndex];!0!==r.disabled&&!0!==r.groupDisabled&&r.visible||this.navigateOptions(e),this.$nextTick((function(){return n.scrollToOption(n.hoverOption)}))}}else this.visible=!0}}}],name:"ElSelect",componentName:"ElSelect",inject:{elForm:{default:""},elFormItem:{default:""}},provide:function provide(){return{select:this}},computed:{_elFormItemSize:function _elFormItemSize(){return(this.elFormItem||{}).elFormItemSize},readonly:function readonly(){return!this.filterable||this.multiple||!Object(N.isIE)()&&!Object(N.isEdge)()&&!this.visible},showClose:function showClose(){var e=this.multiple?Array.isArray(this.value)&&this.value.length>0:void 0!==this.value&&null!==this.value&&""!==this.value;return this.clearable&&!this.selectDisabled&&this.inputHovering&&e},iconClass:function iconClass(){return this.remote&&this.filterable?"":this.visible?"arrow-up is-reverse":"arrow-up"},debounce:function debounce(){return this.remote?300:0},emptyText:function emptyText(){return this.loading?this.loadingText||this.t("el.select.loading"):(!this.remote||""!==this.query||0!==this.options.length)&&(this.filterable&&this.query&&this.options.length>0&&0===this.filteredOptionsCount?this.noMatchText||this.t("el.select.noMatch"):0===this.options.length?this.noDataText||this.t("el.select.noData"):null)},showNewOption:function showNewOption(){var e=this,n=this.options.filter((function(e){return!e.created})).some((function(n){return n.currentLabel===e.query}));return this.filterable&&this.allowCreate&&""!==this.query&&!n},selectSize:function selectSize(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},selectDisabled:function selectDisabled(){return this.disabled||(this.elForm||{}).disabled},collapseTagSize:function collapseTagSize(){return["small","mini"].indexOf(this.selectSize)>-1?"mini":"small"},propPlaceholder:function propPlaceholder(){return void 0!==this.placeholder?this.placeholder:this.t("el.select.placeholder")}},components:{ElInput:d.a,ElSelectMenu:g,ElOption:y.a,ElTag:x.a,ElScrollbar:w.a},directives:{Clickoutside:O.a},props:{name:String,id:String,value:{required:!0},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function validator(e){return!0}},automaticDropdown:Boolean,size:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:String,remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String,required:!1},defaultFirstOption:Boolean,reserveKeyword:Boolean,valueKey:{type:String,default:"value"},collapseTags:Boolean,popperAppendToBody:{type:Boolean,default:!0}},data:function data(){return{options:[],cachedOptions:[],createdLabel:null,createdSelected:!1,selected:this.multiple?[]:{},inputLength:20,inputWidth:0,initialInputHeight:0,cachedPlaceHolder:"",optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,currentPlaceholder:"",menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1}},watch:{selectDisabled:function selectDisabled(){var e=this;this.$nextTick((function(){e.resetInputHeight()}))},propPlaceholder:function propPlaceholder(e){this.cachedPlaceHolder=this.currentPlaceholder=e},value:function value(e,n){this.multiple&&(this.resetInputHeight(),e&&e.length>0||this.$refs.input&&""!==this.query?this.currentPlaceholder="":this.currentPlaceholder=this.cachedPlaceHolder,this.filterable&&!this.reserveKeyword&&(this.query="",this.handleQueryChange(this.query))),this.setSelected(),this.filterable&&!this.multiple&&(this.inputLength=20),Object(N.valueEquals)(e,n)||this.dispatch("ElFormItem","el.form.change",e)},visible:function visible(e){var n=this;e?(this.broadcast("ElSelectDropdown","updatePopper"),this.filterable&&(this.query=this.remote?"":this.selectedLabel,this.handleQueryChange(this.query),this.multiple?this.$refs.input.focus():(this.remote||(this.broadcast("ElOption","queryChange",""),this.broadcast("ElOptionGroup","queryChange")),this.selectedLabel&&(this.currentPlaceholder=this.selectedLabel,this.selectedLabel="")))):(this.broadcast("ElSelectDropdown","destroyPopper"),this.$refs.input&&this.$refs.input.blur(),this.query="",this.previousQuery=null,this.selectedLabel="",this.inputLength=20,this.menuVisibleOnFocus=!1,this.resetHoverIndex(),this.$nextTick((function(){n.$refs.input&&""===n.$refs.input.value&&0===n.selected.length&&(n.currentPlaceholder=n.cachedPlaceHolder)})),this.multiple||(this.selected&&(this.filterable&&this.allowCreate&&this.createdSelected&&this.createdLabel?this.selectedLabel=this.createdLabel:this.selectedLabel=this.selected.currentLabel,this.filterable&&(this.query=this.selectedLabel)),this.filterable&&(this.currentPlaceholder=this.cachedPlaceHolder))),this.$emit("visible-change",e)},options:function options(){var e=this;if(!this.$isServer){this.$nextTick((function(){e.broadcast("ElSelectDropdown","updatePopper")})),this.multiple&&this.resetInputHeight();var n=this.$el.querySelectorAll("input");-1===[].indexOf.call(n,document.activeElement)&&this.setSelected(),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()}}},methods:{handleComposition:function handleComposition(e){var n=this,r=e.target.value;if("compositionend"===e.type)this.isOnComposition=!1,this.$nextTick((function(e){return n.handleQueryChange(r)}));else{var a=r[r.length-1]||"";this.isOnComposition=!Object(M.isKorean)(a)}},handleQueryChange:function handleQueryChange(e){var n=this;this.previousQuery===e||this.isOnComposition||(null!==this.previousQuery||"function"!=typeof this.filterMethod&&"function"!=typeof this.remoteMethod?(this.previousQuery=e,this.$nextTick((function(){n.visible&&n.broadcast("ElSelectDropdown","updatePopper")})),this.hoverIndex=-1,this.multiple&&this.filterable&&this.$nextTick((function(){var e=15*n.$refs.input.value.length+20;n.inputLength=n.collapseTags?Math.min(50,e):e,n.managePlaceholder(),n.resetInputHeight()})),this.remote&&"function"==typeof this.remoteMethod?(this.hoverIndex=-1,this.remoteMethod(e)):"function"==typeof this.filterMethod?(this.filterMethod(e),this.broadcast("ElOptionGroup","queryChange")):(this.filteredOptionsCount=this.optionsCount,this.broadcast("ElOption","queryChange",e),this.broadcast("ElOptionGroup","queryChange")),this.defaultFirstOption&&(this.filterable||this.remote)&&this.filteredOptionsCount&&this.checkDefaultFirstOption()):this.previousQuery=e)},scrollToOption:function scrollToOption(e){var n=Array.isArray(e)&&e[0]?e[0].$el:e.$el;if(this.$refs.popper&&n){var r=this.$refs.popper.$el.querySelector(".el-select-dropdown__wrap");I()(r,n)}this.$refs.scrollbar&&this.$refs.scrollbar.handleScroll()},handleMenuEnter:function handleMenuEnter(){var e=this;this.$nextTick((function(){return e.scrollToOption(e.selected)}))},emitChange:function emitChange(e){Object(N.valueEquals)(this.value,e)||this.$emit("change",e)},getOption:function getOption(e){for(var n=void 0,r="[object object]"===Object.prototype.toString.call(e).toLowerCase(),a="[object null]"===Object.prototype.toString.call(e).toLowerCase(),o="[object undefined]"===Object.prototype.toString.call(e).toLowerCase(),i=this.cachedOptions.length-1;i>=0;i--){var s=this.cachedOptions[i];if(r?Object(N.getValueByPath)(s.value,this.valueKey)===Object(N.getValueByPath)(e,this.valueKey):s.value===e){n=s;break}}if(n)return n;var l={value:e,currentLabel:r||a||o?"":e};return this.multiple&&(l.hitState=!1),l},setSelected:function setSelected(){var e=this;if(!this.multiple){var n=this.getOption(this.value);return n.created?(this.createdLabel=n.currentLabel,this.createdSelected=!0):this.createdSelected=!1,this.selectedLabel=n.currentLabel,this.selected=n,void(this.filterable&&(this.query=this.selectedLabel))}var r=[];Array.isArray(this.value)&&this.value.forEach((function(n){r.push(e.getOption(n))})),this.selected=r,this.$nextTick((function(){e.resetInputHeight()}))},handleFocus:function handleFocus(e){this.softFocus?this.softFocus=!1:((this.automaticDropdown||this.filterable)&&(this.visible=!0,this.filterable&&(this.menuVisibleOnFocus=!0)),this.$emit("focus",e))},blur:function blur(){this.visible=!1,this.$refs.reference.blur()},handleBlur:function handleBlur(e){var n=this;setTimeout((function(){n.isSilentBlur?n.isSilentBlur=!1:n.$emit("blur",e)}),50),this.softFocus=!1},handleClearClick:function handleClearClick(e){this.deleteSelected(e)},doDestroy:function doDestroy(){this.$refs.popper&&this.$refs.popper.doDestroy()},handleClose:function handleClose(){this.visible=!1},toggleLastOptionHitState:function toggleLastOptionHitState(e){if(Array.isArray(this.selected)){var n=this.selected[this.selected.length-1];if(n)return!0===e||!1===e?(n.hitState=e,e):(n.hitState=!n.hitState,n.hitState)}},deletePrevTag:function deletePrevTag(e){if(e.target.value.length<=0&&!this.toggleLastOptionHitState()){var n=this.value.slice();n.pop(),this.$emit("input",n),this.emitChange(n)}},managePlaceholder:function managePlaceholder(){""!==this.currentPlaceholder&&(this.currentPlaceholder=this.$refs.input.value?"":this.cachedPlaceHolder)},resetInputState:function resetInputState(e){8!==e.keyCode&&this.toggleLastOptionHitState(!1),this.inputLength=15*this.$refs.input.value.length+20,this.resetInputHeight()},resetInputHeight:function resetInputHeight(){var e=this;this.collapseTags&&!this.filterable||this.$nextTick((function(){if(e.$refs.reference){var n=e.$refs.reference.$el.childNodes,r=[].filter.call(n,(function(e){return"INPUT"===e.tagName}))[0],a=e.$refs.tags,o=e.initialInputHeight||40;r.style.height=0===e.selected.length?o+"px":Math.max(a?a.clientHeight+(a.clientHeight>o?6:0):0,o)+"px",e.visible&&!1!==e.emptyText&&e.broadcast("ElSelectDropdown","updatePopper")}}))},resetHoverIndex:function resetHoverIndex(){var e=this;setTimeout((function(){e.multiple?e.selected.length>0?e.hoverIndex=Math.min.apply(null,e.selected.map((function(n){return e.options.indexOf(n)}))):e.hoverIndex=-1:e.hoverIndex=e.options.indexOf(e.selected)}),300)},handleOptionSelect:function handleOptionSelect(e,n){var r=this;if(this.multiple){var a=(this.value||[]).slice(),o=this.getValueIndex(a,e.value);o>-1?a.splice(o,1):(this.multipleLimit<=0||a.length<this.multipleLimit)&&a.push(e.value),this.$emit("input",a),this.emitChange(a),e.created&&(this.query="",this.handleQueryChange(""),this.inputLength=20),this.filterable&&this.$refs.input.focus()}else this.$emit("input",e.value),this.emitChange(e.value),this.visible=!1;this.isSilentBlur=n,this.setSoftFocus(),this.visible||this.$nextTick((function(){r.scrollToOption(e)}))},setSoftFocus:function setSoftFocus(){this.softFocus=!0;var e=this.$refs.input||this.$refs.reference;e&&e.focus()},getValueIndex:function getValueIndex(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1],r="[object object]"===Object.prototype.toString.call(n).toLowerCase();if(r){var a=this.valueKey,o=-1;return e.some((function(e,r){return Object(N.getValueByPath)(e,a)===Object(N.getValueByPath)(n,a)&&(o=r,!0)})),o}return e.indexOf(n)},toggleMenu:function toggleMenu(){this.selectDisabled||(this.menuVisibleOnFocus?this.menuVisibleOnFocus=!1:this.visible=!this.visible,this.visible&&(this.$refs.input||this.$refs.reference).focus())},selectOption:function selectOption(){this.visible?this.options[this.hoverIndex]&&this.handleOptionSelect(this.options[this.hoverIndex]):this.toggleMenu()},deleteSelected:function deleteSelected(e){e.stopPropagation();var n=this.multiple?[]:"";this.$emit("input",n),this.emitChange(n),this.visible=!1,this.$emit("clear")},deleteTag:function deleteTag(e,n){var r=this.selected.indexOf(n);if(r>-1&&!this.selectDisabled){var a=this.value.slice();a.splice(r,1),this.$emit("input",a),this.emitChange(a),this.$emit("remove-tag",n.value)}e.stopPropagation()},onInputChange:function onInputChange(){this.filterable&&this.query!==this.selectedLabel&&(this.query=this.selectedLabel,this.handleQueryChange(this.query))},onOptionDestroy:function onOptionDestroy(e){e>-1&&(this.optionsCount--,this.filteredOptionsCount--,this.options.splice(e,1))},resetInputWidth:function resetInputWidth(){this.inputWidth=this.$refs.reference.$el.getBoundingClientRect().width},handleResize:function handleResize(){this.resetInputWidth(),this.multiple&&this.resetInputHeight()},checkDefaultFirstOption:function checkDefaultFirstOption(){this.hoverIndex=-1;for(var e=!1,n=this.options.length-1;n>=0;n--)if(this.options[n].created){e=!0,this.hoverIndex=n;break}if(!e)for(var r=0;r!==this.options.length;++r){var a=this.options[r];if(this.query){if(!a.disabled&&!a.groupDisabled&&a.visible){this.hoverIndex=r;break}}else if(a.itemSelected){this.hoverIndex=r;break}}},getValueKey:function getValueKey(e){return"[object object]"!==Object.prototype.toString.call(e.value).toLowerCase()?e.value:Object(N.getValueByPath)(e.value,this.valueKey)}},created:function created(){var e=this;this.cachedPlaceHolder=this.currentPlaceholder=this.propPlaceholder,this.multiple&&!Array.isArray(this.value)&&this.$emit("input",[]),!this.multiple&&Array.isArray(this.value)&&this.$emit("input",""),this.debouncedOnInputChange=T()(this.debounce,(function(){e.onInputChange()})),this.debouncedQueryChange=T()(this.debounce,(function(n){e.handleQueryChange(n.target.value)})),this.$on("handleOptionClick",this.handleOptionSelect),this.$on("setSelected",this.setSelected)},mounted:function mounted(){var e=this;this.multiple&&Array.isArray(this.value)&&this.value.length>0&&(this.currentPlaceholder=""),Object(C.addResizeListener)(this.$el,this.handleResize);var n=this.$refs.reference;if(n&&n.$el){var r=n.$el.querySelector("input");this.initialInputHeight=r.getBoundingClientRect().height||{medium:36,small:32,mini:28}[this.selectSize]}this.remote&&this.multiple&&this.resetInputHeight(),this.$nextTick((function(){n&&n.$el&&(e.inputWidth=n.$el.getBoundingClientRect().width)})),this.setSelected()},beforeDestroy:function beforeDestroy(){this.$el&&this.handleResize&&Object(C.removeResizeListener)(this.$el,this.handleResize)}},D=Object(h.a)(E,render,[],!1,null,null,null);D.options.__file="packages/select/src/select.vue";var j=D.exports;j.install=function(e){e.component(j.name,j)};n.default=j}})},"4ebd":function(e,n,r){"use strict";var a=r("fc26"),o=r("faa1").EventEmitter,i=r("4248");e.exports=function svgToImg(e){var n=e.emitter||new o,r=new Promise((function(o,s){var l=window.Image,c=e.svg,u=e.format||"png";if(a.isIE()&&"svg"!==u){var d=new Error(i.MSG_IE_BAD_FORMAT);return s(d),e.promise?r:n.emit("error",d)}var p,f,h=e.canvas,m=e.scale||1,g=e.width||300,y=e.height||150,b=m*g,x=m*y,_=h.getContext("2d"),w=new l;"svg"===u||a.isIE9orBelow()||a.isSafari()?f=i.encodeSVG(c):(p=i.createBlob(c,"svg"),f=i.createObjectURL(p)),h.width=b,h.height=x,w.onload=function(){var r;switch(p=null,i.revokeObjectURL(f),"svg"!==u&&_.drawImage(w,0,0,b,x),u){case"jpeg":r=h.toDataURL("image/jpeg");break;case"png":r=h.toDataURL("image/png");break;case"webp":r=h.toDataURL("image/webp");break;case"svg":r=f;break;default:var a="Image format is not jpeg, png, svg or webp.";if(s(new Error(a)),!e.promise)return n.emit("error",a)}o(r),e.promise||n.emit("success",r)},w.onerror=function(r){if(p=null,i.revokeObjectURL(f),s(r),!e.promise)return n.emit("error",r)},w.src=f}));return e.promise?r:n}},"4efe":function(e,n,r){"use strict";var a=r("8b98"),o=r("2c8d"),i=r("1477"),s=r("fc26").removeElement,l=r("d301"),c=e.exports={};c.align=r("296e"),c.getCursor=r("13a4");var u=r("855b");function coverSlip(){var e=document.createElement("div");e.className="dragcover";var n=e.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(e),e}function pointerOffset(e){return a(e.changedTouches?e.changedTouches[0]:e,document.body)}c.unhover=u.wrapped,c.unhoverRaw=u.raw,c.init=function init(e){var n,r,a,u,d,p,f,h,m=e.gd,g=1,y=m._context.doubleClickDelay,b=e.element;m._mouseDownTime||(m._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=onStart,i?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=onStart,b.addEventListener("touchstart",onStart,{passive:!1})):b.ontouchstart=onStart;var x=e.clampFn||function _clampFn(e,n,r){return Math.abs(e)<r&&(e=0),Math.abs(n)<r&&(n=0),[e,n]};function onStart(i){m._dragged=!1,m._dragging=!0;var s=pointerOffset(i);n=s[0],r=s[1],f=i.target,p=i,h=2===i.buttons||i.ctrlKey,void 0===i.clientX&&void 0===i.clientY&&(i.clientX=n,i.clientY=r),(a=(new Date).getTime())-m._mouseDownTime<y?g+=1:(g=1,m._mouseDownTime=a),e.prepFn&&e.prepFn(i,n,r),o&&!h?(d=coverSlip()).style.cursor=window.getComputedStyle(b).cursor:o||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",onDone),document.addEventListener("touchend",onDone),!1!==e.dragmode&&(i.preventDefault(),document.addEventListener("mousemove",onMove),document.addEventListener("touchmove",onMove,{passive:!1}))}function onMove(a){a.preventDefault();var o=pointerOffset(a),i=e.minDrag||l.MINDRAG,s=x(o[0]-n,o[1]-r,i),u=s[0],d=s[1];(u||d)&&(m._dragged=!0,c.unhover(m)),m._dragged&&e.moveFn&&!h&&(m._dragdata={element:b,dx:u,dy:d},e.moveFn(u,d))}function onDone(n){if(delete m._dragdata,!1!==e.dragmode&&(n.preventDefault(),document.removeEventListener("mousemove",onMove),document.removeEventListener("touchmove",onMove)),document.removeEventListener("mouseup",onDone),document.removeEventListener("touchend",onDone),o?s(d):u&&(d.documentElement.style.cursor=u,u=null),m._dragging){if(m._dragging=!1,(new Date).getTime()-m._mouseDownTime>y&&(g=Math.max(g-1,1)),m._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(g,p),!h){var r;try{r=new MouseEvent("click",n)}catch(i){var a=pointerOffset(n);(r=document.createEvent("MouseEvents")).initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,a[0],a[1],n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}f.dispatchEvent(r)}m._dragging=!1,m._dragged=!1}else m._dragged=!1}},c.coverSlip=coverSlip},"4f20":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({exp_:function exp_(e){const n={x:Object(i.a)(e,"x","exp")};return a.a.runKernel(o.Z,n)}})},"4fc7":function(e,n,r){"use strict";e.exports=r("af50")},5008:function(e,n,r){"use strict";var a=r("fc26"),o=r("d115").contrast,i=r("d798"),s=r("e5ac");function getShowAttrDflt(e){var n=["showexponent","showtickprefix","showticksuffix"].filter((function(n){return void 0!==e[n]}));if(n.every((function(r){return e[r]===e[n[0]]}))||1===n.length)return e[n[0]]}function tickformatstopDefaults(e,n){function coerce(r,o){return a.coerce(e,n,i.tickformatstops,r,o)}coerce("enabled")&&(coerce("dtickrange"),coerce("value"))}e.exports=function handleTickLabelDefaults(e,n,r,l,c,u){u&&1!==u.pass||function handlePrefixSuffix(e,n,r,a,o){var i=getShowAttrDflt(e);r("tickprefix")&&r("showtickprefix",i);r("ticksuffix",o.tickSuffixDflt)&&r("showticksuffix",i)}(e,0,r,0,c),u&&2!==u.pass||function handleOtherDefaults(e,n,r,l,c){var u=getShowAttrDflt(e);r("tickprefix")&&r("showtickprefix",u);r("ticksuffix",c.tickSuffixDflt)&&r("showticksuffix",u);if(r("showticklabels")){var d=c.font||{},p=n.color,f=-1!==(n.ticklabelposition||"").indexOf("inside")?o(c.bgColor):p&&p!==i.color.dflt?p:d.color;if(a.coerceFont(r,"tickfont",{family:d.family,size:d.size,color:f}),r("tickangle"),"category"!==l){var h=r("tickformat");s(e,n,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:tickformatstopDefaults}),n.tickformatstops.length||delete n.tickformatstops,h||"date"===l||(r("showexponent",u),r("exponentformat"),r("minexponent"),r("separatethousands"))}}}(e,n,r,l,c)}},5047:function(e,n,r){"use strict";var a=r("d115"),o=r("215c").hasColorscale,i=r("4183"),s=r("de81");e.exports=function markerDefaults(e,n,r,l,c,u){var d=s.isBubble(e),p=(e.line||{}).color;(u=u||{},p&&(r=p),c("marker.symbol"),c("marker.opacity",d?.7:1),c("marker.size"),c("marker.color",r),o(e,"marker")&&i(e,n,l,c,{prefix:"marker.",cLetter:"c"}),u.noSelect||(c("selected.marker.color"),c("unselected.marker.color"),c("selected.marker.size"),c("unselected.marker.size")),u.noLine||(c("marker.line.color",p&&!Array.isArray(p)&&n.marker.color!==p?p:d?a.background:a.defaultLine),o(e,"marker.line")&&i(e,n,l,c,{prefix:"marker.line.",cLetter:"c"}),c("marker.line.width",d?1:0)),d&&(c("marker.sizeref"),c("marker.sizemin"),c("marker.sizemode")),u.gradient)&&("none"!==c("marker.gradient.type")&&c("marker.gradient.color"))}},"508f":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({floorDiv_:function floorDiv_(e,n){let r=Object(s.a)(e,"a","floorDiv"),l=Object(s.a)(n,"b","floorDiv");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.gb,c)}})},"50c4":function(e,n,r){var a=r("a691"),o=Math.min;e.exports=function(e){return e>0?o(a(e),9007199254740991):0}},5128:function(e,n,r){"use strict";n.__esModule=!0,n.PopupManager=void 0;var a=_interopRequireDefault(r("2b0e")),o=_interopRequireDefault(r("7f4d")),i=_interopRequireDefault(r("4b26")),s=_interopRequireDefault(r("e62d")),l=r("5924");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=1,u=void 0;n.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function beforeMount(){this._popupId="popup-"+c++,i.default.register(this._popupId,this)},beforeDestroy:function beforeDestroy(){i.default.deregister(this._popupId),i.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function data(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function visible(e){var n=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,a.default.nextTick((function(){n.open()})))}else this.close()}},methods:{open:function open(e){var n=this;this.rendered||(this.rendered=!0);var r=(0,o.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var a=Number(r.openDelay);a>0?this._openTimer=setTimeout((function(){n._openTimer=null,n.doOpen(r)}),a):this.doOpen(r)},doOpen:function doOpen(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var n=this.$el,r=e.modal,a=e.zIndex;if(a&&(i.default.zIndex=a),r&&(this._closing&&(i.default.closeModal(this._popupId),this._closing=!1),i.default.openModal(this._popupId,i.default.nextZIndex(),this.modalAppendToBody?void 0:n,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,l.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,l.getStyle)(document.body,"paddingRight"),10)),u=(0,s.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,c=(0,l.getStyle)(document.body,"overflowY");u>0&&(o||"scroll"===c)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+u+"px"),(0,l.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(n).position&&(n.style.position="absolute"),n.style.zIndex=i.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function doAfterOpen(){this._opening=!1},close:function close(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var n=Number(this.closeDelay);n>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),n):this.doClose()}},doClose:function doClose(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function doAfterClose(){i.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function restoreBodyStyle(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,l.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},n.PopupManager=i.default},5135:function(e,n){var r={}.hasOwnProperty;e.exports=function(e,n){return r.call(e,n)}},"520f":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({prelu_:function prelu_(e,n){const r={x:Object(i.a)(e,"x","prelu"),alpha:Object(i.a)(n,"alpha","prelu")};return a.a.runKernel(o.fc,r)}})},"526c":function(e,n,r){"use strict";r.d(n,"d",(function(){return getParamValue})),r.d(n,"e",(function(){return getTensor})),r.d(n,"f",(function(){return getTensorsForCurrentContenxt})),r.d(n,"b",(function(){return getNodeNameAndIndex})),r.d(n,"g",(function(){return parseNodeName})),r.d(n,"c",(function(){return getPadding})),r.d(n,"a",(function(){return cloneTensor}));var a=r("fa11");function getParamValue(e,n,r,o,i){const s=n.inputParams[e];if(s&&void 0!==s.inputIndexStart){const e=s.inputIndexStart,l=0===s.inputIndexEnd?void 0:void 0===s.inputIndexEnd?e+1:s.inputIndexEnd;if("tensor"===s.type)return getTensor(n.inputNames[s.inputIndexStart],r,o,i);if("tensors"===s.type){return n.inputNames.slice(e,l).map((e=>getTensor(e,r,o,i)))}const c=getTensor(n.inputNames.slice(e)[0],r,o,i),u=c.dataSync();return"number"===s.type?u[0]:a.of.toNestedArray(c.shape,u)}const l=n.attrParams[e];return l&&l.value}function getTensor(e,n,r,a){const[o,i]=parseNodeName(e);if(null!=a){const e=a.getHashTableHandleByName(o);if(null!=e)return e}const s=r.currentContextIds.find((e=>!!n[getNodeNameWithContextId(o,e)]));return void 0!==s?n[getNodeNameWithContextId(o,s)][i]:void 0}function getTensorsForCurrentContenxt(e,n,r){return n[getNodeNameWithContextId(e,r.currentContextId)]}function getNodeNameAndIndex(e,n){const[r,a]=parseNodeName(e);return[getNodeNameWithContextId(r,n&&n.currentContextId),a]}function getNodeNameWithContextId(e,n){return n?`${e}-${n}`:e}function parseNodeName(e){const n=e.split(":");if(1===n.length)return[e,0];return[n[0],Number(n[n.length-1])]}function getPadding(e,n,r){let a=getParamValue("pad",e,n,r);if("explicit"===a){a=getParamValue("explicitPaddings",e,n,r);const o=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)o[e][0]=a[2*e],o[e][1]=a[2*e+1];return o}return a}function cloneTensor(e){return e.kept?e:Object(a.ud)(e)}},"526f":function(e,n,r){"use strict";function getBroadcastDims(e,n){const r=e.length,a=[];for(let o=0;o<r;o++){const i=r-1-o,s=e[i]||1;(n[n.length-1-o]||1)>1&&1===s&&a.unshift(i)}return a}function getReductionAxes(e,n){const r=[];for(let a=0;a<n.length;a++){const o=e[e.length-a-1],i=n.length-a-1,s=n[i];(null==o||1===o&&s>1)&&r.unshift(i)}return r}function assertAndGetBroadcastShape(e,n){const r=[],a=Math.max(e.length,n.length);for(let o=0;o<a;o++){let a=e[e.length-o-1];null==a&&(a=1);let i=n[n.length-o-1];if(null==i&&(i=1),1===a)r.unshift(i);else if(1===i)r.unshift(a);else{if(a!==i){throw Error(`Operands could not be broadcast together with shapes ${e} and ${n}.`)}r.unshift(a)}}return r}r.d(n,"b",(function(){return getBroadcastDims})),r.d(n,"c",(function(){return getReductionAxes})),r.d(n,"a",(function(){return assertAndGetBroadcastShape}))},"52d8":function(e,n,r){"use strict";e.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},"52e8":function(e,n,r){"use strict";var a=r("6e58"),o=r("83d1"),i=r("371e");function stylePoints(e,n,r){o.pointStyle(e.selectAll("path.point"),n,r)}function styleText(e,n,r){o.textPointStyle(e.selectAll("text"),n,r)}e.exports={style:function style(e){var n=a.select(e).selectAll("g.trace.scatter");n.style("opacity",(function(e){return e[0].trace.opacity})),n.selectAll("g.points").each((function(n){stylePoints(a.select(this),n.trace||n[0].trace,e)})),n.selectAll("g.text").each((function(n){styleText(a.select(this),n.trace||n[0].trace,e)})),n.selectAll("g.trace path.js-line").call(o.lineGroupStyle),n.selectAll("g.trace path.js-fill").call(o.fillGroupStyle),i.getComponentMethod("errorbars","style")(n)},stylePoints:stylePoints,styleText:styleText,styleOnSelect:function styleOnSelect(e,n,r){var a=n[0].trace;a.selectedpoints?(o.selectedPointStyle(r.selectAll("path.point"),a),o.selectedTextStyle(r.selectAll("text"),a)):(stylePoints(r,a,e),styleText(r,a,e))}}},"538e":function(e,n,r){"use strict";r.d(n,"a",(function(){return customGrad})),r.d(n,"b",(function(){return variableGrads}));var a=r("6ae2"),o=r("34d7"),i=(r("a3f7"),r("6ad5"));function variableGrads(e,n){i.b(i.u(e),(()=>"The f passed in variableGrads(f) must be a function")),i.b(null==n||Array.isArray(n)&&n.every((e=>e instanceof o.c)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const r=null!=n;if(!r){n=[];for(const e in a.a.registeredVariables)n.push(a.a.registeredVariables[e])}const s=r?n.filter((e=>!e.trainable)):null,l=n.length;n=n.filter((e=>e.trainable)),i.b(n.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${l} variables is trainable.`));const{value:c,grads:u}=a.a.gradients(e,n,null,!0);i.b(u.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),i.b(0===c.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`));const d={};return n.forEach(((e,n)=>{null!=u[n]&&(d[e.name]=u[n])})),null!=s&&s.forEach((e=>d[e.name]=null)),{value:c,grads:d}}function customGrad(e){return a.a.customGrad(e)}},"53f2":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({unsortedSegmentSum_:function unsortedSegmentSum_(e,n,r){const l=Object(i.a)(e,"x","unsortedSegmentSum"),c=Object(i.a)(n,"segmentIds","unsortedSegmentSum","int32");Object(s.b)(Object(s.v)(r),(()=>"numSegments must be of dtype int"));const u={x:l,segmentIds:c},d={numSegments:r};return a.a.runKernel(o.Yc,u,d)}})},"53fd":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({maxPool3d_:function maxPool3d_(e,n=[1,1,1],r,l,u,d="NDHWC"){const p=Object(i.a)(e,"x","maxPool3d");let f=p,h=!1;4===p.rank&&(h=!0,f=Object(c.a)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),s.b(5===f.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${f.rank}.`)),s.b("NDHWC"===d,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${d}`)),null!=u&&s.b(s.v(l),(()=>`Error in maxPool3d: pad must be an integer when using, dimRoundingMode ${u} but got pad ${l}.`));const m={x:f},g={filterSize:n,strides:r,pad:l,dimRoundingMode:u,dataFormat:d},y=a.a.runKernel(o.Jb,m,g);return h?Object(c.a)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},"54d9":function(e,n,r){"use strict";var a=r("fc26"),o=r("927d");e.exports=function handleHoverModeDefaults(e,n,r){function coerce(r,i){return void 0!==n[r]?n[r]:a.coerce(e,n,o,r,i)}var i,s=coerce("clickmode");return n._has("cartesian")?s.indexOf("select")>-1?i="closest":(n._isHoriz=function isHoriz(e,n){for(var r=n._scatterStackOpts||{},a=0;a<e.length;a++){var o=e[a],i=(r[o.xaxis+o.yaxis]||{})[o.stackgroup]||{};if("h"!==o.orientation&&"h"!==i.orientation)return!1}return!0}(r,n),i=n._isHoriz?"y":"x"):i="closest",coerce("hovermode",i)}},"54ef":function(e,n,r){"use strict";r.d(n,"a",(function(){return op}));var a=r("6ae2"),o=r("6ad5");function op(e){const n=Object.keys(e);if(1!==n.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${n.length} keys.`);let r=n[0];const i=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r+="__op";const f2=(...e)=>{a.a.startScope(r);try{const n=i(...e);return Object(o.x)(n)&&console.error("Cannot return a Promise inside of tidy."),a.a.endScope(n),n}catch(n){throw a.a.endScope(null),n}};return Object.defineProperty(f2,"name",{value:r,configurable:!0}),f2}},5506:function(e,n,r){"use strict";(e.exports=r("3a99")).manager=r("2381")},5530:function(e,n,r){"use strict";r.d(n,"a",(function(){return _objectSpread2}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ownKeys(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread2(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(r),!0).forEach((function(n){_defineProperty(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}},"553a":function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("83d1"),s=r("de81");e.exports=function plot(e,n,r,l){var c=r.xaxis,u=r.yaxis,d=l&&l.duration>0;n.each((function(n){var p,f=n[0].trace,h=f.error_x||{},m=f.error_y||{};f.ids&&(p=function(e){return e.id});var g=s.hasMarkers(f)&&f.marker.maxdisplayed>0;m.visible||h.visible||(n=[]);var y=a.select(this).selectAll("g.errorbar").data(n,p);if(y.exit().remove(),n.length){h.visible||y.selectAll("path.xerror").remove(),m.visible||y.selectAll("path.yerror").remove(),y.style("opacity",1);var b=y.enter().append("g").classed("errorbar",!0);d&&b.style("opacity",0).transition().duration(l.duration).style("opacity",1),i.setClipUrl(y,r.layerClipId,e),y.each((function(e){var n=a.select(this),r=function errorCoords(e,n,r){var a={x:n.c2p(e.x),y:r.c2p(e.y)};void 0!==e.yh&&(a.yh=r.c2p(e.yh),a.ys=r.c2p(e.ys),o(a.ys)||(a.noYS=!0,a.ys=r.c2p(e.ys,!0)));void 0!==e.xh&&(a.xh=n.c2p(e.xh),a.xs=n.c2p(e.xs),o(a.xs)||(a.noXS=!0,a.xs=n.c2p(e.xs,!0)));return a}(e,c,u);if(!g||e.vis){var i,s=n.select("path.yerror");if(m.visible&&o(r.x)&&o(r.yh)&&o(r.ys)){var p=m.width;i="M"+(r.x-p)+","+r.yh+"h"+2*p+"m-"+p+",0V"+r.ys,r.noYS||(i+="m-"+p+",0h"+2*p),!s.size()?s=n.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):d&&(s=s.transition().duration(l.duration).ease(l.easing)),s.attr("d",i)}else s.remove();var f=n.select("path.xerror");if(h.visible&&o(r.y)&&o(r.xh)&&o(r.xs)){var y=(h.copy_ystyle?m:h).width;i="M"+r.xh+","+(r.y-y)+"v"+2*y+"m0,-"+y+"H"+r.xs,r.noXS||(i+="m0,-"+y+"v"+2*y),!f.size()?f=n.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):d&&(f=f.transition().duration(l.duration).ease(l.easing)),f.attr("d",i)}else f.remove()}}))}}))}},5567:function(e,n,r){"use strict";e.exports=function filterUnique(e){for(var n={},r=[],a=0,o=0;o<e.length;o++){var i=e[o];1!==n[i]&&(n[i]=1,r[a++]=i)}return r}},"55d6":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var e=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^e^e>>>8},e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor128=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},5616:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({topk_:function topk_(e,n=1,r=!0){const s=Object(i.a)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const l=s.shape[s.shape.length-1];if(n>l)throw new Error(`'k' passed to topk() must be <= the last dimension (${l}) but got ${n}`);const c={x:s},u={k:n,sorted:r},[d,p]=a.a.runKernel(o.Tc,c,u);return{values:d,indices:p}}})},"567e":function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("e5ac"),s=r("a5cc"),l=r("fdc7");function handleShapeDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,s,r,o)}if(coerce("visible")){var i=coerce("path"),c=coerce("type",i?"path":"rect");"path"!==n.type&&delete n.path,coerce("editable"),coerce("layer"),coerce("opacity"),coerce("fillcolor"),coerce("fillrule"),coerce("line.width")&&(coerce("line.color"),coerce("line.dash"));for(var u=coerce("xsizemode"),d=coerce("ysizemode"),p=["x","y"],f=0;f<2;f++){var h,m,g,y=p[f],b=y+"anchor",x="x"===y?u:d,_={_fullLayout:r},w=o.coerceRef(e,n,_,y,void 0,"paper");if("range"===o.getRefType(w)?((h=o.getFromId(_,w))._shapeIndices.push(n._index),g=l.rangeToShapePosition(h),m=l.shapePositionToRange(h)):m=g=a.identity,"path"!==c){var k=y+"0",T=y+"1",S=e[k],O=e[T];e[k]=m(e[k],!0),e[T]=m(e[T],!0),"pixel"===x?(coerce(k,0),coerce(T,10)):(o.coercePosition(n,_,coerce,w,k,.25),o.coercePosition(n,_,coerce,w,T,.75)),n[k]=g(n[k]),n[T]=g(n[T]),e[k]=S,e[T]=O}if("pixel"===x){var C=e[b];e[b]=m(e[b],!0),o.coercePosition(n,_,coerce,w,b,.25),n[b]=g(n[b]),e[b]=C}}"path"===c?coerce("path"):a.noneOrAll(e,n,["x0","x1","y0","y1"])}}e.exports=function supplyLayoutDefaults(e,n){i(e,n,{name:"shapes",handleItemDefaults:handleShapeDefaults})}},5692:function(e,n,r){var a=r("c430"),o=r("c6cd");(e.exports=function(e,n){return o[e]||(o[e]=void 0!==n?n:{})})("versions",[]).push({version:"3.10.1",mode:a?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,n,r){var a=r("d066"),o=r("241c"),i=r("7418"),s=r("825a");e.exports=a("Reflect","ownKeys")||function ownKeys(e){var n=o.f(s(e)),r=i.f;return r?n.concat(r(e)):n}},5793:function(e,n,r){"use strict";var a=r("fc26").dateTick0,o=r("e806").ONEWEEK;function getPeriod0Dflt(e,n){return a(n,e%o==0?1:0)}e.exports=function handlePeriodDefaults(e,n,r,a,o){if(o||(o={x:!0,y:!0}),o.x){var i=a("xperiod");i&&(a("xperiod0",getPeriod0Dflt(i,n.xcalendar)),a("xperiodalignment"))}if(o.y){var s=a("yperiod");s&&(a("yperiod0",getPeriod0Dflt(s,n.ycalendar)),a("yperiodalignment"))}}},"57e0":function(e,n,r){"use strict";var a;r.d(n,"a",(function(){return a})),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(a||(a={}))},5844:function(e,n,r){"use strict";e.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",role:"style",editType:"calc",description:["Determines whether or not the range of this axis in","the rangeslider use the same value than in the main plot","when zooming in/out.","If *auto*, the autorange will be used.","If *fixed*, the `range` is used.","If *match*, the current range of the corresponding y-axis on the main subplot is used."].join(" ")},range:{valType:"info_array",role:"style",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot",description:["Sets the range of this axis for the rangeslider."].join(" ")},editType:"calc"}},5874:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}]},5894:function(e,n,r){"use strict";r.d(n,"a",(function(){return linspace}));var a=r("6ae2"),o=r("c05b");function linspace(e,n,r){if(r<=0)throw new Error("The number of values should be positive.");const i={start:e,stop:n,num:r};return a.a.runKernel(o.Ab,{},i)}},5899:function(e,n){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,n,r){var a=r("1d80"),o="["+r("5899")+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),createMethod=function(e){return function(n){var r=String(a(n));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},5913:function(e,n,r){"use strict";var a=r("e806"),o=a.ONEAVGYEAR,i=a.ONEAVGMONTH,s=a.ONEDAY,l=a.ONEHOUR,c=a.ONEMIN,u=a.ONESEC,d=r("0642").tickIncrement;function biggestDigitChanged(e,n,r,a){if(e*n<=0)return 1/0;for(var o=Math.abs(n-e),i="date"===r.type,s=biggestGuaranteedDigitChanged(o,i),l=0;l<10;l++){var c=biggestGuaranteedDigitChanged(80*s,i);if(s===c)break;if(!didDigitChange(c,e,n,i,r,a))break;s=c}return s}function biggestGuaranteedDigitChanged(e,n){return n&&e>u?e>s?e>1.1*o?o:e>1.1*i?i:s:e>l?l:e>c?c:u:Math.pow(10,Math.floor(Math.log(e)/Math.LN10))}function didDigitChange(e,n,r,a,i,l){if(a&&e>s){var c=dateParts(n,i,l),u=dateParts(r,i,l),d=e===o?0:1;return c[d]!==u[d]}return Math.floor(r/e)-Math.floor(n/e)>.1}function dateParts(e,n,r){var a=n.c2d(e,o,r).split("-");return""===a[0]&&(a.unshift(),a[0]="-"+a[0]),a}e.exports=function getBinSpanLabelRound(e,n,r,a,i){var l,c,u=-1.1*n,p=-.1*n,f=e-p,h=r[0],m=r[1],g=Math.min(biggestDigitChanged(h+p,h+f,a,i),biggestDigitChanged(m+p,m+f,a,i)),y=Math.min(biggestDigitChanged(h+u,h+p,a,i),biggestDigitChanged(m+u,m+p,a,i));if(g>y&&y<Math.abs(m-h)/4e3?(l=g,c=!1):(l=Math.min(g,y),c=!0),"date"===a.type&&l>s){var b=l===o?1:6,x=l===o?"M12":"M1";return function(n,r){var s=a.c2d(n,o,i),l=s.indexOf("-",b);l>0&&(s=s.substr(0,l));var u=a.d2c(s,0,i);if(u<n){var p=d(u,x,!1,i);(u+p)/2<n+e&&(u=p)}return r&&c?d(u,x,!0,i):u}}return function(n,r){var a=l*Math.round(n/l);return a+l/10<n&&a+.9*l<n+e&&(a+=l),r&&c&&(a-=l),a}}},5924:function(e,n,r){"use strict";n.__esModule=!0,n.isInContainer=n.getScrollContainer=n.isScroll=n.getStyle=n.once=n.off=n.on=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.hasClass=hasClass,n.addClass=function addClass(e,n){if(!e)return;for(var r=e.className,a=(n||"").split(" "),o=0,i=a.length;o<i;o++){var s=a[o];s&&(e.classList?e.classList.add(s):hasClass(e,s)||(r+=" "+s))}e.classList||(e.className=r)},n.removeClass=function removeClass(e,n){if(!e||!n)return;for(var r=n.split(" "),a=" "+e.className+" ",o=0,i=r.length;o<i;o++){var s=r[o];s&&(e.classList?e.classList.remove(s):hasClass(e,s)&&(a=a.replace(" "+s+" "," ")))}e.classList||(e.className=function trim(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}(a))},n.setStyle=function setStyle(e,n,r){if(!e||!n)return;if("object"===(void 0===n?"undefined":a(n)))for(var o in n)n.hasOwnProperty(o)&&setStyle(e,o,n[o]);else"opacity"===(n=c(n))&&l<9?e.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":e.style[n]=r};var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e")).default.prototype.$isServer,i=/([\:\-\_]+(.))/g,s=/^moz([A-Z])/,l=o?0:Number(document.documentMode),c=function camelCase(e){return e.replace(i,(function(e,n,r,a){return a?r.toUpperCase():r})).replace(s,"Moz$1")},u=n.on=!o&&document.addEventListener?function(e,n,r){e&&n&&r&&e.addEventListener(n,r,!1)}:function(e,n,r){e&&n&&r&&e.attachEvent("on"+n,r)},d=n.off=!o&&document.removeEventListener?function(e,n,r){e&&n&&e.removeEventListener(n,r,!1)}:function(e,n,r){e&&n&&e.detachEvent("on"+n,r)};n.once=function once(e,n,r){u(e,n,(function listener(){r&&r.apply(this,arguments),d(e,n,listener)}))};function hasClass(e,n){if(!e||!n)return!1;if(-1!==n.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(n):(" "+e.className+" ").indexOf(" "+n+" ")>-1}var p=n.getStyle=l<9?function(e,n){if(!o){if(!e||!n)return null;"float"===(n=c(n))&&(n="styleFloat");try{switch(n){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(r){return 1}default:return e.style[n]||e.currentStyle?e.currentStyle[n]:null}}catch(r){return e.style[n]}}}:function(e,n){if(!o){if(!e||!n)return null;"float"===(n=c(n))&&(n="cssFloat");try{var r=document.defaultView.getComputedStyle(e,"");return e.style[n]||r?r[n]:null}catch(a){return e.style[n]}}};var f=n.isScroll=function isScroll(e,n){if(!o)return p(e,null!==n||void 0!==n?n?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};n.getScrollContainer=function getScrollContainer(e,n){if(!o){for(var r=e;r;){if([window,document,document.documentElement].includes(r))return window;if(f(r,n))return r;r=r.parentNode}return r}},n.isInContainer=function isInContainer(e,n){if(o||!e||!n)return!1;var r=e.getBoundingClientRect(),a=void 0;return a=[window,document,document.documentElement,null,void 0].includes(n)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:n.getBoundingClientRect(),r.top<a.bottom&&r.bottom>a.top&&r.right>a.left&&r.left<a.right}},5928:function(e,n){e.exports=function fromQuat(e,n){var r=n[0],a=n[1],o=n[2],i=n[3],s=r+r,l=a+a,c=o+o,u=r*s,d=a*s,p=a*l,f=o*s,h=o*l,m=o*c,g=i*s,y=i*l,b=i*c;return e[0]=1-p-m,e[1]=d+b,e[2]=f-y,e[3]=0,e[4]=d-b,e[5]=1-u-m,e[6]=h+g,e[7]=0,e[8]=f+y,e[9]=h-g,e[10]=1-u-p,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},5959:function(e,n,r){"use strict";r.d(n,"a",(function(){return makeTensor}));var a=r("6ae2"),o=r("6ad5"),i=r("eb7e");function makeTensor(e,n,r,s){if(null==s&&(s=Object(o.r)(e)),"complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Object(o.A)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=n){Object(o.c)(n);const e=Object(o.O)(n),a=Object(o.O)(r);Object(o.b)(e===a,(()=>`Based on the provided shape, [${n}], the tensor should have ${e} values but has ${a}`));for(let i=0;i<r.length;++i){const e=r[i],a=i!==r.length-1||e!==Object(o.O)(n.slice(i));Object(o.b)(r[i]===n[i]||!a,(()=>`Error creating a new Tensor. Inferred shape (${r}) does not match the provided shape (${n}). `))}}return Object(o.A)(e)||Array.isArray(e)||(e=[e]),n=n||r,e="string"!==s?Object(i.toTypedArray)(e,s):Object(o.m)(e,[],!0),a.a.makeTensor(e,n,s)}},5960:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({ceil_:function ceil_(e){const n={x:Object(i.a)(e,"x","ceil")};return a.a.runKernel(o.x,n)}})},"597f":function(e,n){e.exports=function(e,n,r,a){var o,i=0;return"boolean"!=typeof n&&(a=r,r=n,n=void 0),function wrapper(){var s=this,l=Number(new Date)-i,c=arguments;function exec(){i=Number(new Date),r.apply(s,c)}function clear(){o=void 0}a&&!o&&exec(),o&&clearTimeout(o),void 0===a&&l>e?exec():!0!==n&&(o=setTimeout(a?clear:exec,void 0===a?e-l:e))}}},5980:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({isInf_:function isInf_(e){const n={x:Object(i.a)(e,"x","isInf")};return a.a.runKernel(o.tb,n)}})},"59be":function(e,n,r){"use strict";var a=r("fc26").isArrayOrTypedArray,o=r("215c").hasColorscale,i=r("4183");e.exports=function lineDefaults(e,n,r,s,l,c){var u=(e.marker||{}).color;(l("line.color",r),o(e,"line"))?i(e,n,s,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(u)&&u||r);l("line.width"),(c||{}).noDash||l("line.dash")}},"59e0":function(e,n,r){"use strict";var a=r("fc26");function format(e){return-1!==e.indexOf("e")?e.replace(/[.]?0+e/,"e"):-1!==e.indexOf(".")?e.replace(/[.]?0+$/,""):e}n.formatPiePercent=function formatPiePercent(e,n){var r=format((100*e).toPrecision(3));return a.numSeparate(r,n)+"%"},n.formatPieValue=function formatPieValue(e,n){var r=format(e.toPrecision(10));return a.numSeparate(r,n)},n.getFirstFilled=function getFirstFilled(e,n){if(Array.isArray(e))for(var r=0;r<n.length;r++){var a=e[n[r]];if(a||0===a||""===a)return a}},n.castOption=function castOption(e,r){return Array.isArray(e)?n.getFirstFilled(e,r):e||void 0},n.getRotationAngle=function(e){return("auto"===e?0:e)*Math.PI/180}},"5a1b":function(e,n,r){"use strict";e.exports=function pushUnique(e,n){if(n instanceof RegExp){for(var r=n.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===r)return e;e.push(n)}else!n&&0!==n||-1!==e.indexOf(n)||e.push(n);return e}},"5a1e":function(e,n,r){"use strict";var a=r("6e58"),o=r("d115"),i=r("a935"),s=r("fc26"),l=s.strScale,c=s.strRotate,u=s.strTranslate;e.exports=function drawArrowHead(e,n,r){var s,d,p,f,h=e.node(),m=i[r.arrowhead||0],g=i[r.startarrowhead||0],y=(r.arrowwidth||1)*(r.arrowsize||1),b=(r.arrowwidth||1)*(r.startarrowsize||1),x=n.indexOf("start")>=0,_=n.indexOf("end")>=0,w=m.backoff*y+r.standoff,k=g.backoff*b+r.startstandoff;if("line"===h.nodeName){s={x:+e.attr("x1"),y:+e.attr("y1")},d={x:+e.attr("x2"),y:+e.attr("y2")};var T=s.x-d.x,S=s.y-d.y;if(f=(p=Math.atan2(S,T))+Math.PI,w&&k&&w+k>Math.sqrt(T*T+S*S))return void hideLine();if(w){if(w*w>T*T+S*S)return void hideLine();var O=w*Math.cos(p),C=w*Math.sin(p);d.x+=O,d.y+=C,e.attr({x2:d.x,y2:d.y})}if(k){if(k*k>T*T+S*S)return void hideLine();var A=k*Math.cos(p),I=k*Math.sin(p);s.x-=A,s.y-=I,e.attr({x1:s.x,y1:s.y})}}else if("path"===h.nodeName){var N=h.getTotalLength(),M="";if(N<w+k)return void hideLine();var E=h.getPointAtLength(0),D=h.getPointAtLength(.1);p=Math.atan2(E.y-D.y,E.x-D.x),s=h.getPointAtLength(Math.min(k,N)),M="0px,"+k+"px,";var j=h.getPointAtLength(N),R=h.getPointAtLength(N-.1);f=Math.atan2(j.y-R.y,j.x-R.x),d=h.getPointAtLength(Math.max(0,N-w)),M+=N-(M?k+w:w)+"px,"+N+"px",e.style("stroke-dasharray",M)}function hideLine(){e.style("stroke-dasharray","0px,100px")}function drawhead(n,i,s,d){n.path&&(n.noRotate&&(s=0),a.select(h.parentNode).append("path").attr({class:e.attr("class"),d:n.path,transform:u(i.x,i.y)+c(180*s/Math.PI)+l(d)}).style({fill:o.rgb(r.arrowcolor),"stroke-width":0}))}x&&drawhead(g,s,p,b),_&&drawhead(m,d,f,y)}},"5a2c":function(e,n,r){"use strict";r.d(n,"a",(function(){return zeros}));var a=r("6ae2"),o=r("6ad5"),i=r("0777");function zeros(e,n="float32"){if("complex64"===n){const n=zeros(e,"float32"),r=zeros(e,"float32");return Object(i.a)(n,r)}const r=Object(o.F)(Object(o.O)(e),n);return a.a.makeTensor(r,e,n)}},"5b41":function(e,n,r){"use strict";n.version="1.58.4"},"5b68":function(e,n,r){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",role:"info",values:["immediate","next","afterall"],description:["Describes how a new animate call interacts with currently-running","animations. If `immediate`, current animations are interrupted and","the new animation is started. If `next`, the current frame is allowed","to complete, after which the new animation is started. If `afterall`","all existing frames are animated to completion before the new animation","is started."].join(" ")},direction:{valType:"enumerated",role:"info",values:["forward","reverse"],dflt:"forward",description:["The direction in which to play the frames triggered by the animation call"].join(" ")},fromcurrent:{valType:"boolean",dflt:!1,role:"info",description:["Play frames starting at the current frame instead of the beginning."].join(" ")},frame:{duration:{valType:"number",role:"info",min:0,dflt:500,description:["The duration in milliseconds of each frame. If greater than the frame","duration, it will be limited to the frame duration."].join(" ")},redraw:{valType:"boolean",role:"info",dflt:!0,description:["Redraw the plot at completion of the transition. This is desirable","for transitions that include properties that cannot be transitioned,","but may significantly slow down updates that do not require a full","redraw of the plot"].join(" ")}},transition:{duration:{valType:"number",role:"info",min:0,dflt:500,editType:"none",description:["The duration of the transition, in milliseconds. If equal to zero,","updates are synchronous."].join(" ")},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],role:"info",editType:"none",description:"The easing function used for the transition"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",role:"info",editType:"none",description:["Determines whether the figure's layout or traces smoothly transitions","during updates that make both traces and layout change."].join(" ")}}}},"5c6c":function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},"5dc4":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sinh_:function sinh_(e){const n={x:Object(i.a)(e,"x","sinh")};return a.a.runKernel(o.Cc,n)}})},"5def":function(e,n,r){"use strict";var a=r("74d6"),o=/^\w*$/;e.exports=function keyedContainer(e,n,r,i){var s,l,c;r=r||"name",i=i||"value";var u={};n&&n.length?(c=a(e,n),l=c.get()):l=e,n=n||"";var d={};if(l)for(s=0;s<l.length;s++)d[l[s][r]]=s;var p=o.test(i),f={set:function(e,n){var o=null===n?4:0;if(!l){if(!c||4===o)return;l=[],c.set(l)}var s=d[e];if(void 0===s){if(4===o)return;o|=3,s=l.length,d[e]=s}else n!==(p?l[s][i]:a(l[s],i).get())&&(o|=2);var h=l[s]=l[s]||{};return h[r]=e,p?h[i]=n:a(h,i).set(n),null!==n&&(o&=-5),u[s]=u[s]|o,f},get:function(e){if(l){var n=d[e];return void 0===n?void 0:p?l[n][i]:a(l[n],i).get()}},rename:function(e,n){var a=d[e];return void 0===a||(u[a]=1|u[a],d[n]=a,delete d[e],l[a][r]=n),f},remove:function(e){var n=d[e];if(void 0===n)return f;var o=l[n];if(Object.keys(o).length>2)return u[n]=2|u[n],f.set(e,null);if(p){for(s=n;s<l.length;s++)u[s]=3|u[s];for(s=n;s<l.length;s++)d[l[s][r]]--;l.splice(n,1),delete d[e]}else a(o,i).set(null),u[n]=6|u[n];return f},constructUpdate:function(){for(var e,o,s={},c=Object.keys(u),d=0;d<c.length;d++)o=c[d],e=n+"["+o+"]",l[o]?(1&u[o]&&(s[e+"."+r]=l[o][r]),2&u[o]&&(s[e+"."+i]=p?4&u[o]?null:l[o][i]:4&u[o]?null:a(l[o],i).get())):s[e]=null;return s}};return f}},"5e8f":function(e,n,r){"use strict";var a=r("de81");e.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:r("107c"),supplyDefaults:r("0eb7"),crossTraceDefaults:r("0324"),calc:r("70b4").calc,crossTraceCalc:r("4324"),arraysToCalcdata:r("106b"),plot:r("f118"),colorbar:r("f3cf"),formatLabels:r("7e96"),style:r("52e8").style,styleOnSelect:r("52e8").styleOnSelect,hoverPoints:r("391b"),selectPoints:r("214c"),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:r("91cd"),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{description:["The scatter trace type encompasses line charts, scatter charts, text charts, and bubble charts.","The data visualized as scatter point or lines is set in `x` and `y`.","Text (appearing either on the chart or on hover only) is via `text`.","Bubble charts are achieved by setting `marker.size` and/or `marker.color`","to numerical arrays."].join(" ")}}},"5ebd":function(e,n,r){"use strict";r.r(n),r.d(n,"assertParamsValid",(function(){return assertParamsValid})),r.d(n,"maskToAxes",(function(){return maskToAxes})),r.d(n,"computeOutShape",(function(){return computeOutShape})),r.d(n,"stridesWithElidedDims",(function(){return stridesWithElidedDims})),r.d(n,"getNormalizedAxes",(function(){return getNormalizedAxes})),r.d(n,"startIndicesWithElidedDims",(function(){return startIndicesWithElidedDims})),r.d(n,"stopIndicesWithElidedDims",(function(){return stopIndicesWithElidedDims})),r.d(n,"stridesForAxis",(function(){return stridesForAxis})),r.d(n,"startForAxis",(function(){return startForAxis})),r.d(n,"stopForAxis",(function(){return stopForAxis})),r.d(n,"isSliceContinous",(function(){return isSliceContinous})),r.d(n,"computeFlatOffset",(function(){return computeFlatOffset})),r.d(n,"parseSliceParams",(function(){return parseSliceParams})),r.d(n,"sliceInfo",(function(){return sliceInfo}));var a=r("6ad5");function assertParamsValid(e,n,r){const o=e.shape.length;a.b(o===n.length,(()=>`Error in slice${o}D: Length of begin ${n} must match the rank of the array (${o}).`)),a.b(o===r.length,(()=>`Error in slice${o}D: Length of size ${r} must match the rank of the array (${o}).`));for(let i=0;i<o;++i)a.b(n[i]+r[i]<=e.shape[i],(()=>`Error in slice${o}D: begin[${i}] + size[${i}] (${n[i]+r[i]}) would overflow input.shape[${i}] (${e.shape[i]})`))}function maskToAxes(e){const n=[];let r=0;for(;e>0;)1&e&&n.push(r),e/=2,r++;return n}function computeOutShape(e,n,r){const a=[];for(let o=0;o<e.length;o++)a[o]=Math.ceil((n[o]-e[o])/r[o]);return a}function stridesWithElidedDims(e,n,r,a){const o=[...e];for(let i=o.length;i<a.length;i++)o.push(1);for(let i=0;i<r;i++)0===i?o[n]=1:(o.splice(n,0,1),o.pop());return o}function unnormalizeAxis(e,n,r){return r<=e?r:r-(n-1)}function getElidedAxes(e,n){const r=[];for(let a=0;a<e;a++)r.push(n+a);return r}function getNormalizedAxes(e,n,r,a,o,i,s,l,c){const u=e.length;let d=new Array(u),p=new Array(u),f=new Array(u);if(n.length&&r>0){const c=n[0],u=r+1;d=startIndicesWithElidedDims(s,c,u,a,e),p=stopIndicesWithElidedDims(l,c,u,o,e),f=stridesWithElidedDims(i,c,u,e)}else for(let h=0;h<u;h++)d[h]=startForAxis(s,a,i,e,h,c),p[h]=stopForAxis(l,o,i,e,h,c),f[h]=stridesForAxis(i,h,c);return{begin:d,end:p,strides:f}}function startIndicesWithElidedDims(e,n,r,a,o){const i=[...o],s=getElidedAxes(r,n);for(let l=0;l<i.length;l++)if(s.indexOf(l)>-1)i[l]=0;else{const o=unnormalizeAxis(n,r,l);let s=a[o];e&1<<o&&(s=0),i[l]=s}return i}function stopIndicesWithElidedDims(e,n,r,o,i){const s=[...i],l=getElidedAxes(r,n);for(let a=0;a<s.length;a++)if(l.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{const i=unnormalizeAxis(n,r,a);let l=o[i];e&1<<i&&(l=Number.MAX_SAFE_INTEGER),s[a]=l}for(let c=0;c<s.length;c++){const e=i[c];s[c]<0&&(s[c]+=e),s[c]=a.i(0,s[c],i[c])}return s}function stridesForAxis(e,n,r){let a=e[n];return(r&1<<n||null==a)&&(a=1),a}function startForAxis(e,n,r,o,i,s){let l=n[i];const c=r[i]||1;(e&1<<i||s&1<<i||null==l)&&(l=c>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const u=o[i];return l<0&&(l+=u),l=a.i(0,l,u-1),l}function stopForAxis(e,n,r,o,i,s){let l=n[i];const c=r[i]||1;(e&1<<i||s&1<<i||null==l)&&(l=c>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const u=o[i];return l<0&&(l+=u),l=c>0?a.i(0,l,u):a.i(-1,l,u-1),l}function isSliceContinous(e,n,r){let a=r.length;for(let o=0;o<r.length;o++)if(r[o]>1){a=o;break}for(let o=a+1;o<r.length;o++)if(n[o]>0||r[o]!==e[o])return!1;return!0}function computeFlatOffset(e,n){let r=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)r+=e[a]*n[a];return r}function parseSliceParams(e,n,r){let o;const i=e.shape.length;let s;return o="number"==typeof n?[n,...new Array(i-1).fill(0)]:n.length<i?n.concat(new Array(i-n.length).fill(0)):n.slice(),o.forEach((e=>{a.b(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==r?new Array(i).fill(-1):"number"==typeof r?[r,...new Array(i-1).fill(-1)]:r.length<i?r.concat(new Array(i-r.length).fill(-1)):r,s=s.map(((n,r)=>n>=0?n:(a.b(-1===n,(()=>`Negative size values should be exactly -1 but got ${n} for the slice() size at index ${r}.`)),e.shape[r]-o[r]))),[o,s]}function sliceInfo(e,n,r,a,o,i,s,l,c){let u=n.slice(),d=r.slice(),p=a;null==a&&(p=new Array(u.length));const f=maskToAxes(s);if(f.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==s&&0!==l)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==s&&0!==c)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");const h=e.length-u.length,m=maskToAxes(l),g=e.slice();m.forEach((e=>{u[e]=0,d[e]=1,g.splice(e,0,1)}));const{begin:y,end:b,strides:x}=getNormalizedAxes(g,f,h,u,d,p,o,i,s);u=y,d=b,p=x;const _=maskToAxes(c);_.forEach((e=>{d[e]=u[e]+1,p[e]=1}));const w=computeOutShape(u,d,p),k=w.filter(((e,n)=>-1===_.indexOf(n)));return{nonStrided:p.every((e=>1===e)),$begin:u,$end:d,$strides:p,size:w,newShape:g,outShape:k}}},"5f2a":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({rsqrt_:function rsqrt_(e){const n={x:Object(i.a)(e,"x","rsqrt")};return a.a.runKernel(o.vc,n)}})},"5f87":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({softmax_:function softmax_(e,n=-1){const r=Object(i.a)(e,"logits","softmax","float32");if(-1===n&&(n=r.rank-1),n!==r.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${r.rank} and dim was ${n}`);const s={logits:r},l={dim:n};return a.a.runKernel(o.Ec,s,l)}})},6002:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({atan2_:function atan2_(e,n){let r=Object(s.a)(e,"a","atan2"),l=Object(s.a)(n,"b","atan2");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.m,c)}})},"605d":function(e,n,r){var a=r("c6b6"),o=r("da84");e.exports="process"==a(o.process)},"60da":function(e,n,r){"use strict";var a=r("83ab"),o=r("d039"),i=r("df75"),s=r("7418"),l=r("d1e7"),c=r("7b0b"),u=r("44ad"),d=Object.assign,p=Object.defineProperty;e.exports=!d||o((function(){if(a&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},n={},r=Symbol(),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){n[e]=e})),7!=d({},e)[r]||i(d({},n)).join("")!=o}))?function assign(e,n){for(var r=c(e),o=arguments.length,d=1,p=s.f,f=l.f;o>d;)for(var h,m=u(arguments[d++]),g=p?i(m).concat(p(m)):i(m),y=g.length,b=0;y>b;)h=g[b++],a&&!f.call(m,h)||(r[h]=m[h]);return r}:d},6125:function(e,n,r){var a=r("1212"),o=r("b838"),i=r("a49e"),s=r("cae0"),l=r("7aec"),c=r("89ed"),u=r("a49d");u.alea=a,u.xor128=o,u.xorwow=i,u.xorshift7=s,u.xor4096=l,u.tychei=c,e.exports=u},6166:function(e,n,r){(function(e){var a;!function(e,o,i){function Alea(e){var n=this,r=function Mash(){var e=4022871197;return function(n){n=n.toString();for(var r=0;r<n.length;r++){var a=.02519603282416938*(e+=n.charCodeAt(r));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)}}();n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function copy(e,n){return n.c=e.c,n.s0=e.s0,n.s1=e.s1,n.s2=e.s2,n}function impl(e,n){var r=new Alea(e),a=n&&n.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,a&&("object"==typeof a&&copy(a,r),o.state=function(){return copy(r,{})}),o}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.alea=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},6167:function(e,n,r){"use strict";var a,o;"function"==typeof Symbol&&Symbol.iterator;void 0===(o="function"==typeof(a=function(){var e=window,n={placement:"bottom",gpuAcceleration:!0,offset:0,boundariesElement:"viewport",boundariesPadding:5,preventOverflowOrder:["left","right","top","bottom"],flipBehavior:"flip",arrowElement:"[x-arrow]",arrowOffset:0,modifiers:["shift","offset","preventOverflow","keepTogether","arrow","flip","applyStyle"],modifiersIgnored:[],forceAbsolute:!1};function Popper(e,r,a){this._reference=e.jquery?e[0]:e,this.state={};var o=null==r,i=r&&"[object Object]"===Object.prototype.toString.call(r);return this._popper=o||i?this.parse(i?r:{}):r.jquery?r[0]:r,this._options=Object.assign({},n,a),this._options.modifiers=this._options.modifiers.map(function(e){if(-1===this._options.modifiersIgnored.indexOf(e))return"applyStyle"===e&&this._popper.setAttribute("x-placement",this._options.placement),this.modifiers[e]||e}.bind(this)),this.state.position=this._getPosition(this._popper,this._reference),setStyle(this._popper,{position:this.state.position,top:0}),this.update(),this._setupEventListeners(),this}function getOuterSizes(n){var r=n.style.display,a=n.style.visibility;n.style.display="block",n.style.visibility="hidden",n.offsetWidth;var o=e.getComputedStyle(n),i=parseFloat(o.marginTop)+parseFloat(o.marginBottom),s=parseFloat(o.marginLeft)+parseFloat(o.marginRight),l={width:n.offsetWidth+s,height:n.offsetHeight+i};return n.style.display=r,n.style.visibility=a,l}function getOppositePlacement(e){var n={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return n[e]}))}function getPopperClientRect(e){var n=Object.assign({},e);return n.right=n.left+n.width,n.bottom=n.top+n.height,n}function getArrayKeyIndex(e,n){var r,a=0;for(r in e){if(e[r]===n)return a;a++}return null}function getStyleComputedProperty(n,r){return e.getComputedStyle(n,null)[r]}function getOffsetParent(n){var r=n.offsetParent;return r!==e.document.body&&r?r:e.document.documentElement}function getScrollParent(n){var r=n.parentNode;return r?r===e.document?e.document.body.scrollTop||e.document.body.scrollLeft?e.document.body:e.document.documentElement:-1!==["scroll","auto"].indexOf(getStyleComputedProperty(r,"overflow"))||-1!==["scroll","auto"].indexOf(getStyleComputedProperty(r,"overflow-x"))||-1!==["scroll","auto"].indexOf(getStyleComputedProperty(r,"overflow-y"))?r:getScrollParent(n.parentNode):n}function isFixed(n){return n!==e.document.body&&("fixed"===getStyleComputedProperty(n,"position")||(n.parentNode?isFixed(n.parentNode):n))}function setStyle(e,n){function is_numeric(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}Object.keys(n).forEach((function(r){var a="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&is_numeric(n[r])&&(a="px"),e.style[r]=n[r]+a}))}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function getOffsetRect(e){var n={width:e.offsetWidth,height:e.offsetHeight,left:e.offsetLeft,top:e.offsetTop};return n.right=n.left+n.width,n.bottom=n.top+n.height,n}function getBoundingClientRect(e){var n=e.getBoundingClientRect(),r=-1!=navigator.userAgent.indexOf("MSIE")&&"HTML"===e.tagName?-e.scrollTop:n.top;return{left:n.left,top:r,right:n.right,bottom:n.bottom,width:n.right-n.left,height:n.bottom-r}}function getOffsetRectRelativeToCustomParent(e,n,r){var a=getBoundingClientRect(e),o=getBoundingClientRect(n);if(r){var i=getScrollParent(n);o.top+=i.scrollTop,o.bottom+=i.scrollTop,o.left+=i.scrollLeft,o.right+=i.scrollLeft}return{top:a.top-o.top,left:a.left-o.left,bottom:a.top-o.top+a.height,right:a.left-o.left+a.width,width:a.width,height:a.height}}function getSupportedPropertyName(n){for(var r=["","ms","webkit","moz","o"],a=0;a<r.length;a++){var o=r[a]?r[a]+n.charAt(0).toUpperCase()+n.slice(1):n;if(void 0!==e.document.body.style[o])return o}return null}return Popper.prototype.destroy=function(){return this._popper.removeAttribute("x-placement"),this._popper.style.left="",this._popper.style.position="",this._popper.style.top="",this._popper.style[getSupportedPropertyName("transform")]="",this._removeEventListeners(),this._options.removeOnDestroy&&this._popper.remove(),this},Popper.prototype.update=function(){var e={instance:this,styles:{}};e.placement=this._options.placement,e._originalPlacement=this._options.placement,e.offsets=this._getOffsets(this._popper,this._reference,e.placement),e.boundaries=this._getBoundaries(e,this._options.boundariesPadding,this._options.boundariesElement),e=this.runModifiers(e,this._options.modifiers),"function"==typeof this.state.updateCallback&&this.state.updateCallback(e)},Popper.prototype.onCreate=function(e){return e(this),this},Popper.prototype.onUpdate=function(e){return this.state.updateCallback=e,this},Popper.prototype.parse=function(n){var r={tagName:"div",classNames:["popper"],attributes:[],parent:e.document.body,content:"",contentType:"text",arrowTagName:"div",arrowClassNames:["popper__arrow"],arrowAttributes:["x-arrow"]};n=Object.assign({},r,n);var a=e.document,o=a.createElement(n.tagName);if(addClassNames(o,n.classNames),addAttributes(o,n.attributes),"node"===n.contentType?o.appendChild(n.content.jquery?n.content[0]:n.content):"html"===n.contentType?o.innerHTML=n.content:o.textContent=n.content,n.arrowTagName){var i=a.createElement(n.arrowTagName);addClassNames(i,n.arrowClassNames),addAttributes(i,n.arrowAttributes),o.appendChild(i)}var s=n.parent.jquery?n.parent[0]:n.parent;if("string"==typeof s){if((s=a.querySelectorAll(n.parent)).length>1&&console.warn("WARNING: the given `parent` query("+n.parent+") matched more than one element, the first one will be used"),0===s.length)throw"ERROR: the given `parent` doesn't exists!";s=s[0]}return s.length>1&&s instanceof Element==0&&(console.warn("WARNING: you have passed as parent a list of elements, the first one will be used"),s=s[0]),s.appendChild(o),o;function addClassNames(e,n){n.forEach((function(n){e.classList.add(n)}))}function addAttributes(e,n){n.forEach((function(n){e.setAttribute(n.split(":")[0],n.split(":")[1]||"")}))}},Popper.prototype._getPosition=function(e,n){var r=getOffsetParent(n);return this._options.forceAbsolute?"absolute":isFixed(n,r)?"fixed":"absolute"},Popper.prototype._getOffsets=function(e,n,r){r=r.split("-")[0];var a={};a.position=this.state.position;var o="fixed"===a.position,i=getOffsetRectRelativeToCustomParent(n,getOffsetParent(e),o),s=getOuterSizes(e);return-1!==["right","left"].indexOf(r)?(a.top=i.top+i.height/2-s.height/2,a.left="left"===r?i.left-s.width:i.right):(a.left=i.left+i.width/2-s.width/2,a.top="top"===r?i.top-s.height:i.bottom),a.width=s.width,a.height=s.height,{popper:a,reference:i}},Popper.prototype._setupEventListeners=function(){if(this.state.updateBound=this.update.bind(this),e.addEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement){var n=getScrollParent(this._reference);n!==e.document.body&&n!==e.document.documentElement||(n=e),n.addEventListener("scroll",this.state.updateBound),this.state.scrollTarget=n}},Popper.prototype._removeEventListeners=function(){e.removeEventListener("resize",this.state.updateBound),"window"!==this._options.boundariesElement&&this.state.scrollTarget&&(this.state.scrollTarget.removeEventListener("scroll",this.state.updateBound),this.state.scrollTarget=null),this.state.updateBound=null},Popper.prototype._getBoundaries=function(n,r,a){var o,i={};if("window"===a){var s=e.document.body,l=e.document.documentElement;o=Math.max(s.scrollHeight,s.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight),i={top:0,right:Math.max(s.scrollWidth,s.offsetWidth,l.clientWidth,l.scrollWidth,l.offsetWidth),bottom:o,left:0}}else if("viewport"===a){var c=getOffsetParent(this._popper),u=getScrollParent(this._popper),d=getOffsetRect(c),p=function getScrollTopValue(e){return e==document.body?Math.max(document.documentElement.scrollTop,document.body.scrollTop):e.scrollTop},f=function getScrollLeftValue(e){return e==document.body?Math.max(document.documentElement.scrollLeft,document.body.scrollLeft):e.scrollLeft},h="fixed"===n.offsets.popper.position?0:p(u),m="fixed"===n.offsets.popper.position?0:f(u);i={top:0-(d.top-h),right:e.document.documentElement.clientWidth-(d.left-m),bottom:e.document.documentElement.clientHeight-(d.top-h),left:0-(d.left-m)}}else i=getOffsetParent(this._popper)===a?{top:0,left:0,right:a.clientWidth,bottom:a.clientHeight}:getOffsetRect(a);return i.left+=r,i.right-=r,i.top=i.top+r,i.bottom=i.bottom-r,i},Popper.prototype.runModifiers=function(e,n,r){var a=n.slice();return void 0!==r&&(a=this._options.modifiers.slice(0,getArrayKeyIndex(this._options.modifiers,r))),a.forEach(function(n){isFunction(n)&&(e=n.call(this,e))}.bind(this)),e},Popper.prototype.isModifierRequired=function(e,n){var r=getArrayKeyIndex(this._options.modifiers,e);return!!this._options.modifiers.slice(0,r).filter((function(e){return e===n})).length},Popper.prototype.modifiers={},Popper.prototype.modifiers.applyStyle=function(e){var n,r={position:e.offsets.popper.position},a=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top);return this._options.gpuAcceleration&&(n=getSupportedPropertyName("transform"))?(r[n]="translate3d("+a+"px, "+o+"px, 0)",r.top=0,r.left=0):(r.left=a,r.top=o),Object.assign(r,e.styles),setStyle(this._popper,r),this._popper.setAttribute("x-placement",e.placement),this.isModifierRequired(this.modifiers.applyStyle,this.modifiers.arrow)&&e.offsets.arrow&&setStyle(e.arrowElement,e.offsets.arrow),e},Popper.prototype.modifiers.shift=function(e){var n=e.placement,r=n.split("-")[0],a=n.split("-")[1];if(a){var o=e.offsets.reference,i=getPopperClientRect(e.offsets.popper),s={y:{start:{top:o.top},end:{top:o.top+o.height-i.height}},x:{start:{left:o.left},end:{left:o.left+o.width-i.width}}},l=-1!==["bottom","top"].indexOf(r)?"x":"y";e.offsets.popper=Object.assign(i,s[l][a])}return e},Popper.prototype.modifiers.preventOverflow=function(e){var n=this._options.preventOverflowOrder,r=getPopperClientRect(e.offsets.popper),a={left:function left(){var left=r.left;return r.left<e.boundaries.left&&(left=Math.max(r.left,e.boundaries.left)),{left:left}},right:function right(){var n=r.left;return r.right>e.boundaries.right&&(n=Math.min(r.left,e.boundaries.right-r.width)),{left:n}},top:function top(){var top=r.top;return r.top<e.boundaries.top&&(top=Math.max(r.top,e.boundaries.top)),{top:top}},bottom:function bottom(){var n=r.top;return r.bottom>e.boundaries.bottom&&(n=Math.min(r.top,e.boundaries.bottom-r.height)),{top:n}}};return n.forEach((function(n){e.offsets.popper=Object.assign(r,a[n]())})),e},Popper.prototype.modifiers.keepTogether=function(e){var n=getPopperClientRect(e.offsets.popper),r=e.offsets.reference,a=Math.floor;return n.right<a(r.left)&&(e.offsets.popper.left=a(r.left)-n.width),n.left>a(r.right)&&(e.offsets.popper.left=a(r.right)),n.bottom<a(r.top)&&(e.offsets.popper.top=a(r.top)-n.height),n.top>a(r.bottom)&&(e.offsets.popper.top=a(r.bottom)),e},Popper.prototype.modifiers.flip=function(e){if(!this.isModifierRequired(this.modifiers.flip,this.modifiers.preventOverflow))return console.warn("WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!"),e;if(e.flipped&&e.placement===e._originalPlacement)return e;var n=e.placement.split("-")[0],r=getOppositePlacement(n),a=e.placement.split("-")[1]||"",o=[];return(o="flip"===this._options.flipBehavior?[n,r]:this._options.flipBehavior).forEach(function(i,s){if(n===i&&o.length!==s+1){n=e.placement.split("-")[0],r=getOppositePlacement(n);var l=getPopperClientRect(e.offsets.popper),c=-1!==["right","bottom"].indexOf(n);(c&&Math.floor(e.offsets.reference[n])>Math.floor(l[r])||!c&&Math.floor(e.offsets.reference[n])<Math.floor(l[r]))&&(e.flipped=!0,e.placement=o[s+1],a&&(e.placement+="-"+a),e.offsets.popper=this._getOffsets(this._popper,this._reference,e.placement).popper,e=this.runModifiers(e,this._options.modifiers,this._flip))}}.bind(this)),e},Popper.prototype.modifiers.offset=function(e){var n=this._options.offset,r=e.offsets.popper;return-1!==e.placement.indexOf("left")?r.top-=n:-1!==e.placement.indexOf("right")?r.top+=n:-1!==e.placement.indexOf("top")?r.left-=n:-1!==e.placement.indexOf("bottom")&&(r.left+=n),e},Popper.prototype.modifiers.arrow=function(e){var n=this._options.arrowElement,r=this._options.arrowOffset;if("string"==typeof n&&(n=this._popper.querySelector(n)),!n)return e;if(!this._popper.contains(n))return console.warn("WARNING: `arrowElement` must be child of its popper element!"),e;if(!this.isModifierRequired(this.modifiers.arrow,this.modifiers.keepTogether))return console.warn("WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!"),e;var a={},o=e.placement.split("-")[0],i=getPopperClientRect(e.offsets.popper),s=e.offsets.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"top":"left",d=l?"left":"top",p=l?"bottom":"right",f=getOuterSizes(n)[c];s[p]-f<i[u]&&(e.offsets.popper[u]-=i[u]-(s[p]-f)),s[u]+f>i[p]&&(e.offsets.popper[u]+=s[u]+f-i[p]);var h=s[u]+(r||s[c]/2-f/2)-i[u];return h=Math.max(Math.min(i[c]-f-8,h),8),a[u]=h,a[d]="",e.offsets.arrow=a,e.arrowElement=n,e},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function value(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a){a=Object(a);for(var o=Object.keys(a),i=0,s=o.length;i<s;i++){var l=o[i],c=Object.getOwnPropertyDescriptor(a,l);void 0!==c&&c.enumerable&&(n[l]=a[l])}}}return n}}),Popper})?a.call(n,r,n,e):a)||(e.exports=o)},6174:function(e,n,r){"use strict";var a=r("19b2"),o=r("f6b0");e.exports=function convertCoords(e,n,r,i){n=n||{};var s="log"===r&&"linear"===n.type,l="linear"===r&&"log"===n.type;if(s||l)for(var c,u,d=e._fullLayout.images,p=n._id.charAt(0),f=0;f<d.length;f++)if(u="images["+f+"].",(c=d[f])[p+"ref"]===n._id){var h=c[p],m=c["size"+p],g=null,y=null;if(s){g=o(h,n.range);var b=m/Math.pow(10,g)/2;y=2*Math.log(b+Math.sqrt(1+b*b))/Math.LN10}else y=(g=Math.pow(10,h))*(Math.pow(10,m/2)-Math.pow(10,-m/2));a(g)?a(y)||(y=null):(g=null,y=null),i(u+p,g),i(u+"size"+p,y)}}},"62e4":function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"63dc":function(e,n,r){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},"649e":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("f0a9"),c=r("54ef");const u=Object(c.a)({concat_:function concat_(e,n=0){Object(s.b)(e.length>=1,(()=>"Pass at least one tensor to concat"));const r=Object(i.b)(e,"tensors","concat","string_or_numeric");if("complex64"===r[0].dtype&&r.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===r.length)return Object(l.a)(r[0]);const c=r,u={axis:n};return a.a.runKernel(o.B,c,u)}})},6547:function(e,n,r){var a=r("a691"),o=r("1d80"),createMethod=function(e){return function(n,r){var i,s,l=String(o(n)),c=a(r),u=l.length;return c<0||c>=u?e?"":void 0:(i=l.charCodeAt(c))<55296||i>56319||c+1===u||(s=l.charCodeAt(c+1))<56320||s>57343?e?l.charAt(c):i:e?l.slice(c,c+2):s-56320+(i-55296<<10)+65536}};e.exports={codeAt:createMethod(!1),charAt:createMethod(!0)}},"65f0":function(e,n,r){var a=r("861d"),o=r("e8b5"),i=r("b622")("species");e.exports=function(e,n){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?a(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===n?0:n)}},6611:function(e,n,r){},"661c":function(e,n,r){"use strict";var a,o,i=r("70e1").timeFormat,s=r("19b2"),l=r("ae13"),c=r("d3dc").mod,u=r("e806"),d=u.BADNUM,p=u.ONEDAY,f=u.ONEHOUR,h=u.ONEMIN,m=u.ONESEC,g=u.EPOCHJD,y=r("371e"),b=r("70e1").utcFormat,x=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,w=(new Date).getFullYear()-70;function isWorldCalendar(e){return e&&y.componentsRegistry.calendars&&"string"==typeof e&&"gregorian"!==e}function lpad(e,n){return String(e+Math.pow(10,n)).substr(1)}n.dateTick0=function(e,r){var a=function _dateTick0(e,n){return isWorldCalendar(e)?n?y.getComponentMethod("calendars","CANONICAL_SUNDAY")[e]:y.getComponentMethod("calendars","CANONICAL_TICK")[e]:n?"2000-01-02":"2000-01-01"}(e,!!r);if(r<2)return a;var o=n.dateTime2ms(a,e);return o+=p*(r-1),n.ms2DateTime(o,0,e)},n.dfltRange=function(e){return isWorldCalendar(e)?y.getComponentMethod("calendars","DFLTRANGE")[e]:["2000-01-01","2001-01-01"]},n.isJSDate=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e.getTime},n.dateTime2ms=function(e,r){if(n.isJSDate(e)){var i=e.getTimezoneOffset()*h,s=(e.getUTCMinutes()-e.getMinutes())*h+(e.getUTCSeconds()-e.getSeconds())*m+(e.getUTCMilliseconds()-e.getMilliseconds());if(s){var l=3*h;i=i-l/2+c(s-i+l/2,l)}return(e=Number(e)-i)>=a&&e<=o?e:d}if("string"!=typeof e&&"number"!=typeof e)return d;e=String(e);var u=isWorldCalendar(r),b=e.charAt(0);!u||"G"!==b&&"g"!==b||(e=e.substr(1),r="");var k=u&&"chinese"===r.substr(0,7),T=e.match(k?_:x);if(!T)return d;var S=T[1],O=T[3]||"1",C=Number(T[5]||1),A=Number(T[7]||0),I=Number(T[9]||0),N=Number(T[11]||0);if(u){if(2===S.length)return d;var M;S=Number(S);try{var E=y.getComponentMethod("calendars","getCal")(r);if(k){var D="i"===O.charAt(O.length-1);O=parseInt(O,10),M=E.newDate(S,E.toMonthIndex(S,O,D),C)}else M=E.newDate(S,Number(O),C)}catch(R){return d}return M?(M.toJD()-g)*p+A*f+I*h+N*m:d}S=2===S.length?(Number(S)+2e3-w)%100+w:Number(S),O-=1;var j=new Date(Date.UTC(2e3,O,C,A,I));return j.setUTCFullYear(S),j.getUTCMonth()!==O||j.getUTCDate()!==C?d:j.getTime()+N*m},a=n.MIN_MS=n.dateTime2ms("-9999"),o=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(e,r){return n.dateTime2ms(e,r)!==d};var k=90*p,T=3*f,S=5*h;function includeTime(e,n,r,a,o){if((n||r||a||o)&&(e+=" "+lpad(n,2)+":"+lpad(r,2),(a||o)&&(e+=":"+lpad(a,2),o))){for(var i=4;o%10==0;)i-=1,o/=10;e+="."+lpad(o,i)}return e}n.ms2DateTime=function(e,n,r){if("number"!=typeof e||!(e>=a&&e<=o))return d;n||(n=0);var i,s,l,u,x,_,w=Math.floor(10*c(e+.05,1)),O=Math.round(e-w/10);if(isWorldCalendar(r)){var C=Math.floor(O/p)+g,A=Math.floor(c(e,p));try{i=y.getComponentMethod("calendars","getCal")(r).fromJD(C).formatDate("yyyy-mm-dd")}catch(I){i=b("G%Y-%m-%d")(new Date(O))}if("-"===i.charAt(0))for(;i.length<11;)i="-0"+i.substr(1);else for(;i.length<10;)i="0"+i;s=n<k?Math.floor(A/f):0,l=n<k?Math.floor(A%f/h):0,u=n<T?Math.floor(A%h/m):0,x=n<S?A%m*10+w:0}else _=new Date(O),i=b("%Y-%m-%d")(_),s=n<k?_.getUTCHours():0,l=n<k?_.getUTCMinutes():0,u=n<T?_.getUTCSeconds():0,x=n<S?10*_.getUTCMilliseconds()+w:0;return includeTime(i,s,l,u,x)},n.ms2DateTimeLocal=function(e){if(!(e>=a+p&&e<=o-p))return d;var n=Math.floor(10*c(e+.05,1)),r=new Date(Math.round(e-n/10));return includeTime(i("%Y-%m-%d")(r),r.getHours(),r.getMinutes(),r.getSeconds(),10*r.getUTCMilliseconds()+n)},n.cleanDate=function(e,r,a){if(e===d)return r;if(n.isJSDate(e)||"number"==typeof e&&isFinite(e)){if(isWorldCalendar(a))return l.error("JS Dates and milliseconds are incompatible with world calendars",e),r;if(!(e=n.ms2DateTimeLocal(+e))&&void 0!==r)return r}else if(!n.isDateTime(e,a))return l.error("unrecognized date",e),r;return e};var O=/%\d?f/g;function modDateFormat(e,n,r,a){e=e.replace(O,(function(e){var r=Math.min(+e.charAt(1)||6,6);return(n/1e3%1+2).toFixed(r).substr(2).replace(/0+$/,"")||"0"}));var o=new Date(Math.floor(n+.05));if(isWorldCalendar(a))try{e=y.getComponentMethod("calendars","worldCalFmt")(e,n,a)}catch(i){return"Invalid"}return r(e)(o)}var C=[59,59.9,59.99,59.999,59.9999];n.formatDate=function(e,n,r,a,o,i){if(o=isWorldCalendar(o)&&o,!n)if("y"===r)n=i.year;else if("m"===r)n=i.month;else{if("d"!==r)return function formatTime(e,n){var r=c(e+.05,p),a=lpad(Math.floor(r/f),2)+":"+lpad(c(Math.floor(r/h),60),2);if("M"!==n){s(n)||(n=0);var o=(100+Math.min(c(e/m,60),C[n])).toFixed(n).substr(1);n>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),a+=":"+o}return a}(e,r)+"\n"+modDateFormat(i.dayMonthYear,e,a,o);n=i.dayMonth+"\n"+i.year}return modDateFormat(n,e,a,o)};var A=3*p;n.incrementMonth=function(e,n,r){r=isWorldCalendar(r)&&r;var a=c(e,p);if(e=Math.round(e-a),r)try{var o=Math.round(e/p)+g,i=y.getComponentMethod("calendars","getCal")(r),s=i.fromJD(o);return n%12?i.add(s,n,"m"):i.add(s,n/12,"y"),(s.toJD()-g)*p+a}catch(d){l.error("invalid ms "+e+" in calendar "+r)}var u=new Date(e+A);return u.setUTCMonth(u.getUTCMonth()+n)+a-A},n.findExactDates=function(e,n){for(var r,a,o=0,i=0,l=0,c=0,u=isWorldCalendar(n)&&y.getComponentMethod("calendars","getCal")(n),d=0;d<e.length;d++)if(a=e[d],s(a)){if(!(a%p))if(u)try{1===(r=u.fromJD(a/p+g)).day()?1===r.month()?o++:i++:l++}catch(h){}else 1===(r=new Date(a)).getUTCDate()?0===r.getUTCMonth()?o++:i++:l++}else c++;l+=i+=o;var f=e.length-c;return{exactYears:o/f,exactMonths:i/f,exactDays:l/f}}},6672:function(e,n,r){"use strict";var a=r("19b2"),o=r("66cb"),i=r("a876"),s=r("4852"),l=r("72a4").DESELECTDIM,c=r("74d6"),u=r("055a").counter,d=r("d3dc").modHalf,p=r("6af8").isArrayOrTypedArray;function validate(e,r){var a=n.valObjectMeta[r.valType];if(r.arrayOk&&p(e))return!0;if(a.validateFunction)return a.validateFunction(e,r);var o={},i=o,s={set:function(e){i=e}};return a.coerceFunction(e,s,o,r),i!==o}n.valObjectMeta={data_array:{description:["An {array} of data.","The value MUST be an {array}, or we ignore it.","Note that typed arrays (e.g. Float32Array) are supported."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,n,r){p(e)?n.set(e):void 0!==r&&n.set(r)}},enumerated:{description:["Enumerated value type. The available values are listed","in `values`."].join(" "),requiredOpts:["values"],otherOpts:["dflt","coerceNumber","arrayOk"],coerceFunction:function(e,n,r,a){a.coerceNumber&&(e=+e),-1===a.values.indexOf(e)?n.set(r):n.set(e)},validateFunction:function(e,n){n.coerceNumber&&(e=+e);for(var r=n.values,a=0;a<r.length;a++){var o=String(r[a]);if("/"===o.charAt(0)&&"/"===o.charAt(o.length-1)){if(new RegExp(o.substr(1,o.length-2)).test(e))return!0}else if(e===r[a])return!0}return!1}},boolean:{description:"A boolean (true/false) value.",requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,n,r){!0===e||!1===e?n.set(e):n.set(r)}},number:{description:["A number or a numeric value","(e.g. a number inside a string).","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,n,r,o){!a(e)||void 0!==o.min&&e<o.min||void 0!==o.max&&e>o.max?n.set(r):n.set(+e)}},integer:{description:["An integer or an integer inside a string.","When applicable, values greater (less) than `max` (`min`)","are coerced to the `dflt`."].join(" "),requiredOpts:[],otherOpts:["dflt","min","max","arrayOk"],coerceFunction:function(e,n,r,o){e%1||!a(e)||void 0!==o.min&&e<o.min||void 0!==o.max&&e>o.max?n.set(r):n.set(+e)}},string:{description:["A string value.","Numbers are converted to strings except for attributes with","`strict` set to true."].join(" "),requiredOpts:[],otherOpts:["dflt","noBlank","strict","arrayOk","values"],coerceFunction:function(e,n,r,a){if("string"!=typeof e){var o="number"==typeof e;!0!==a.strict&&o?n.set(String(e)):n.set(r)}else a.noBlank&&!e?n.set(r):n.set(e)}},color:{description:["A string describing color.","Supported formats:","- hex (e.g. '#d3d3d3')","- rgb (e.g. 'rgb(255, 0, 0)')","- rgba (e.g. 'rgb(255, 0, 0, 0.5)')","- hsl (e.g. 'hsl(0, 100%, 50%)')","- hsv (e.g. 'hsv(0, 100%, 100%)')","- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)"].join(" "),requiredOpts:[],otherOpts:["dflt","arrayOk"],coerceFunction:function(e,n,r){o(e).isValid()?n.set(e):n.set(r)}},colorlist:{description:["A list of colors.","Must be an {array} containing valid colors."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,n,r){Array.isArray(e)&&e.length&&e.every((function isColor(e){return o(e).isValid()}))?n.set(e):n.set(r)}},colorscale:{description:["A Plotly colorscale either picked by a name:","(any of",Object.keys(s.scales).join(", "),")","customized as an {array} of 2-element {arrays} where","the first element is the normalized color level value","(starting at *0* and ending at *1*),","and the second item is a valid color string."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,n,r){n.set(s.get(e,r))}},angle:{description:["A number (in degree) between -180 and 180."].join(" "),requiredOpts:[],otherOpts:["dflt"],coerceFunction:function(e,n,r){"auto"===e?n.set("auto"):a(e)?n.set(d(+e,360)):n.set(r)}},subplotid:{description:["An id string of a subplot type (given by dflt), optionally","followed by an integer >1. e.g. if dflt='geo', we can have","'geo', 'geo2', 'geo3', ..."].join(" "),requiredOpts:["dflt"],otherOpts:["regex"],coerceFunction:function(e,n,r,a){var o=a.regex||u(r);"string"==typeof e&&o.test(e)?n.set(e):n.set(r)},validateFunction:function(e,n){var r=n.dflt;return e===r||"string"==typeof e&&!!u(r).test(e)}},flaglist:{description:["A string representing a combination of flags","(order does not matter here).","Combine any of the available `flags` with *+*.","(e.g. ('lines+markers')).","Values in `extras` cannot be combined."].join(" "),requiredOpts:["flags"],otherOpts:["dflt","extras","arrayOk"],coerceFunction:function(e,n,r,a){if("string"==typeof e)if(-1===(a.extras||[]).indexOf(e)){for(var o=e.split("+"),i=0;i<o.length;){var s=o[i];-1===a.flags.indexOf(s)||o.indexOf(s)<i?o.splice(i,1):i++}o.length?n.set(o.join("+")):n.set(r)}else n.set(e);else n.set(r)}},any:{description:"Any type.",requiredOpts:[],otherOpts:["dflt","values","arrayOk"],coerceFunction:function(e,n,r){void 0===e?n.set(r):n.set(e)}},info_array:{description:["An {array} of plot information."].join(" "),requiredOpts:["items"],otherOpts:["dflt","freeLength","dimensions"],coerceFunction:function(e,r,a,o){function coercePart(e,r,a){var o,i={set:function(e){o=e}};return void 0===a&&(a=r.dflt),n.valObjectMeta[r.valType].coerceFunction(e,i,a,r),o}var i=2===o.dimensions||"1-2"===o.dimensions&&Array.isArray(e)&&Array.isArray(e[0]);if(Array.isArray(e)){var s,l,c,u,d,p,f=o.items,h=[],m=Array.isArray(f),g=m&&i&&Array.isArray(f[0]),y=i&&m&&!g,b=m&&!y?f.length:e.length;if(a=Array.isArray(a)?a:[],i)for(s=0;s<b;s++)for(h[s]=[],c=Array.isArray(e[s])?e[s]:[],d=y?f.length:m?f[s].length:c.length,l=0;l<d;l++)u=y?f[l]:m?f[s][l]:f,void 0!==(p=coercePart(c[l],u,(a[s]||[])[l]))&&(h[s][l]=p);else for(s=0;s<b;s++)void 0!==(p=coercePart(e[s],m?f[s]:f,a[s]))&&(h[s]=p);r.set(h)}else r.set(a)},validateFunction:function(e,n){if(!Array.isArray(e))return!1;var r=n.items,a=Array.isArray(r),o=2===n.dimensions;if(!n.freeLength&&e.length!==r.length)return!1;for(var i=0;i<e.length;i++)if(o){if(!Array.isArray(e[i])||!n.freeLength&&e[i].length!==r[i].length)return!1;for(var s=0;s<e[i].length;s++)if(!validate(e[i][s],a?r[i][s]:r))return!1}else if(!validate(e[i],a?r[i]:r))return!1;return!0}}},n.coerce=function(e,r,a,o,i){var s=c(a,o).get(),l=c(e,o),u=c(r,o),d=l.get(),f=r._template;if(void 0===d&&f&&(d=c(f,o).get(),f=0),void 0===i&&(i=s.dflt),s.arrayOk&&p(d))return u.set(d),d;var h=n.valObjectMeta[s.valType].coerceFunction;h(d,u,i,s);var m=u.get();return f&&m===i&&!validate(d,s)&&(h(d=c(f,o).get(),u,i,s),m=u.get()),m},n.coerce2=function(e,r,a,o,i){var s=c(e,o),l=n.coerce(e,r,a,o,i),u=s.get();return null!=u&&l},n.coerceFont=function(e,n,r){var a={};return r=r||{},a.family=e(n+".family",r.family),a.size=e(n+".size",r.size),a.color=e(n+".color",r.color),a},n.coerceHoverinfo=function(e,r,a){var o,s=r._module.attributes,l=s.hoverinfo?s:i,c=l.hoverinfo;if(1===a._dataLength){var u="all"===c.dflt?c.flags.slice():c.dflt.split("+");u.splice(u.indexOf("name"),1),o=u.join("+")}return n.coerce(e,r,l,"hoverinfo",o)},n.coerceSelectionMarkerOpacity=function(e,n){if(e.marker){var r,a,o=e.marker.opacity;if(void 0!==o)p(o)||e.selected||e.unselected||(r=o,a=l*o),n("selected.marker.opacity",r),n("unselected.marker.opacity",a)}},n.validate=validate},"66cb":function(e,n,r){var a;!function(o){var i=/^\s+/,s=/\s+$/,l=0,c=o.round,u=o.min,d=o.max,p=o.random;function tinycolor(e,n){if(n=n||{},(e=e||"")instanceof tinycolor)return e;if(!(this instanceof tinycolor))return new tinycolor(e,n);var r=function inputToRGB(e){var n={r:0,g:0,b:0},r=1,a=null,l=null,c=null,p=!1,h=!1;"string"==typeof e&&(e=function stringInputToObject(e){e=e.replace(i,"").replace(s,"").toLowerCase();var n,r=!1;if(f[e])e=f[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(n=m.rgb.exec(e))return{r:n[1],g:n[2],b:n[3]};if(n=m.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=m.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=m.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=m.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=m.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=m.hex8.exec(e))return{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),a:convertHexToDecimal(n[4]),format:r?"name":"hex8"};if(n=m.hex6.exec(e))return{r:parseIntFromHex(n[1]),g:parseIntFromHex(n[2]),b:parseIntFromHex(n[3]),format:r?"name":"hex"};if(n=m.hex4.exec(e))return{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),a:convertHexToDecimal(n[4]+""+n[4]),format:r?"name":"hex8"};if(n=m.hex3.exec(e))return{r:parseIntFromHex(n[1]+""+n[1]),g:parseIntFromHex(n[2]+""+n[2]),b:parseIntFromHex(n[3]+""+n[3]),format:r?"name":"hex"};return!1}(e));"object"==typeof e&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(n=function rgbToRgb(e,n,r){return{r:255*bound01(e,255),g:255*bound01(n,255),b:255*bound01(r,255)}}(e.r,e.g,e.b),p=!0,h="%"===String(e.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(a=convertToPercentage(e.s),l=convertToPercentage(e.v),n=function hsvToRgb(e,n,r){e=6*bound01(e,360),n=bound01(n,100),r=bound01(r,100);var a=o.floor(e),i=e-a,s=r*(1-n),l=r*(1-i*n),c=r*(1-(1-i)*n),u=a%6;return{r:255*[r,l,s,s,c,r][u],g:255*[c,r,r,l,s,s][u],b:255*[s,s,c,r,r,l][u]}}(e.h,a,l),p=!0,h="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(a=convertToPercentage(e.s),c=convertToPercentage(e.l),n=function hslToRgb(e,n,r){var a,o,i;function hue2rgb(e,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(n-e)*r:r<.5?n:r<2/3?e+(n-e)*(2/3-r)*6:e}if(e=bound01(e,360),n=bound01(n,100),r=bound01(r,100),0===n)a=o=i=r;else{var s=r<.5?r*(1+n):r+n-r*n,l=2*r-s;a=hue2rgb(l,s,e+1/3),o=hue2rgb(l,s,e),i=hue2rgb(l,s,e-1/3)}return{r:255*a,g:255*o,b:255*i}}(e.h,a,c),p=!0,h="hsl"),e.hasOwnProperty("a")&&(r=e.a));return r=boundAlpha(r),{ok:p,format:e.format||h,r:u(255,d(n.r,0)),g:u(255,d(n.g,0)),b:u(255,d(n.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=c(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=r.ok,this._tc_id=l++}function rgbToHsl(e,n,r){e=bound01(e,255),n=bound01(n,255),r=bound01(r,255);var a,o,i=d(e,n,r),s=u(e,n,r),l=(i+s)/2;if(i==s)a=o=0;else{var c=i-s;switch(o=l>.5?c/(2-i-s):c/(i+s),i){case e:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-e)/c+2;break;case r:a=(e-n)/c+4}a/=6}return{h:a,s:o,l:l}}function rgbToHsv(e,n,r){e=bound01(e,255),n=bound01(n,255),r=bound01(r,255);var a,o,i=d(e,n,r),s=u(e,n,r),l=i,c=i-s;if(o=0===i?0:c/i,i==s)a=0;else{switch(i){case e:a=(n-r)/c+(n<r?6:0);break;case n:a=(r-e)/c+2;break;case r:a=(e-n)/c+4}a/=6}return{h:a,s:o,v:l}}function rgbToHex(e,n,r,a){var o=[pad2(c(e).toString(16)),pad2(c(n).toString(16)),pad2(c(r).toString(16))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function rgbaToArgbHex(e,n,r,a){return[pad2(convertDecimalToHex(a)),pad2(c(e).toString(16)),pad2(c(n).toString(16)),pad2(c(r).toString(16))].join("")}function desaturate(e,n){n=0===n?0:n||10;var r=tinycolor(e).toHsl();return r.s-=n/100,r.s=clamp01(r.s),tinycolor(r)}function saturate(e,n){n=0===n?0:n||10;var r=tinycolor(e).toHsl();return r.s+=n/100,r.s=clamp01(r.s),tinycolor(r)}function greyscale(e){return tinycolor(e).desaturate(100)}function lighten(e,n){n=0===n?0:n||10;var r=tinycolor(e).toHsl();return r.l+=n/100,r.l=clamp01(r.l),tinycolor(r)}function brighten(e,n){n=0===n?0:n||10;var r=tinycolor(e).toRgb();return r.r=d(0,u(255,r.r-c(-n/100*255))),r.g=d(0,u(255,r.g-c(-n/100*255))),r.b=d(0,u(255,r.b-c(-n/100*255))),tinycolor(r)}function darken(e,n){n=0===n?0:n||10;var r=tinycolor(e).toHsl();return r.l-=n/100,r.l=clamp01(r.l),tinycolor(r)}function spin(e,n){var r=tinycolor(e).toHsl(),a=(r.h+n)%360;return r.h=a<0?360+a:a,tinycolor(r)}function complement(e){var n=tinycolor(e).toHsl();return n.h=(n.h+180)%360,tinycolor(n)}function triad(e){var n=tinycolor(e).toHsl(),r=n.h;return[tinycolor(e),tinycolor({h:(r+120)%360,s:n.s,l:n.l}),tinycolor({h:(r+240)%360,s:n.s,l:n.l})]}function tetrad(e){var n=tinycolor(e).toHsl(),r=n.h;return[tinycolor(e),tinycolor({h:(r+90)%360,s:n.s,l:n.l}),tinycolor({h:(r+180)%360,s:n.s,l:n.l}),tinycolor({h:(r+270)%360,s:n.s,l:n.l})]}function splitcomplement(e){var n=tinycolor(e).toHsl(),r=n.h;return[tinycolor(e),tinycolor({h:(r+72)%360,s:n.s,l:n.l}),tinycolor({h:(r+216)%360,s:n.s,l:n.l})]}function analogous(e,n,r){n=n||6,r=r||30;var a=tinycolor(e).toHsl(),o=360/r,i=[tinycolor(e)];for(a.h=(a.h-(o*n>>1)+720)%360;--n;)a.h=(a.h+o)%360,i.push(tinycolor(a));return i}function monochromatic(e,n){n=n||6;for(var r=tinycolor(e).toHsv(),a=r.h,o=r.s,i=r.v,s=[],l=1/n;n--;)s.push(tinycolor({h:a,s:o,v:i})),i=(i+l)%1;return s}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,n,r,a=this.toRgb();return e=a.r/255,n=a.g/255,r=a.b/255,.2126*(e<=.03928?e/12.92:o.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:o.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:o.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=boundAlpha(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=rgbToHsv(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=rgbToHsv(this._r,this._g,this._b),n=c(360*e.h),r=c(100*e.s),a=c(100*e.v);return 1==this._a?"hsv("+n+", "+r+"%, "+a+"%)":"hsva("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=rgbToHsl(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=rgbToHsl(this._r,this._g,this._b),n=c(360*e.h),r=c(100*e.s),a=c(100*e.l);return 1==this._a?"hsl("+n+", "+r+"%, "+a+"%)":"hsla("+n+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return rgbToHex(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function rgbaToHex(e,n,r,a,o){var i=[pad2(c(e).toString(16)),pad2(c(n).toString(16)),pad2(c(r).toString(16)),pad2(convertDecimalToHex(a))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*bound01(this._r,255))+"%",g:c(100*bound01(this._g,255))+"%",b:c(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*bound01(this._r,255))+"%, "+c(100*bound01(this._g,255))+"%, "+c(100*bound01(this._b,255))+"%)":"rgba("+c(100*bound01(this._r,255))+"%, "+c(100*bound01(this._g,255))+"%, "+c(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(h[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var n="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),r=n,a=this._gradientType?"GradientType = 1, ":"";if(e){var o=tinycolor(e);r="#"+rgbaToArgbHex(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,a=this._a<1&&this._a>=0;return n||!a||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return tinycolor(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(lighten,arguments)},brighten:function(){return this._applyModification(brighten,arguments)},darken:function(){return this._applyModification(darken,arguments)},desaturate:function(){return this._applyModification(desaturate,arguments)},saturate:function(){return this._applyModification(saturate,arguments)},greyscale:function(){return this._applyModification(greyscale,arguments)},spin:function(){return this._applyModification(spin,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(analogous,arguments)},complement:function(){return this._applyCombination(complement,arguments)},monochromatic:function(){return this._applyCombination(monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(splitcomplement,arguments)},triad:function(){return this._applyCombination(triad,arguments)},tetrad:function(){return this._applyCombination(tetrad,arguments)}},tinycolor.fromRatio=function(e,n){if("object"==typeof e){var r={};for(var a in e)e.hasOwnProperty(a)&&(r[a]="a"===a?e[a]:convertToPercentage(e[a]));e=r}return tinycolor(e,n)},tinycolor.equals=function(e,n){return!(!e||!n)&&tinycolor(e).toRgbString()==tinycolor(n).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:p(),g:p(),b:p()})},tinycolor.mix=function(e,n,r){r=0===r?0:r||50;var a=tinycolor(e).toRgb(),o=tinycolor(n).toRgb(),i=r/100;return tinycolor({r:(o.r-a.r)*i+a.r,g:(o.g-a.g)*i+a.g,b:(o.b-a.b)*i+a.b,a:(o.a-a.a)*i+a.a})},tinycolor.readability=function(e,n){var r=tinycolor(e),a=tinycolor(n);return(o.max(r.getLuminance(),a.getLuminance())+.05)/(o.min(r.getLuminance(),a.getLuminance())+.05)},tinycolor.isReadable=function(e,n,r){var a,o,i=tinycolor.readability(e,n);switch(o=!1,(a=function validateWCAG2Parms(e){var n,r;n=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==n&&"AAA"!==n&&(n="AA");"small"!==r&&"large"!==r&&(r="small");return{level:n,size:r}}(r)).level+a.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},tinycolor.mostReadable=function(e,n,r){var a,o,i,s,l=null,c=0;o=(r=r||{}).includeFallbackColors,i=r.level,s=r.size;for(var u=0;u<n.length;u++)(a=tinycolor.readability(e,n[u]))>c&&(c=a,l=tinycolor(n[u]));return tinycolor.isReadable(e,l,{level:i,size:s})||!o?l:(r.includeFallbackColors=!1,tinycolor.mostReadable(e,["#fff","#000"],r))};var f=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},h=tinycolor.hexNames=function flip(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}(f);function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function bound01(e,n){(function isOnePointZero(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function isPercentage(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(n,d(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),o.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function clamp01(e){return u(1,d(0,e))}function parseIntFromHex(e){return parseInt(e,16)}function pad2(e){return 1==e.length?"0"+e:""+e}function convertToPercentage(e){return e<=1&&(e=100*e+"%"),e}function convertDecimalToHex(e){return o.round(255*parseFloat(e)).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}var m=function(){var e="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",r="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(e){return!!m.CSS_UNIT.exec(e)}e.exports?e.exports=tinycolor:void 0===(a=function(){return tinycolor}.call(n,r,n,e))||(e.exports=a)}(Math)},"673d":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},6791:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("48db"),c=r("526f"),u=r("54ef");const d=Object(u.a)({where_:function where_(e,n,r){const u=Object(i.a)(n,"a","where"),d=Object(i.a)(r,"b","where"),p=Object(i.a)(e,"condition","where","bool"),f=Object(c.a)(u.shape,d.shape),h=Object(l.a)(u,f),m=Object(l.a)(d,f);1===p.rank&&Object(s.b)(p.shape[0]===u.shape[0],(()=>"The first dimension of `a` must match the size of `condition`.")),1!==p.rank&&Object(s.e)(p.shape,m.shape,"Error in where: ");const g={condition:p,t:h,e:m};return a.a.runKernel(o.xc,g)}})},"67c4":function(e,n,r){"use strict";var a=r("d798"),o=r("9845"),i=r("9092").extendFlat,s=r("cb34").overrideAll;e.exports=s({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],role:"style",dflt:"pixels",description:["Determines whether this color bar's thickness","(i.e. the measure in the constant color direction)","is set in units of plot *fraction* or in *pixels*.","Use `thickness` to set the value."].join(" ")},thickness:{valType:"number",role:"style",min:0,dflt:30,description:["Sets the thickness of the color bar","This measure excludes the size of the padding, ticks and labels."].join(" ")},lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this color bar's length","(i.e. the measure in the color variation direction)","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the color bar","This measure excludes the padding of both ends.","That is, the color bar length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",dflt:1.02,min:-2,max:3,role:"style",description:["Sets the x position of the color bar (in plot fraction)."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"style",description:["Sets this color bar's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the color bar."].join(" ")},xpad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the x direction."},y:{valType:"number",role:"style",dflt:.5,min:-2,max:3,description:["Sets the y position of the color bar (in plot fraction)."].join(" ")},yanchor:{valType:"enumerated",values:["top","middle","bottom"],role:"style",dflt:"middle",description:["Sets this color bar's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the color bar."].join(" ")},ypad:{valType:"number",role:"style",min:0,dflt:10,description:"Sets the amount of padding (in px) along the y direction."},outlinecolor:a.linecolor,outlinewidth:a.linewidth,bordercolor:a.linecolor,borderwidth:{valType:"number",role:"style",min:0,dflt:0,description:["Sets the width (in px) or the border enclosing this color bar."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:"rgba(0,0,0,0)",description:"Sets the color of padded area."},tickmode:a.tickmode,nticks:a.nticks,tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:i({},a.ticks,{dflt:""}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside bottom","inside bottom"],dflt:"outside",role:"info",description:["Determines where tick labels are drawn."].join(" ")},ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,showticklabels:a.showticklabels,tickfont:o({description:"Sets the color bar's tick label font"}),tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,tickprefix:a.tickprefix,showtickprefix:a.showtickprefix,ticksuffix:a.ticksuffix,showticksuffix:a.showticksuffix,separatethousands:a.separatethousands,exponentformat:a.exponentformat,minexponent:a.minexponent,showexponent:a.showexponent,title:{text:{valType:"string",role:"info",description:["Sets the title of the color bar.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:o({description:["Sets this color bar's title font.","Note that the title's font used to be set","by the now deprecated `titlefont` attribute."].join(" ")}),side:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:["Determines the location of color bar's title","with respect to the color bar.","Note that the title's location used to be set","by the now deprecated `titleside` attribute."].join(" ")}},_deprecated:{title:{valType:"string",role:"info",description:["Deprecated in favor of color bar's `title.text`.","Note that value of color bar's `title` is no longer a simple","*string* but a set of sub-attributes."].join(" ")},titlefont:o({description:"Deprecated in favor of color bar's `title.font`."}),titleside:{valType:"enumerated",values:["right","top","bottom"],role:"style",dflt:"top",description:"Deprecated in favor of color bar's `title.side`."}}},"colorbars","from-root")},6833:function(e,n,r){"use strict";var a=r("19b2"),o=r("66cb"),i=r("fc26").isArrayOrTypedArray;n.coerceString=function(e,n,r){if("string"==typeof n){if(n||!e.noBlank)return n}else if(("number"==typeof n||!0===n)&&!e.strict)return String(n);return void 0!==r?r:e.dflt},n.coerceNumber=function(e,n,r){if(a(n)){n=+n;var o=e.min,i=e.max;if(!(void 0!==o&&n<o||void 0!==i&&n>i))return n}return void 0!==r?r:e.dflt},n.coerceColor=function(e,n,r){return o(n).isValid()?n:void 0!==r?r:e.dflt},n.coerceEnumerated=function(e,n,r){return e.coerceNumber&&(n=+n),-1!==e.values.indexOf(n)?n:void 0!==r?r:e.dflt},n.getValue=function(e,n){var r;return Array.isArray(e)?n<e.length&&(r=e[n]):r=e,r},n.getLineWidth=function(e,n){return 0<n.mlw?n.mlw:i(e.marker.line.width)?0:e.marker.line.width}},6901:function(e,n){e.exports=function fromXRotation(e,n){var r=Math.sin(n),a=Math.cos(n);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},6921:function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=r("a876"),s=r("a685"),l=r("a9cb"),c=r("5b68"),u=r("3ff5").configAttributes,d=r("fa06"),p=r("b7b8"),f=r("cb34"),h=o.extendFlat,m=o.extendDeepAll,g=o.isPlainObject,y=o.isArrayOrTypedArray,b=o.nestedProperty,x=o.valObjectMeta,_="_isSubplotObj",w="_isLinkedToArray",k="_deprecated",T=[_,w,"_arrayAttrRegexps",k];function recurseIntoValObject(e,n,r){if(!e)return!1;if(e._isLinkedToArray)if(isIndex(n[r]))r++;else if(r<n.length)return!1;for(;r<n.length;r++){var a=e[n[r]];if(!g(a))break;if(e=a,r===n.length-1)break;if(e._isLinkedToArray){if(!isIndex(n[++r]))return!1}else if("info_array"===e.valType){var o=n[++r];if(!isIndex(o))return!1;var i=e.items;if(Array.isArray(i)){if(o>=i.length)return!1;if(2===e.dimensions){if(r++,n.length===r)return e;var s=n[r];if(!isIndex(s))return!1;e=i[o][s]}else e=i[o]}else e=i}}return e}function isIndex(e){return e===Math.round(e)&&e>=0}function getLayoutAttributes(){var e,n,r={};for(e in m(r,s),a.subplotsRegistry){if((n=a.subplotsRegistry[e]).layoutAttributes)if(Array.isArray(n.attr))for(var o=0;o<n.attr.length;o++)handleBasePlotModule(r,n,n.attr[o]);else handleBasePlotModule(r,n,"subplot"===n.attr?n.name:n.attr)}for(e in r=function assignPolarLayoutAttrs(e){return h(e,{radialaxis:p.radialaxis,angularaxis:p.angularaxis}),h(e,p.layout),e}(r),a.componentsRegistry){var i=(n=a.componentsRegistry[e]).schema;if(i&&(i.subplots||i.layout)){var l=i.subplots;if(l&&l.xaxis&&!l.yaxis)for(var c in l.xaxis)delete r.yaxis[c]}else"colorscale"===n.name?m(r,n.layoutAttributes):n.layoutAttributes&&insertAttrs(r,n.layoutAttributes,n.name)}return{layoutAttributes:formatAttributes(r)}}function getFramesAttributes(){var e={frames:m({},l)};return formatAttributes(e),e.frames}function formatAttributes(e){return function mergeValTypeAndRole(e){function makeSrcAttr(e){return{valType:"string",role:"info",description:["Sets the source reference on Chart Studio Cloud for ",e,"."].join(" "),editType:"none"}}function callback(e,r,a){n.isValObject(e)?"data_array"===e.valType?(e.role="data",a[r+"src"]=makeSrcAttr(r)):!0===e.arrayOk&&(a[r+"src"]=makeSrcAttr(r)):g(e)&&(e.role="object")}n.crawl(e,callback)}(e),function formatArrayContainers(e){function callback(e,n,r){if(e){var a=e._isLinkedToArray;a&&(delete e._isLinkedToArray,r[n]={items:{}},r[n].items[a]=e,r[n].role="object")}}n.crawl(e,callback)}(e),function stringify(e){function walk(e){for(var n in e)if(g(e[n]))walk(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)walk(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}walk(e)}(e),e}function handleBasePlotModule(e,n,r){var a=b(e,r),o=m({},n.layoutAttributes);o._isSubplotObj=!0,a.set(o)}function insertAttrs(e,n,r){var a=b(e,r);a.set(m(a.get()||{},n))}n.IS_SUBPLOT_OBJ=_,n.IS_LINKED_TO_ARRAY=w,n.DEPRECATED=k,n.UNDERSCORE_ATTRS=T,n.get=function(){var e={};a.allTypes.concat("area").forEach((function(r){e[r]=function getTraceAttributes(e){var r,o;"area"===e?(r={attributes:d},o={}):o=(r=a.modules[e]._module).basePlotModule;var s={type:null},l=m({},i),c=m({},r.attributes);n.crawl(c,(function(e,n,r,a,o){b(l,o).set(void 0),void 0===e&&b(c,o).set(void 0)})),m(s,l),a.traceIs(e,"noOpacity")&&delete s.opacity;a.traceIs(e,"showLegend")||(delete s.showlegend,delete s.legendgroup);a.traceIs(e,"noHover")&&(delete s.hoverinfo,delete s.hoverlabel);r.selectPoints||delete s.selectedpoints;m(s,c),o.attributes&&m(s,o.attributes);s.type=e;var u={meta:r.meta||{},categories:r.categories||{},animatable:Boolean(r.animatable),type:e,attributes:formatAttributes(s)};if(r.layoutAttributes){var p={};m(p,r.layoutAttributes),u.layoutAttributes=formatAttributes(p)}r.animatable||n.crawl(u,(function(e){n.isValObject(e)&&"anim"in e&&delete e.anim}));return u}(r)}));var r={};return Object.keys(a.transformsRegistry).forEach((function(e){r[e]=function getTransformAttributes(e){var n=a.transformsRegistry[e],r=m({},n.attributes);return Object.keys(a.componentsRegistry).forEach((function(n){var o=a.componentsRegistry[n];o.schema&&o.schema.transforms&&o.schema.transforms[e]&&Object.keys(o.schema.transforms[e]).forEach((function(n){insertAttrs(r,o.schema.transforms[e][n],n)}))})),{attributes:formatAttributes(r)}}(e)})),{defs:{valObjects:x,metaKeys:T.concat(["description","role","editType","impliedEdits"]),editType:{traces:f.traces,layout:f.layout},impliedEdits:{description:["Sometimes when an attribute is changed, other attributes","must be altered as well in order to achieve the intended","result. For example, when `range` is specified, it is","important to set `autorange` to `false` or the new `range`","value would be lost in the redraw. `impliedEdits` is the","mechanism to do this: `impliedEdits: {autorange: false}`.","Each key is a relative paths to the attribute string to","change, using *^* to ascend into the parent container,","for example `range[0]` has `impliedEdits: {*^autorange*: false}`.","A value of `undefined` means that the attribute will not be","changed, but its previous value should be recorded in case","we want to reverse this change later. For example, `autorange`","has `impliedEdits: {*range[0]*: undefined, *range[1]*:undefined}","because the range will likely be changed by redraw."].join(" ")}},traces:e,layout:getLayoutAttributes(),transforms:r,frames:getFramesAttributes(),animation:formatAttributes(c),config:formatAttributes(u)}},n.crawl=function(e,r,a,o){var i=a||0;o=o||"",Object.keys(e).forEach((function(a){var s=e[a];if(-1===T.indexOf(a)){var l=(o?o+".":"")+a;r(s,a,e,i,l),n.isValObject(s)||g(s)&&"impliedEdits"!==a&&n.crawl(s,r,i+1,l)}}))},n.isValObject=function(e){return e&&void 0!==e.valType},n.findArrayAttributes=function(e){var r,a,o=[],s=[],l=[];function callback(e,n,a,o){s=s.slice(0,o).concat([n]),l=l.slice(0,o).concat([e&&e._isLinkedToArray]),e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===s[o-1]&&("ticktext"===n||"tickvals"===n))&&crawlIntoTrace(r,0,"")}function crawlIntoTrace(e,n,r){var i=e[s[n]],c=r+s[n];if(n===s.length-1)y(i)&&o.push(a+c);else if(l[n]){if(Array.isArray(i))for(var u=0;u<i.length;u++)g(i[u])&&crawlIntoTrace(i[u],n+1,c+"["+u+"].")}else g(i)&&crawlIntoTrace(i,n+1,c+".")}r=e,a="",n.crawl(i,callback),e._module&&e._module.attributes&&n.crawl(e._module.attributes,callback);var c=e.transforms;if(c)for(var u=0;u<c.length;u++){var d=c[u],p=d._module;p&&(a="transforms["+u+"].",r=d,n.crawl(p.attributes,callback))}return o},n.getTraceValObject=function(e,n){var r,o,s=n[0],l=1;if("transforms"===s){if(1===n.length)return i.transforms;var c=e.transforms;if(!Array.isArray(c)||!c.length)return!1;var u=n[1];if(!isIndex(u)||u>=c.length)return!1;o=(r=(a.transformsRegistry[c[u].type]||{}).attributes)&&r[n[2]],l=3}else if("area"===e.type)o=d[s];else{var p=e._module;if(p||(p=(a.modules[e.type||i.type.dflt]||{})._module),!p)return!1;if(!(o=(r=p.attributes)&&r[s])){var f=p.basePlotModule;f&&f.attributes&&(o=f.attributes[s])}o||(o=i[s])}return recurseIntoValObject(o,n,l)},n.getLayoutValObject=function(e,n){return recurseIntoValObject(function layoutHeadAttr(e,n){var r,o,i,l,c=e._basePlotModules;if(c){var u;for(r=0;r<c.length;r++){if((i=c[r]).attrRegex&&i.attrRegex.test(n)){if(i.layoutAttrOverrides)return i.layoutAttrOverrides;!u&&i.layoutAttributes&&(u=i.layoutAttributes)}var d=i.baseLayoutAttrOverrides;if(d&&n in d)return d[n]}if(u)return u}var f=e._modules;if(f)for(r=0;r<f.length;r++)if((l=f[r].layoutAttributes)&&n in l)return l[n];for(o in a.componentsRegistry){if("colorscale"===(i=a.componentsRegistry[o]).name&&0===n.indexOf("coloraxis"))return i.layoutAttributes[n];if(!i.schema&&n===i.name)return i.layoutAttributes}if(n in s)return s[n];if("radialaxis"===n||"angularaxis"===n)return p[n];return p.layout[n]||!1}(e,n[0]),n,1)}},6926:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("54ef"),s=r("35c9");const l=Object(i.a)({depthwiseConv2dNativeBackpropFilter_:function depthwiseConv2dNativeBackpropFilter_(e,n,r,i,l,c=[1,1],u){let d=e;3===e.rank&&(d=Object(s.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let p=n;3===p.rank&&(p=Object(s.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));const f={x:d,dy:p},h={strides:i,pad:l,dimRoundingMode:u,dilations:c,filterShape:r};return a.a.runKernel(o.P,f,h)}})},6932:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sin_:function sin_(e){const n={x:Object(i.a)(e,"x","sin")};return a.a.runKernel(o.Bc,n)}})},6954:function(e,n){e.exports=function fromTranslation(e,n){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},"69dc":function(e,n,r){"use strict";r.d(n,"a",(function(){return m}));var a=r("0777"),o=r("649e"),i=r("24b0"),s=r("a5aa"),l=r("54ef"),c=r("d7b0"),u=r("35c9"),d=r("d08e"),p=r("015f"),f=r("6d3c"),h=r("4c7a");const m=Object(l.a)({irfft_:function irfft_(e){const n=e.shape[e.shape.length-1],r=e.size/n;let l;if(n<=2){const a=Object(u.a)(e,[r,n]);l=Object(h.a)(a)}else{const m=[r,2*(n-1)],g=Object(u.a)(Object(c.a)(e),[r,n]),y=Object(u.a)(Object(i.a)(e),[r,n]),b=Object(d.a)(Object(f.a)(g,[0,1],[r,n-2]),1),x=Object(s.a)(Object(d.a)(Object(f.a)(y,[0,1],[r,n-2]),1),Object(p.a)(-1)),_=Object(o.a)([g,b],1),w=Object(o.a)([y,x],1),k=Object(u.a)(Object(a.a)(_,w),[m[0],m[1]]);l=Object(h.a)(k)}if(l=Object(c.a)(l),3===e.rank&&0!==e.shape[0]){const n=l,r=e.shape[0];l=Object(u.a)(l,[r,l.shape[0]/r,l.shape[1]]),n.dispose()}return l}})},"69f3":function(e,n,r){var a,o,i,s=r("7f9a"),l=r("da84"),c=r("861d"),u=r("9112"),d=r("5135"),p=r("c6cd"),f=r("f772"),h=r("d012"),m=l.WeakMap;if(s){var g=p.state||(p.state=new m),y=g.get,b=g.has,x=g.set;a=function(e,n){return n.facade=e,x.call(g,e,n),n},o=function(e){return y.call(g,e)||{}},i=function(e){return b.call(g,e)}}else{var _=f("state");h[_]=!0,a=function(e,n){return n.facade=e,u(e,_,n),n},o=function(e){return d(e,_)?e[_]:{}},i=function(e){return d(e,_)}}e.exports={set:a,get:o,has:i,enforce:function(e){return i(e)?o(e):a(e,{})},getterFor:function(e){return function(n){var r;if(!c(n)||(r=o(n)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},"6ad5":function(e,n,r){"use strict";function shuffle(e){let n=e.length,r=0,a=0;for(;n>0;)a=Math.random()*n|0,n--,r=e[n],e[n]=e[a],e[a]=r}function shuffleCombo(e,n){if(e.length!==n.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${n.length}`);let r,a,o=e.length,i=0;for(;o>0;)i=Math.random()*o|0,o--,r=e[o],a=n[o],e[o]=e[i],n[o]=n[i],e[i]=r,n[i]=a}function clamp(e,n,r){return Math.max(e,Math.min(n,r))}function nearestLargerEven(e){return e%2==0?e:e+1}function sum(e){let n=0;for(let r=0;r<e.length;r++)n+=e[r];return n}function randUniform(e,n){const r=Math.random();return n*r+(1-r)*e}function distSquared(e,n){let r=0;for(let a=0;a<e.length;a++){const o=Number(e[a])-Number(n[a]);r+=o*o}return r}function assert(e,n){if(!e)throw new Error("string"==typeof n?n:n())}function assertShapesMatch(e,n,r=""){assert(arraysEqual(e,n),(()=>r+` Shapes ${e} and ${n} must match`))}function assertNonNull(e){assert(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function flatten(e,n=[],r=!1){if(null==n&&(n=[]),Array.isArray(e)||isTypedArray(e)&&!r)for(let a=0;a<e.length;++a)flatten(e[a],n,r);else n.push(e);return n}function sizeFromShape(e){if(0===e.length)return 1;let n=e[0];for(let r=1;r<e.length;r++)n*=e[r];return n}function isScalarShape(e){return 0===e.length}function arraysEqual(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}function isInt(e){return e%1==0}function tanh(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const n=Math.exp(2*e);return(n-1)/(n+1)}}function sizeToSquarishShape(e){const n=Math.ceil(Math.sqrt(e));return[n,Math.ceil(e/n)]}function createShuffledIndices(e){const n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return shuffle(n),n}function rightPad(e,n){return n<=e.length?e:e+" ".repeat(n-e.length)}function repeatedTry(e,n=(e=>0),r){return new Promise(((a,o)=>{let i=0;const tryFn=()=>{if(e())return void a();i++;const s=n(i);null!=r&&i>=r?o():setTimeout(tryFn,s)};tryFn()}))}function inferFromImplicitShape(e,n){let r=1,a=-1;for(let i=0;i<e.length;++i)if(e[i]>=0)r*=e[i];else if(-1===e[i]){if(-1!==a)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${a} and dim ${i}`);a=i}else if(e[i]<0)throw Error(`Shapes can not be < 0. Found ${e[i]} at dim ${i}`);if(-1===a){if(n>0&&n!==r)throw Error(`Size(${n}) must match the product of shape ${e}`);return e}if(0===r)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(n%r!=0)throw Error(`The implicit shape can't be a fractional number. Got ${n} / ${r}`);const o=e.slice();return o[a]=n/r,o}function parseAxisParam(e,n){const r=n.length;return assert((e=null==e?n.map(((e,n)=>n)):[].concat(e)).every((e=>e>=-r&&e<r)),(()=>`All values in axis param must be in range [-${r}, ${r}) but got axis ${e}`)),assert(e.every((e=>isInt(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?r+e:e))}function squeezeShape(e,n){const r=[],a=[],o=null!=n&&Array.isArray(n)&&0===n.length,i=null==n||o?null:parseAxisParam(n,e).sort();let s=0;for(let l=0;l<e.length;++l){if(null!=i){if(i[s]===l&&1!==e[l])throw new Error(`Can't squeeze axis ${l} since its dim '${e[l]}' is not 1`);(null==i[s]||i[s]>l)&&1===e[l]&&(r.push(e[l]),a.push(l)),i[s]<=l&&s++}1!==e[l]&&(r.push(e[l]),a.push(l))}return{newShape:r,keptDims:a}}function getTypedArrayFromDType(e,n){let r=null;if(null==e||"float32"===e)r=new Float32Array(n);else if("int32"===e)r=new Int32Array(n);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);r=new Uint8Array(n)}return r}function getArrayFromDType(e,n){let r=null;if(null==e||"float32"===e)r=new Float32Array(n);else if("int32"===e)r=new Int32Array(n);else if("bool"===e)r=new Uint8Array(n);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);r=new Array(n)}return r}function checkConversionForErrors(e,n){for(let r=0;r<e.length;r++){const a=e[r];if(isNaN(a)||!isFinite(a))throw Error(`A tensor of type ${n} being uploaded contains ${a}.`)}}function isValidDtype(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function hasEncodingLoss(e,n){return"complex64"!==n&&(("float32"!==n||"complex64"===e)&&(("int32"!==n||"float32"===e||"complex64"===e)&&("bool"!==n||"bool"!==e)))}function isTypedArray(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function bytesPerElement(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function bytesFromStringArray(e){if(null==e)return 0;let n=0;return e.forEach((e=>n+=e.length)),n}function isString(e){return"string"==typeof e||e instanceof String}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function inferDtype(e){return Array.isArray(e)?inferDtype(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":isNumber(e)?"float32":isString(e)?"string":isBoolean(e)?"bool":"float32"}function isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function nearestDivisor(e,n){for(let r=n;r<e;++r)if(e%r==0)return r;return e}function computeStrides(e){const n=e.length;if(n<2)return[];const r=new Array(n-1);r[n-2]=e[n-1];for(let a=n-3;a>=0;--a)r[a]=r[a+1]*e[a+1];return r}function createNestedArray(e,n,r){const a=new Array;if(1===n.length){const o=n[0];for(let n=0;n<o;n++)a[n]=r[e+n]}else{const o=n[0],i=n.slice(1),s=i.reduce(((e,n)=>e*n));for(let n=0;n<o;n++)a[n]=createNestedArray(e+n*s,i,r)}return a}function toNestedArray(e,n){if(0===e.length)return n[0];const r=e.reduce(((e,n)=>e*n));if(0===r)return[];if(r!==n.length)throw new Error(`[${e}] does not match the input size ${n.length}.`);return createNestedArray(0,e,n)}function makeOnesTypedArray(e,n){const r=makeZerosTypedArray(e,n);for(let a=0;a<r.length;a++)r[a]=1;return r}function makeZerosTypedArray(e,n){if(null==n||"float32"===n||"complex64"===n)return new Float32Array(e);if("int32"===n)return new Int32Array(e);if("bool"===n)return new Uint8Array(e);throw new Error(`Unknown data type ${n}`)}function makeZerosNestedTypedArray(e,n){const r=e.reduce(((e,n)=>e*n),1);if(null==n||"float32"===n)return toNestedArray(e,new Float32Array(r));if("int32"===n)return toNestedArray(e,new Int32Array(r));if("bool"===n)return toNestedArray(e,new Uint8Array(r));throw new Error(`Unknown data type ${n}`)}function assertNonNegativeIntegerDimensions(e){e.forEach((n=>{assert(Number.isInteger(n)&&n>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function locToIndex(e,n,r){if(0===n)return 0;if(1===n)return e[0];let a=e[e.length-1];for(let o=0;o<e.length-1;++o)a+=r[o]*e[o];return a}function indexToLoc(e,n,r){if(0===n)return[];if(1===n)return[e];const a=new Array(n);for(let o=0;o<a.length-1;++o)a[o]=Math.floor(e/r[o]),e-=a[o]*r[o];return a[a.length-1]=e,a}function isPromise(e){return e&&e.then&&"function"==typeof e.then}r.d(n,"M",(function(){return shuffle})),r.d(n,"N",(function(){return shuffleCombo})),r.d(n,"i",(function(){return clamp})),r.d(n,"H",(function(){return nearestLargerEven})),r.d(n,"R",(function(){return sum})),r.d(n,"J",(function(){return randUniform})),r.d(n,"l",(function(){return distSquared})),r.d(n,"b",(function(){return assert})),r.d(n,"e",(function(){return assertShapesMatch})),r.d(n,"d",(function(){return assertNonNull})),r.d(n,"m",(function(){return flatten})),r.d(n,"O",(function(){return sizeFromShape})),r.d(n,"y",(function(){return isScalarShape})),r.d(n,"a",(function(){return arraysEqual})),r.d(n,"v",(function(){return isInt})),r.d(n,"S",(function(){return tanh})),r.d(n,"P",(function(){return sizeToSquarishShape})),r.d(n,"k",(function(){return createShuffledIndices})),r.d(n,"L",(function(){return rightPad})),r.d(n,"K",(function(){return repeatedTry})),r.d(n,"s",(function(){return inferFromImplicitShape})),r.d(n,"I",(function(){return parseAxisParam})),r.d(n,"Q",(function(){return squeezeShape})),r.d(n,"o",(function(){return getTypedArrayFromDType})),r.d(n,"n",(function(){return getArrayFromDType})),r.d(n,"h",(function(){return checkConversionForErrors})),r.d(n,"B",(function(){return isValidDtype})),r.d(n,"p",(function(){return hasEncodingLoss})),r.d(n,"A",(function(){return isTypedArray})),r.d(n,"g",(function(){return bytesPerElement})),r.d(n,"f",(function(){return bytesFromStringArray})),r.d(n,"z",(function(){return isString})),r.d(n,"t",(function(){return isBoolean})),r.d(n,"w",(function(){return isNumber})),r.d(n,"r",(function(){return inferDtype})),r.d(n,"u",(function(){return isFunction})),r.d(n,"G",(function(){return nearestDivisor})),r.d(n,"j",(function(){return computeStrides})),r.d(n,"T",(function(){return toNestedArray})),r.d(n,"D",(function(){return makeOnesTypedArray})),r.d(n,"F",(function(){return makeZerosTypedArray})),r.d(n,"E",(function(){return makeZerosNestedTypedArray})),r.d(n,"c",(function(){return assertNonNegativeIntegerDimensions})),r.d(n,"C",(function(){return locToIndex})),r.d(n,"q",(function(){return indexToLoc})),r.d(n,"x",(function(){return isPromise}))},"6add":function(e,n,r){"use strict";var a=r("fc26"),o=r("ce56"),i=r("3c1c").id2name,s=r("d798"),l=r("9759"),c=r("1a40"),u=r("e806").ALMOST_EQUAL,d=r("63dc").FROM_BL;function handleOneAxDefaults(e,n,r){var o=r.axIds,l=r.layoutOut,c=r.hasImage,u=l._axisConstraintGroups,d=l._axisMatchGroups,p=n._id,f=p.charAt(0),h=((l._splomAxes||{})[f]||{})[p]||{},m=n._id,g="x"===m.charAt(0);function coerce(r,o){return a.coerce(e,n,s,r,o)}n._matchGroup=null,n._constraintGroup=null,coerce("constrain",c?"domain":"range"),a.coerce(e,n,{constraintoward:{valType:"enumerated",values:g?["left","center","right"]:["bottom","middle","top"],dflt:g?"center":"middle"}},"constraintoward");var y,b,x=n.type,_=[];for(y=0;y<o.length;y++){if((b=o[y])!==m)l[i(b)].type===x&&_.push(b)}var w=getConstraintGroup(u,m);if(w){var k=[];for(y=0;y<_.length;y++)w[b=_[y]]||k.push(b);_=k}var T,S,O=_.length;O&&(e.matches||h.matches)&&(T=a.coerce(e,n,{matches:{valType:"enumerated",values:_,dflt:-1!==_.indexOf(h.matches)?h.matches:void 0}},"matches"));var C=c&&!g?n.anchor:void 0;if(O&&!T&&(e.scaleanchor||C)&&(S=a.coerce(e,n,{scaleanchor:{valType:"enumerated",values:_}},"scaleanchor",C)),T){n._matchGroup=updateConstraintGroups(d,m,T,1);var A=l[i(T)],I=extent(l,n)/extent(l,A);g!==("x"===T.charAt(0))&&(I=(g?"x":"y")+I),updateConstraintGroups(u,m,T,I)}else e.matches&&-1!==o.indexOf(e.matches)&&a.warn("ignored "+n._name+'.matches: "'+e.matches+'" to avoid an infinite loop');if(S){var N=coerce("scaleratio");N||(N=n.scaleratio=1),updateConstraintGroups(u,m,S,N)}else e.scaleanchor&&-1!==o.indexOf(e.scaleanchor)&&a.warn("ignored "+n._name+'.scaleanchor: "'+e.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function extent(e,n){var r=n.domain;return r||(r=e[i(n.overlaying)].domain),r[1]-r[0]}function getConstraintGroup(e,n){for(var r=0;r<e.length;r++)if(e[r][n])return e[r];return null}function updateConstraintGroups(e,n,r,a){var o,i,s,l,c,u=getConstraintGroup(e,n);null===u?((u={})[n]=1,c=e.length,e.push(u)):c=e.indexOf(u);var d=Object.keys(u);for(o=0;o<e.length;o++)if(s=e[o],o!==c&&s[r]){var p=s[r];for(i=0;i<d.length;i++)s[l=d[i]]=multiplyScales(p,multiplyScales(a,u[l]));return void e.splice(c,1)}if(1!==a)for(i=0;i<d.length;i++){var f=d[i];u[f]=multiplyScales(a,u[f])}u[r]=1}function multiplyScales(e,n){var r,a,o="",i="";"string"==typeof e&&(r=(o=e.match(/^[xy]*/)[0]).length,e=+e.substr(r)),"string"==typeof n&&(a=(i=n.match(/^[xy]*/)[0]).length,n=+n.substr(a));var s=e*n;return r||a?r&&a&&o.charAt(0)!==i.charAt(0)?r===a?s:(r>a?o.substr(a):i.substr(r))+s:o+i+e*n:s}function finalRatios(e,n){for(var r=n._size,a=r.h/r.w,o={},i=Object.keys(e),s=0;s<i.length;s++){var l=i[s],c=e[l];if("string"==typeof c){var u=c.match(/^[xy]*/)[0],d=u.length;c=+c.substr(d);for(var p="y"===u.charAt(0)?a:1/a,f=0;f<d;f++)c*=p}o[l]=c}return o}function updateDomain(e,n){var r=e._inputDomain,a=d[e.constraintoward],o=r[0]+(r[1]-r[0])*a;e.domain=e._input.domain=[o+(r[0]-o)/n,o+(r[1]-o)/n],e.setScale()}n.handleDefaults=function(e,n,r){var o,s,l,u,d,p,f,h,m=r.axIds,g=r.axHasImage,y=n._axisConstraintGroups=[],b=n._axisMatchGroups=[];for(o=0;o<m.length;o++)handleOneAxDefaults(d=e[u=i(m[o])],p=n[u],{axIds:m,layoutOut:n,hasImage:g[u]});function stash(e,r){for(o=0;o<e.length;o++)for(l in s=e[o])n[i(l)][r]=s}for(stash(b,"_matchGroup"),o=0;o<y.length;o++)for(l in s=y[o])if((p=n[i(l)]).fixedrange){for(var x in s){var _=i(x);!1===(e[_]||{}).fixedrange&&a.warn("fixedrange was specified as false for axis "+_+" but was overridden because another axis in its constraint group has fixedrange true"),n[_].fixedrange=!0}break}for(o=0;o<y.length;){for(l in s=y[o]){(p=n[i(l)])._matchGroup&&Object.keys(p._matchGroup).length===Object.keys(s).length&&(y.splice(o,1),o--);break}o++}stash(y,"_constraintGroup");var w=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],k=!1,T=!1;function setAttrVal(){h=p[f],"rangebreaks"===f&&(T=p._hasDayOfWeekBreaks)}for(o=0;o<b.length;o++){s=b[o];for(var S=0;S<w.length;S++){var O;for(l in f=w[S],h=null,s)if(d=e[u=i(l)],p=n[u],f in p){if(!p.matches&&(O=p,f in d)){setAttrVal();break}null===h&&f in d&&setAttrVal()}if("range"===f&&h&&(k=!0),"autorange"===f&&null===h&&k&&(h=!1),null===h&&f in O&&(h=O[f]),null!==h)for(l in s)(p=n[i(l)])[f]="range"===f?h.slice():h,"rangebreaks"===f&&(p._hasDayOfWeekBreaks=T,c(p,n))}}},n.enforce=function enforce(e){var n,r,a,s,c,d,p,f,h=e._fullLayout,m=h._axisConstraintGroups||[];for(n=0;n<m.length;n++){a=finalRatios(m[n],h);var g=Object.keys(a),y=1/0,b=0,x=1/0,_={},w={},k=!1;for(r=0;r<g.length;r++)w[s=g[r]]=c=h[i(s)],c._inputDomain?c.domain=c._inputDomain.slice():c._inputDomain=c.domain.slice(),c._inputRange||(c._inputRange=c.range.slice()),c.setScale(),_[s]=d=Math.abs(c._m)/a[s],y=Math.min(y,d),"domain"!==c.constrain&&c._constraintShrinkable||(x=Math.min(x,d)),delete c._constraintShrinkable,b=Math.max(b,d),"domain"===c.constrain&&(k=!0);if(!(y>u*b)||k)for(r=0;r<g.length;r++)if(d=_[s=g[r]],p=(c=w[s]).constrain,d!==x||"domain"===p)if(f=d/x,"range"===p)l(c,f);else{var T=c._inputDomain,S=(c.domain[1]-c.domain[0])/(T[1]-T[0]),O=(c.r2l(c.range[1])-c.r2l(c.range[0]))/(c.r2l(c._inputRange[1])-c.r2l(c._inputRange[0]));if((f/=S)*O<1){c.domain=c._input.domain=T.slice(),l(c,f);continue}if(O<1&&(c.range=c._input.range=c._inputRange.slice(),f*=O),c.autorange){var C=c.r2l(c.range[0]),A=c.r2l(c.range[1]),I=(C+A)/2,N=I,M=I,E=Math.abs(A-I),D=I-E*f*1.0001,j=I+E*f*1.0001,R=o.makePadFn(h,c,0),L=o.makePadFn(h,c,1);updateDomain(c,f);var z,$,B=Math.abs(c._m),V=o.concatExtremes(e,c),U=V.min,W=V.max;for($=0;$<U.length;$++)(z=U[$].val-R(U[$])/B)>D&&z<N&&(N=z);for($=0;$<W.length;$++)(z=W[$].val+L(W[$])/B)<j&&z>M&&(M=z);f/=(M-N)/(2*E),N=c.l2r(N),M=c.l2r(M),c.range=c._input.range=C<A?[N,M]:[M,N]}updateDomain(c,f)}}},n.getAxisGroup=function getAxisGroup(e,n){for(var r=e._axisMatchGroups,a=0;a<r.length;a++){if(r[a][n])return"g"+a}return n},n.clean=function clean(e,n){if(n._inputDomain){for(var r=!1,a=n._id,o=e._fullLayout._axisConstraintGroups,i=0;i<o.length;i++)if(o[i][a]){r=!0;break}r&&"domain"===n.constrain||(n._input.domain=n.domain=n._inputDomain,delete n._inputDomain)}}},"6ae2":function(e,n,r){"use strict";r.d(n,"b",(function(){return getOrMakeEngine})),r.d(n,"a",(function(){return f}));var a=r("8b87"),o=r("b333"),i=r("f490"),s=r("c05b"),l=r("73b8"),c=r("eb7e"),u=r("6ad5");class profiler_Profiler{constructor(e,n){this.backendTimer=e,this.logger=n,null==n&&(this.logger=new profiler_Logger)}profileKernel(e,n,r){let a;const holdResultWrapperFn=()=>{a=r()};let i;const s=c.now();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(holdResultWrapperFn);else{holdResultWrapperFn();for(const e of a)e.dataSync();i=Promise.resolve({kernelMs:c.now()-s})}if(Object(o.b)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let o=0;o<a.length;o++){const n=a[o];n.data().then((r=>{checkComputationForErrors(r,n.dtype,e)}))}return{kernelName:e,outputs:a,inputs:n,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:a,inputs:o,extraInfo:i}=e;r.forEach((e=>{Promise.all([e.data(),a,i]).then((r=>{this.logger.logKernelProfile(n,e,r[0],r[1],o,r[2])}))}))}}function checkComputationForErrors(e,n,r){if("float32"!==n)return!1;for(let a=0;a<e.length;a++){const n=e[a];if(isNaN(n)||!isFinite(n))return console.warn(`Found ${n} in the result of '${r}'`),!0}return!1}class profiler_Logger{logKernelProfile(e,n,r,a,o,i){const s="number"==typeof a?u.L(`${a}ms`,9):a.error,l=u.L(e,25),c=n.rank,d=n.size,p=u.L(n.shape.toString(),14);let f="";for(const u in o){const e=o[u];if(null!=e){const r=e.shape||n.shape,a=r.length;f+=`${u}: ${a}D ${a>0?r:""} `}}console.log(`%c${l}\t%c${s}\t%c${c}D ${p}\t%c${d}\t%c${f}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var d=r("34d7"),p=r("76c2");function isRegisteredKernelInvocation(e){return null!=e.kernelName}class EngineState{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class engine_Engine{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new EngineState}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success)return void await this.setBackend(r)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:n}=this.initializeBackend(e);if(n)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(console.warn(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new profiler_Profiler(this.backendInstance),!0}setupRegisteredKernels(){Object(l.c)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){Object(l.c)(e).forEach((n=>{null!=n.disposeFunc&&n.disposeFunc(this.registry[e])}))}initializeBackend(e){const n=this.registryFactory[e];if(null==n)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(!r||r instanceof a.b||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{const n=++this.pendingBackendInitId,a=r.then((r=>!(n<this.pendingBackendInitId)&&(this.registry[e]=r,this.pendingBackendInit=null,!0))).catch((r=>(n<this.pendingBackendInitId||(this.pendingBackendInit=null,console.warn(`Initialization of backend ${e} failed`),console.warn(r.stack||r.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(r){return console.warn(`Initialization of backend ${e} failed`),console.warn(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:a,asyncInit:o}=this.initializeBackend(r);if(o||a)return{name:r,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),a=r.backend,o=this.readSync(n),i=a.refCount(n);a.disposeData(n,!0),r.backend=e,e.move(n,o,r.shape,r.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r,a=null;if(null==n){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");n=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof n)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(r)),(()=>(r=n(),r instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r)))}scopedRun(e,n,r){e();try{const e=r();return n(),e}catch(a){throw n(),a}}nextTensorId(){return engine_Engine.nextTensorId++}nextVariableId(){return engine_Engine.nextVariableId++}clone(e){const n=f.runKernel(s.qb,{x:e}),r={x:e};return this.addTapeNode(this.state.activeScope.name,r,[n],(e=>({x:()=>{const n={x:e},r={dtype:"float32"};return f.runKernel(s.w,n,r)}})),[],{}),n}runKernel(e,n,r){if(!(null!=Object(l.b)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const a=this.backend.numDataIds();let o=0;r.forEach((e=>{o+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-n-o-i;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const a=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;let s,c;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const d=isRegisteredKernelInvocation(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(isRegisteredKernelInvocation(e)){const{kernelName:n,inputs:o,attrs:i}=e;null==this.backendName&&this.backend;const d=Object(l.b)(n,this.backendName);u.b(null!=d,(()=>`Cannot find registered kernel '${n}' for backend '${this.backendName}'`)),s=()=>{const e=this.backend.numDataIds();c=d.kernelFunc({inputs:o,attrs:i,backend:this.backend});const s=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(n,e,s);const l=s.map((e=>{if(null!=e.rank)return e;const{dataId:n,shape:r,dtype:a}=e;return this.makeTensorFromDataId(n,r,a)}));if(a){const e=this.getTensorsForGradient(n,o,l);r=this.saveTensorsForBackwardMode(e)}return l}}else{const{forwardFunc:n}=e,saveFunc=e=>{a&&(r=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();c=this.tidy((()=>n(this.backend,saveFunc)));const r=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(d,e,r),r}}const{inputs:p,attrs:f}=e,h=isRegisteredKernelInvocation(e)?null:e.backwardsFunc;let m;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(m=this.profiler.profileKernel(d,p,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs):n=s()})),a&&this.addTapeNode(d,p,n,h,r,f),this.state.profiling&&this.state.activeProfile.kernels.push({name:d,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(p).map((e=>null!=p[e]?p[e].shape:null)),outputShapes:n.map((e=>e.shape)),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(c)?n:n[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,n,r){const a=Object(l.a)(e);if(null!=a){const e=a.inputsToSave||[],o=a.outputsToSave||[];let i;a.saveAllInputs?(u.b(Array.isArray(n),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(n).map((e=>n[e]))):i=e.map((e=>n[e]));const s=r.filter(((e,n)=>o[n]));return i.concat(s)}return[]}makeTensor(e,n,r,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let o=e;"string"===r&&u.z(e[0])&&(o=e.map((e=>c.encodeString(e))));const i=a.write(o,n,r),s=new d.a(n,r,i,this.nextTensorId());if(this.trackTensor(s,a),"string"===r){const e=this.state.tensorInfo.get(i),n=Object(u.f)(o);this.state.numBytes+=n-e.bytes,e.bytes=n}return s}makeTensorFromDataId(e,n,r,a){r=r||"float32";const o=new d.a(n,r,e,this.nextTensorId());return this.trackTensor(o,a),o}makeVariable(e,n=!0,r,a){r=r||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const o=new d.c(e,n,r,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,n){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*u.g(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof d.c||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const n=e.size*u.g(e.dtype);this.state.numBytes-=n}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,n,r,a,o,i){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:o},c=Object(l.a)(e);null!=c&&(a=c.gradFunc),null!=a&&(s.gradient=e=>(e=e.map(((e,n)=>{if(null==e){const e=r[n],a=u.F(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],o,i))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=Object(p.getTensorsInContainer)(e),r=new Set(n.map((e=>e.id)));for(let o=0;o<this.state.activeScope.track.length;o++){const e=this.state.activeScope.track[o];e.kept||r.has(e.id)||e.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,n,r,a=!1){if(u.b(n.length>0,(()=>"gradients() received an empty list of xs.")),null!=r&&"float32"!==r.dtype)throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));u.b(o instanceof d.a,(()=>"The result y returned by f() must be a tensor."));const i=function getFilteredNodesXToY(e,n,r){const a={},o={};for(let c=0;c<n.length;c++)a[n[c].id]=!0;for(let c=0;c<e.length;c++){const r=e[c],i=r.inputs;for(const e in i){const s=i[e];let l=!1;for(let e=0;e<n.length;e++)if(a[s.id]){r.outputs.forEach((e=>a[e.id]=!0)),l=!0,o[r.id]=!0;break}if(l)break}}const i={};i[r.id]=!0;const s={};for(let c=e.length-1;c>=0;c--){const n=e[c],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(i[n.outputs[e].id]){for(const e in r)i[r[e].id]=!0,s[n.id]=!0;break}}const l=[];for(let c=0;c<e.length;c++){const n=e[c];if(o[n.id]&&s[n.id]){const e={};for(const o in n.inputs){const r=n.inputs[o];a[r.id]&&(e[o]=r)}const r=Object.assign({},n);r.inputs=e,r.outputs=n.outputs,l.push(r)}}return l}(this.state.activeTape,n,o);if(!a&&0===i.length&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==r?function ones(e){const n=Object(u.D)(Object(u.O)(e),"float32");return f.makeTensor(n,e,"float32")}(o.shape):r,function backpropagateGradients(e,n,r,a){for(let o=n.length-1;o>=0;o--){const i=n[o],s=[];if(i.outputs.forEach((n=>{const r=e[n.id];null!=r?s.push(r):s.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const l=i.gradient(s);for(const n in i.inputs){if(!(n in l))throw new Error(`Cannot backprop through input ${n}. Available gradients found: ${Object.keys(l)}.`);const o=r((()=>l[n]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${n} must have 'float32' dtype, but has '${o.dtype}'`);const s=i.inputs[n];if(!u.a(o.shape,s.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${n}' has shape '${o.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=o;else{const n=e[s.id];e[s.id]=a(n,o),n.dispose()}}}}(e,i,(e=>this.tidy(e)),engine_add);const a=n.map((n=>e[n.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const n of e.saved)n.dispose()})),this.state.activeTape=null),{value:o,grads:a}}))}customGrad(e){return u.b(u.u(e),(()=>"The f passed in customGrad(f) must be a function.")),(...n)=>{let r;u.b(n.every((e=>e instanceof d.a)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};n.forEach(((e,n)=>{a[n]=e}));return this.runKernelFunc({forwardFunc:(a,o)=>(r=e(...n,o),u.b(r.value instanceof d.a,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),u.b(u.u(r.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),r.value),backwardsFunc:(e,a)=>{const o=r.gradFunc(e,a),i=Array.isArray(o)?o:[o];u.b(i.length===n.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),u.b(i.every((e=>e instanceof d.a)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return i.forEach(((e,n)=>{s[n]=()=>e})),s},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}async time(e){const n=Object(c.now)(),r=await this.backend.time(e);return r.wallMs=Object(c.now)()-n,r}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new EngineState;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function getOrMakeEngine(){const e=Object(i.b)();if(null==e._tfengine){const n=new o.a(e);e._tfengine=new engine_Engine(n)}return Object(o.c)(e._tfengine.ENV),Object(d.g)((()=>e._tfengine)),e._tfengine}engine_Engine.nextTensorId=0,engine_Engine.nextVariableId=0;const f=getOrMakeEngine();function engine_add(e,n){const r={a:e,b:n};return f.runKernel(s.d,r)}},"6af8":function(e,n,r){"use strict";var a=Array.isArray,o="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}},i="undefined"==typeof DataView?function(){}:DataView;function isTypedArray(e){return o.isView(e)&&!(e instanceof i)}function isArrayOrTypedArray(e){return a(e)||isTypedArray(e)}function _rowLength(e,n,r){if(isArrayOrTypedArray(e)){if(isArrayOrTypedArray(e[0])){for(var a=r,o=0;o<e.length;o++)a=n(a,e[o].length);return a}return e.length}return 0}n.isTypedArray=isTypedArray,n.isArrayOrTypedArray=isArrayOrTypedArray,n.isArray1D=function isArray1D(e){return!isArrayOrTypedArray(e[0])},n.ensureArray=function(e,n){return a(e)||(e=[]),e.length=n,e},n.concat=function(){var e,n,r,o,i,s,l,c,u=[],d=!0,p=0;for(r=0;r<arguments.length;r++)(s=(o=arguments[r]).length)&&(n?u.push(o):(n=o,i=s),a(o)?e=!1:(d=!1,p?e!==o.constructor&&(e=!1):e=o.constructor),p+=s);if(!p)return[];if(!u.length)return n;if(d)return n.concat.apply(n,u);if(e){for((l=new e(p)).set(n),r=0;r<u.length;r++)o=u[r],l.set(o,i),i+=o.length;return l}for(l=new Array(p),c=0;c<n.length;c++)l[c]=n[c];for(r=0;r<u.length;r++){for(o=u[r],c=0;c<o.length;c++)l[i+c]=o[c];i+=c}return l},n.maxRowLength=function(e){return _rowLength(e,Math.max,0)},n.minRowLength=function(e){return _rowLength(e,Math.min,1/0)}},"6b10":function(e,n,r){"use strict";var a=r("fc26"),o=r("a651"),i=r("3c1c"),s=r("8f38"),l=r("5844");e.exports=function handleDefaults(e,n,r){var c=e[r],u=n[r];if(c.rangeslider||n._requestRangeslider[u._id]){a.isPlainObject(c.rangeslider)||(c.rangeslider={});var d,p,f=c.rangeslider,h=o.newContainer(u,"rangeslider");if(coerce("visible")){coerce("bgcolor",n.plot_bgcolor),coerce("bordercolor"),coerce("borderwidth"),coerce("thickness"),coerce("autorange",!u.isValidRange(f.range)),coerce("range");var m=n._subplots;if(m)for(var g=m.cartesian.filter((function(e){return e.substr(0,e.indexOf("y"))===i.name2id(r)})).map((function(e){return e.substr(e.indexOf("y"),e.length)})),y=a.simpleMap(g,i.id2name),b=0;b<y.length;b++){var x=y[b];d=f[x]||{},p=o.newContainer(h,x,"yaxis");var _,w=n[x];d.range&&w.isValidRange(d.range)&&(_="fixed"),"match"!==coerceRange("rangemode",_)&&coerceRange("range",w.range.slice())}h._input=f}}function coerce(e,n){return a.coerce(f,h,s,e,n)}function coerceRange(e,n){return a.coerce(d,p,l,e,n)}}},"6b78":function(e,n,r){"use strict";var a=["orientation","groupnorm","stackgaps"];e.exports=function handleStackDefaults(e,n,r,o){var i=r._scatterStackOpts,s=o("stackgroup");if(s){var l=n.xaxis+n.yaxis,c=i[l];c||(c=i[l]={});var u=c[s],d=!1;u?u.traces.push(n):(u=c[s]={traceIndices:[],traces:[n]},d=!0);for(var p={orientation:n.x&&!n.y?"h":"v"},f=0;f<a.length;f++){var h=a[f],m=h+"Found";if(!u[m]){var g=void 0!==e[h],y="orientation"===h;if((g||d)&&(u[h]=o(h,p[h]),y&&(u.fillDflt="h"===u[h]?"tonextx":"tonexty"),g&&(u[m]=!0,!d&&(delete u.traces[0][h],y))))for(var b=0;b<u.traces.length-1;b++){var x=u.traces[b];x._input.fill!==x.fill&&(x.fill=u.fillDflt)}}}return u}}},"6b7c":function(e,n,r){"use strict";n.__esModule=!0;var a=r("4897");n.default={methods:{t:function t(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return a.t.apply(this,n)}}}},"6c5a":function(e,n,r){"use strict";n.isLeftAnchor=function isLeftAnchor(e){return"left"===e.xanchor||"auto"===e.xanchor&&e.x<=1/3},n.isCenterAnchor=function isCenterAnchor(e){return"center"===e.xanchor||"auto"===e.xanchor&&e.x>1/3&&e.x<2/3},n.isRightAnchor=function isRightAnchor(e){return"right"===e.xanchor||"auto"===e.xanchor&&e.x>=2/3},n.isTopAnchor=function isTopAnchor(e){return"top"===e.yanchor||"auto"===e.yanchor&&e.y>=2/3},n.isMiddleAnchor=function isMiddleAnchor(e){return"middle"===e.yanchor||"auto"===e.yanchor&&e.y>1/3&&e.y<2/3},n.isBottomAnchor=function isBottomAnchor(e){return"bottom"===e.yanchor||"auto"===e.yanchor&&e.y<=1/3}},"6d3c":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({slice_:function slice_(e,n,r){const s=Object(i.a)(e,"x","slice","string_or_numeric");if(0===s.rank)throw new Error("Slicing scalar is not possible");const l={x:s},c={begin:n,size:r};return a.a.runKernel(o.Dc,l,c)}})},"6dcc":function(e,n,r){"use strict";var a=r("19b2");e.exports={count:function(e,n,r){return r[e]++,1},sum:function(e,n,r,o){var i=o[n];return a(i)?(i=Number(i),r[e]+=i,i):0},avg:function(e,n,r,o,i){var s=o[n];return a(s)&&(s=Number(s),r[e]+=s,i[e]++),0},min:function(e,n,r,o){var i=o[n];if(a(i)){if(i=Number(i),!a(r[e]))return r[e]=i,i;if(r[e]>i){var s=i-r[e];return r[e]=i,s}}return 0},max:function(e,n,r,o){var i=o[n];if(a(i)){if(i=Number(i),!a(r[e]))return r[e]=i,i;if(r[e]<i){var s=i-r[e];return r[e]=i,s}}return 0}}},"6dd8":function(e,n,r){"use strict";r.r(n),function(e){var r=function(){if("undefined"!=typeof Map)return Map;function getIndex(e,n){var r=-1;return e.some((function(e,a){return e[0]===n&&(r=a,!0)})),r}return function(){function class_1(){this.__entries__=[]}return Object.defineProperty(class_1.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),class_1.prototype.get=function(e){var n=getIndex(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},class_1.prototype.set=function(e,n){var r=getIndex(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},class_1.prototype.delete=function(e){var n=this.__entries__,r=getIndex(n,e);~r&&n.splice(r,1)},class_1.prototype.has=function(e){return!!~getIndex(this.__entries__,e)},class_1.prototype.clear=function(){this.__entries__.splice(0)},class_1.prototype.forEach=function(e,n){void 0===n&&(n=null);for(var r=0,a=this.__entries__;r<a.length;r++){var o=a[r];e.call(n,o[1],o[0])}},class_1}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,c=function(){function ResizeObserverController(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function throttle(e,n){var r=!1,a=!1,o=0;function resolvePending(){r&&(r=!1,e()),a&&proxy()}function timeoutCallback(){i(resolvePending)}function proxy(){var e=Date.now();if(r){if(e-o<2)return;a=!0}else r=!0,a=!1,setTimeout(timeoutCallback,n);o=e}return proxy}(this.refresh.bind(this),20)}return ResizeObserverController.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},ResizeObserverController.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},ResizeObserverController.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},ResizeObserverController.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},ResizeObserverController.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},ResizeObserverController.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},ResizeObserverController.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=void 0===n?"":n;s.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},ResizeObserverController.getInstance=function(){return this.instance_||(this.instance_=new ResizeObserverController),this.instance_},ResizeObserverController.instance_=null,ResizeObserverController}(),defineConfigurable=function(e,n){for(var r=0,a=Object.keys(n);r<a.length;r++){var o=a[r];Object.defineProperty(e,o,{value:n[o],enumerable:!1,writable:!1,configurable:!0})}return e},getWindowOf=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},u=createRectInit(0,0,0,0);function toFloat(e){return parseFloat(e)||0}function getBordersSize(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce((function(n,r){return n+toFloat(e["border-"+r+"-width"])}),0)}function getHTMLElementContentRect(e){var n=e.clientWidth,r=e.clientHeight;if(!n&&!r)return u;var a=getWindowOf(e).getComputedStyle(e),o=function getPaddings(e){for(var n={},r=0,a=["top","right","bottom","left"];r<a.length;r++){var o=a[r],i=e["padding-"+o];n[o]=toFloat(i)}return n}(a),i=o.left+o.right,s=o.top+o.bottom,l=toFloat(a.width),c=toFloat(a.height);if("border-box"===a.boxSizing&&(Math.round(l+i)!==n&&(l-=getBordersSize(a,"left","right")+i),Math.round(c+s)!==r&&(c-=getBordersSize(a,"top","bottom")+s)),!function isDocumentElement(e){return e===getWindowOf(e).document.documentElement}(e)){var d=Math.round(l+i)-n,p=Math.round(c+s)-r;1!==Math.abs(d)&&(l-=d),1!==Math.abs(p)&&(c-=p)}return createRectInit(o.left,o.top,l,c)}var d="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof getWindowOf(e).SVGGraphicsElement}:function(e){return e instanceof getWindowOf(e).SVGElement&&"function"==typeof e.getBBox};function getContentRect(e){return a?d(e)?function getSVGContentRect(e){var n=e.getBBox();return createRectInit(0,0,n.width,n.height)}(e):getHTMLElementContentRect(e):u}function createRectInit(e,n,r,a){return{x:e,y:n,width:r,height:a}}var p=function(){function ResizeObservation(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=e}return ResizeObservation.prototype.isActive=function(){var e=getContentRect(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},ResizeObservation.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},ResizeObservation}(),f=function f(e,n){var r=function createReadOnlyRect(e){var n=e.x,r=e.y,a=e.width,o=e.height,i="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(i.prototype);return defineConfigurable(s,{x:n,y:r,width:a,height:o,top:r,right:n+a,bottom:o+r,left:n}),s}(n);defineConfigurable(this,{target:e,contentRect:r})},h=function(){function ResizeObserverSPI(e,n,a){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=a}return ResizeObserverSPI.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new p(e)),this.controller_.addObserver(this),this.controller_.refresh())}},ResizeObserverSPI.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof getWindowOf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},ResizeObserverSPI.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},ResizeObserverSPI.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(n){n.isActive()&&e.activeObservations_.push(n)}))},ResizeObserverSPI.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map((function(e){return new f(e.target,e.broadcastRect())}));this.callback_.call(e,n,e),this.clearActive()}},ResizeObserverSPI.prototype.clearActive=function(){this.activeObservations_.splice(0)},ResizeObserverSPI.prototype.hasActive=function(){return this.activeObservations_.length>0},ResizeObserverSPI}(),m="undefined"!=typeof WeakMap?new WeakMap:new r,g=function ResizeObserver(e){if(!(this instanceof ResizeObserver))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new h(e,n,this);m.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){g.prototype[e]=function(){var n;return(n=m.get(this))[e].apply(n,arguments)}}));var y=void 0!==o.ResizeObserver?o.ResizeObserver:g;n.default=y}.call(this,r("c8ba"))},"6e40":function(e,n,r){"use strict";var a=r("d3dc"),o=a.mod,i=a.modHalf,s=Math.PI,l=2*s;function isFullCircle(e){return Math.abs(e[1]-e[0])>l-1e-14}function angleDelta(e,n){return i(n-e,l)}function isAngleInsideSector(e,n){if(isFullCircle(n))return!0;var r,a;n[0]<n[1]?(r=n[0],a=n[1]):(r=n[1],a=n[0]),(r=o(r,l))>(a=o(a,l))&&(a+=l);var i=o(e,l),s=i+l;return i>=r&&i<=a||s>=r&&s<=a}function _path(e,n,r,a,o,i,c){o=o||0,i=i||0;var u,d,p,f,h,m=isFullCircle([r,a]);function pt(e,n){return[e*Math.cos(n)+o,i-e*Math.sin(n)]}m?(u=0,d=s,p=l):r<a?(u=r,p=a):(u=a,p=r),e<n?(f=e,h=n):(f=n,h=e);var g,y=Math.abs(p-u)<=s?0:1;function arc(e,n,r){return"A"+[e,e]+" "+[0,y,r]+" "+pt(e,n)}return m?g=null===f?"M"+pt(h,u)+arc(h,d,0)+arc(h,p,0)+"Z":"M"+pt(f,u)+arc(f,d,0)+arc(f,p,0)+"ZM"+pt(h,u)+arc(h,d,1)+arc(h,p,1)+"Z":null===f?(g="M"+pt(h,u)+arc(h,p,0),c&&(g+="L0,0Z")):g="M"+pt(f,u)+"L"+pt(h,u)+arc(h,p,0)+"L"+pt(f,p)+arc(f,u,1)+"Z",g}e.exports={deg2rad:function deg2rad(e){return e/180*s},rad2deg:function rad2deg(e){return e/s*180},angleDelta:angleDelta,angleDist:function angleDist(e,n){return Math.abs(angleDelta(e,n))},isFullCircle:isFullCircle,isAngleInsideSector:isAngleInsideSector,isPtInsideSector:function isPtInsideSector(e,n,r,a){return!!isAngleInsideSector(n,a)&&(r[0]<r[1]?(o=r[0],i=r[1]):(o=r[1],i=r[0]),e>=o&&e<=i);var o,i},pathArc:function pathArc(e,n,r,a,o){return _path(null,e,n,r,a,o,0)},pathSector:function pathSector(e,n,r,a,o){return _path(null,e,n,r,a,o,1)},pathAnnulus:function pathAnnulus(e,n,r,a,o,i){return _path(e,n,r,a,o,i,1)}}},"6e58":function(e,n,r){var a,o;!function(){var i={version:"3.5.17"},s=[].slice,d3_array=function(e){return s.call(e)},l=this.document;function d3_documentElement(e){return e&&(e.ownerDocument||e.document||e).documentElement}function d3_window(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{d3_array(l.documentElement.childNodes)[0].nodeType}catch(Kt){d3_array=function(e){for(var n=e.length,r=new Array(n);n--;)r[n]=e[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(Xt){var c=this.Element.prototype,u=c.setAttribute,d=c.setAttributeNS,p=this.CSSStyleDeclaration.prototype,f=p.setProperty;c.setAttribute=function(e,n){u.call(this,e,n+"")},c.setAttributeNS=function(e,n,r){d.call(this,e,n,r+"")},p.setProperty=function(e,n,r){f.call(this,e,n+"",r)}}function d3_ascending(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function d3_number(e){return null===e?NaN:+e}function d3_numeric(e){return!isNaN(e)}function d3_bisector(e){return{left:function(n,r,a,o){for(arguments.length<3&&(a=0),arguments.length<4&&(o=n.length);a<o;){var i=a+o>>>1;e(n[i],r)<0?a=i+1:o=i}return a},right:function(n,r,a,o){for(arguments.length<3&&(a=0),arguments.length<4&&(o=n.length);a<o;){var i=a+o>>>1;e(n[i],r)>0?o=i:a=i+1}return a}}}i.ascending=d3_ascending,i.descending=function(e,n){return n<e?-1:n>e?1:n>=e?0:NaN},i.min=function(e,n){var r,a,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(a=e[o])&&a>=a){r=a;break}for(;++o<i;)null!=(a=e[o])&&r>a&&(r=a)}else{for(;++o<i;)if(null!=(a=n.call(e,e[o],o))&&a>=a){r=a;break}for(;++o<i;)null!=(a=n.call(e,e[o],o))&&r>a&&(r=a)}return r},i.max=function(e,n){var r,a,o=-1,i=e.length;if(1===arguments.length){for(;++o<i;)if(null!=(a=e[o])&&a>=a){r=a;break}for(;++o<i;)null!=(a=e[o])&&a>r&&(r=a)}else{for(;++o<i;)if(null!=(a=n.call(e,e[o],o))&&a>=a){r=a;break}for(;++o<i;)null!=(a=n.call(e,e[o],o))&&a>r&&(r=a)}return r},i.extent=function(e,n){var r,a,o,i=-1,s=e.length;if(1===arguments.length){for(;++i<s;)if(null!=(a=e[i])&&a>=a){r=o=a;break}for(;++i<s;)null!=(a=e[i])&&(r>a&&(r=a),o<a&&(o=a))}else{for(;++i<s;)if(null!=(a=n.call(e,e[i],i))&&a>=a){r=o=a;break}for(;++i<s;)null!=(a=n.call(e,e[i],i))&&(r>a&&(r=a),o<a&&(o=a))}return[r,o]},i.sum=function(e,n){var r,a=0,o=e.length,i=-1;if(1===arguments.length)for(;++i<o;)d3_numeric(r=+e[i])&&(a+=r);else for(;++i<o;)d3_numeric(r=+n.call(e,e[i],i))&&(a+=r);return a},i.mean=function(e,n){var r,a=0,o=e.length,i=-1,s=o;if(1===arguments.length)for(;++i<o;)d3_numeric(r=d3_number(e[i]))?a+=r:--s;else for(;++i<o;)d3_numeric(r=d3_number(n.call(e,e[i],i)))?a+=r:--s;if(s)return a/s},i.quantile=function(e,n){var r=(e.length-1)*n+1,a=Math.floor(r),o=+e[a-1],i=r-a;return i?o+i*(e[a]-o):o},i.median=function(e,n){var r,a=[],o=e.length,s=-1;if(1===arguments.length)for(;++s<o;)d3_numeric(r=d3_number(e[s]))&&a.push(r);else for(;++s<o;)d3_numeric(r=d3_number(n.call(e,e[s],s)))&&a.push(r);if(a.length)return i.quantile(a.sort(d3_ascending),.5)},i.variance=function(e,n){var r,a,o=e.length,i=0,s=0,l=-1,c=0;if(1===arguments.length)for(;++l<o;)d3_numeric(r=d3_number(e[l]))&&(s+=(a=r-i)*(r-(i+=a/++c)));else for(;++l<o;)d3_numeric(r=d3_number(n.call(e,e[l],l)))&&(s+=(a=r-i)*(r-(i+=a/++c)));if(c>1)return s/(c-1)},i.deviation=function(){var e=i.variance.apply(this,arguments);return e?Math.sqrt(e):e};var h=d3_bisector(d3_ascending);function d3_transposeLength(e){return e.length}i.bisectLeft=h.left,i.bisect=i.bisectRight=h.right,i.bisector=function(e){return d3_bisector(1===e.length?function(n,r){return d3_ascending(e(n),r)}:e)},i.shuffle=function(e,n,r){(i=arguments.length)<3&&(r=e.length,i<2&&(n=0));for(var a,o,i=r-n;i;)o=Math.random()*i--|0,a=e[i+n],e[i+n]=e[o+n],e[o+n]=a;return e},i.permute=function(e,n){for(var r=n.length,a=new Array(r);r--;)a[r]=e[n[r]];return a},i.pairs=function(e){for(var n=0,r=e.length-1,a=e[0],o=new Array(r<0?0:r);n<r;)o[n]=[a,a=e[++n]];return o},i.transpose=function(e){if(!(o=e.length))return[];for(var n=-1,r=i.min(e,d3_transposeLength),a=new Array(r);++n<r;)for(var o,s=-1,l=a[n]=new Array(o);++s<o;)l[s]=e[s][n];return a},i.zip=function(){return i.transpose(arguments)},i.keys=function(e){var n=[];for(var r in e)n.push(r);return n},i.values=function(e){var n=[];for(var r in e)n.push(e[r]);return n},i.entries=function(e){var n=[];for(var r in e)n.push({key:r,value:e[r]});return n},i.merge=function(e){for(var n,r,a,o=e.length,i=-1,s=0;++i<o;)s+=e[i].length;for(r=new Array(s);--o>=0;)for(n=(a=e[o]).length;--n>=0;)r[--s]=a[n];return r};var m=Math.abs;function d3_range_integerScale(e){for(var n=1;e*n%1;)n*=10;return n}function d3_class(e,n){for(var r in n)Object.defineProperty(e.prototype,r,{value:n[r],enumerable:!1})}function d3_Map(){this._=Object.create(null)}i.range=function(e,n,r){if(arguments.length<3&&(r=1,arguments.length<2&&(n=e,e=0)),(n-e)/r==1/0)throw new Error("infinite range");var a,o=[],i=d3_range_integerScale(m(r)),s=-1;if(e*=i,n*=i,(r*=i)<0)for(;(a=e+r*++s)>n;)o.push(a/i);else for(;(a=e+r*++s)<n;)o.push(a/i);return o},i.map=function(e,n){var r=new d3_Map;if(e instanceof d3_Map)e.forEach((function(e,n){r.set(e,n)}));else if(Array.isArray(e)){var a,o=-1,i=e.length;if(1===arguments.length)for(;++o<i;)r.set(o,e[o]);else for(;++o<i;)r.set(n.call(e,a=e[o],o),a)}else for(var s in e)r.set(s,e[s]);return r};function d3_map_escape(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function d3_map_unescape(e){return"\0"===(e+="")[0]?e.slice(1):e}function d3_map_has(e){return d3_map_escape(e)in this._}function d3_map_remove(e){return(e=d3_map_escape(e))in this._&&delete this._[e]}function d3_map_keys(){var e=[];for(var n in this._)e.push(d3_map_unescape(n));return e}function d3_map_size(){var e=0;for(var n in this._)++e;return e}function d3_map_empty(){for(var e in this._)return!1;return!0}function d3_Set(){this._=Object.create(null)}function d3_identity(e){return e}function d3_rebind(e,n,r){return function(){var a=r.apply(n,arguments);return a===n?e:a}}function d3_vendorSymbol(e,n){if(n in e)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var r=0,a=g.length;r<a;++r){var o=g[r]+n;if(o in e)return o}}d3_class(d3_Map,{has:d3_map_has,get:function(e){return this._[d3_map_escape(e)]},set:function(e,n){return this._[d3_map_escape(e)]=n},remove:d3_map_remove,keys:d3_map_keys,values:function(){var e=[];for(var n in this._)e.push(this._[n]);return e},entries:function(){var e=[];for(var n in this._)e.push({key:d3_map_unescape(n),value:this._[n]});return e},size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var n in this._)e.call(this,d3_map_unescape(n),this._[n])}}),i.nest=function(){var e,n,r={},a=[],o=[];function map(o,i,s){if(s>=a.length)return n?n.call(r,i):e?i.sort(e):i;for(var l,c,u,d,p=-1,f=i.length,h=a[s++],m=new d3_Map;++p<f;)(d=m.get(l=h(c=i[p])))?d.push(c):m.set(l,[c]);return o?(c=o(),u=function(e,n){c.set(e,map(o,n,s))}):(c={},u=function(e,n){c[e]=map(o,n,s)}),m.forEach(u),c}function entries(e,n){if(n>=a.length)return e;var r=[],i=o[n++];return e.forEach((function(e,a){r.push({key:e,values:entries(a,n)})})),i?r.sort((function(e,n){return i(e.key,n.key)})):r}return r.map=function(e,n){return map(n,e,0)},r.entries=function(e){return entries(map(i.map,e,0),0)},r.key=function(e){return a.push(e),r},r.sortKeys=function(e){return o[a.length-1]=e,r},r.sortValues=function(n){return e=n,r},r.rollup=function(e){return n=e,r},r},i.set=function(e){var n=new d3_Set;if(e)for(var r=0,a=e.length;r<a;++r)n.add(e[r]);return n},d3_class(d3_Set,{has:d3_map_has,add:function(e){return this._[d3_map_escape(e+="")]=!0,e},remove:d3_map_remove,values:d3_map_keys,size:d3_map_size,empty:d3_map_empty,forEach:function(e){for(var n in this._)e.call(this,d3_map_unescape(n))}}),i.behavior={},i.rebind=function(e,n){for(var r,a=1,o=arguments.length;++a<o;)e[r=arguments[a]]=d3_rebind(e,n,n[r]);return e};var g=["webkit","ms","moz","Moz","o","O"];function d3_noop(){}function d3_dispatch(){}function d3_dispatch_event(e){var n=[],r=new d3_Map;function event(){for(var r,a=n,o=-1,i=a.length;++o<i;)(r=a[o].on)&&r.apply(this,arguments);return e}return event.on=function(a,o){var i,s=r.get(a);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,i=n.indexOf(s)).concat(n.slice(i+1)),r.remove(a)),o&&n.push(r.set(a,{on:o})),e)},event}function d3_eventPreventDefault(){i.event.preventDefault()}function d3_eventSource(){for(var e,n=i.event;e=n.sourceEvent;)n=e;return n}function d3_eventDispatch(e){for(var n=new d3_dispatch,r=0,a=arguments.length;++r<a;)n[arguments[r]]=d3_dispatch_event(n);return n.of=function(r,a){return function(o){try{var s=o.sourceEvent=i.event;o.target=e,i.event=o,n[o.type].apply(r,a)}finally{i.event=s}}},n}i.dispatch=function(){for(var e=new d3_dispatch,n=-1,r=arguments.length;++n<r;)e[arguments[n]]=d3_dispatch_event(e);return e},d3_dispatch.prototype.on=function(e,n){var r=e.indexOf("."),a="";if(r>=0&&(a=e.slice(r+1),e=e.slice(0,r)),e)return arguments.length<2?this[e].on(a):this[e].on(a,n);if(2===arguments.length){if(null==n)for(e in this)this.hasOwnProperty(e)&&this[e].on(a,null);return this}},i.event=null,i.requote=function(e){return e.replace(y,"\\$&")};var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,b={}.__proto__?function(e,n){e.__proto__=n}:function(e,n){for(var r in n)e[r]=n[r]};function d3_selection(e){return b(e,x),e}var d3_select=function(e,n){return n.querySelector(e)},d3_selectAll=function(e,n){return n.querySelectorAll(e)},d3_selectMatches=function(e,n){var r=e.matches||e[d3_vendorSymbol(e,"matchesSelector")];return(d3_selectMatches=function(e,n){return r.call(e,n)})(e,n)};"function"==typeof Sizzle&&(d3_select=function(e,n){return Sizzle(e,n)[0]||null},d3_selectAll=Sizzle,d3_selectMatches=Sizzle.matchesSelector),i.selection=function(){return i.select(l.documentElement)};var x=i.selection.prototype=[];function d3_selection_selector(e){return"function"==typeof e?e:function(){return d3_select(e,this)}}function d3_selection_selectorAll(e){return"function"==typeof e?e:function(){return d3_selectAll(e,this)}}x.select=function(e){var n,r,a,o,i=[];e=d3_selection_selector(e);for(var s=-1,l=this.length;++s<l;){i.push(n=[]),n.parentNode=(a=this[s]).parentNode;for(var c=-1,u=a.length;++c<u;)(o=a[c])?(n.push(r=e.call(o,o.__data__,c,s)),r&&"__data__"in o&&(r.__data__=o.__data__)):n.push(null)}return d3_selection(i)},x.selectAll=function(e){var n,r,a=[];e=d3_selection_selectorAll(e);for(var o=-1,i=this.length;++o<i;)for(var s=this[o],l=-1,c=s.length;++l<c;)(r=s[l])&&(a.push(n=d3_array(e.call(r,r.__data__,l,o))),n.parentNode=r);return d3_selection(a)};var _="http://www.w3.org/1999/xhtml",w={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d3_selection_attr(e,n){return e=i.ns.qualify(e),null==n?e.local?function attrNullNS(){this.removeAttributeNS(e.space,e.local)}:function attrNull(){this.removeAttribute(e)}:"function"==typeof n?e.local?function attrFunctionNS(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}:function attrFunction(){var r=n.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}:e.local?function attrConstantNS(){this.setAttributeNS(e.space,e.local,n)}:function attrConstant(){this.setAttribute(e,n)}}function d3_collapse(e){return e.trim().replace(/\s+/g," ")}function d3_selection_classedRe(e){return new RegExp("(?:^|\\s+)"+i.requote(e)+"(?:\\s+|$)","g")}function d3_selection_classes(e){return(e+"").trim().split(/^|\s+/)}function d3_selection_classed(e,n){var r=(e=d3_selection_classes(e).map(d3_selection_classedName)).length;return"function"==typeof n?function classedFunction(){for(var a=-1,o=n.apply(this,arguments);++a<r;)e[a](this,o)}:function classedConstant(){for(var a=-1;++a<r;)e[a](this,n)}}function d3_selection_classedName(e){var n=d3_selection_classedRe(e);return function(r,a){if(o=r.classList)return a?o.add(e):o.remove(e);var o=r.getAttribute("class")||"";a?(n.lastIndex=0,n.test(o)||r.setAttribute("class",d3_collapse(o+" "+e))):r.setAttribute("class",d3_collapse(o.replace(n," ")))}}function d3_selection_style(e,n,r){return null==n?function styleNull(){this.style.removeProperty(e)}:"function"==typeof n?function styleFunction(){var a=n.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,r)}:function styleConstant(){this.style.setProperty(e,n,r)}}function d3_selection_property(e,n){return null==n?function propertyNull(){delete this[e]}:"function"==typeof n?function propertyFunction(){var r=n.apply(this,arguments);null==r?delete this[e]:this[e]=r}:function propertyConstant(){this[e]=n}}function d3_selection_creator(e){return"function"==typeof e?e:(e=i.ns.qualify(e)).local?function createNS(){return this.ownerDocument.createElementNS(e.space,e.local)}:function create(){var n=this.ownerDocument,r=this.namespaceURI;return r===_&&n.documentElement.namespaceURI===_?n.createElement(e):n.createElementNS(r,e)}}function d3_selectionRemove(){var e=this.parentNode;e&&e.removeChild(this)}function d3_selection_dataNode(e){return{__data__:e}}function d3_selection_filter(e){return function(){return d3_selectMatches(this,e)}}function d3_selection_sortComparator(e){return arguments.length||(e=d3_ascending),function(n,r){return n&&r?e(n.__data__,r.__data__):!n-!r}}function d3_selection_each(e,n){for(var r=0,a=e.length;r<a;r++)for(var o,i=e[r],s=0,l=i.length;s<l;s++)(o=i[s])&&n(o,s,r);return e}function d3_selection_enter(e){return b(e,k),e}i.ns={prefix:w,qualify:function(e){var n=e.indexOf(":"),r=e;return n>=0&&"xmlns"!==(r=e.slice(0,n))&&(e=e.slice(n+1)),w.hasOwnProperty(r)?{space:w[r],local:e}:e}},x.attr=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node();return(e=i.ns.qualify(e)).local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}for(n in e)this.each(d3_selection_attr(n,e[n]));return this}return this.each(d3_selection_attr(e,n))},x.classed=function(e,n){if(arguments.length<2){if("string"==typeof e){var r=this.node(),a=(e=d3_selection_classes(e)).length,o=-1;if(n=r.classList){for(;++o<a;)if(!n.contains(e[o]))return!1}else for(n=r.getAttribute("class");++o<a;)if(!d3_selection_classedRe(e[o]).test(n))return!1;return!0}for(n in e)this.each(d3_selection_classed(n,e[n]));return this}return this.each(d3_selection_classed(e,n))},x.style=function(e,n,r){var a=arguments.length;if(a<3){if("string"!=typeof e){for(r in a<2&&(n=""),e)this.each(d3_selection_style(r,e[r],n));return this}if(a<2){var o=this.node();return d3_window(o).getComputedStyle(o,null).getPropertyValue(e)}r=""}return this.each(d3_selection_style(e,n,r))},x.property=function(e,n){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(n in e)this.each(d3_selection_property(n,e[n]));return this}return this.each(d3_selection_property(e,n))},x.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},x.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},x.append=function(e){return e=d3_selection_creator(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},x.insert=function(e,n){return e=d3_selection_creator(e),n=d3_selection_selector(n),this.select((function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)}))},x.remove=function(){return this.each(d3_selectionRemove)},x.data=function(e,n){var r,a,o=-1,i=this.length;if(!arguments.length){for(e=new Array(i=(r=this[0]).length);++o<i;)(a=r[o])&&(e[o]=a.__data__);return e}function bind(e,r){var a,o,i,u=e.length,d=r.length,p=Math.min(u,d),f=new Array(d),h=new Array(d),m=new Array(u);if(n){var g,y=new d3_Map,b=new Array(u);for(a=-1;++a<u;)(o=e[a])&&(y.has(g=n.call(o,o.__data__,a))?m[a]=o:y.set(g,o),b[a]=g);for(a=-1;++a<d;)(o=y.get(g=n.call(r,i=r[a],a)))?!0!==o&&(f[a]=o,o.__data__=i):h[a]=d3_selection_dataNode(i),y.set(g,!0);for(a=-1;++a<u;)a in b&&!0!==y.get(b[a])&&(m[a]=e[a])}else{for(a=-1;++a<p;)o=e[a],i=r[a],o?(o.__data__=i,f[a]=o):h[a]=d3_selection_dataNode(i);for(;a<d;++a)h[a]=d3_selection_dataNode(r[a]);for(;a<u;++a)m[a]=e[a]}h.update=f,h.parentNode=f.parentNode=m.parentNode=e.parentNode,s.push(h),l.push(f),c.push(m)}var s=d3_selection_enter([]),l=d3_selection([]),c=d3_selection([]);if("function"==typeof e)for(;++o<i;)bind(r=this[o],e.call(r,r.parentNode.__data__,o));else for(;++o<i;)bind(r=this[o],e);return l.enter=function(){return s},l.exit=function(){return c},l},x.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},x.filter=function(e){var n,r,a,o=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var i=0,s=this.length;i<s;i++){o.push(n=[]),n.parentNode=(r=this[i]).parentNode;for(var l=0,c=r.length;l<c;l++)(a=r[l])&&e.call(a,a.__data__,l,i)&&n.push(a)}return d3_selection(o)},x.order=function(){for(var e=-1,n=this.length;++e<n;)for(var r,a=this[e],o=a.length-1,i=a[o];--o>=0;)(r=a[o])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},x.sort=function(e){e=d3_selection_sortComparator.apply(this,arguments);for(var n=-1,r=this.length;++n<r;)this[n].sort(e);return this.order()},x.each=function(e){return d3_selection_each(this,(function(n,r,a){e.call(n,n.__data__,r,a)}))},x.call=function(e){var n=d3_array(arguments);return e.apply(n[0]=this,n),this},x.empty=function(){return!this.node()},x.node=function(){for(var e=0,n=this.length;e<n;e++)for(var r=this[e],a=0,o=r.length;a<o;a++){var i=r[a];if(i)return i}return null},x.size=function(){var e=0;return d3_selection_each(this,(function(){++e})),e};var k=[];function d3_selection_enterInsertBefore(e){var n,r;return function(a,o,i){var s,l=e[i].update,c=l.length;for(i!=r&&(r=i,n=0),o>=n&&(n=o+1);!(s=l[n])&&++n<c;);return s}}function d3_selection_on(e,n,r){var a="__on"+e,o=e.indexOf("."),s=d3_selection_onListener;o>0&&(e=e.slice(0,o));var l=T.get(e);function onRemove(){var n=this[a];n&&(this.removeEventListener(e,n,n.$),delete this[a])}return l&&(e=l,s=d3_selection_onFilter),o?n?function onAdd(){var o=s(n,d3_array(arguments));onRemove.call(this),this.addEventListener(e,this[a]=o,o.$=r),o._=n}:onRemove:n?d3_noop:function removeAll(){var n,r=new RegExp("^__on([^.]+)"+i.requote(e)+"$");for(var a in this)if(n=a.match(r)){var o=this[a];this.removeEventListener(n[1],o,o.$),delete this[a]}}}i.selection.enter=d3_selection_enter,i.selection.enter.prototype=k,k.append=x.append,k.empty=x.empty,k.node=x.node,k.call=x.call,k.size=x.size,k.select=function(e){for(var n,r,a,o,i,s=[],l=-1,c=this.length;++l<c;){a=(o=this[l]).update,s.push(n=[]),n.parentNode=o.parentNode;for(var u=-1,d=o.length;++u<d;)(i=o[u])?(n.push(a[u]=r=e.call(o.parentNode,i.__data__,u,l)),r.__data__=i.__data__):n.push(null)}return d3_selection(s)},k.insert=function(e,n){return arguments.length<2&&(n=d3_selection_enterInsertBefore(this)),x.insert.call(this,e,n)},i.select=function(e){var n;return"string"==typeof e?(n=[d3_select(e,l)]).parentNode=l.documentElement:(n=[e]).parentNode=d3_documentElement(e),d3_selection([n])},i.selectAll=function(e){var n;return"string"==typeof e?(n=d3_array(d3_selectAll(e,l))).parentNode=l.documentElement:(n=d3_array(e)).parentNode=null,d3_selection([n])},x.on=function(e,n,r){var a=arguments.length;if(a<3){if("string"!=typeof e){for(r in a<2&&(n=!1),e)this.each(d3_selection_on(r,e[r],n));return this}if(a<2)return(a=this.node()["__on"+e])&&a._;r=!1}return this.each(d3_selection_on(e,n,r))};var T=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});function d3_selection_onListener(e,n){return function(r){var a=i.event;i.event=r,n[0]=this.__data__;try{e.apply(this,n)}finally{i.event=a}}}function d3_selection_onFilter(e,n){var r=d3_selection_onListener(e,n);return function(e){var n=this,a=e.relatedTarget;a&&(a===n||8&a.compareDocumentPosition(n))||r.call(n,e)}}l&&T.forEach((function(e){"on"+e in l&&T.remove(e)}));var S,O=0;function d3_event_dragSuppress(e){var n=".dragsuppress-"+ ++O,r="click"+n,a=i.select(d3_window(e)).on("touchmove"+n,d3_eventPreventDefault).on("dragstart"+n,d3_eventPreventDefault).on("selectstart"+n,d3_eventPreventDefault);if(null==S&&(S=!("onselectstart"in e)&&d3_vendorSymbol(e.style,"userSelect")),S){var o=d3_documentElement(e).style,s=o[S];o[S]="none"}return function(e){if(a.on(n,null),S&&(o[S]=s),e){var off=function(){a.on(r,null)};a.on(r,(function(){d3_eventPreventDefault(),off()}),!0),setTimeout(off,0)}}}i.mouse=function(e){return d3_mousePoint(e,d3_eventSource())};var C=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function d3_mousePoint(e,n){n.changedTouches&&(n=n.changedTouches[0]);var r=e.ownerSVGElement||e;if(r.createSVGPoint){var a=r.createSVGPoint();if(C<0){var o=d3_window(e);if(o.scrollX||o.scrollY){var s=(r=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();C=!(s.f||s.e),r.remove()}}return C?(a.x=n.pageX,a.y=n.pageY):(a.x=n.clientX,a.y=n.clientY),[(a=a.matrixTransform(e.getScreenCTM().inverse())).x,a.y]}var l=e.getBoundingClientRect();return[n.clientX-l.left-e.clientLeft,n.clientY-l.top-e.clientTop]}function d3_behavior_dragTouchId(){return i.event.changedTouches[0].identifier}i.touch=function(e,n,r){if(arguments.length<3&&(r=n,n=d3_eventSource().changedTouches),n)for(var a,o=0,i=n.length;o<i;++o)if((a=n[o]).identifier===r)return d3_mousePoint(e,a)},i.behavior.drag=function(){var e=d3_eventDispatch(drag,"drag","dragstart","dragend"),n=null,r=dragstart(d3_noop,i.mouse,d3_window,"mousemove","mouseup"),a=dragstart(d3_behavior_dragTouchId,i.touch,d3_identity,"touchmove","touchend");function drag(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function dragstart(r,a,o,s,l){return function(){var c,u=this,d=i.event.target.correspondingElement||i.event.target,p=u.parentNode,f=e.of(u,arguments),h=0,m=r(),g=".drag"+(null==m?"":"-"+m),y=i.select(o(d)).on(s+g,moved).on(l+g,ended),b=d3_event_dragSuppress(d),x=a(p,m);function moved(){var e,n,r=a(p,m);r&&(e=r[0]-x[0],n=r[1]-x[1],h|=e|n,x=r,f({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:e,dy:n}))}function ended(){a(p,m)&&(y.on(s+g,null).on(l+g,null),b(h),f({type:"dragend"}))}c=n?[(c=n.apply(u,arguments)).x-x[0],c.y-x[1]]:[0,0],f({type:"dragstart"})}}return drag.origin=function(e){return arguments.length?(n=e,drag):n},i.rebind(drag,e,"on")},i.touches=function(e,n){return arguments.length<2&&(n=d3_eventSource().touches),n?d3_array(n).map((function(n){var r=d3_mousePoint(e,n);return r.identifier=n.identifier,r})):[]};var A=1e-6,I=A*A,N=Math.PI,M=2*N,E=M-A,D=N/2,j=N/180,R=180/N;function d3_sgn(e){return e>0?1:e<0?-1:0}function d3_cross2d(e,n,r){return(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])}function d3_acos(e){return e>1?0:e<-1?N:Math.acos(e)}function d3_asin(e){return e>1?D:e<-1?-D:Math.asin(e)}function d3_cosh(e){return((e=Math.exp(e))+1/e)/2}function d3_haversin(e){return(e=Math.sin(e/2))*e}var L=Math.SQRT2;i.interpolateZoom=function(e,n){var r,a,o=e[0],i=e[1],s=e[2],l=n[0],c=n[1],u=n[2],d=l-o,p=c-i,f=d*d+p*p;if(f<I)a=Math.log(u/s)/L,r=function(e){return[o+e*d,i+e*p,s*Math.exp(L*e*a)]};else{var h=Math.sqrt(f),m=(u*u-s*s+4*f)/(2*s*2*h),g=(u*u-s*s-4*f)/(2*u*2*h),y=Math.log(Math.sqrt(m*m+1)-m),b=Math.log(Math.sqrt(g*g+1)-g);a=(b-y)/L,r=function(e){var n=e*a,r=d3_cosh(y),l=s/(2*h)*(r*function d3_tanh(e){return((e=Math.exp(2*e))-1)/(e+1)}(L*n+y)-function d3_sinh(e){return((e=Math.exp(e))-1/e)/2}(y));return[o+l*d,i+l*p,s*r/d3_cosh(L*n+y)]}}return r.duration=1e3*a,r},i.behavior.zoom=function(){var e,n,r,a,o,s,c,u,d,p={x:0,y:0,k:1},f=[960,500],h=B,m=250,g=0,y="mousedown.zoom",b="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",w=d3_eventDispatch(zoom,"zoomstart","zoom","zoomend");function zoom(e){e.on(y,mousedowned).on($+".zoom",mousewheeled).on("dblclick.zoom",dblclicked).on(_,touchstarted)}function location(e){return[(e[0]-p.x)/p.k,(e[1]-p.y)/p.k]}function scaleTo(e){p.k=Math.max(h[0],Math.min(h[1],e))}function translateTo(e,n){n=function point(e){return[e[0]*p.k+p.x,e[1]*p.k+p.y]}(n),p.x+=e[0]-n[0],p.y+=e[1]-n[1]}function zoomTo(e,r,a,o){e.__chart__={x:p.x,y:p.y,k:p.k},scaleTo(Math.pow(2,o)),translateTo(n=r,a),e=i.select(e),m>0&&(e=e.transition().duration(m)),e.call(zoom.event)}function rescale(){c&&c.domain(s.range().map((function(e){return(e-p.x)/p.k})).map(s.invert)),d&&d.domain(u.range().map((function(e){return(e-p.y)/p.k})).map(u.invert))}function zoomstarted(e){g++||e({type:"zoomstart"})}function zoomed(e){rescale(),e({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function zoomended(e){--g||(e({type:"zoomend"}),n=null)}function mousedowned(){var e=this,n=w.of(e,arguments),r=0,a=i.select(d3_window(e)).on(b,moved).on(x,ended),o=location(i.mouse(e)),s=d3_event_dragSuppress(e);function moved(){r=1,translateTo(i.mouse(e),o),zoomed(n)}function ended(){a.on(b,null).on(x,null),s(r),zoomended(n)}Nt.call(e),zoomstarted(n)}function touchstarted(){var e,n=this,r=w.of(n,arguments),a={},s=0,l=".zoom-"+i.event.changedTouches[0].identifier,c="touchmove"+l,u="touchend"+l,d=[],f=i.select(n),h=d3_event_dragSuppress(n);function relocate(){var r=i.touches(n);return e=p.k,r.forEach((function(e){e.identifier in a&&(a[e.identifier]=location(e))})),r}function started(){var e=i.event.target;i.select(e).on(c,moved).on(u,ended),d.push(e);for(var r=i.event.changedTouches,l=0,f=r.length;l<f;++l)a[r[l].identifier]=null;var h=relocate(),m=Date.now();if(1===h.length){if(m-o<500){var g=h[0];zoomTo(n,g,a[g.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),d3_eventPreventDefault()}o=m}else if(h.length>1){g=h[0];var y=h[1],b=g[0]-y[0],x=g[1]-y[1];s=b*b+x*x}}function moved(){var l,c,u,d,p=i.touches(n);Nt.call(n);for(var f=0,h=p.length;f<h;++f,d=null)if(u=p[f],d=a[u.identifier]){if(c)break;l=u,c=d}if(d){var m=(m=u[0]-l[0])*m+(m=u[1]-l[1])*m,g=s&&Math.sqrt(m/s);l=[(l[0]+u[0])/2,(l[1]+u[1])/2],c=[(c[0]+d[0])/2,(c[1]+d[1])/2],scaleTo(g*e)}o=null,translateTo(l,c),zoomed(r)}function ended(){if(i.event.touches.length){for(var e=i.event.changedTouches,n=0,o=e.length;n<o;++n)delete a[e[n].identifier];for(var s in a)return void relocate()}i.selectAll(d).on(l,null),f.on(y,mousedowned).on(_,touchstarted),h(),zoomended(r)}started(),zoomstarted(r),f.on(y,null).on(_,started)}function mousewheeled(){var o=w.of(this,arguments);a?clearTimeout(a):(Nt.call(this),e=location(n=r||i.mouse(this)),zoomstarted(o)),a=setTimeout((function(){a=null,zoomended(o)}),50),d3_eventPreventDefault(),scaleTo(Math.pow(2,.002*z())*p.k),translateTo(n,e),zoomed(o)}function dblclicked(){var e=i.mouse(this),n=Math.log(p.k)/Math.LN2;zoomTo(this,e,location(e),i.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return $||($="onwheel"in l?(z=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(z=function(){return i.event.wheelDelta},"mousewheel"):(z=function(){return-i.event.detail},"MozMousePixelScroll")),zoom.event=function(e){e.each((function(){var e=w.of(this,arguments),r=p;Mt?i.select(this).transition().each("start.zoom",(function(){p=this.__chart__||{x:0,y:0,k:1},zoomstarted(e)})).tween("zoom:zoom",(function(){var a=f[0],o=f[1],s=n?n[0]:a/2,l=n?n[1]:o/2,c=i.interpolateZoom([(s-p.x)/p.k,(l-p.y)/p.k,a/p.k],[(s-r.x)/r.k,(l-r.y)/r.k,a/r.k]);return function(n){var r=c(n),o=a/r[2];this.__chart__=p={x:s-r[0]*o,y:l-r[1]*o,k:o},zoomed(e)}})).each("interrupt.zoom",(function(){zoomended(e)})).each("end.zoom",(function(){zoomended(e)})):(this.__chart__=p,zoomstarted(e),zoomed(e),zoomended(e))}))},zoom.translate=function(e){return arguments.length?(p={x:+e[0],y:+e[1],k:p.k},rescale(),zoom):[p.x,p.y]},zoom.scale=function(e){return arguments.length?(p={x:p.x,y:p.y,k:null},scaleTo(+e),rescale(),zoom):p.k},zoom.scaleExtent=function(e){return arguments.length?(h=null==e?B:[+e[0],+e[1]],zoom):h},zoom.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],zoom):r},zoom.size=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],zoom):f},zoom.duration=function(e){return arguments.length?(m=+e,zoom):m},zoom.x=function(e){return arguments.length?(c=e,s=e.copy(),p={x:0,y:0,k:1},zoom):c},zoom.y=function(e){return arguments.length?(d=e,u=e.copy(),p={x:0,y:0,k:1},zoom):d},i.rebind(zoom,w,"on")};var z,$,B=[0,1/0];function d3_color(){}function d3_hsl(e,n,r){return this instanceof d3_hsl?(this.h=+e,this.s=+n,void(this.l=+r)):arguments.length<2?e instanceof d3_hsl?new d3_hsl(e.h,e.s,e.l):d3_rgb_parse(""+e,d3_rgb_hsl,d3_hsl):new d3_hsl(e,n,r)}i.color=d3_color,d3_color.prototype.toString=function(){return this.rgb()+""},i.hsl=d3_hsl;var V=d3_hsl.prototype=new d3_color;function d3_hsl_rgb(e,n,r){var a,o;function vv(e){return Math.round(255*function v(e){return e>360?e-=360:e<0&&(e+=360),e<60?a+(o-a)*e/60:e<180?o:e<240?a+(o-a)*(240-e)/60:a}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,n=isNaN(n)||n<0?0:n>1?1:n,a=2*(r=r<0?0:r>1?1:r)-(o=r<=.5?r*(1+n):r+n-r*n),new d3_rgb(vv(e+120),vv(e),vv(e-120))}function d3_hcl(e,n,r){return this instanceof d3_hcl?(this.h=+e,this.c=+n,void(this.l=+r)):arguments.length<2?e instanceof d3_hcl?new d3_hcl(e.h,e.c,e.l):d3_lab_hcl(e instanceof d3_lab?e.l:(e=d3_rgb_lab((e=i.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new d3_hcl(e,n,r)}V.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,this.l/e)},V.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new d3_hsl(this.h,this.s,e*this.l)},V.rgb=function(){return d3_hsl_rgb(this.h,this.s,this.l)},i.hcl=d3_hcl;var U=d3_hcl.prototype=new d3_color;function d3_hcl_lab(e,n,r){return isNaN(e)&&(e=0),isNaN(n)&&(n=0),new d3_lab(r,Math.cos(e*=j)*n,Math.sin(e)*n)}function d3_lab(e,n,r){return this instanceof d3_lab?(this.l=+e,this.a=+n,void(this.b=+r)):arguments.length<2?e instanceof d3_lab?new d3_lab(e.l,e.a,e.b):e instanceof d3_hcl?d3_hcl_lab(e.h,e.c,e.l):d3_rgb_lab((e=d3_rgb(e)).r,e.g,e.b):new d3_lab(e,n,r)}U.brighter=function(e){return new d3_hcl(this.h,this.c,Math.min(100,this.l+W*(arguments.length?e:1)))},U.darker=function(e){return new d3_hcl(this.h,this.c,Math.max(0,this.l-W*(arguments.length?e:1)))},U.rgb=function(){return d3_hcl_lab(this.h,this.c,this.l).rgb()},i.lab=d3_lab;var W=18,H=.95047,G=1.08883,q=d3_lab.prototype=new d3_color;function d3_lab_rgb(e,n,r){var a=(e+16)/116,o=a+n/500,i=a-r/200;return new d3_rgb(d3_xyz_rgb(3.2404542*(o=d3_lab_xyz(o)*H)-1.5371385*(a=1*d3_lab_xyz(a))-.4985314*(i=d3_lab_xyz(i)*G)),d3_xyz_rgb(-.969266*o+1.8760108*a+.041556*i),d3_xyz_rgb(.0556434*o-.2040259*a+1.0572252*i))}function d3_lab_hcl(e,n,r){return e>0?new d3_hcl(Math.atan2(r,n)*R,Math.sqrt(n*n+r*r),e):new d3_hcl(NaN,NaN,e)}function d3_lab_xyz(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function d3_xyz_lab(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function d3_xyz_rgb(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function d3_rgb(e,n,r){return this instanceof d3_rgb?(this.r=~~e,this.g=~~n,void(this.b=~~r)):arguments.length<2?e instanceof d3_rgb?new d3_rgb(e.r,e.g,e.b):d3_rgb_parse(""+e,d3_rgb,d3_hsl_rgb):new d3_rgb(e,n,r)}function d3_rgbNumber(e){return new d3_rgb(e>>16,e>>8&255,255&e)}function d3_rgbString(e){return d3_rgbNumber(e)+""}q.brighter=function(e){return new d3_lab(Math.min(100,this.l+W*(arguments.length?e:1)),this.a,this.b)},q.darker=function(e){return new d3_lab(Math.max(0,this.l-W*(arguments.length?e:1)),this.a,this.b)},q.rgb=function(){return d3_lab_rgb(this.l,this.a,this.b)},i.rgb=d3_rgb;var K=d3_rgb.prototype=new d3_color;function d3_rgb_hex(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function d3_rgb_parse(e,n,r){var a,o,i,s=0,l=0,c=0;if(a=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(o=a[2].split(","),a[1]){case"hsl":return r(parseFloat(o[0]),parseFloat(o[1])/100,parseFloat(o[2])/100);case"rgb":return n(d3_rgb_parseNumber(o[0]),d3_rgb_parseNumber(o[1]),d3_rgb_parseNumber(o[2]))}return(i=X.get(e))?n(i.r,i.g,i.b):(null==e||"#"!==e.charAt(0)||isNaN(i=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&i)>>4,s|=s>>4,l=240&i,l|=l>>4,c=15&i,c|=c<<4):7===e.length&&(s=(16711680&i)>>16,l=(65280&i)>>8,c=255&i)),n(s,l,c))}function d3_rgb_hsl(e,n,r){var a,o,i=Math.min(e/=255,n/=255,r/=255),s=Math.max(e,n,r),l=s-i,c=(s+i)/2;return l?(o=c<.5?l/(s+i):l/(2-s-i),a=e==s?(n-r)/l+(n<r?6:0):n==s?(r-e)/l+2:(e-n)/l+4,a*=60):(a=NaN,o=c>0&&c<1?0:a),new d3_hsl(a,o,c)}function d3_rgb_lab(e,n,r){var a=d3_xyz_lab((.4124564*(e=d3_rgb_xyz(e))+.3575761*(n=d3_rgb_xyz(n))+.1804375*(r=d3_rgb_xyz(r)))/H),o=d3_xyz_lab((.2126729*e+.7151522*n+.072175*r)/1);return d3_lab(116*o-16,500*(a-o),200*(o-d3_xyz_lab((.0193339*e+.119192*n+.9503041*r)/G)))}function d3_rgb_xyz(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function d3_rgb_parseNumber(e){var n=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*n):n}K.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var n=this.r,r=this.g,a=this.b,o=30;return n||r||a?(n&&n<o&&(n=o),r&&r<o&&(r=o),a&&a<o&&(a=o),new d3_rgb(Math.min(255,n/e),Math.min(255,r/e),Math.min(255,a/e))):new d3_rgb(o,o,o)},K.darker=function(e){return new d3_rgb((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},K.hsl=function(){return d3_rgb_hsl(this.r,this.g,this.b)},K.toString=function(){return"#"+d3_rgb_hex(this.r)+d3_rgb_hex(this.g)+d3_rgb_hex(this.b)};var X=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function d3_functor(e){return"function"==typeof e?e:function(){return e}}function d3_xhrType(e){return function(n,r,a){return 2===arguments.length&&"function"==typeof r&&(a=r,r=null),d3_xhr(n,r,e,a)}}function d3_xhr(e,n,r,a){var o={},s=i.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function respond(){var e,n=c.status;if(!n&&function d3_xhrHasResponse(e){var n=e.responseType;return n&&"text"!==n?e.response:e.responseText}(c)||n>=200&&n<300||304===n){try{e=r.call(o,c)}catch(Kt){return void s.error.call(o,Kt)}s.load.call(o,e)}else s.error.call(o,c)}return this.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(e)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=respond:c.onreadystatechange=function(){c.readyState>3&&respond()},c.onprogress=function(e){var n=i.event;i.event=e;try{s.progress.call(o,c)}finally{i.event=n}},o.header=function(e,n){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==n?delete l[e]:l[e]=n+"",o)},o.mimeType=function(e){return arguments.length?(n=null==e?null:e+"",o):n},o.responseType=function(e){return arguments.length?(u=e,o):u},o.response=function(e){return r=e,o},["get","post"].forEach((function(e){o[e]=function(){return o.send.apply(o,[e].concat(d3_array(arguments)))}})),o.send=function(r,a,i){if(2===arguments.length&&"function"==typeof a&&(i=a,a=null),c.open(r,e,!0),null==n||"accept"in l||(l.accept=n+",*/*"),c.setRequestHeader)for(var d in l)c.setRequestHeader(d,l[d]);return null!=n&&c.overrideMimeType&&c.overrideMimeType(n),null!=u&&(c.responseType=u),null!=i&&o.on("error",i).on("load",(function(e){i(null,e)})),s.beforesend.call(o,c),c.send(null==a?null:a),o},o.abort=function(){return c.abort(),o},i.rebind(o,s,"on"),null==a?o:o.get(function d3_xhr_fixCallback(e){return 1===e.length?function(n,r){e(null==n?r:null)}:e}(a))}X.forEach((function(e,n){X.set(e,d3_rgbNumber(n))})),i.functor=d3_functor,i.xhr=d3_xhrType(d3_identity),i.dsv=function(e,n){var r=new RegExp('["'+e+"\n]"),a=e.charCodeAt(0);function dsv(e,r,a){arguments.length<3&&(a=r,r=null);var o=d3_xhr(e,n,null==r?response:typedResponse(r),a);return o.row=function(e){return arguments.length?o.response(null==(r=e)?response:typedResponse(e)):r},o}function response(e){return dsv.parse(e.responseText)}function typedResponse(e){return function(n){return dsv.parse(n.responseText,e)}}function formatRow(n){return n.map(formatValue).join(e)}function formatValue(e){return r.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return dsv.parse=function(e,n){var r;return dsv.parseRows(e,(function(e,a){if(r)return r(e,a-1);var o=new Function("d","return {"+e.map((function(e,n){return JSON.stringify(e)+": d["+n+"]"})).join(",")+"}");r=n?function(e,r){return n(o(e),r)}:o}))},dsv.parseRows=function(e,n){var r,o,i={},s={},l=[],c=e.length,u=0,d=0;function token(){if(u>=c)return s;if(o)return o=!1,i;var n=u;if(34===e.charCodeAt(n)){for(var r=n;r++<c;)if(34===e.charCodeAt(r)){if(34!==e.charCodeAt(r+1))break;++r}return u=r+2,13===(l=e.charCodeAt(r+1))?(o=!0,10===e.charCodeAt(r+2)&&++u):10===l&&(o=!0),e.slice(n+1,r).replace(/""/g,'"')}for(;u<c;){var l,d=1;if(10===(l=e.charCodeAt(u++)))o=!0;else if(13===l)o=!0,10===e.charCodeAt(u)&&(++u,++d);else if(l!==a)continue;return e.slice(n,u-d)}return e.slice(n)}for(;(r=token())!==s;){for(var p=[];r!==i&&r!==s;)p.push(r),r=token();n&&null==(p=n(p,d++))||l.push(p)}return l},dsv.format=function(n){if(Array.isArray(n[0]))return dsv.formatRows(n);var r=new d3_Set,a=[];return n.forEach((function(e){for(var n in e)r.has(n)||a.push(r.add(n))})),[a.map(formatValue).join(e)].concat(n.map((function(n){return a.map((function(e){return formatValue(n[e])})).join(e)}))).join("\n")},dsv.formatRows=function(e){return e.map(formatRow).join("\n")},dsv},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("\t","text/tab-separated-values");var Y,Z,J,Q,ee=this[d3_vendorSymbol(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function d3_timer(e,n,r){var a=arguments.length;a<2&&(n=0),a<3&&(r=Date.now());var o=r+n,i={c:e,t:o,n:null};return Z?Z.n=i:Y=i,Z=i,J||(Q=clearTimeout(Q),J=1,ee(d3_timer_step)),i}function d3_timer_step(){var e=d3_timer_mark(),n=d3_timer_sweep()-e;n>24?(isFinite(n)&&(clearTimeout(Q),Q=setTimeout(d3_timer_step,n)),J=0):(J=1,ee(d3_timer_step))}function d3_timer_mark(){for(var e=Date.now(),n=Y;n;)e>=n.t&&n.c(e-n.t)&&(n.c=null),n=n.n;return e}function d3_timer_sweep(){for(var e,n=Y,r=1/0;n;)n.c?(n.t<r&&(r=n.t),n=(e=n).n):n=e?e.n=n.n:Y=n.n;return Z=e,r}function d3_format_precision(e,n){return n-(e?Math.ceil(Math.log(e)/Math.LN10):1)}i.timer=function(){d3_timer.apply(this,arguments)},i.timer.flush=function(){d3_timer_mark(),d3_timer_sweep()},i.round=function(e,n){return n?Math.round(e*(n=Math.pow(10,n)))/n:Math.round(e)};var te=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function d3_formatPrefix(e,n){var r=Math.pow(10,3*m(8-n));return{scale:n>8?function(e){return e/r}:function(e){return e*r},symbol:e}}));function d3_locale_numberFormat(e){var n=e.decimal,r=e.thousands,a=e.grouping,o=e.currency,s=a&&r?function(e,n){for(var o=e.length,i=[],s=0,l=a[0],c=0;o>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(e.substring(o-=l,o+l)),!((c+=l+1)>n));)l=a[s=(s+1)%a.length];return i.reverse().join(r)}:d3_identity;return function(e){var r=ne.exec(e),a=r[1]||" ",l=r[2]||">",c=r[3]||"-",u=r[4]||"",d=r[5],p=+r[6],f=r[7],h=r[8],m=r[9],g=1,y="",b="",x=!1,_=!0;switch(h&&(h=+h.substring(1)),(d||"0"===a&&"="===l)&&(d=a="0",l="="),m){case"n":f=!0,m="g";break;case"%":g=100,b="%",m="f";break;case"p":g=100,b="%",m="r";break;case"b":case"o":case"x":case"X":"#"===u&&(y="0"+m.toLowerCase());case"c":_=!1;case"d":x=!0,h=0;break;case"s":g=-1,m="r"}"$"===u&&(y=o[0],b=o[1]),"r"!=m||h||(m="g"),null!=h&&("g"==m?h=Math.max(1,Math.min(21,h)):"e"!=m&&"f"!=m||(h=Math.max(0,Math.min(20,h)))),m=re.get(m)||d3_format_typeDefault;var w=d&&f;return function(e){var r=b;if(x&&e%1)return"";var o=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===c?"":c;if(g<0){var u=i.formatPrefix(e,h);e=u.scale(e),r=u.symbol+b}else e*=g;var k,T,S=(e=m(e,h)).lastIndexOf(".");if(S<0){var O=_?e.lastIndexOf("e"):-1;O<0?(k=e,T=""):(k=e.substring(0,O),T=e.substring(O))}else k=e.substring(0,S),T=n+e.substring(S+1);!d&&f&&(k=s(k,1/0));var C=y.length+k.length+T.length+(w?0:o.length),A=C<p?new Array(C=p-C+1).join(a):"";return w&&(k=s(A+k,A.length?p-T.length:1/0)),o+=y,e=k+T,("<"===l?o+e+A:">"===l?A+o+e:"^"===l?A.substring(0,C>>=1)+o+e+A.substring(C):o+(w?e:A+e))+r}}}i.formatPrefix=function(e,n){var r=0;return(e=+e)&&(e<0&&(e*=-1),n&&(e=i.round(e,d3_format_precision(e,n))),r=1+Math.floor(1e-12+Math.log(e)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),te[8+r/3]};var ne=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,re=i.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,n){return e.toPrecision(n)},e:function(e,n){return e.toExponential(n)},f:function(e,n){return e.toFixed(n)},r:function(e,n){return(e=i.round(e,d3_format_precision(e,n))).toFixed(Math.max(0,Math.min(20,d3_format_precision(e*(1+1e-15),n))))}});function d3_format_typeDefault(e){return e+""}var ae=i.time={},oe=Date;function d3_date_utc(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}d3_date_utc.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ie.setUTCDate.apply(this._,arguments)},setDay:function(){ie.setUTCDay.apply(this._,arguments)},setFullYear:function(){ie.setUTCFullYear.apply(this._,arguments)},setHours:function(){ie.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ie.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ie.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ie.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ie.setUTCSeconds.apply(this._,arguments)},setTime:function(){ie.setTime.apply(this._,arguments)}};var ie=Date.prototype;function d3_time_interval(e,n,r){function round(n){var r=e(n),a=offset(r,1);return n-r<a-n?r:a}function ceil(r){return n(r=e(new oe(r-1)),1),r}function offset(e,r){return n(e=new oe(+e),r),e}function range(e,a,o){var i=ceil(e),s=[];if(o>1)for(;i<a;)r(i)%o||s.push(new Date(+i)),n(i,1);else for(;i<a;)s.push(new Date(+i)),n(i,1);return s}e.floor=e,e.round=round,e.ceil=ceil,e.offset=offset,e.range=range;var a=e.utc=d3_time_interval_utc(e);return a.floor=a,a.round=d3_time_interval_utc(round),a.ceil=d3_time_interval_utc(ceil),a.offset=d3_time_interval_utc(offset),a.range=function range_utc(e,n,r){try{oe=d3_date_utc;var a=new d3_date_utc;return a._=e,range(a,n,r)}finally{oe=Date}},e}function d3_time_interval_utc(e){return function(n,r){try{oe=d3_date_utc;var a=new d3_date_utc;return a._=n,e(a,r)._}finally{oe=Date}}}function d3_locale_timeFormat(e){var n=e.dateTime,r=e.date,a=e.time,o=e.periods,s=e.days,l=e.shortDays,c=e.months,u=e.shortMonths;function d3_time_format(e){var n=e.length;function format(r){for(var a,o,i,s=[],l=-1,c=0;++l<n;)37===e.charCodeAt(l)&&(s.push(e.slice(c,l)),null!=(o=se[a=e.charAt(++l)])&&(a=e.charAt(++l)),(i=_[a])&&(a=i(r,null==o?"e"===a?" ":"0":o)),s.push(a),c=l+1);return s.push(e.slice(c,l)),s.join("")}return format.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d3_time_parse(r,e,n,0)!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&oe!==d3_date_utc,o=new(a?d3_date_utc:oe);return"j"in r?o.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),o.setFullYear(r.y,0,1),o.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(o.getDay()+5)%7:r.w+7*r.U-(o.getDay()+6)%7)):o.setFullYear(r.y,r.m,r.d),o.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?o._:o},format.toString=function(){return e},format}function d3_time_parse(e,n,r,a){for(var o,i,s,l=0,c=n.length,u=r.length;l<c;){if(a>=u)return-1;if(37===(o=n.charCodeAt(l++))){if(s=n.charAt(l++),!(i=w[s in se?n.charAt(l++):s])||(a=i(e,r,a))<0)return-1}else if(o!=r.charCodeAt(a++))return-1}return a}d3_time_format.utc=function(e){var n=d3_time_format(e);function format(e){try{var r=new(oe=d3_date_utc);return r._=e,n(r)}finally{oe=Date}}return format.parse=function(e){try{oe=d3_date_utc;var r=n.parse(e);return r&&r._}finally{oe=Date}},format.toString=n.toString,format},d3_time_format.multi=d3_time_format.utc.multi=d3_time_formatMulti;var d=i.map(),p=d3_time_formatRe(s),f=d3_time_formatLookup(s),h=d3_time_formatRe(l),m=d3_time_formatLookup(l),g=d3_time_formatRe(c),y=d3_time_formatLookup(c),b=d3_time_formatRe(u),x=d3_time_formatLookup(u);o.forEach((function(e,n){d.set(e.toLowerCase(),n)}));var _={a:function(e){return l[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return c[e.getMonth()]},c:d3_time_format(n),d:function(e,n){return d3_time_formatPad(e.getDate(),n,2)},e:function(e,n){return d3_time_formatPad(e.getDate(),n,2)},H:function(e,n){return d3_time_formatPad(e.getHours(),n,2)},I:function(e,n){return d3_time_formatPad(e.getHours()%12||12,n,2)},j:function(e,n){return d3_time_formatPad(1+ae.dayOfYear(e),n,3)},L:function(e,n){return d3_time_formatPad(e.getMilliseconds(),n,3)},m:function(e,n){return d3_time_formatPad(e.getMonth()+1,n,2)},M:function(e,n){return d3_time_formatPad(e.getMinutes(),n,2)},p:function(e){return o[+(e.getHours()>=12)]},S:function(e,n){return d3_time_formatPad(e.getSeconds(),n,2)},U:function(e,n){return d3_time_formatPad(ae.sundayOfYear(e),n,2)},w:function(e){return e.getDay()},W:function(e,n){return d3_time_formatPad(ae.mondayOfYear(e),n,2)},x:d3_time_format(r),X:d3_time_format(a),y:function(e,n){return d3_time_formatPad(e.getFullYear()%100,n,2)},Y:function(e,n){return d3_time_formatPad(e.getFullYear()%1e4,n,4)},Z:d3_time_zone,"%":function(){return"%"}},w={a:function d3_time_parseWeekdayAbbrev(e,n,r){h.lastIndex=0;var a=h.exec(n.slice(r));return a?(e.w=m.get(a[0].toLowerCase()),r+a[0].length):-1},A:function d3_time_parseWeekday(e,n,r){p.lastIndex=0;var a=p.exec(n.slice(r));return a?(e.w=f.get(a[0].toLowerCase()),r+a[0].length):-1},b:function d3_time_parseMonthAbbrev(e,n,r){b.lastIndex=0;var a=b.exec(n.slice(r));return a?(e.m=x.get(a[0].toLowerCase()),r+a[0].length):-1},B:function d3_time_parseMonth(e,n,r){g.lastIndex=0;var a=g.exec(n.slice(r));return a?(e.m=y.get(a[0].toLowerCase()),r+a[0].length):-1},c:function d3_time_parseLocaleFull(e,n,r){return d3_time_parse(e,_.c.toString(),n,r)},d:d3_time_parseDay,e:d3_time_parseDay,H:d3_time_parseHour24,I:d3_time_parseHour24,j:d3_time_parseDayOfYear,L:d3_time_parseMilliseconds,m:d3_time_parseMonthNumber,M:d3_time_parseMinutes,p:function d3_time_parseAmPm(e,n,r){var a=d.get(n.slice(r,r+=2).toLowerCase());return null==a?-1:(e.p=a,r)},S:d3_time_parseSeconds,U:d3_time_parseWeekNumberSunday,w:d3_time_parseWeekdayNumber,W:d3_time_parseWeekNumberMonday,x:function d3_time_parseLocaleDate(e,n,r){return d3_time_parse(e,_.x.toString(),n,r)},X:function d3_time_parseLocaleTime(e,n,r){return d3_time_parse(e,_.X.toString(),n,r)},y:d3_time_parseYear,Y:d3_time_parseFullYear,Z:d3_time_parseZone,"%":d3_time_parseLiteralPercent};return d3_time_format}ae.year=d3_time_interval((function(e){return(e=ae.day(e)).setMonth(0,1),e}),(function(e,n){e.setFullYear(e.getFullYear()+n)}),(function(e){return e.getFullYear()})),ae.years=ae.year.range,ae.years.utc=ae.year.utc.range,ae.day=d3_time_interval((function(e){var n=new oe(2e3,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n}),(function(e,n){e.setDate(e.getDate()+n)}),(function(e){return e.getDate()-1})),ae.days=ae.day.range,ae.days.utc=ae.day.utc.range,ae.dayOfYear=function(e){var n=ae.year(e);return Math.floor((e-n-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,n){n=7-n;var r=ae[e]=d3_time_interval((function(e){return(e=ae.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e}),(function(e,n){e.setDate(e.getDate()+7*Math.floor(n))}),(function(e){var r=ae.year(e).getDay();return Math.floor((ae.dayOfYear(e)+(r+n)%7)/7)-(r!==n)}));ae[e+"s"]=r.range,ae[e+"s"].utc=r.utc.range,ae[e+"OfYear"]=function(e){var r=ae.year(e).getDay();return Math.floor((ae.dayOfYear(e)+(r+n)%7)/7)}})),ae.week=ae.sunday,ae.weeks=ae.sunday.range,ae.weeks.utc=ae.sunday.utc.range,ae.weekOfYear=ae.sundayOfYear;var se={"-":"",_:" ",0:"0"},le=/^\s*\d+/,ce=/^%/;function d3_time_formatPad(e,n,r){var a=e<0?"-":"",o=(a?-e:e)+"",i=o.length;return a+(i<r?new Array(r-i+1).join(n)+o:o)}function d3_time_formatRe(e){return new RegExp("^(?:"+e.map(i.requote).join("|")+")","i")}function d3_time_formatLookup(e){for(var n=new d3_Map,r=-1,a=e.length;++r<a;)n.set(e[r].toLowerCase(),r);return n}function d3_time_parseWeekdayNumber(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function d3_time_parseWeekNumberSunday(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r));return a?(e.U=+a[0],r+a[0].length):-1}function d3_time_parseWeekNumberMonday(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r));return a?(e.W=+a[0],r+a[0].length):-1}function d3_time_parseFullYear(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function d3_time_parseYear(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.y=function d3_time_expandYear(e){return e+(e>68?1900:2e3)}(+a[0]),r+a[0].length):-1}function d3_time_parseZone(e,n,r){return/^[+-]\d{4}$/.test(n=n.slice(r,r+5))?(e.Z=-n,r+5):-1}function d3_time_parseMonthNumber(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function d3_time_parseDay(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function d3_time_parseDayOfYear(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+3));return a?(e.j=+a[0],r+a[0].length):-1}function d3_time_parseHour24(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function d3_time_parseMinutes(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function d3_time_parseSeconds(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function d3_time_parseMilliseconds(e,n,r){le.lastIndex=0;var a=le.exec(n.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function d3_time_zone(e){var n=e.getTimezoneOffset(),r=n>0?"-":"+",a=m(n)/60|0,o=m(n)%60;return r+d3_time_formatPad(a,"0",2)+d3_time_formatPad(o,"0",2)}function d3_time_parseLiteralPercent(e,n,r){ce.lastIndex=0;var a=ce.exec(n.slice(r,r+1));return a?r+a[0].length:-1}function d3_time_formatMulti(e){for(var n=e.length,r=-1;++r<n;)e[r][0]=this(e[r][0]);return function(n){for(var r=0,a=e[r];!a[1](n);)a=e[++r];return a[0](n)}}i.locale=function(e){return{numberFormat:d3_locale_numberFormat(e),timeFormat:d3_locale_timeFormat(e)}};var ue=i.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function d3_adder(){}i.format=ue.numberFormat,i.geo={},d3_adder.prototype={s:0,t:0,add:function(e){d3_adderSum(e,this.t,de),d3_adderSum(de.s,this.s,this),this.s?this.t+=de.t:this.s=de.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var de=new d3_adder;function d3_adderSum(e,n,r){var a=r.s=e+n,o=a-e,i=a-o;r.t=e-i+(n-o)}function d3_geo_streamGeometry(e,n){e&&fe.hasOwnProperty(e.type)&&fe[e.type](e,n)}i.geo.stream=function(e,n){e&&pe.hasOwnProperty(e.type)?pe[e.type](e,n):d3_geo_streamGeometry(e,n)};var pe={Feature:function(e,n){d3_geo_streamGeometry(e.geometry,n)},FeatureCollection:function(e,n){for(var r=e.features,a=-1,o=r.length;++a<o;)d3_geo_streamGeometry(r[a].geometry,n)}},fe={Sphere:function(e,n){n.sphere()},Point:function(e,n){e=e.coordinates,n.point(e[0],e[1],e[2])},MultiPoint:function(e,n){for(var r=e.coordinates,a=-1,o=r.length;++a<o;)e=r[a],n.point(e[0],e[1],e[2])},LineString:function(e,n){d3_geo_streamLine(e.coordinates,n,0)},MultiLineString:function(e,n){for(var r=e.coordinates,a=-1,o=r.length;++a<o;)d3_geo_streamLine(r[a],n,0)},Polygon:function(e,n){d3_geo_streamPolygon(e.coordinates,n)},MultiPolygon:function(e,n){for(var r=e.coordinates,a=-1,o=r.length;++a<o;)d3_geo_streamPolygon(r[a],n)},GeometryCollection:function(e,n){for(var r=e.geometries,a=-1,o=r.length;++a<o;)d3_geo_streamGeometry(r[a],n)}};function d3_geo_streamLine(e,n,r){var a,o=-1,i=e.length-r;for(n.lineStart();++o<i;)a=e[o],n.point(a[0],a[1],a[2]);n.lineEnd()}function d3_geo_streamPolygon(e,n){var r=-1,a=e.length;for(n.polygonStart();++r<a;)d3_geo_streamLine(e[r],n,1);n.polygonEnd()}i.geo.area=function(e){return he=0,i.geo.stream(e,Ce),he};var he,me,ge,ye,be,ve,xe,_e,we,ke,Te,Se,Oe=new d3_adder,Ce={sphere:function(){he+=4*N},point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Oe.reset(),Ce.lineStart=d3_geo_areaRingStart},polygonEnd:function(){var e=2*Oe;he+=e<0?4*N+e:e,Ce.lineStart=Ce.lineEnd=Ce.point=d3_noop}};function d3_geo_areaRingStart(){var e,n,r,a,o;function nextPoint(e,n){n=n*j/2+N/4;var i=(e*=j)-r,s=i>=0?1:-1,l=s*i,c=Math.cos(n),u=Math.sin(n),d=o*u,p=a*c+d*Math.cos(l),f=d*s*Math.sin(l);Oe.add(Math.atan2(f,p)),r=e,a=c,o=u}Ce.point=function(i,s){Ce.point=nextPoint,r=(e=i)*j,a=Math.cos(s=(n=s)*j/2+N/4),o=Math.sin(s)},Ce.lineEnd=function(){nextPoint(e,n)}}function d3_geo_cartesian(e){var n=e[0],r=e[1],a=Math.cos(r);return[a*Math.cos(n),a*Math.sin(n),Math.sin(r)]}function d3_geo_cartesianDot(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]}function d3_geo_cartesianCross(e,n){return[e[1]*n[2]-e[2]*n[1],e[2]*n[0]-e[0]*n[2],e[0]*n[1]-e[1]*n[0]]}function d3_geo_cartesianAdd(e,n){e[0]+=n[0],e[1]+=n[1],e[2]+=n[2]}function d3_geo_cartesianScale(e,n){return[e[0]*n,e[1]*n,e[2]*n]}function d3_geo_cartesianNormalize(e){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=n,e[1]/=n,e[2]/=n}function d3_geo_spherical(e){return[Math.atan2(e[1],e[0]),d3_asin(e[2])]}function d3_geo_sphericalEqual(e,n){return m(e[0]-n[0])<A&&m(e[1]-n[1])<A}i.geo.bounds=function(){var e,n,r,a,o,s,l,c,u,d,p,f={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){f.point=ringPoint,f.lineStart=ringStart,f.lineEnd=ringEnd,u=0,Ce.polygonStart()},polygonEnd:function(){Ce.polygonEnd(),f.point=point,f.lineStart=lineStart,f.lineEnd=lineEnd,Oe<0?(e=-(r=180),n=-(a=90)):u>A?a=90:u<-A&&(n=-90),p[0]=e,p[1]=r}};function point(o,i){d.push(p=[e=o,r=o]),i<n&&(n=i),i>a&&(a=i)}function linePoint(i,s){var l=d3_geo_cartesian([i*j,s*j]);if(c){var u=d3_geo_cartesianCross(c,l),d=d3_geo_cartesianCross([u[1],-u[0],0],u);d3_geo_cartesianNormalize(d),d=d3_geo_spherical(d);var p=i-o,f=p>0?1:-1,h=d[0]*R*f,g=m(p)>180;if(g^(f*o<h&&h<f*i))(y=d[1]*R)>a&&(a=y);else if(g^(f*o<(h=(h+360)%360-180)&&h<f*i)){var y;(y=-d[1]*R)<n&&(n=y)}else s<n&&(n=s),s>a&&(a=s);g?i<o?angle(e,i)>angle(e,r)&&(r=i):angle(i,r)>angle(e,r)&&(e=i):r>=e?(i<e&&(e=i),i>r&&(r=i)):i>o?angle(e,i)>angle(e,r)&&(r=i):angle(i,r)>angle(e,r)&&(e=i)}else point(i,s);c=l,o=i}function lineStart(){f.point=linePoint}function lineEnd(){p[0]=e,p[1]=r,f.point=point,c=null}function ringPoint(e,n){if(c){var r=e-o;u+=m(r)>180?r+(r>0?360:-360):r}else s=e,l=n;Ce.point(e,n),linePoint(e,n)}function ringStart(){Ce.lineStart()}function ringEnd(){ringPoint(s,l),Ce.lineEnd(),m(u)>A&&(e=-(r=180)),p[0]=e,p[1]=r,c=null}function angle(e,n){return(n-=e)<0?n+360:n}function compareRanges(e,n){return e[0]-n[0]}function withinRange(e,n){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}return function(o){if(a=r=-(e=n=1/0),d=[],i.geo.stream(o,f),u=d.length){d.sort(compareRanges);for(var s=1,l=[g=d[0]];s<u;++s)withinRange((h=d[s])[0],g)||withinRange(h[1],g)?(angle(g[0],h[1])>angle(g[0],g[1])&&(g[1]=h[1]),angle(h[0],g[1])>angle(g[0],g[1])&&(g[0]=h[0])):l.push(g=h);for(var c,u,h,m=-1/0,g=(s=0,l[u=l.length-1]);s<=u;g=h,++s)h=l[s],(c=angle(g[1],h[0]))>m&&(m=c,e=h[0],r=g[1])}return d=p=null,e===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,n],[r,a]]}}(),i.geo.centroid=function(e){me=ge=ye=be=ve=xe=_e=we=ke=Te=Se=0,i.geo.stream(e,Ae);var n=ke,r=Te,a=Se,o=n*n+r*r+a*a;return o<I&&(n=xe,r=_e,a=we,ge<A&&(n=ye,r=be,a=ve),(o=n*n+r*r+a*a)<I)?[NaN,NaN]:[Math.atan2(r,n)*R,d3_asin(a/Math.sqrt(o))*R]};var Ae={sphere:d3_noop,point:d3_geo_centroidPoint,lineStart:d3_geo_centroidLineStart,lineEnd:d3_geo_centroidLineEnd,polygonStart:function(){Ae.lineStart=d3_geo_centroidRingStart},polygonEnd:function(){Ae.lineStart=d3_geo_centroidLineStart}};function d3_geo_centroidPoint(e,n){e*=j;var r=Math.cos(n*=j);d3_geo_centroidPointXYZ(r*Math.cos(e),r*Math.sin(e),Math.sin(n))}function d3_geo_centroidPointXYZ(e,n,r){++me,ye+=(e-ye)/me,be+=(n-be)/me,ve+=(r-ve)/me}function d3_geo_centroidLineStart(){var e,n,r;function nextPoint(a,o){a*=j;var i=Math.cos(o*=j),s=i*Math.cos(a),l=i*Math.sin(a),c=Math.sin(o),u=Math.atan2(Math.sqrt((u=n*c-r*l)*u+(u=r*s-e*c)*u+(u=e*l-n*s)*u),e*s+n*l+r*c);ge+=u,xe+=u*(e+(e=s)),_e+=u*(n+(n=l)),we+=u*(r+(r=c)),d3_geo_centroidPointXYZ(e,n,r)}Ae.point=function(a,o){a*=j;var i=Math.cos(o*=j);e=i*Math.cos(a),n=i*Math.sin(a),r=Math.sin(o),Ae.point=nextPoint,d3_geo_centroidPointXYZ(e,n,r)}}function d3_geo_centroidLineEnd(){Ae.point=d3_geo_centroidPoint}function d3_geo_centroidRingStart(){var e,n,r,a,o;function nextPoint(e,n){e*=j;var i=Math.cos(n*=j),s=i*Math.cos(e),l=i*Math.sin(e),c=Math.sin(n),u=a*c-o*l,d=o*s-r*c,p=r*l-a*s,f=Math.sqrt(u*u+d*d+p*p),h=r*s+a*l+o*c,m=f&&-d3_acos(h)/f,g=Math.atan2(f,h);ke+=m*u,Te+=m*d,Se+=m*p,ge+=g,xe+=g*(r+(r=s)),_e+=g*(a+(a=l)),we+=g*(o+(o=c)),d3_geo_centroidPointXYZ(r,a,o)}Ae.point=function(i,s){e=i,n=s,Ae.point=nextPoint,i*=j;var l=Math.cos(s*=j);r=l*Math.cos(i),a=l*Math.sin(i),o=Math.sin(s),d3_geo_centroidPointXYZ(r,a,o)},Ae.lineEnd=function(){nextPoint(e,n),Ae.lineEnd=d3_geo_centroidLineEnd,Ae.point=d3_geo_centroidPoint}}function d3_geo_compose(e,n){function compose(r,a){return r=e(r,a),n(r[0],r[1])}return e.invert&&n.invert&&(compose.invert=function(r,a){return(r=n.invert(r,a))&&e.invert(r[0],r[1])}),compose}function d3_true(){return!0}function d3_geo_clipPolygon(e,n,r,a,o){var i=[],s=[];if(e.forEach((function(e){if(!((n=e.length-1)<=0)){var n,r=e[0],a=e[n];if(d3_geo_sphericalEqual(r,a)){o.lineStart();for(var l=0;l<n;++l)o.point((r=e[l])[0],r[1]);o.lineEnd()}else{var c=new d3_geo_clipPolygonIntersection(r,e,null,!0),u=new d3_geo_clipPolygonIntersection(r,null,c,!1);c.o=u,i.push(c),s.push(u),c=new d3_geo_clipPolygonIntersection(a,e,null,!1),u=new d3_geo_clipPolygonIntersection(a,null,c,!0),c.o=u,i.push(c),s.push(u)}}})),s.sort(n),d3_geo_clipPolygonLinkCircular(i),d3_geo_clipPolygonLinkCircular(s),i.length){for(var l=0,c=r,u=s.length;l<u;++l)s[l].e=c=!c;for(var d,p,f=i[0];;){for(var h=f,m=!0;h.v;)if((h=h.n)===f)return;d=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(m)for(l=0,u=d.length;l<u;++l)o.point((p=d[l])[0],p[1]);else a(h.x,h.n.x,1,o);h=h.n}else{if(m)for(l=(d=h.p.z).length-1;l>=0;--l)o.point((p=d[l])[0],p[1]);else a(h.x,h.p.x,-1,o);h=h.p}d=(h=h.o).z,m=!m}while(!h.v);o.lineEnd()}}}function d3_geo_clipPolygonLinkCircular(e){if(n=e.length){for(var n,r,a=0,o=e[0];++a<n;)o.n=r=e[a],r.p=o,o=r;o.n=r=e[0],r.p=o}}function d3_geo_clipPolygonIntersection(e,n,r,a){this.x=e,this.z=n,this.o=r,this.e=a,this.v=!1,this.n=this.p=null}function d3_geo_clip(e,n,r,a){return function(o,s){var l,c=n(s),u=o.invert(a[0],a[1]),d={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){d.point=pointRing,d.lineStart=ringStart,d.lineEnd=ringEnd,l=[],p=[]},polygonEnd:function(){d.point=point,d.lineStart=lineStart,d.lineEnd=lineEnd,l=i.merge(l);var e=function d3_geo_pointInPolygon(e,n){var r=e[0],a=e[1],o=[Math.sin(r),-Math.cos(r),0],i=0,s=0;Oe.reset();for(var l=0,c=n.length;l<c;++l){var u=n[l],d=u.length;if(d)for(var p=u[0],f=p[0],h=p[1]/2+N/4,m=Math.sin(h),g=Math.cos(h),y=1;;){y===d&&(y=0);var b=(e=u[y])[0],x=e[1]/2+N/4,_=Math.sin(x),w=Math.cos(x),k=b-f,T=k>=0?1:-1,S=T*k,O=S>N,C=m*_;if(Oe.add(Math.atan2(C*T*Math.sin(S),g*w+C*Math.cos(S))),i+=O?k+T*M:k,O^f>=r^b>=r){var I=d3_geo_cartesianCross(d3_geo_cartesian(p),d3_geo_cartesian(e));d3_geo_cartesianNormalize(I);var E=d3_geo_cartesianCross(o,I);d3_geo_cartesianNormalize(E);var D=(O^k>=0?-1:1)*d3_asin(E[2]);(a>D||a===D&&(I[0]||I[1]))&&(s+=O^k>=0?1:-1)}if(!y++)break;f=b,m=_,g=w,p=e}}return(i<-A||i<A&&Oe<-A)^1&s}(u,p);l.length?(g||(s.polygonStart(),g=!0),d3_geo_clipPolygon(l,d3_geo_clipSort,e,r,s)):e&&(g||(s.polygonStart(),g=!0),s.lineStart(),r(null,null,1,s),s.lineEnd()),g&&(s.polygonEnd(),g=!1),l=p=null},sphere:function(){s.polygonStart(),s.lineStart(),r(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function point(n,r){var a=o(n,r);e(n=a[0],r=a[1])&&s.point(n,r)}function pointLine(e,n){var r=o(e,n);c.point(r[0],r[1])}function lineStart(){d.point=pointLine,c.lineStart()}function lineEnd(){d.point=point,c.lineEnd()}var p,f,h=d3_geo_clipBufferListener(),m=n(h),g=!1;function pointRing(e,n){f.push([e,n]);var r=o(e,n);m.point(r[0],r[1])}function ringStart(){m.lineStart(),f=[]}function ringEnd(){pointRing(f[0][0],f[0][1]),m.lineEnd();var e,n=m.clean(),r=h.buffer(),a=r.length;if(f.pop(),p.push(f),f=null,a)if(1&n){var o,i=-1;if((a=(e=r[0]).length-1)>0){for(g||(s.polygonStart(),g=!0),s.lineStart();++i<a;)s.point((o=e[i])[0],o[1]);s.lineEnd()}}else a>1&&2&n&&r.push(r.pop().concat(r.shift())),l.push(r.filter(d3_geo_clipSegmentLength1))}return d}}function d3_geo_clipSegmentLength1(e){return e.length>1}function d3_geo_clipBufferListener(){var e,n=[];return{lineStart:function(){n.push(e=[])},point:function(n,r){e.push([n,r])},lineEnd:d3_noop,buffer:function(){var r=n;return n=[],e=null,r},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function d3_geo_clipSort(e,n){return((e=e.x)[0]<0?e[1]-D-A:D-e[1])-((n=n.x)[0]<0?n[1]-D-A:D-n[1])}var Ie=d3_geo_clip(d3_true,(function d3_geo_clipAntimeridianLine(e){var n,r=NaN,a=NaN,o=NaN;return{lineStart:function(){e.lineStart(),n=1},point:function(i,s){var l=i>0?N:-N,c=m(i-r);m(c-N)<A?(e.point(r,a=(a+s)/2>0?D:-D),e.point(o,a),e.lineEnd(),e.lineStart(),e.point(l,a),e.point(i,a),n=0):o!==l&&c>=N&&(m(r-o)<A&&(r-=o*A),m(i-l)<A&&(i-=l*A),a=function d3_geo_clipAntimeridianIntersect(e,n,r,a){var o,i,s=Math.sin(e-r);return m(s)>A?Math.atan((Math.sin(n)*(i=Math.cos(a))*Math.sin(r)-Math.sin(a)*(o=Math.cos(n))*Math.sin(e))/(o*i*s)):(n+a)/2}(r,a,i,s),e.point(o,a),e.lineEnd(),e.lineStart(),e.point(l,a),n=0),e.point(r=i,a=s),o=l},lineEnd:function(){e.lineEnd(),r=a=NaN},clean:function(){return 2-n}}}),(function d3_geo_clipAntimeridianInterpolate(e,n,r,a){var o;if(null==e)o=r*D,a.point(-N,o),a.point(0,o),a.point(N,o),a.point(N,0),a.point(N,-o),a.point(0,-o),a.point(-N,-o),a.point(-N,0),a.point(-N,o);else if(m(e[0]-n[0])>A){var i=e[0]<n[0]?N:-N;o=r*i/2,a.point(-i,o),a.point(0,o),a.point(i,o)}else a.point(n[0],n[1])}),[-N,-N/2]);function d3_geo_clipCircle(e){var n=Math.cos(e),r=n>0,a=m(n)>A;return d3_geo_clip(visible,(function clipLine(e){var n,o,i,s,l;return{lineStart:function(){s=i=!1,l=1},point:function(c,u){var d,p=[c,u],f=visible(c,u),h=r?f?0:code(c,u):f?code(c+(c<0?N:-N),u):0;if(!n&&(s=i=f)&&e.lineStart(),f!==i&&(d=intersect(n,p),(d3_geo_sphericalEqual(n,d)||d3_geo_sphericalEqual(p,d))&&(p[0]+=A,p[1]+=A,f=visible(p[0],p[1]))),f!==i)l=0,f?(e.lineStart(),d=intersect(p,n),e.point(d[0],d[1])):(d=intersect(n,p),e.point(d[0],d[1]),e.lineEnd()),n=d;else if(a&&n&&r^f){var m;h&o||!(m=intersect(p,n,!0))||(l=0,r?(e.lineStart(),e.point(m[0][0],m[0][1]),e.point(m[1][0],m[1][1]),e.lineEnd()):(e.point(m[1][0],m[1][1]),e.lineEnd(),e.lineStart(),e.point(m[0][0],m[0][1])))}!f||n&&d3_geo_sphericalEqual(n,p)||e.point(p[0],p[1]),n=p,i=f,o=h},lineEnd:function(){i&&e.lineEnd(),n=null},clean:function(){return l|(s&&i)<<1}}}),d3_geo_circleInterpolate(e,6*j),r?[0,-e]:[-N,e-N]);function visible(e,r){return Math.cos(e)*Math.cos(r)>n}function intersect(e,r,a){var o=[1,0,0],i=d3_geo_cartesianCross(d3_geo_cartesian(e),d3_geo_cartesian(r)),s=d3_geo_cartesianDot(i,i),l=i[0],c=s-l*l;if(!c)return!a&&e;var u=n*s/c,d=-n*l/c,p=d3_geo_cartesianCross(o,i),f=d3_geo_cartesianScale(o,u);d3_geo_cartesianAdd(f,d3_geo_cartesianScale(i,d));var h=p,g=d3_geo_cartesianDot(f,h),y=d3_geo_cartesianDot(h,h),b=g*g-y*(d3_geo_cartesianDot(f,f)-1);if(!(b<0)){var x=Math.sqrt(b),_=d3_geo_cartesianScale(h,(-g-x)/y);if(d3_geo_cartesianAdd(_,f),_=d3_geo_spherical(_),!a)return _;var w,k=e[0],T=r[0],S=e[1],O=r[1];T<k&&(w=k,k=T,T=w);var C=T-k,I=m(C-N)<A;if(!I&&O<S&&(w=S,S=O,O=w),I||C<A?I?S+O>0^_[1]<(m(_[0]-k)<A?S:O):S<=_[1]&&_[1]<=O:C>N^(k<=_[0]&&_[0]<=T)){var M=d3_geo_cartesianScale(h,(-g+x)/y);return d3_geo_cartesianAdd(M,f),[_,d3_geo_spherical(M)]}}}function code(n,a){var o=r?e:N-e,i=0;return n<-o?i|=1:n>o&&(i|=2),a<-o?i|=4:a>o&&(i|=8),i}}function d3_geom_clipLine(e,n,r,a){return function(o){var i,s=o.a,l=o.b,c=s.x,u=s.y,d=0,p=1,f=l.x-c,h=l.y-u;if(i=e-c,f||!(i>0)){if(i/=f,f<0){if(i<d)return;i<p&&(p=i)}else if(f>0){if(i>p)return;i>d&&(d=i)}if(i=r-c,f||!(i<0)){if(i/=f,f<0){if(i>p)return;i>d&&(d=i)}else if(f>0){if(i<d)return;i<p&&(p=i)}if(i=n-u,h||!(i>0)){if(i/=h,h<0){if(i<d)return;i<p&&(p=i)}else if(h>0){if(i>p)return;i>d&&(d=i)}if(i=a-u,h||!(i<0)){if(i/=h,h<0){if(i>p)return;i>d&&(d=i)}else if(h>0){if(i<d)return;i<p&&(p=i)}return d>0&&(o.a={x:c+d*f,y:u+d*h}),p<1&&(o.b={x:c+p*f,y:u+p*h}),o}}}}}}var Ne=1e9;function d3_geo_clipExtent(e,n,r,a){return function(o){var s,l,c,u,d,p,f,h,m,g,y,b=o,x=d3_geo_clipBufferListener(),_=d3_geom_clipLine(e,n,r,a),w={point:point,lineStart:function lineStart(){w.point=linePoint,l&&l.push(c=[]);g=!0,m=!1,f=h=NaN},lineEnd:function lineEnd(){s&&(linePoint(u,d),p&&m&&x.rejoin(),s.push(x.buffer()));w.point=point,m&&o.lineEnd()},polygonStart:function(){o=x,s=[],l=[],y=!0},polygonEnd:function(){o=b,s=i.merge(s);var n=function insidePolygon(e){for(var n=0,r=l.length,a=e[1],o=0;o<r;++o)for(var i,s=1,c=l[o],u=c.length,d=c[0];s<u;++s)i=c[s],d[1]<=a?i[1]>a&&d3_cross2d(d,i,e)>0&&++n:i[1]<=a&&d3_cross2d(d,i,e)<0&&--n,d=i;return 0!==n}([e,a]),r=y&&n,u=s.length;(r||u)&&(o.polygonStart(),r&&(o.lineStart(),interpolate(null,null,1,o),o.lineEnd()),u&&d3_geo_clipPolygon(s,compare,n,interpolate,o),o.polygonEnd()),s=l=c=null}};function interpolate(o,i,s,l){var c=0,u=0;if(null==o||(c=corner(o,s))!==(u=corner(i,s))||comparePoints(o,i)<0^s>0)do{l.point(0===c||3===c?e:r,c>1?a:n)}while((c=(c+s+4)%4)!==u);else l.point(i[0],i[1])}function pointVisible(o,i){return e<=o&&o<=r&&n<=i&&i<=a}function point(e,n){pointVisible(e,n)&&o.point(e,n)}function linePoint(e,n){var r=pointVisible(e=Math.max(-1e9,Math.min(Ne,e)),n=Math.max(-1e9,Math.min(Ne,n)));if(l&&c.push([e,n]),g)u=e,d=n,p=r,g=!1,r&&(o.lineStart(),o.point(e,n));else if(r&&m)o.point(e,n);else{var a={a:{x:f,y:h},b:{x:e,y:n}};_(a)?(m||(o.lineStart(),o.point(a.a.x,a.a.y)),o.point(a.b.x,a.b.y),r||o.lineEnd(),y=!1):r&&(o.lineStart(),o.point(e,n),y=!1)}f=e,h=n,m=r}return w};function corner(a,o){return m(a[0]-e)<A?o>0?0:3:m(a[0]-r)<A?o>0?2:1:m(a[1]-n)<A?o>0?1:0:o>0?3:2}function compare(e,n){return comparePoints(e.x,n.x)}function comparePoints(e,n){var r=corner(e,1),a=corner(n,1);return r!==a?r-a:0===r?n[1]-e[1]:1===r?e[0]-n[0]:2===r?e[1]-n[1]:n[0]-e[0]}}function d3_geo_conic(e){var n=0,r=N/3,a=d3_geo_projectionMutator(e),o=a(n,r);return o.parallels=function(e){return arguments.length?a(n=e[0]*N/180,r=e[1]*N/180):[n/N*180,r/N*180]},o}function d3_geo_conicEqualArea(e,n){var r=Math.sin(e),a=(r+Math.sin(n))/2,o=1+r*(2*a-r),i=Math.sqrt(o)/a;function forward(e,n){var r=Math.sqrt(o-2*a*Math.sin(n))/a;return[r*Math.sin(e*=a),i-r*Math.cos(e)]}return forward.invert=function(e,n){var r=i-n;return[Math.atan2(e,r)/a,d3_asin((o-(e*e+r*r)*a*a)/(2*a))]},forward}i.geo.clipExtent=function(){var e,n,r,a,o,i,s={stream:function(e){return o&&(o.valid=!1),(o=i(e)).valid=!0,o},extent:function(l){return arguments.length?(i=d3_geo_clipExtent(e=+l[0][0],n=+l[0][1],r=+l[1][0],a=+l[1][1]),o&&(o.valid=!1,o=null),s):[[e,n],[r,a]]}};return s.extent([[0,0],[960,500]])},(i.geo.conicEqualArea=function(){return d3_geo_conic(d3_geo_conicEqualArea)}).raw=d3_geo_conicEqualArea,i.geo.albers=function(){return i.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},i.geo.albersUsa=function(){var e,n,r,a,o=i.geo.albers(),s=i.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=i.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(n,r){e=[n,r]}};function albersUsa(o){var i=o[0],s=o[1];return e=null,n(i,s),e||(r(i,s),e)||a(i,s),e}return albersUsa.invert=function(e){var n=o.scale(),r=o.translate(),a=(e[0]-r[0])/n,i=(e[1]-r[1])/n;return(i>=.12&&i<.234&&a>=-.425&&a<-.214?s:i>=.166&&i<.234&&a>=-.214&&a<-.115?l:o).invert(e)},albersUsa.stream=function(e){var n=o.stream(e),r=s.stream(e),a=l.stream(e);return{point:function(e,o){n.point(e,o),r.point(e,o),a.point(e,o)},sphere:function(){n.sphere(),r.sphere(),a.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),a.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),a.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),a.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),a.polygonEnd()}}},albersUsa.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),l.precision(e),albersUsa):o.precision()},albersUsa.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),l.scale(e),albersUsa.translate(o.translate())):o.scale()},albersUsa.translate=function(e){if(!arguments.length)return o.translate();var i=o.scale(),u=+e[0],d=+e[1];return n=o.translate(e).clipExtent([[u-.455*i,d-.238*i],[u+.455*i,d+.238*i]]).stream(c).point,r=s.translate([u-.307*i,d+.201*i]).clipExtent([[u-.425*i+A,d+.12*i+A],[u-.214*i-A,d+.234*i-A]]).stream(c).point,a=l.translate([u-.205*i,d+.212*i]).clipExtent([[u-.214*i+A,d+.166*i+A],[u-.115*i-A,d+.234*i-A]]).stream(c).point,albersUsa},albersUsa.scale(1070)};var Me,Ee,De,je,Re,Le,Pe={point:d3_noop,lineStart:d3_noop,lineEnd:d3_noop,polygonStart:function(){Ee=0,Pe.lineStart=d3_geo_pathAreaRingStart},polygonEnd:function(){Pe.lineStart=Pe.lineEnd=Pe.point=d3_noop,Me+=m(Ee/2)}};function d3_geo_pathAreaRingStart(){var e,n,r,a;function nextPoint(e,n){Ee+=a*e-r*n,r=e,a=n}Pe.point=function(o,i){Pe.point=nextPoint,e=r=o,n=a=i},Pe.lineEnd=function(){nextPoint(e,n)}}var Fe={point:function d3_geo_pathBoundsPoint(e,n){e<De&&(De=e);e>Re&&(Re=e);n<je&&(je=n);n>Le&&(Le=n)},lineStart:d3_noop,lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_pathBuffer(){var e=d3_geo_pathBufferCircle(4.5),n=[],r={point:point,lineStart:function(){r.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(n){return e=d3_geo_pathBufferCircle(n),r},result:function(){if(n.length){var e=n.join("");return n=[],e}}};function point(r,a){n.push("M",r,",",a,e)}function pointLineStart(e,a){n.push("M",e,",",a),r.point=pointLine}function pointLine(e,r){n.push("L",e,",",r)}function lineEnd(){r.point=point}function lineEndPolygon(){n.push("Z")}return r}function d3_geo_pathBufferCircle(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var ze,$e={point:d3_geo_pathCentroidPoint,lineStart:d3_geo_pathCentroidLineStart,lineEnd:d3_geo_pathCentroidLineEnd,polygonStart:function(){$e.lineStart=d3_geo_pathCentroidRingStart},polygonEnd:function(){$e.point=d3_geo_pathCentroidPoint,$e.lineStart=d3_geo_pathCentroidLineStart,$e.lineEnd=d3_geo_pathCentroidLineEnd}};function d3_geo_pathCentroidPoint(e,n){ye+=e,be+=n,++ve}function d3_geo_pathCentroidLineStart(){var e,n;function nextPoint(r,a){var o=r-e,i=a-n,s=Math.sqrt(o*o+i*i);xe+=s*(e+r)/2,_e+=s*(n+a)/2,we+=s,d3_geo_pathCentroidPoint(e=r,n=a)}$e.point=function(r,a){$e.point=nextPoint,d3_geo_pathCentroidPoint(e=r,n=a)}}function d3_geo_pathCentroidLineEnd(){$e.point=d3_geo_pathCentroidPoint}function d3_geo_pathCentroidRingStart(){var e,n,r,a;function nextPoint(e,n){var o=e-r,i=n-a,s=Math.sqrt(o*o+i*i);xe+=s*(r+e)/2,_e+=s*(a+n)/2,we+=s,ke+=(s=a*e-r*n)*(r+e),Te+=s*(a+n),Se+=3*s,d3_geo_pathCentroidPoint(r=e,a=n)}$e.point=function(o,i){$e.point=nextPoint,d3_geo_pathCentroidPoint(e=r=o,n=a=i)},$e.lineEnd=function(){nextPoint(e,n)}}function d3_geo_pathContext(e){var n=4.5,r={point:point,lineStart:function(){r.point=pointLineStart},lineEnd:lineEnd,polygonStart:function(){r.lineEnd=lineEndPolygon},polygonEnd:function(){r.lineEnd=lineEnd,r.point=point},pointRadius:function(e){return n=e,r},result:d3_noop};function point(r,a){e.moveTo(r+n,a),e.arc(r,a,n,0,M)}function pointLineStart(n,a){e.moveTo(n,a),r.point=pointLine}function pointLine(n,r){e.lineTo(n,r)}function lineEnd(){r.point=point}function lineEndPolygon(){e.closePath()}return r}function d3_geo_resample(e){var n=.5,r=Math.cos(30*j),a=16;function resample(e){return(a?resampleRecursive:resampleNone)(e)}function resampleNone(n){return d3_geo_transformPoint(n,(function(r,a){r=e(r,a),n.point(r[0],r[1])}))}function resampleRecursive(n){var r,o,i,s,l,c,u,d,p,f,h,m,g={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){n.polygonStart(),g.lineStart=ringStart},polygonEnd:function(){n.polygonEnd(),g.lineStart=lineStart}};function point(r,a){r=e(r,a),n.point(r[0],r[1])}function lineStart(){d=NaN,g.point=linePoint,n.lineStart()}function linePoint(r,o){var i=d3_geo_cartesian([r,o]),s=e(r,o);resampleLineTo(d,p,u,f,h,m,d=s[0],p=s[1],u=r,f=i[0],h=i[1],m=i[2],a,n),n.point(d,p)}function lineEnd(){g.point=point,n.lineEnd()}function ringStart(){lineStart(),g.point=ringPoint,g.lineEnd=ringEnd}function ringPoint(e,n){linePoint(r=e,n),o=d,i=p,s=f,l=h,c=m,g.point=linePoint}function ringEnd(){resampleLineTo(d,p,u,f,h,m,o,i,r,s,l,c,a,n),g.lineEnd=lineEnd,lineEnd()}return g}function resampleLineTo(a,o,i,s,l,c,u,d,p,f,h,g,y,b){var x=u-a,_=d-o,w=x*x+_*_;if(w>4*n&&y--){var k=s+f,T=l+h,S=c+g,O=Math.sqrt(k*k+T*T+S*S),C=Math.asin(S/=O),I=m(m(S)-1)<A||m(i-p)<A?(i+p)/2:Math.atan2(T,k),N=e(I,C),M=N[0],E=N[1],D=M-a,j=E-o,R=_*D-x*j;(R*R/w>n||m((x*D+_*j)/w-.5)>.3||s*f+l*h+c*g<r)&&(resampleLineTo(a,o,i,s,l,c,M,E,I,k/=O,T/=O,S,y,b),b.point(M,E),resampleLineTo(M,E,I,k,T,S,u,d,p,f,h,g,y,b))}}return resample.precision=function(e){return arguments.length?(a=(n=e*e)>0&&16,resample):Math.sqrt(n)},resample}function d3_geo_pathProjectStream(e){var n=d3_geo_resample((function(n,r){return e([n*R,r*R])}));return function(e){return d3_geo_projectionRadians(n(e))}}function d3_geo_transform(e){this.stream=e}function d3_geo_transformPoint(e,n){return{point:n,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function d3_geo_projection(e){return d3_geo_projectionMutator((function(){return e}))()}function d3_geo_projectionMutator(e){var n,r,a,o,s,l,c=d3_geo_resample((function(e,r){return[(e=n(e,r))[0]*u+o,s-e[1]*u]})),u=150,d=480,p=250,f=0,h=0,m=0,g=0,y=0,b=Ie,x=d3_identity,_=null,w=null;function projection(e){return[(e=a(e[0]*j,e[1]*j))[0]*u+o,s-e[1]*u]}function invert(e){return(e=a.invert((e[0]-o)/u,(s-e[1])/u))&&[e[0]*R,e[1]*R]}function reset(){a=d3_geo_compose(r=d3_geo_rotation(m,g,y),n);var e=n(f,h);return o=d-e[0]*u,s=p+e[1]*u,invalidate()}function invalidate(){return l&&(l.valid=!1,l=null),projection}return projection.stream=function(e){return l&&(l.valid=!1),(l=d3_geo_projectionRadians(b(r,c(x(e))))).valid=!0,l},projection.clipAngle=function(e){return arguments.length?(b=null==e?(_=e,Ie):d3_geo_clipCircle((_=+e)*j),invalidate()):_},projection.clipExtent=function(e){return arguments.length?(w=e,x=e?d3_geo_clipExtent(e[0][0],e[0][1],e[1][0],e[1][1]):d3_identity,invalidate()):w},projection.scale=function(e){return arguments.length?(u=+e,reset()):u},projection.translate=function(e){return arguments.length?(d=+e[0],p=+e[1],reset()):[d,p]},projection.center=function(e){return arguments.length?(f=e[0]%360*j,h=e[1]%360*j,reset()):[f*R,h*R]},projection.rotate=function(e){return arguments.length?(m=e[0]%360*j,g=e[1]%360*j,y=e.length>2?e[2]%360*j:0,reset()):[m*R,g*R,y*R]},i.rebind(projection,c,"precision"),function(){return n=e.apply(this,arguments),projection.invert=n.invert&&invert,reset()}}function d3_geo_projectionRadians(e){return d3_geo_transformPoint(e,(function(n,r){e.point(n*j,r*j)}))}function d3_geo_equirectangular(e,n){return[e,n]}function d3_geo_identityRotation(e,n){return[e>N?e-M:e<-N?e+M:e,n]}function d3_geo_rotation(e,n,r){return e?n||r?d3_geo_compose(d3_geo_rotationλ(e),d3_geo_rotationφγ(n,r)):d3_geo_rotationλ(e):n||r?d3_geo_rotationφγ(n,r):d3_geo_identityRotation}function d3_geo_forwardRotationλ(e){return function(n,r){return[(n+=e)>N?n-M:n<-N?n+M:n,r]}}function d3_geo_rotationλ(e){var n=d3_geo_forwardRotationλ(e);return n.invert=d3_geo_forwardRotationλ(-e),n}function d3_geo_rotationφγ(e,n){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(n),i=Math.sin(n);function rotation(e,n){var s=Math.cos(n),l=Math.cos(e)*s,c=Math.sin(e)*s,u=Math.sin(n),d=u*r+l*a;return[Math.atan2(c*o-d*i,l*r-u*a),d3_asin(d*o+c*i)]}return rotation.invert=function(e,n){var s=Math.cos(n),l=Math.cos(e)*s,c=Math.sin(e)*s,u=Math.sin(n),d=u*o-c*i;return[Math.atan2(c*o+u*i,l*r+d*a),d3_asin(d*r-l*a)]},rotation}function d3_geo_circleInterpolate(e,n){var r=Math.cos(e),a=Math.sin(e);return function(o,i,s,l){var c=s*n;null!=o?(o=d3_geo_circleAngle(r,o),i=d3_geo_circleAngle(r,i),(s>0?o<i:o>i)&&(o+=s*M)):(o=e+s*M,i=e-.5*c);for(var u,d=o;s>0?d>i:d<i;d-=c)l.point((u=d3_geo_spherical([r,-a*Math.cos(d),-a*Math.sin(d)]))[0],u[1])}}function d3_geo_circleAngle(e,n){var r=d3_geo_cartesian(n);r[0]-=e,d3_geo_cartesianNormalize(r);var a=d3_acos(-r[1]);return((-r[2]<0?-a:a)+2*Math.PI-A)%(2*Math.PI)}function d3_geo_graticuleX(e,n,r){var a=i.range(e,n-A,r).concat(n);return function(e){return a.map((function(n){return[e,n]}))}}function d3_geo_graticuleY(e,n,r){var a=i.range(e,n-A,r).concat(n);return function(e){return a.map((function(n){return[n,e]}))}}function d3_source(e){return e.source}function d3_target(e){return e.target}i.geo.path=function(){var e,n,r,a,o,s=4.5;function path(e){return e&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),i.geo.stream(e,o)),a.result()}function reset(){return o=null,path}return path.area=function(e){return Me=0,i.geo.stream(e,r(Pe)),Me},path.centroid=function(e){return ye=be=ve=xe=_e=we=ke=Te=Se=0,i.geo.stream(e,r($e)),Se?[ke/Se,Te/Se]:we?[xe/we,_e/we]:ve?[ye/ve,be/ve]:[NaN,NaN]},path.bounds=function(e){return Re=Le=-(De=je=1/0),i.geo.stream(e,r(Fe)),[[De,je],[Re,Le]]},path.projection=function(n){return arguments.length?(r=(e=n)?n.stream||d3_geo_pathProjectStream(n):d3_identity,reset()):e},path.context=function(e){return arguments.length?(a=null==(n=e)?new d3_geo_pathBuffer:new d3_geo_pathContext(e),"function"!=typeof s&&a.pointRadius(s),reset()):n},path.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),path):s},path.projection(i.geo.albersUsa()).context(null)},i.geo.transform=function(e){return{stream:function(n){var r=new d3_geo_transform(n);for(var a in e)r[a]=e[a];return r}}},d3_geo_transform.prototype={point:function(e,n){this.stream.point(e,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},i.geo.projection=d3_geo_projection,i.geo.projectionMutator=d3_geo_projectionMutator,(i.geo.equirectangular=function(){return d3_geo_projection(d3_geo_equirectangular)}).raw=d3_geo_equirectangular.invert=d3_geo_equirectangular,i.geo.rotation=function(e){function forward(n){return(n=e(n[0]*j,n[1]*j))[0]*=R,n[1]*=R,n}return e=d3_geo_rotation(e[0]%360*j,e[1]*j,e.length>2?e[2]*j:0),forward.invert=function(n){return(n=e.invert(n[0]*j,n[1]*j))[0]*=R,n[1]*=R,n},forward},d3_geo_identityRotation.invert=d3_geo_equirectangular,i.geo.circle=function(){var e,n,r=[0,0],a=6;function circle(){var e="function"==typeof r?r.apply(this,arguments):r,a=d3_geo_rotation(-e[0]*j,-e[1]*j,0).invert,o=[];return n(null,null,1,{point:function(e,n){o.push(e=a(e,n)),e[0]*=R,e[1]*=R}}),{type:"Polygon",coordinates:[o]}}return circle.origin=function(e){return arguments.length?(r=e,circle):r},circle.angle=function(r){return arguments.length?(n=d3_geo_circleInterpolate((e=+r)*j,a*j),circle):e},circle.precision=function(r){return arguments.length?(n=d3_geo_circleInterpolate(e*j,(a=+r)*j),circle):a},circle.angle(90)},i.geo.distance=function(e,n){var r,a=(n[0]-e[0])*j,o=e[1]*j,i=n[1]*j,s=Math.sin(a),l=Math.cos(a),c=Math.sin(o),u=Math.cos(o),d=Math.sin(i),p=Math.cos(i);return Math.atan2(Math.sqrt((r=p*s)*r+(r=u*d-c*p*l)*r),c*d+u*p*l)},i.geo.graticule=function(){var e,n,r,a,o,s,l,c,u,d,p,f,h=10,g=h,y=90,b=360,x=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return i.range(Math.ceil(a/y)*y,r,y).map(p).concat(i.range(Math.ceil(c/b)*b,l,b).map(f)).concat(i.range(Math.ceil(n/h)*h,e,h).filter((function(e){return m(e%y)>A})).map(u)).concat(i.range(Math.ceil(s/g)*g,o,g).filter((function(e){return m(e%b)>A})).map(d))}return graticule.lines=function(){return lines().map((function(e){return{type:"LineString",coordinates:e}}))},graticule.outline=function(){return{type:"Polygon",coordinates:[p(a).concat(f(l).slice(1),p(r).reverse().slice(1),f(c).reverse().slice(1))]}},graticule.extent=function(e){return arguments.length?graticule.majorExtent(e).minorExtent(e):graticule.minorExtent()},graticule.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),c>l&&(e=c,c=l,l=e),graticule.precision(x)):[[a,c],[r,l]]},graticule.minorExtent=function(r){return arguments.length?(n=+r[0][0],e=+r[1][0],s=+r[0][1],o=+r[1][1],n>e&&(r=n,n=e,e=r),s>o&&(r=s,s=o,o=r),graticule.precision(x)):[[n,s],[e,o]]},graticule.step=function(e){return arguments.length?graticule.majorStep(e).minorStep(e):graticule.minorStep()},graticule.majorStep=function(e){return arguments.length?(y=+e[0],b=+e[1],graticule):[y,b]},graticule.minorStep=function(e){return arguments.length?(h=+e[0],g=+e[1],graticule):[h,g]},graticule.precision=function(i){return arguments.length?(x=+i,u=d3_geo_graticuleX(s,o,90),d=d3_geo_graticuleY(n,e,x),p=d3_geo_graticuleX(c,l,90),f=d3_geo_graticuleY(a,r,x),graticule):x},graticule.majorExtent([[-180,-90+A],[180,90-A]]).minorExtent([[-180,-80-A],[180,80+A]])},i.geo.greatArc=function(){var e,n,r=d3_source,a=d3_target;function greatArc(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||a.apply(this,arguments)]}}return greatArc.distance=function(){return i.geo.distance(e||r.apply(this,arguments),n||a.apply(this,arguments))},greatArc.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,greatArc):r},greatArc.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,greatArc):a},greatArc.precision=function(){return arguments.length?greatArc:0},greatArc},i.geo.interpolate=function(e,n){return function d3_geo_interpolate(e,n,r,a){var o=Math.cos(n),i=Math.sin(n),s=Math.cos(a),l=Math.sin(a),c=o*Math.cos(e),u=o*Math.sin(e),d=s*Math.cos(r),p=s*Math.sin(r),f=2*Math.asin(Math.sqrt(d3_haversin(a-n)+o*s*d3_haversin(r-e))),h=1/Math.sin(f),m=f?function(e){var n=Math.sin(e*=f)*h,r=Math.sin(f-e)*h,a=r*c+n*d,o=r*u+n*p,s=r*i+n*l;return[Math.atan2(o,a)*R,Math.atan2(s,Math.sqrt(a*a+o*o))*R]}:function(){return[e*R,n*R]};return m.distance=f,m}(e[0]*j,e[1]*j,n[0]*j,n[1]*j)},i.geo.length=function(e){return ze=0,i.geo.stream(e,Be),ze};var Be={sphere:d3_noop,point:d3_noop,lineStart:function d3_geo_lengthLineStart(){var e,n,r;function nextPoint(a,o){var i=Math.sin(o*=j),s=Math.cos(o),l=m((a*=j)-e),c=Math.cos(l);ze+=Math.atan2(Math.sqrt((l=s*Math.sin(l))*l+(l=r*i-n*s*c)*l),n*i+r*s*c),e=a,n=i,r=s}Be.point=function(a,o){e=a*j,n=Math.sin(o*=j),r=Math.cos(o),Be.point=nextPoint},Be.lineEnd=function(){Be.point=Be.lineEnd=d3_noop}},lineEnd:d3_noop,polygonStart:d3_noop,polygonEnd:d3_noop};function d3_geo_azimuthal(e,n){function azimuthal(n,r){var a=Math.cos(n),o=Math.cos(r),i=e(a*o);return[i*o*Math.sin(n),i*Math.sin(r)]}return azimuthal.invert=function(e,r){var a=Math.sqrt(e*e+r*r),o=n(a),i=Math.sin(o),s=Math.cos(o);return[Math.atan2(e*i,a*s),Math.asin(a&&r*i/a)]},azimuthal}var Ve=d3_geo_azimuthal((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(i.geo.azimuthalEqualArea=function(){return d3_geo_projection(Ve)}).raw=Ve;var Ue=d3_geo_azimuthal((function(e){var n=Math.acos(e);return n&&n/Math.sin(n)}),d3_identity);function d3_geo_conicConformal(e,n){var r=Math.cos(e),t=function(e){return Math.tan(N/4+e/2)},a=e===n?Math.sin(e):Math.log(r/Math.cos(n))/Math.log(t(n)/t(e)),o=r*Math.pow(t(e),a)/a;if(!a)return d3_geo_mercator;function forward(e,n){o>0?n<-D+A&&(n=-D+A):n>D-A&&(n=D-A);var r=o/Math.pow(t(n),a);return[r*Math.sin(a*e),o-r*Math.cos(a*e)]}return forward.invert=function(e,n){var r=o-n,i=d3_sgn(a)*Math.sqrt(e*e+r*r);return[Math.atan2(e,r)/a,2*Math.atan(Math.pow(o/i,1/a))-D]},forward}function d3_geo_conicEquidistant(e,n){var r=Math.cos(e),a=e===n?Math.sin(e):(r-Math.cos(n))/(n-e),o=r/a+e;if(m(a)<A)return d3_geo_equirectangular;function forward(e,n){var r=o-n;return[r*Math.sin(a*e),o-r*Math.cos(a*e)]}return forward.invert=function(e,n){var r=o-n;return[Math.atan2(e,r)/a,o-d3_sgn(a)*Math.sqrt(e*e+r*r)]},forward}(i.geo.azimuthalEquidistant=function(){return d3_geo_projection(Ue)}).raw=Ue,(i.geo.conicConformal=function(){return d3_geo_conic(d3_geo_conicConformal)}).raw=d3_geo_conicConformal,(i.geo.conicEquidistant=function(){return d3_geo_conic(d3_geo_conicEquidistant)}).raw=d3_geo_conicEquidistant;var We=d3_geo_azimuthal((function(e){return 1/e}),Math.atan);function d3_geo_mercator(e,n){return[e,Math.log(Math.tan(N/4+n/2))]}function d3_geo_mercatorProjection(e){var n,r=d3_geo_projection(e),a=r.scale,o=r.translate,i=r.clipExtent;return r.scale=function(){var e=a.apply(r,arguments);return e===r?n?r.clipExtent(null):r:e},r.translate=function(){var e=o.apply(r,arguments);return e===r?n?r.clipExtent(null):r:e},r.clipExtent=function(e){var s=i.apply(r,arguments);if(s===r){if(n=null==e){var l=N*a(),c=o();i([[c[0]-l,c[1]-l],[c[0]+l,c[1]+l]])}}else n&&(s=null);return s},r.clipExtent(null)}(i.geo.gnomonic=function(){return d3_geo_projection(We)}).raw=We,d3_geo_mercator.invert=function(e,n){return[e,2*Math.atan(Math.exp(n))-D]},(i.geo.mercator=function(){return d3_geo_mercatorProjection(d3_geo_mercator)}).raw=d3_geo_mercator;var He=d3_geo_azimuthal((function(){return 1}),Math.asin);(i.geo.orthographic=function(){return d3_geo_projection(He)}).raw=He;var Ge=d3_geo_azimuthal((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function d3_geo_transverseMercator(e,n){return[Math.log(Math.tan(N/4+n/2)),-e]}function d3_geom_pointX(e){return e[0]}function d3_geom_pointY(e){return e[1]}function d3_geom_hullUpper(e){for(var n=e.length,r=[0,1],a=2,o=2;o<n;o++){for(;a>1&&d3_cross2d(e[r[a-2]],e[r[a-1]],e[o])<=0;)--a;r[a++]=o}return r.slice(0,a)}function d3_geom_hullOrder(e,n){return e[0]-n[0]||e[1]-n[1]}(i.geo.stereographic=function(){return d3_geo_projection(Ge)}).raw=Ge,d3_geo_transverseMercator.invert=function(e,n){return[-n,2*Math.atan(Math.exp(e))-D]},(i.geo.transverseMercator=function(){var e=d3_geo_mercatorProjection(d3_geo_transverseMercator),n=e.center,r=e.rotate;return e.center=function(e){return e?n([-e[1],e[0]]):[(e=n())[1],-e[0]]},e.rotate=function(e){return e?r([e[0],e[1],e.length>2?e[2]+90:90]):[(e=r())[0],e[1],e[2]-90]},r([0,0,90])}).raw=d3_geo_transverseMercator,i.geom={},i.geom.hull=function(e){var n=d3_geom_pointX,r=d3_geom_pointY;if(arguments.length)return hull(e);function hull(e){if(e.length<3)return[];var a,o=d3_functor(n),i=d3_functor(r),s=e.length,l=[],c=[];for(a=0;a<s;a++)l.push([+o.call(this,e[a],a),+i.call(this,e[a],a),a]);for(l.sort(d3_geom_hullOrder),a=0;a<s;a++)c.push([l[a][0],-l[a][1]]);var u=d3_geom_hullUpper(l),d=d3_geom_hullUpper(c),p=d[0]===u[0],f=d[d.length-1]===u[u.length-1],h=[];for(a=u.length-1;a>=0;--a)h.push(e[l[u[a]][2]]);for(a=+p;a<d.length-f;++a)h.push(e[l[d[a]][2]]);return h}return hull.x=function(e){return arguments.length?(n=e,hull):n},hull.y=function(e){return arguments.length?(r=e,hull):r},hull},i.geom.polygon=function(e){return b(e,qe),e};var qe=i.geom.polygon.prototype=[];function d3_geom_polygonInside(e,n,r){return(r[0]-n[0])*(e[1]-n[1])<(r[1]-n[1])*(e[0]-n[0])}function d3_geom_polygonIntersect(e,n,r,a){var o=e[0],i=r[0],s=n[0]-o,l=a[0]-i,c=e[1],u=r[1],d=n[1]-c,p=a[1]-u,f=(l*(c-u)-p*(o-i))/(p*s-l*d);return[o+f*s,c+f*d]}function d3_geom_polygonClosed(e){var n=e[0],r=e[e.length-1];return!(n[0]-r[0]||n[1]-r[1])}qe.area=function(){for(var e,n=-1,r=this.length,a=this[r-1],o=0;++n<r;)e=a,a=this[n],o+=e[1]*a[0]-e[0]*a[1];return.5*o},qe.centroid=function(e){var n,r,a=-1,o=this.length,i=0,s=0,l=this[o-1];for(arguments.length||(e=-1/(6*this.area()));++a<o;)n=l,l=this[a],r=n[0]*l[1]-l[0]*n[1],i+=(n[0]+l[0])*r,s+=(n[1]+l[1])*r;return[i*e,s*e]},qe.clip=function(e){for(var n,r,a,o,i,s,l=d3_geom_polygonClosed(e),c=-1,u=this.length-d3_geom_polygonClosed(this),d=this[u-1];++c<u;){for(n=e.slice(),e.length=0,o=this[c],i=n[(a=n.length-l)-1],r=-1;++r<a;)d3_geom_polygonInside(s=n[r],d,o)?(d3_geom_polygonInside(i,d,o)||e.push(d3_geom_polygonIntersect(i,s,d,o)),e.push(s)):d3_geom_polygonInside(i,d,o)&&e.push(d3_geom_polygonIntersect(i,s,d,o)),i=s;l&&e.push(e[0]),d=o}return e};var Ke,Xe,Ye,Ze,Je,Qe=[],et=[];function d3_geom_voronoiBeach(){d3_geom_voronoiRedBlackNode(this),this.edge=this.site=this.circle=null}function d3_geom_voronoiCreateBeach(e){var n=Qe.pop()||new d3_geom_voronoiBeach;return n.site=e,n}function d3_geom_voronoiDetachBeach(e){d3_geom_voronoiDetachCircle(e),Ye.remove(e),Qe.push(e),d3_geom_voronoiRedBlackNode(e)}function d3_geom_voronoiRemoveBeach(e){var n=e.circle,r=n.x,a=n.cy,o={x:r,y:a},i=e.P,s=e.N,l=[e];d3_geom_voronoiDetachBeach(e);for(var c=i;c.circle&&m(r-c.circle.x)<A&&m(a-c.circle.cy)<A;)i=c.P,l.unshift(c),d3_geom_voronoiDetachBeach(c),c=i;l.unshift(c),d3_geom_voronoiDetachCircle(c);for(var u=s;u.circle&&m(r-u.circle.x)<A&&m(a-u.circle.cy)<A;)s=u.N,l.push(u),d3_geom_voronoiDetachBeach(u),u=s;l.push(u),d3_geom_voronoiDetachCircle(u);var d,p=l.length;for(d=1;d<p;++d)u=l[d],c=l[d-1],d3_geom_voronoiSetEdgeEnd(u.edge,c.site,u.site,o);c=l[0],(u=l[p-1]).edge=d3_geom_voronoiCreateEdge(c.site,u.site,null,o),d3_geom_voronoiAttachCircle(c),d3_geom_voronoiAttachCircle(u)}function d3_geom_voronoiAddBeach(e){for(var n,r,a,o,i=e.x,s=e.y,l=Ye._;l;)if((a=d3_geom_voronoiLeftBreakPoint(l,s)-i)>A)l=l.L;else{if(!((o=i-d3_geom_voronoiRightBreakPoint(l,s))>A)){a>-A?(n=l.P,r=l):o>-A?(n=l,r=l.N):n=r=l;break}if(!l.R){n=l;break}l=l.R}var c=d3_geom_voronoiCreateBeach(e);if(Ye.insert(n,c),n||r){if(n===r)return d3_geom_voronoiDetachCircle(n),r=d3_geom_voronoiCreateBeach(n.site),Ye.insert(c,r),c.edge=r.edge=d3_geom_voronoiCreateEdge(n.site,c.site),d3_geom_voronoiAttachCircle(n),void d3_geom_voronoiAttachCircle(r);if(r){d3_geom_voronoiDetachCircle(n),d3_geom_voronoiDetachCircle(r);var u=n.site,d=u.x,p=u.y,f=e.x-d,h=e.y-p,m=r.site,g=m.x-d,y=m.y-p,b=2*(f*y-h*g),x=f*f+h*h,_=g*g+y*y,w={x:(y*x-h*_)/b+d,y:(f*_-g*x)/b+p};d3_geom_voronoiSetEdgeEnd(r.edge,u,m,w),c.edge=d3_geom_voronoiCreateEdge(u,e,null,w),r.edge=d3_geom_voronoiCreateEdge(e,m,null,w),d3_geom_voronoiAttachCircle(n),d3_geom_voronoiAttachCircle(r)}else c.edge=d3_geom_voronoiCreateEdge(n.site,c.site)}}function d3_geom_voronoiLeftBreakPoint(e,n){var r=e.site,a=r.x,o=r.y,i=o-n;if(!i)return a;var s=e.P;if(!s)return-1/0;var l=(r=s.site).x,c=r.y,u=c-n;if(!u)return l;var d=l-a,p=1/i-1/u,f=d/u;return p?(-f+Math.sqrt(f*f-2*p*(d*d/(-2*u)-c+u/2+o-i/2)))/p+a:(a+l)/2}function d3_geom_voronoiRightBreakPoint(e,n){var r=e.N;if(r)return d3_geom_voronoiLeftBreakPoint(r,n);var a=e.site;return a.y===n?a.x:1/0}function d3_geom_voronoiCell(e){this.site=e,this.edges=[]}function d3_geom_voronoiHalfEdgeOrder(e,n){return n.angle-e.angle}function d3_geom_voronoiCircle(){d3_geom_voronoiRedBlackNode(this),this.x=this.y=this.arc=this.site=this.cy=null}function d3_geom_voronoiAttachCircle(e){var n=e.P,r=e.N;if(n&&r){var a=n.site,o=e.site,i=r.site;if(a!==i){var s=o.x,l=o.y,c=a.x-s,u=a.y-l,d=i.x-s,p=2*(c*(y=i.y-l)-u*d);if(!(p>=-I)){var f=c*c+u*u,h=d*d+y*y,m=(y*f-u*h)/p,g=(c*h-d*f)/p,y=g+l,b=et.pop()||new d3_geom_voronoiCircle;b.arc=e,b.site=o,b.x=m+s,b.y=y+Math.sqrt(m*m+g*g),b.cy=y,e.circle=b;for(var x=null,_=Je._;_;)if(b.y<_.y||b.y===_.y&&b.x<=_.x){if(!_.L){x=_.P;break}_=_.L}else{if(!_.R){x=_;break}_=_.R}Je.insert(x,b),x||(Ze=b)}}}}function d3_geom_voronoiDetachCircle(e){var n=e.circle;n&&(n.P||(Ze=n.N),Je.remove(n),et.push(n),d3_geom_voronoiRedBlackNode(n),e.circle=null)}function d3_geom_voronoiConnectEdge(e,n){var r=e.b;if(r)return!0;var a,o,i=e.a,s=n[0][0],l=n[1][0],c=n[0][1],u=n[1][1],d=e.l,p=e.r,f=d.x,h=d.y,m=p.x,g=p.y,y=(f+m)/2,b=(h+g)/2;if(g===h){if(y<s||y>=l)return;if(f>m){if(i){if(i.y>=u)return}else i={x:y,y:c};r={x:y,y:u}}else{if(i){if(i.y<c)return}else i={x:y,y:u};r={x:y,y:c}}}else if(o=b-(a=(f-m)/(g-h))*y,a<-1||a>1)if(f>m){if(i){if(i.y>=u)return}else i={x:(c-o)/a,y:c};r={x:(u-o)/a,y:u}}else{if(i){if(i.y<c)return}else i={x:(u-o)/a,y:u};r={x:(c-o)/a,y:c}}else if(h<g){if(i){if(i.x>=l)return}else i={x:s,y:a*s+o};r={x:l,y:a*l+o}}else{if(i){if(i.x<s)return}else i={x:l,y:a*l+o};r={x:s,y:a*s+o}}return e.a=i,e.b=r,!0}function d3_geom_voronoiEdge(e,n){this.l=e,this.r=n,this.a=this.b=null}function d3_geom_voronoiCreateEdge(e,n,r,a){var o=new d3_geom_voronoiEdge(e,n);return Ke.push(o),r&&d3_geom_voronoiSetEdgeEnd(o,e,n,r),a&&d3_geom_voronoiSetEdgeEnd(o,n,e,a),Xe[e.i].edges.push(new d3_geom_voronoiHalfEdge(o,e,n)),Xe[n.i].edges.push(new d3_geom_voronoiHalfEdge(o,n,e)),o}function d3_geom_voronoiCreateBorderEdge(e,n,r){var a=new d3_geom_voronoiEdge(e,null);return a.a=n,a.b=r,Ke.push(a),a}function d3_geom_voronoiSetEdgeEnd(e,n,r,a){e.a||e.b?e.l===r?e.b=a:e.a=a:(e.a=a,e.l=n,e.r=r)}function d3_geom_voronoiHalfEdge(e,n,r){var a=e.a,o=e.b;this.edge=e,this.site=n,this.angle=r?Math.atan2(r.y-n.y,r.x-n.x):e.l===n?Math.atan2(o.x-a.x,a.y-o.y):Math.atan2(a.x-o.x,o.y-a.y)}function d3_geom_voronoiRedBlackTree(){this._=null}function d3_geom_voronoiRedBlackNode(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function d3_geom_voronoiRedBlackRotateLeft(e,n){var r=n,a=n.R,o=r.U;o?o.L===r?o.L=a:o.R=a:e._=a,a.U=o,r.U=a,r.R=a.L,r.R&&(r.R.U=r),a.L=r}function d3_geom_voronoiRedBlackRotateRight(e,n){var r=n,a=n.L,o=r.U;o?o.L===r?o.L=a:o.R=a:e._=a,a.U=o,r.U=a,r.L=a.R,r.L&&(r.L.U=r),a.R=r}function d3_geom_voronoiRedBlackFirst(e){for(;e.L;)e=e.L;return e}function d3_geom_voronoi(e,n){var r,a,o,i=e.sort(d3_geom_voronoiVertexOrder).pop();for(Ke=[],Xe=new Array(e.length),Ye=new d3_geom_voronoiRedBlackTree,Je=new d3_geom_voronoiRedBlackTree;;)if(o=Ze,i&&(!o||i.y<o.y||i.y===o.y&&i.x<o.x))i.x===r&&i.y===a||(Xe[i.i]=new d3_geom_voronoiCell(i),d3_geom_voronoiAddBeach(i),r=i.x,a=i.y),i=e.pop();else{if(!o)break;d3_geom_voronoiRemoveBeach(o.arc)}n&&(function d3_geom_voronoiClipEdges(e){for(var n,r=Ke,a=d3_geom_clipLine(e[0][0],e[0][1],e[1][0],e[1][1]),o=r.length;o--;)(!d3_geom_voronoiConnectEdge(n=r[o],e)||!a(n)||m(n.a.x-n.b.x)<A&&m(n.a.y-n.b.y)<A)&&(n.a=n.b=null,r.splice(o,1))}(n),function d3_geom_voronoiCloseCells(e){for(var n,r,a,o,i,s,l,c,u,d,p=e[0][0],f=e[1][0],h=e[0][1],g=e[1][1],y=Xe,b=y.length;b--;)if((i=y[b])&&i.prepare())for(c=(l=i.edges).length,s=0;s<c;)a=(d=l[s].end()).x,o=d.y,n=(u=l[++s%c].start()).x,r=u.y,(m(a-n)>A||m(o-r)>A)&&(l.splice(s,0,new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(i.site,d,m(a-p)<A&&g-o>A?{x:p,y:m(n-p)<A?r:g}:m(o-g)<A&&f-a>A?{x:m(r-g)<A?n:f,y:g}:m(a-f)<A&&o-h>A?{x:f,y:m(n-f)<A?r:h}:m(o-h)<A&&a-p>A?{x:m(r-h)<A?n:p,y:h}:null),i.site,null)),++c)}(n));var s={cells:Xe,edges:Ke};return Ye=Je=Ke=Xe=null,s}function d3_geom_voronoiVertexOrder(e,n){return n.y-e.y||n.x-e.x}d3_geom_voronoiCell.prototype.prepare=function(){for(var e,n=this.edges,r=n.length;r--;)(e=n[r].edge).b&&e.a||n.splice(r,1);return n.sort(d3_geom_voronoiHalfEdgeOrder),n.length},d3_geom_voronoiHalfEdge.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},d3_geom_voronoiRedBlackTree.prototype={insert:function(e,n){var r,a,o;if(e){if(n.P=e,n.N=e.N,e.N&&(e.N.P=n),e.N=n,e.R){for(e=e.R;e.L;)e=e.L;e.L=n}else e.R=n;r=e}else this._?(e=d3_geom_voronoiRedBlackFirst(this._),n.P=null,n.N=e,e.P=e.L=n,r=e):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,e=n;r&&r.C;)r===(a=r.U).L?(o=a.R)&&o.C?(r.C=o.C=!1,a.C=!0,e=a):(e===r.R&&(d3_geom_voronoiRedBlackRotateLeft(this,r),r=(e=r).U),r.C=!1,a.C=!0,d3_geom_voronoiRedBlackRotateRight(this,a)):(o=a.L)&&o.C?(r.C=o.C=!1,a.C=!0,e=a):(e===r.L&&(d3_geom_voronoiRedBlackRotateRight(this,r),r=(e=r).U),r.C=!1,a.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,a)),r=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,r,a,o=e.U,i=e.L,s=e.R;if(r=i?s?d3_geom_voronoiRedBlackFirst(s):i:s,o?o.L===e?o.L=r:o.R=r:this._=r,i&&s?(a=r.C,r.C=e.C,r.L=i,i.U=r,r!==s?(o=r.U,r.U=e.U,e=r.R,o.L=e,r.R=s,s.U=r):(r.U=o,o=r,e=r.R)):(a=e.C,e=r),e&&(e.U=o),!a)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if((n=o.R).C&&(n.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,o),n=o.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,d3_geom_voronoiRedBlackRotateRight(this,n),n=o.R),n.C=o.C,o.C=n.R.C=!1,d3_geom_voronoiRedBlackRotateLeft(this,o),e=this._;break}}else if((n=o.L).C&&(n.C=!1,o.C=!0,d3_geom_voronoiRedBlackRotateRight(this,o),n=o.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,d3_geom_voronoiRedBlackRotateLeft(this,n),n=o.L),n.C=o.C,o.C=n.L.C=!1,d3_geom_voronoiRedBlackRotateRight(this,o),e=this._;break}n.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}},i.geom.voronoi=function(e){var n=d3_geom_pointX,r=d3_geom_pointY,a=n,o=r,i=tt;if(e)return voronoi(e);function voronoi(e){var n=new Array(e.length),r=i[0][0],a=i[0][1],o=i[1][0],s=i[1][1];return d3_geom_voronoi(sites(e),i).cells.forEach((function(i,l){var c=i.edges,u=i.site;(n[l]=c.length?c.map((function(e){var n=e.start();return[n.x,n.y]})):u.x>=r&&u.x<=o&&u.y>=a&&u.y<=s?[[r,s],[o,s],[o,a],[r,a]]:[]).point=e[l]})),n}function sites(e){return e.map((function(e,n){return{x:Math.round(a(e,n)/A)*A,y:Math.round(o(e,n)/A)*A,i:n}}))}return voronoi.links=function(e){return d3_geom_voronoi(sites(e)).edges.filter((function(e){return e.l&&e.r})).map((function(n){return{source:e[n.l.i],target:e[n.r.i]}}))},voronoi.triangles=function(e){var n=[];return d3_geom_voronoi(sites(e)).cells.forEach((function(r,a){for(var o,i,s,l,c=r.site,u=r.edges.sort(d3_geom_voronoiHalfEdgeOrder),d=-1,p=u.length,f=u[p-1].edge,h=f.l===c?f.r:f.l;++d<p;)f,o=h,h=(f=u[d].edge).l===c?f.r:f.l,a<o.i&&a<h.i&&(s=o,l=h,((i=c).x-l.x)*(s.y-i.y)-(i.x-s.x)*(l.y-i.y)<0)&&n.push([e[a],e[o.i],e[h.i]])})),n},voronoi.x=function(e){return arguments.length?(a=d3_functor(n=e),voronoi):n},voronoi.y=function(e){return arguments.length?(o=d3_functor(r=e),voronoi):r},voronoi.clipExtent=function(e){return arguments.length?(i=null==e?tt:e,voronoi):i===tt?null:i},voronoi.size=function(e){return arguments.length?voronoi.clipExtent(e&&[[0,0],e]):i===tt?null:i&&i[1]},voronoi};var tt=[[-1e6,-1e6],[1e6,1e6]];function d3_geom_quadtreeCompatX(e){return e.x}function d3_geom_quadtreeCompatY(e){return e.y}function d3_geom_quadtreeVisit(e,n,r,a,o,i){if(!e(n,r,a,o,i)){var s=.5*(r+o),l=.5*(a+i),c=n.nodes;c[0]&&d3_geom_quadtreeVisit(e,c[0],r,a,s,l),c[1]&&d3_geom_quadtreeVisit(e,c[1],s,a,o,l),c[2]&&d3_geom_quadtreeVisit(e,c[2],r,l,s,i),c[3]&&d3_geom_quadtreeVisit(e,c[3],s,l,o,i)}}function d3_geom_quadtreeFind(e,n,r,a,o,i,s){var l,c=1/0;return function find(e,u,d,p,f){if(!(u>i||d>s||p<a||f<o)){if(h=e.point){var h,m=n-e.x,g=r-e.y,y=m*m+g*g;if(y<c){var b=Math.sqrt(c=y);a=n-b,o=r-b,i=n+b,s=r+b,l=h}}for(var x=e.nodes,_=.5*(u+p),w=.5*(d+f),k=(r>=w)<<1|n>=_,T=k+4;k<T;++k)if(e=x[3&k])switch(3&k){case 0:find(e,u,d,_,w);break;case 1:find(e,_,d,p,w);break;case 2:find(e,u,w,_,f);break;case 3:find(e,_,w,p,f)}}}(e,a,o,i,s),l}function d3_interpolateRgb(e,n){e=i.rgb(e),n=i.rgb(n);var r=e.r,a=e.g,o=e.b,s=n.r-r,l=n.g-a,c=n.b-o;return function(e){return"#"+d3_rgb_hex(Math.round(r+s*e))+d3_rgb_hex(Math.round(a+l*e))+d3_rgb_hex(Math.round(o+c*e))}}function d3_interpolateObject(e,n){var r,a={},o={};for(r in e)r in n?a[r]=d3_interpolate(e[r],n[r]):o[r]=e[r];for(r in n)r in e||(o[r]=n[r]);return function(e){for(r in a)o[r]=a[r](e);return o}}function d3_interpolateNumber(e,n){return e=+e,n=+n,function(r){return e*(1-r)+n*r}}function d3_interpolateString(e,n){var r,a,o,i=nt.lastIndex=rt.lastIndex=0,s=-1,l=[],c=[];for(e+="",n+="";(r=nt.exec(e))&&(a=rt.exec(n));)(o=a.index)>i&&(o=n.slice(i,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:d3_interpolateNumber(r,a)})),i=rt.lastIndex;return i<n.length&&(o=n.slice(i),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?(n=c[0].x,function(e){return n(e)+""}):function(){return n}:(n=c.length,function(e){for(var r,a=0;a<n;++a)l[(r=c[a]).i]=r.x(e);return l.join("")})}i.geom.delaunay=function(e){return i.geom.voronoi().triangles(e)},i.geom.quadtree=function(e,n,r,a,o){var i,s=d3_geom_pointX,l=d3_geom_pointY;if(i=arguments.length)return s=d3_geom_quadtreeCompatX,l=d3_geom_quadtreeCompatY,3===i&&(o=r,a=n,r=n=0),quadtree(e);function quadtree(e){var c,u,d,p,f,h,g,y,b,x=d3_functor(s),_=d3_functor(l);if(null!=n)h=n,g=r,y=a,b=o;else if(y=b=-(h=g=1/0),u=[],d=[],f=e.length,i)for(p=0;p<f;++p)(c=e[p]).x<h&&(h=c.x),c.y<g&&(g=c.y),c.x>y&&(y=c.x),c.y>b&&(b=c.y),u.push(c.x),d.push(c.y);else for(p=0;p<f;++p){var w=+x(c=e[p],p),k=+_(c,p);w<h&&(h=w),k<g&&(g=k),w>y&&(y=w),k>b&&(b=k),u.push(w),d.push(k)}var T=y-h,S=b-g;function insert(e,n,r,a,o,i,s,l){if(!isNaN(r)&&!isNaN(a))if(e.leaf){var c=e.x,u=e.y;if(null!=c)if(m(c-r)+m(u-a)<.01)insertChild(e,n,r,a,o,i,s,l);else{var d=e.point;e.x=e.y=e.point=null,insertChild(e,d,c,u,o,i,s,l),insertChild(e,n,r,a,o,i,s,l)}else e.x=r,e.y=a,e.point=n}else insertChild(e,n,r,a,o,i,s,l)}function insertChild(e,n,r,a,o,i,s,l){var c=.5*(o+s),u=.5*(i+l),d=r>=c,p=a>=u,f=p<<1|d;e.leaf=!1,d?o=c:s=c,p?i=u:l=u,insert(e=e.nodes[f]||(e.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),n,r,a,o,i,s,l)}T>S?b=g+T:y=h+S;var O={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){insert(O,e,+x(e,++p),+_(e,p),h,g,y,b)},visit:function(e){d3_geom_quadtreeVisit(e,O,h,g,y,b)},find:function(e){return d3_geom_quadtreeFind(O,e[0],e[1],h,g,y,b)}};if(p=-1,null==n){for(;++p<f;)insert(O,e[p],u[p],d[p],h,g,y,b);--p}else e.forEach(O.add);return u=d=e=c=null,O}return quadtree.x=function(e){return arguments.length?(s=e,quadtree):s},quadtree.y=function(e){return arguments.length?(l=e,quadtree):l},quadtree.extent=function(e){return arguments.length?(null==e?n=r=a=o=null:(n=+e[0][0],r=+e[0][1],a=+e[1][0],o=+e[1][1]),quadtree):null==n?null:[[n,r],[a,o]]},quadtree.size=function(e){return arguments.length?(null==e?n=r=a=o=null:(n=r=0,a=+e[0],o=+e[1]),quadtree):null==n?null:[a-n,o-r]},quadtree},i.interpolateRgb=d3_interpolateRgb,i.interpolateObject=d3_interpolateObject,i.interpolateNumber=d3_interpolateNumber,i.interpolateString=d3_interpolateString;var nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rt=new RegExp(nt.source,"g");function d3_interpolate(e,n){for(var r,a=i.interpolators.length;--a>=0&&!(r=i.interpolators[a](e,n)););return r}function d3_interpolateArray(e,n){var r,a=[],o=[],i=e.length,s=n.length,l=Math.min(e.length,n.length);for(r=0;r<l;++r)a.push(d3_interpolate(e[r],n[r]));for(;r<i;++r)o[r]=e[r];for(;r<s;++r)o[r]=n[r];return function(e){for(r=0;r<l;++r)o[r]=a[r](e);return o}}i.interpolate=d3_interpolate,i.interpolators=[function(e,n){var r=typeof n;return("string"===r?X.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?d3_interpolateRgb:d3_interpolateString:n instanceof d3_color?d3_interpolateRgb:Array.isArray(n)?d3_interpolateArray:"object"===r&&isNaN(n)?d3_interpolateObject:d3_interpolateNumber)(e,n)}],i.interpolateArray=d3_interpolateArray;var d3_ease_default=function(){return d3_identity},at=i.map({linear:d3_ease_default,poly:function d3_ease_poly(e){return function(n){return Math.pow(n,e)}},quad:function(){return d3_ease_quad},cubic:function(){return d3_ease_cubic},sin:function(){return d3_ease_sin},exp:function(){return d3_ease_exp},circle:function(){return d3_ease_circle},elastic:function d3_ease_elastic(e,n){var r;arguments.length<2&&(n=.45);arguments.length?r=n/M*Math.asin(1/e):(e=1,r=n/4);return function(a){return 1+e*Math.pow(2,-10*a)*Math.sin((a-r)*M/n)}},back:function d3_ease_back(e){e||(e=1.70158);return function(n){return n*n*((e+1)*n-e)}},bounce:function(){return d3_ease_bounce}}),ot=i.map({in:d3_identity,out:d3_ease_reverse,"in-out":d3_ease_reflect,"out-in":function(e){return d3_ease_reflect(d3_ease_reverse(e))}});function d3_ease_clamp(e){return function(n){return n<=0?0:n>=1?1:e(n)}}function d3_ease_reverse(e){return function(n){return 1-e(1-n)}}function d3_ease_reflect(e){return function(n){return.5*(n<.5?e(2*n):2-e(2-2*n))}}function d3_ease_quad(e){return e*e}function d3_ease_cubic(e){return e*e*e}function d3_ease_cubicInOut(e){if(e<=0)return 0;if(e>=1)return 1;var n=e*e,r=n*e;return 4*(e<.5?r:3*(e-n)+r-.75)}function d3_ease_sin(e){return 1-Math.cos(e*D)}function d3_ease_exp(e){return Math.pow(2,10*(e-1))}function d3_ease_circle(e){return 1-Math.sqrt(1-e*e)}function d3_ease_bounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function d3_interpolateRound(e,n){return n-=e,function(r){return Math.round(e+n*r)}}function d3_transform(e){var n=[e.a,e.b],r=[e.c,e.d],a=d3_transformNormalize(n),o=d3_transformDot(n,r),i=d3_transformNormalize(function d3_transformCombine(e,n,r){return e[0]+=r*n[0],e[1]+=r*n[1],e}(r,n,-o))||0;n[0]*r[1]<r[0]*n[1]&&(n[0]*=-1,n[1]*=-1,a*=-1,o*=-1),this.rotate=(a?Math.atan2(n[1],n[0]):Math.atan2(-r[0],r[1]))*R,this.translate=[e.e,e.f],this.scale=[a,i],this.skew=i?Math.atan2(o,i)*R:0}function d3_transformDot(e,n){return e[0]*n[0]+e[1]*n[1]}function d3_transformNormalize(e){var n=Math.sqrt(d3_transformDot(e,e));return n&&(e[0]/=n,e[1]/=n),n}i.ease=function(e){var n=e.indexOf("-"),r=n>=0?e.slice(0,n):e,a=n>=0?e.slice(n+1):"in";return r=at.get(r)||d3_ease_default,d3_ease_clamp((a=ot.get(a)||d3_identity)(r.apply(null,s.call(arguments,1))))},i.interpolateHcl=function d3_interpolateHcl(e,n){e=i.hcl(e),n=i.hcl(n);var r=e.h,a=e.c,o=e.l,s=n.h-r,l=n.c-a,c=n.l-o;isNaN(l)&&(l=0,a=isNaN(a)?n.c:a);isNaN(s)?(s=0,r=isNaN(r)?n.h:r):s>180?s-=360:s<-180&&(s+=360);return function(e){return d3_hcl_lab(r+s*e,a+l*e,o+c*e)+""}},i.interpolateHsl=function d3_interpolateHsl(e,n){e=i.hsl(e),n=i.hsl(n);var r=e.h,a=e.s,o=e.l,s=n.h-r,l=n.s-a,c=n.l-o;isNaN(l)&&(l=0,a=isNaN(a)?n.s:a);isNaN(s)?(s=0,r=isNaN(r)?n.h:r):s>180?s-=360:s<-180&&(s+=360);return function(e){return d3_hsl_rgb(r+s*e,a+l*e,o+c*e)+""}},i.interpolateLab=function d3_interpolateLab(e,n){e=i.lab(e),n=i.lab(n);var r=e.l,a=e.a,o=e.b,s=n.l-r,l=n.a-a,c=n.b-o;return function(e){return d3_lab_rgb(r+s*e,a+l*e,o+c*e)+""}},i.interpolateRound=d3_interpolateRound,i.transform=function(e){var n=l.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(e){if(null!=e){n.setAttribute("transform",e);var r=n.transform.baseVal.consolidate()}return new d3_transform(r?r.matrix:it)})(e)},d3_transform.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var it={a:1,b:0,c:0,d:1,e:0,f:0};function d3_interpolateTransformPop(e){return e.length?e.pop()+",":""}function d3_interpolateTransform(e,n){var r=[],a=[];return e=i.transform(e),n=i.transform(n),function d3_interpolateTranslate(e,n,r,a){if(e[0]!==n[0]||e[1]!==n[1]){var o=r.push("translate(",null,",",null,")");a.push({i:o-4,x:d3_interpolateNumber(e[0],n[0])},{i:o-2,x:d3_interpolateNumber(e[1],n[1])})}else(n[0]||n[1])&&r.push("translate("+n+")")}(e.translate,n.translate,r,a),function d3_interpolateRotate(e,n,r,a){e!==n?(e-n>180?n+=360:n-e>180&&(e+=360),a.push({i:r.push(d3_interpolateTransformPop(r)+"rotate(",null,")")-2,x:d3_interpolateNumber(e,n)})):n&&r.push(d3_interpolateTransformPop(r)+"rotate("+n+")")}(e.rotate,n.rotate,r,a),function d3_interpolateSkew(e,n,r,a){e!==n?a.push({i:r.push(d3_interpolateTransformPop(r)+"skewX(",null,")")-2,x:d3_interpolateNumber(e,n)}):n&&r.push(d3_interpolateTransformPop(r)+"skewX("+n+")")}(e.skew,n.skew,r,a),function d3_interpolateScale(e,n,r,a){if(e[0]!==n[0]||e[1]!==n[1]){var o=r.push(d3_interpolateTransformPop(r)+"scale(",null,",",null,")");a.push({i:o-4,x:d3_interpolateNumber(e[0],n[0])},{i:o-2,x:d3_interpolateNumber(e[1],n[1])})}else 1===n[0]&&1===n[1]||r.push(d3_interpolateTransformPop(r)+"scale("+n+")")}(e.scale,n.scale,r,a),e=n=null,function(e){for(var n,o=-1,i=a.length;++o<i;)r[(n=a[o]).i]=n.x(e);return r.join("")}}function d3_uninterpolateNumber(e,n){return n=(n-=e=+e)||1/n,function(r){return(r-e)/n}}function d3_uninterpolateClamp(e,n){return n=(n-=e=+e)||1/n,function(r){return Math.max(0,Math.min(1,(r-e)/n))}}function d3_layout_bundlePath(e){for(var n=e.source,r=e.target,a=function d3_layout_bundleLeastCommonAncestor(e,n){if(e===n)return e;var r=d3_layout_bundleAncestors(e),a=d3_layout_bundleAncestors(n),o=r.pop(),i=a.pop(),s=null;for(;o===i;)s=o,o=r.pop(),i=a.pop();return s}(n,r),o=[n];n!==a;)n=n.parent,o.push(n);for(var i=o.length;r!==a;)o.splice(i,0,r),r=r.parent;return o}function d3_layout_bundleAncestors(e){for(var n=[],r=e.parent;null!=r;)n.push(e),e=r,r=r.parent;return n.push(e),n}function d3_layout_forceDragstart(e){e.fixed|=2}function d3_layout_forceDragend(e){e.fixed&=-7}function d3_layout_forceMouseover(e){e.fixed|=4,e.px=e.x,e.py=e.y}function d3_layout_forceMouseout(e){e.fixed&=-5}function d3_layout_forceAccumulate(e,n,r){var a=0,o=0;if(e.charge=0,!e.leaf)for(var i,s=e.nodes,l=s.length,c=-1;++c<l;)null!=(i=s[c])&&(d3_layout_forceAccumulate(i,n,r),e.charge+=i.charge,a+=i.charge*i.cx,o+=i.charge*i.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=n*r[e.point.index];e.charge+=e.pointCharge=u,a+=u*e.point.x,o+=u*e.point.y}e.cx=a/e.charge,e.cy=o/e.charge}i.interpolateTransform=d3_interpolateTransform,i.layout={},i.layout.bundle=function(){return function(e){for(var n=[],r=-1,a=e.length;++r<a;)n.push(d3_layout_bundlePath(e[r]));return n}},i.layout.chord=function(){var e,n,r,a,o,s,l,c={},u=0;function relayout(){var c,d,p,f,h,m={},g=[],y=i.range(a),b=[];for(e=[],n=[],c=0,f=-1;++f<a;){for(d=0,h=-1;++h<a;)d+=r[f][h];g.push(d),b.push(i.range(a)),c+=d}for(o&&y.sort((function(e,n){return o(g[e],g[n])})),s&&b.forEach((function(e,n){e.sort((function(e,a){return s(r[n][e],r[n][a])}))})),c=(M-u*a)/c,d=0,f=-1;++f<a;){for(p=d,h=-1;++h<a;){var x=y[f],_=b[x][h],w=r[x][_],k=d,T=d+=w*c;m[x+"-"+_]={index:x,subindex:_,startAngle:k,endAngle:T,value:w}}n[x]={index:x,startAngle:p,endAngle:d,value:g[x]},d+=u}for(f=-1;++f<a;)for(h=f-1;++h<a;){var S=m[f+"-"+h],O=m[h+"-"+f];(S.value||O.value)&&e.push(S.value<O.value?{source:O,target:S}:{source:S,target:O})}l&&resort()}function resort(){e.sort((function(e,n){return l((e.source.value+e.target.value)/2,(n.source.value+n.target.value)/2)}))}return c.matrix=function(o){return arguments.length?(a=(r=o)&&r.length,e=n=null,c):r},c.padding=function(r){return arguments.length?(u=r,e=n=null,c):u},c.sortGroups=function(r){return arguments.length?(o=r,e=n=null,c):o},c.sortSubgroups=function(n){return arguments.length?(s=n,e=null,c):s},c.sortChords=function(n){return arguments.length?(l=n,e&&resort(),c):l},c.chords=function(){return e||relayout(),e},c.groups=function(){return n||relayout(),n},c},i.layout.force=function(){var e,n,r,a,o,s,l={},c=i.dispatch("start","tick","end"),u=[1,1],d=.9,p=st,f=lt,h=-30,m=ct,g=.1,y=.64,b=[],x=[];function repulse(e){return function(n,r,a,o){if(n.point!==e){var i=n.cx-e.x,s=n.cy-e.y,l=o-r,c=i*i+s*s;if(l*l/y<c){if(c<m){var u=n.charge/c;e.px-=i*u,e.py-=s*u}return!0}if(n.point&&c&&c<m){u=n.pointCharge/c;e.px-=i*u,e.py-=s*u}}return!n.charge}}function dragmove(e){e.px=i.event.x,e.py=i.event.y,l.resume()}return l.tick=function(){if((r*=.99)<.005)return e=null,c.end({type:"end",alpha:r=0}),!0;var n,l,p,f,m,y,_,w,k,T=b.length,S=x.length;for(l=0;l<S;++l)f=(p=x[l]).source,(y=(w=(m=p.target).x-f.x)*w+(k=m.y-f.y)*k)&&(w*=y=r*o[l]*((y=Math.sqrt(y))-a[l])/y,k*=y,m.x-=w*(_=f.weight+m.weight?f.weight/(f.weight+m.weight):.5),m.y-=k*_,f.x+=w*(_=1-_),f.y+=k*_);if((_=r*g)&&(w=u[0]/2,k=u[1]/2,l=-1,_))for(;++l<T;)(p=b[l]).x+=(w-p.x)*_,p.y+=(k-p.y)*_;if(h)for(d3_layout_forceAccumulate(n=i.geom.quadtree(b),r,s),l=-1;++l<T;)(p=b[l]).fixed||n.visit(repulse(p));for(l=-1;++l<T;)(p=b[l]).fixed?(p.x=p.px,p.y=p.py):(p.x-=(p.px-(p.px=p.x))*d,p.y-=(p.py-(p.py=p.y))*d);c.tick({type:"tick",alpha:r})},l.nodes=function(e){return arguments.length?(b=e,l):b},l.links=function(e){return arguments.length?(x=e,l):x},l.size=function(e){return arguments.length?(u=e,l):u},l.linkDistance=function(e){return arguments.length?(p="function"==typeof e?e:+e,l):p},l.distance=l.linkDistance,l.linkStrength=function(e){return arguments.length?(f="function"==typeof e?e:+e,l):f},l.friction=function(e){return arguments.length?(d=+e,l):d},l.charge=function(e){return arguments.length?(h="function"==typeof e?e:+e,l):h},l.chargeDistance=function(e){return arguments.length?(m=e*e,l):Math.sqrt(m)},l.gravity=function(e){return arguments.length?(g=+e,l):g},l.theta=function(e){return arguments.length?(y=e*e,l):Math.sqrt(y)},l.alpha=function(n){return arguments.length?(n=+n,r?n>0?r=n:(e.c=null,e.t=NaN,e=null,c.end({type:"end",alpha:r=0})):n>0&&(c.start({type:"start",alpha:r=n}),e=d3_timer(l.tick)),l):r},l.start=function(){var e,n,r,i=b.length,c=x.length,d=u[0],m=u[1];for(e=0;e<i;++e)(r=b[e]).index=e,r.weight=0;for(e=0;e<c;++e)"number"==typeof(r=x[e]).source&&(r.source=b[r.source]),"number"==typeof r.target&&(r.target=b[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<i;++e)r=b[e],isNaN(r.x)&&(r.x=position("x",d)),isNaN(r.y)&&(r.y=position("y",m)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(a=[],"function"==typeof p)for(e=0;e<c;++e)a[e]=+p.call(this,x[e],e);else for(e=0;e<c;++e)a[e]=p;if(o=[],"function"==typeof f)for(e=0;e<c;++e)o[e]=+f.call(this,x[e],e);else for(e=0;e<c;++e)o[e]=f;if(s=[],"function"==typeof h)for(e=0;e<i;++e)s[e]=+h.call(this,b[e],e);else for(e=0;e<i;++e)s[e]=h;function position(r,a){if(!n){for(n=new Array(i),u=0;u<i;++u)n[u]=[];for(u=0;u<c;++u){var o=x[u];n[o.source.index].push(o.target),n[o.target.index].push(o.source)}}for(var s,l=n[e],u=-1,d=l.length;++u<d;)if(!isNaN(s=l[u][r]))return s;return Math.random()*a}return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(n||(n=i.behavior.drag().origin(d3_identity).on("dragstart.force",d3_layout_forceDragstart).on("drag.force",dragmove).on("dragend.force",d3_layout_forceDragend)),!arguments.length)return n;this.on("mouseover.force",d3_layout_forceMouseover).on("mouseout.force",d3_layout_forceMouseout).call(n)},i.rebind(l,c,"on")};var st=20,lt=1,ct=1/0;function d3_layout_hierarchyRebind(e,n){return i.rebind(e,n,"sort","children","value"),e.nodes=e,e.links=d3_layout_hierarchyLinks,e}function d3_layout_hierarchyVisitBefore(e,n){for(var r=[e];null!=(e=r.pop());)if(n(e),(o=e.children)&&(a=o.length))for(var a,o;--a>=0;)r.push(o[a])}function d3_layout_hierarchyVisitAfter(e,n){for(var r=[e],a=[];null!=(e=r.pop());)if(a.push(e),(i=e.children)&&(o=i.length))for(var o,i,s=-1;++s<o;)r.push(i[s]);for(;null!=(e=a.pop());)n(e)}function d3_layout_hierarchyChildren(e){return e.children}function d3_layout_hierarchyValue(e){return e.value}function d3_layout_hierarchySort(e,n){return n.value-e.value}function d3_layout_hierarchyLinks(e){return i.merge(e.map((function(e){return(e.children||[]).map((function(n){return{source:e,target:n}}))})))}i.layout.hierarchy=function(){var e=d3_layout_hierarchySort,n=d3_layout_hierarchyChildren,r=d3_layout_hierarchyValue;function hierarchy(a){var o,i=[a],s=[];for(a.depth=0;null!=(o=i.pop());)if(s.push(o),(c=n.call(hierarchy,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)i.push(u=c[l]),u.parent=o,u.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(hierarchy,o,o.depth)||0),delete o.children;return d3_layout_hierarchyVisitAfter(a,(function(n){var a,o;e&&(a=n.children)&&a.sort(e),r&&(o=n.parent)&&(o.value+=n.value)})),s}return hierarchy.sort=function(n){return arguments.length?(e=n,hierarchy):e},hierarchy.children=function(e){return arguments.length?(n=e,hierarchy):n},hierarchy.value=function(e){return arguments.length?(r=e,hierarchy):r},hierarchy.revalue=function(e){return r&&(d3_layout_hierarchyVisitBefore(e,(function(e){e.children&&(e.value=0)})),d3_layout_hierarchyVisitAfter(e,(function(e){var n;e.children||(e.value=+r.call(hierarchy,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)}))),e},hierarchy},i.layout.partition=function(){var e=i.layout.hierarchy(),n=[1,1];function position(e,n,r,a){var o=e.children;if(e.x=n,e.y=e.depth*a,e.dx=r,e.dy=a,o&&(i=o.length)){var i,s,l,c=-1;for(r=e.value?r/e.value:0;++c<i;)position(s=o[c],n,l=s.value*r,a),n+=l}}function depth(e){var n=e.children,r=0;if(n&&(a=n.length))for(var a,o=-1;++o<a;)r=Math.max(r,depth(n[o]));return 1+r}function partition(r,a){var o=e.call(this,r,a);return position(o[0],0,n[0],n[1]/depth(o[0])),o}return partition.size=function(e){return arguments.length?(n=e,partition):n},d3_layout_hierarchyRebind(partition,e)},i.layout.pie=function(){var e=Number,n=ut,r=0,a=M,o=0;function pie(s){var l,c=s.length,u=s.map((function(n,r){return+e.call(pie,n,r)})),d=+("function"==typeof r?r.apply(this,arguments):r),p=("function"==typeof a?a.apply(this,arguments):a)-d,f=Math.min(Math.abs(p)/c,+("function"==typeof o?o.apply(this,arguments):o)),h=f*(p<0?-1:1),m=i.sum(u),g=m?(p-c*h)/m:0,y=i.range(c),b=[];return null!=n&&y.sort(n===ut?function(e,n){return u[n]-u[e]}:function(e,r){return n(s[e],s[r])}),y.forEach((function(e){b[e]={data:s[e],value:l=u[e],startAngle:d,endAngle:d+=l*g+h,padAngle:f}})),b}return pie.value=function(n){return arguments.length?(e=n,pie):e},pie.sort=function(e){return arguments.length?(n=e,pie):n},pie.startAngle=function(e){return arguments.length?(r=e,pie):r},pie.endAngle=function(e){return arguments.length?(a=e,pie):a},pie.padAngle=function(e){return arguments.length?(o=e,pie):o},pie};var ut={};function d3_layout_stackX(e){return e.x}function d3_layout_stackY(e){return e.y}function d3_layout_stackOut(e,n,r){e.y0=n,e.y=r}i.layout.stack=function(){var e=d3_identity,n=d3_layout_stackOrderDefault,r=d3_layout_stackOffsetZero,a=d3_layout_stackOut,o=d3_layout_stackX,s=d3_layout_stackY;function stack(l,c){if(!(f=l.length))return l;var u=l.map((function(n,r){return e.call(stack,n,r)})),d=u.map((function(e){return e.map((function(e,n){return[o.call(stack,e,n),s.call(stack,e,n)]}))})),p=n.call(stack,d,c);u=i.permute(u,p),d=i.permute(d,p);var f,h,m,g,y=r.call(stack,d,c),b=u[0].length;for(m=0;m<b;++m)for(a.call(stack,u[0][m],g=y[m],d[0][m][1]),h=1;h<f;++h)a.call(stack,u[h][m],g+=d[h-1][m][1],d[h][m][1]);return l}return stack.values=function(n){return arguments.length?(e=n,stack):e},stack.order=function(e){return arguments.length?(n="function"==typeof e?e:dt.get(e)||d3_layout_stackOrderDefault,stack):n},stack.offset=function(e){return arguments.length?(r="function"==typeof e?e:ft.get(e)||d3_layout_stackOffsetZero,stack):r},stack.x=function(e){return arguments.length?(o=e,stack):o},stack.y=function(e){return arguments.length?(s=e,stack):s},stack.out=function(e){return arguments.length?(a=e,stack):a},stack};var dt=i.map({"inside-out":function(e){var n,r,a=e.length,o=e.map(d3_layout_stackMaxIndex),s=e.map(d3_layout_stackReduceSum),l=i.range(a).sort((function(e,n){return o[e]-o[n]})),c=0,u=0,d=[],p=[];for(n=0;n<a;++n)r=l[n],c<u?(c+=s[r],d.push(r)):(u+=s[r],p.push(r));return p.reverse().concat(d)},reverse:function(e){return i.range(e.length).reverse()},default:d3_layout_stackOrderDefault}),ft=i.map({silhouette:function(e){var n,r,a,o=e.length,i=e[0].length,s=[],l=0,c=[];for(r=0;r<i;++r){for(n=0,a=0;n<o;n++)a+=e[n][r][1];a>l&&(l=a),s.push(a)}for(r=0;r<i;++r)c[r]=(l-s[r])/2;return c},wiggle:function(e){var n,r,a,o,i,s,l,c,u,d=e.length,p=e[0],f=p.length,h=[];for(h[0]=c=u=0,r=1;r<f;++r){for(n=0,o=0;n<d;++n)o+=e[n][r][1];for(n=0,i=0,l=p[r][0]-p[r-1][0];n<d;++n){for(a=0,s=(e[n][r][1]-e[n][r-1][1])/(2*l);a<n;++a)s+=(e[a][r][1]-e[a][r-1][1])/l;i+=s*e[n][r][1]}h[r]=c-=o?i/o*l:0,c<u&&(u=c)}for(r=0;r<f;++r)h[r]-=u;return h},expand:function(e){var n,r,a,o=e.length,i=e[0].length,s=1/o,l=[];for(r=0;r<i;++r){for(n=0,a=0;n<o;n++)a+=e[n][r][1];if(a)for(n=0;n<o;n++)e[n][r][1]/=a;else for(n=0;n<o;n++)e[n][r][1]=s}for(r=0;r<i;++r)l[r]=0;return l},zero:d3_layout_stackOffsetZero});function d3_layout_stackOrderDefault(e){return i.range(e.length)}function d3_layout_stackOffsetZero(e){for(var n=-1,r=e[0].length,a=[];++n<r;)a[n]=0;return a}function d3_layout_stackMaxIndex(e){for(var n,r=1,a=0,o=e[0][1],i=e.length;r<i;++r)(n=e[r][1])>o&&(a=r,o=n);return a}function d3_layout_stackReduceSum(e){return e.reduce(d3_layout_stackSum,0)}function d3_layout_stackSum(e,n){return e+n[1]}function d3_layout_histogramBinSturges(e,n){return d3_layout_histogramBinFixed(e,Math.ceil(Math.log(n.length)/Math.LN2+1))}function d3_layout_histogramBinFixed(e,n){for(var r=-1,a=+e[0],o=(e[1]-a)/n,i=[];++r<=n;)i[r]=o*r+a;return i}function d3_layout_histogramRange(e){return[i.min(e),i.max(e)]}function d3_layout_packSort(e,n){return e.value-n.value}function d3_layout_packInsert(e,n){var r=e._pack_next;e._pack_next=n,n._pack_prev=e,n._pack_next=r,r._pack_prev=n}function d3_layout_packSplice(e,n){e._pack_next=n,n._pack_prev=e}function d3_layout_packIntersects(e,n){var r=n.x-e.x,a=n.y-e.y,o=e.r+n.r;return.999*o*o>r*r+a*a}function d3_layout_packSiblings(e){if((n=e.children)&&(c=n.length)){var n,r,a,o,i,s,l,c,u=1/0,d=-1/0,p=1/0,f=-1/0;if(n.forEach(d3_layout_packLink),(r=n[0]).x=-r.r,r.y=0,bound(r),c>1&&((a=n[1]).x=a.r,a.y=0,bound(a),c>2))for(d3_layout_packPlace(r,a,o=n[2]),bound(o),d3_layout_packInsert(r,o),r._pack_prev=o,d3_layout_packInsert(o,a),a=r._pack_next,i=3;i<c;i++){d3_layout_packPlace(r,a,o=n[i]);var h=0,m=1,g=1;for(s=a._pack_next;s!==a;s=s._pack_next,m++)if(d3_layout_packIntersects(s,o)){h=1;break}if(1==h)for(l=r._pack_prev;l!==s._pack_prev&&!d3_layout_packIntersects(l,o);l=l._pack_prev,g++);h?(m<g||m==g&&a.r<r.r?d3_layout_packSplice(r,a=s):d3_layout_packSplice(r=l,a),i--):(d3_layout_packInsert(r,o),a=o,bound(o))}var y=(u+d)/2,b=(p+f)/2,x=0;for(i=0;i<c;i++)(o=n[i]).x-=y,o.y-=b,x=Math.max(x,o.r+Math.sqrt(o.x*o.x+o.y*o.y));e.r=x,n.forEach(d3_layout_packUnlink)}function bound(e){u=Math.min(e.x-e.r,u),d=Math.max(e.x+e.r,d),p=Math.min(e.y-e.r,p),f=Math.max(e.y+e.r,f)}}function d3_layout_packLink(e){e._pack_next=e._pack_prev=e}function d3_layout_packUnlink(e){delete e._pack_next,delete e._pack_prev}function d3_layout_packTransform(e,n,r,a){var o=e.children;if(e.x=n+=a*e.x,e.y=r+=a*e.y,e.r*=a,o)for(var i=-1,s=o.length;++i<s;)d3_layout_packTransform(o[i],n,r,a)}function d3_layout_packPlace(e,n,r){var a=e.r+r.r,o=n.x-e.x,i=n.y-e.y;if(a&&(o||i)){var s=n.r+r.r,l=o*o+i*i,c=.5+((a*=a)-(s*=s))/(2*l),u=Math.sqrt(Math.max(0,2*s*(a+l)-(a-=l)*a-s*s))/(2*l);r.x=e.x+c*o+u*i,r.y=e.y+c*i-u*o}else r.x=e.x+a,r.y=e.y}function d3_layout_treeSeparation(e,n){return e.parent==n.parent?1:2}function d3_layout_treeLeft(e){var n=e.children;return n.length?n[0]:e.t}function d3_layout_treeRight(e){var n,r=e.children;return(n=r.length)?r[n-1]:e.t}function d3_layout_treeMove(e,n,r){var a=r/(n.i-e.i);n.c-=a,n.s+=r,e.c+=a,n.z+=r,n.m+=r}function d3_layout_treeAncestor(e,n,r){return e.a.parent===n.parent?e.a:r}function d3_layout_clusterLeft(e){var n=e.children;return n&&n.length?d3_layout_clusterLeft(n[0]):e}function d3_layout_clusterRight(e){var n,r=e.children;return r&&(n=r.length)?d3_layout_clusterRight(r[n-1]):e}function d3_layout_treemapPadNull(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function d3_layout_treemapPad(e,n){var r=e.x+n[3],a=e.y+n[0],o=e.dx-n[1]-n[3],i=e.dy-n[0]-n[2];return o<0&&(r+=o/2,o=0),i<0&&(a+=i/2,i=0),{x:r,y:a,dx:o,dy:i}}function d3_scaleExtent(e){var n=e[0],r=e[e.length-1];return n<r?[n,r]:[r,n]}function d3_scaleRange(e){return e.rangeExtent?e.rangeExtent():d3_scaleExtent(e.range())}function d3_scale_bilinear(e,n,r,a){var o=r(e[0],e[1]),i=a(n[0],n[1]);return function(e){return i(o(e))}}function d3_scale_nice(e,n){var r,a=0,o=e.length-1,i=e[a],s=e[o];return s<i&&(r=a,a=o,o=r,r=i,i=s,s=r),e[a]=n.floor(i),e[o]=n.ceil(s),e}function d3_scale_niceStep(e){return e?{floor:function(n){return Math.floor(n/e)*e},ceil:function(n){return Math.ceil(n/e)*e}}:ht}i.layout.histogram=function(){var e=!0,n=Number,r=d3_layout_histogramRange,a=d3_layout_histogramBinSturges;function histogram(o,s){for(var l,c,u=[],d=o.map(n,this),p=r.call(this,d,s),f=a.call(this,p,d,s),h=(s=-1,d.length),m=f.length-1,g=e?1:1/h;++s<m;)(l=u[s]=[]).dx=f[s+1]-(l.x=f[s]),l.y=0;if(m>0)for(s=-1;++s<h;)(c=d[s])>=p[0]&&c<=p[1]&&((l=u[i.bisect(f,c,1,m)-1]).y+=g,l.push(o[s]));return u}return histogram.value=function(e){return arguments.length?(n=e,histogram):n},histogram.range=function(e){return arguments.length?(r=d3_functor(e),histogram):r},histogram.bins=function(e){return arguments.length?(a="number"==typeof e?function(n){return d3_layout_histogramBinFixed(n,e)}:d3_functor(e),histogram):a},histogram.frequency=function(n){return arguments.length?(e=!!n,histogram):e},histogram},i.layout.pack=function(){var e,n=i.layout.hierarchy().sort(d3_layout_packSort),r=0,a=[1,1];function pack(o,i){var s=n.call(this,o,i),l=s[0],c=a[0],u=a[1],d=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(l.x=l.y=0,d3_layout_hierarchyVisitAfter(l,(function(e){e.r=+d(e.value)})),d3_layout_hierarchyVisitAfter(l,d3_layout_packSiblings),r){var p=r*(e?1:Math.max(2*l.r/c,2*l.r/u))/2;d3_layout_hierarchyVisitAfter(l,(function(e){e.r+=p})),d3_layout_hierarchyVisitAfter(l,d3_layout_packSiblings),d3_layout_hierarchyVisitAfter(l,(function(e){e.r-=p}))}return d3_layout_packTransform(l,c/2,u/2,e?1:1/Math.max(2*l.r/c,2*l.r/u)),s}return pack.size=function(e){return arguments.length?(a=e,pack):a},pack.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,pack):e},pack.padding=function(e){return arguments.length?(r=+e,pack):r},d3_layout_hierarchyRebind(pack,n)},i.layout.tree=function(){var e=i.layout.hierarchy().sort(null).value(null),n=d3_layout_treeSeparation,r=[1,1],a=null;function tree(o,i){var s=e.call(this,o,i),l=s[0],c=function wrapTree(e){var n,r={A:null,children:[e]},a=[r];for(;null!=(n=a.pop());)for(var o,i=n.children,s=0,l=i.length;s<l;++s)a.push((i[s]=o={_:i[s],parent:n,children:(o=i[s].children)&&o.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=o);return r.children[0]}(l);if(d3_layout_hierarchyVisitAfter(c,firstWalk),c.parent.m=-c.z,d3_layout_hierarchyVisitBefore(c,secondWalk),a)d3_layout_hierarchyVisitBefore(l,sizeNode);else{var u=l,d=l,p=l;d3_layout_hierarchyVisitBefore(l,(function(e){e.x<u.x&&(u=e),e.x>d.x&&(d=e),e.depth>p.depth&&(p=e)}));var f=n(u,d)/2-u.x,h=r[0]/(d.x+n(d,u)/2+f),m=r[1]/(p.depth||1);d3_layout_hierarchyVisitBefore(l,(function(e){e.x=(e.x+f)*h,e.y=e.depth*m}))}return s}function firstWalk(e){var r=e.children,a=e.parent.children,o=e.i?a[e.i-1]:null;if(r.length){!function d3_layout_treeShift(e){var n,r=0,a=0,o=e.children,i=o.length;for(;--i>=0;)(n=o[i]).z+=r,n.m+=r,r+=n.s+(a+=n.c)}(e);var i=(r[0].z+r[r.length-1].z)/2;o?(e.z=o.z+n(e._,o._),e.m=e.z-i):e.z=i}else o&&(e.z=o.z+n(e._,o._));e.parent.A=function apportion(e,r,a){if(r){for(var o,i=e,s=e,l=r,c=i.parent.children[0],u=i.m,d=s.m,p=l.m,f=c.m;l=d3_layout_treeRight(l),i=d3_layout_treeLeft(i),l&&i;)c=d3_layout_treeLeft(c),(s=d3_layout_treeRight(s)).a=e,(o=l.z+p-i.z-u+n(l._,i._))>0&&(d3_layout_treeMove(d3_layout_treeAncestor(l,e,a),e,o),u+=o,d+=o),p+=l.m,u+=i.m,f+=c.m,d+=s.m;l&&!d3_layout_treeRight(s)&&(s.t=l,s.m+=p-d),i&&!d3_layout_treeLeft(c)&&(c.t=i,c.m+=u-f,a=e)}return a}(e,o,e.parent.A||a[0])}function secondWalk(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function sizeNode(e){e.x*=r[0],e.y=e.depth*r[1]}return tree.separation=function(e){return arguments.length?(n=e,tree):n},tree.size=function(e){return arguments.length?(a=null==(r=e)?sizeNode:null,tree):a?null:r},tree.nodeSize=function(e){return arguments.length?(a=null==(r=e)?null:sizeNode,tree):a?r:null},d3_layout_hierarchyRebind(tree,e)},i.layout.cluster=function(){var e=i.layout.hierarchy().sort(null).value(null),n=d3_layout_treeSeparation,r=[1,1],a=!1;function cluster(o,s){var l,c=e.call(this,o,s),u=c[0],d=0;d3_layout_hierarchyVisitAfter(u,(function(e){var r=e.children;r&&r.length?(e.x=function d3_layout_clusterX(e){return e.reduce((function(e,n){return e+n.x}),0)/e.length}(r),e.y=function d3_layout_clusterY(e){return 1+i.max(e,(function(e){return e.y}))}(r)):(e.x=l?d+=n(e,l):0,e.y=0,l=e)}));var p=d3_layout_clusterLeft(u),f=d3_layout_clusterRight(u),h=p.x-n(p,f)/2,m=f.x+n(f,p)/2;return d3_layout_hierarchyVisitAfter(u,a?function(e){e.x=(e.x-u.x)*r[0],e.y=(u.y-e.y)*r[1]}:function(e){e.x=(e.x-h)/(m-h)*r[0],e.y=(1-(u.y?e.y/u.y:1))*r[1]}),c}return cluster.separation=function(e){return arguments.length?(n=e,cluster):n},cluster.size=function(e){return arguments.length?(a=null==(r=e),cluster):a?null:r},cluster.nodeSize=function(e){return arguments.length?(a=null!=(r=e),cluster):a?r:null},d3_layout_hierarchyRebind(cluster,e)},i.layout.treemap=function(){var e,n=i.layout.hierarchy(),r=Math.round,a=[1,1],o=null,s=d3_layout_treemapPadNull,l=!1,c="squarify",u=.5*(1+Math.sqrt(5));function scale(e,n){for(var r,a,o=-1,i=e.length;++o<i;)a=(r=e[o]).value*(n<0?0:n),r.area=isNaN(a)||a<=0?0:a}function squarify(e){var n=e.children;if(n&&n.length){var r,a,o,i=s(e),l=[],u=n.slice(),d=1/0,p="slice"===c?i.dx:"dice"===c?i.dy:"slice-dice"===c?1&e.depth?i.dy:i.dx:Math.min(i.dx,i.dy);for(scale(u,i.dx*i.dy/e.value),l.area=0;(o=u.length)>0;)l.push(r=u[o-1]),l.area+=r.area,"squarify"!==c||(a=worst(l,p))<=d?(u.pop(),d=a):(l.area-=l.pop().area,position(l,p,i,!1),p=Math.min(i.dx,i.dy),l.length=l.area=0,d=1/0);l.length&&(position(l,p,i,!0),l.length=l.area=0),n.forEach(squarify)}}function stickify(e){var n=e.children;if(n&&n.length){var r,a=s(e),o=n.slice(),i=[];for(scale(o,a.dx*a.dy/e.value),i.area=0;r=o.pop();)i.push(r),i.area+=r.area,null!=r.z&&(position(i,r.z?a.dx:a.dy,a,!o.length),i.length=i.area=0);n.forEach(stickify)}}function worst(e,n){for(var r,a=e.area,o=0,i=1/0,s=-1,l=e.length;++s<l;)(r=e[s].area)&&(r<i&&(i=r),r>o&&(o=r));return n*=n,(a*=a)?Math.max(n*o*u/a,a/(n*i*u)):1/0}function position(e,n,a,o){var i,s=-1,l=e.length,c=a.x,u=a.y,d=n?r(e.area/n):0;if(n==a.dx){for((o||d>a.dy)&&(d=a.dy);++s<l;)(i=e[s]).x=c,i.y=u,i.dy=d,c+=i.dx=Math.min(a.x+a.dx-c,d?r(i.area/d):0);i.z=!0,i.dx+=a.x+a.dx-c,a.y+=d,a.dy-=d}else{for((o||d>a.dx)&&(d=a.dx);++s<l;)(i=e[s]).x=c,i.y=u,i.dx=d,u+=i.dy=Math.min(a.y+a.dy-u,d?r(i.area/d):0);i.z=!1,i.dy+=a.y+a.dy-u,a.x+=d,a.dx-=d}}function treemap(r){var o=e||n(r),i=o[0];return i.x=i.y=0,i.value?(i.dx=a[0],i.dy=a[1]):i.dx=i.dy=0,e&&n.revalue(i),scale([i],i.dx*i.dy/i.value),(e?stickify:squarify)(i),l&&(e=o),o}return treemap.size=function(e){return arguments.length?(a=e,treemap):a},treemap.padding=function(e){if(!arguments.length)return o;function padFunction(n){var r=e.call(treemap,n,n.depth);return null==r?d3_layout_treemapPadNull(n):d3_layout_treemapPad(n,"number"==typeof r?[r,r,r,r]:r)}function padConstant(n){return d3_layout_treemapPad(n,e)}var n;return s=null==(o=e)?d3_layout_treemapPadNull:"function"==(n=typeof e)?padFunction:"number"===n?(e=[e,e,e,e],padConstant):padConstant,treemap},treemap.round=function(e){return arguments.length?(r=e?Math.round:Number,treemap):r!=Number},treemap.sticky=function(n){return arguments.length?(l=n,e=null,treemap):l},treemap.ratio=function(e){return arguments.length?(u=e,treemap):u},treemap.mode=function(e){return arguments.length?(c=e+"",treemap):c},d3_layout_hierarchyRebind(treemap,n)},i.random={normal:function(e,n){var r=arguments.length;return r<2&&(n=1),r<1&&(e=0),function(){var r,a,o;do{o=(r=2*Math.random()-1)*r+(a=2*Math.random()-1)*a}while(!o||o>1);return e+n*r*Math.sqrt(-2*Math.log(o)/o)}},logNormal:function(){var e=i.random.normal.apply(i,arguments);return function(){return Math.exp(e())}},bates:function(e){var n=i.random.irwinHall(e);return function(){return n()/e}},irwinHall:function(e){return function(){for(var n=0,r=0;r<e;r++)n+=Math.random();return n}}},i.scale={};var ht={floor:d3_identity,ceil:d3_identity};function d3_scale_polylinear(e,n,r,a){var o=[],s=[],l=0,c=Math.min(e.length,n.length)-1;for(e[c]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<=c;)o.push(r(e[l-1],e[l])),s.push(a(n[l-1],n[l]));return function(n){var r=i.bisect(e,n,1,c)-1;return s[r](o[r](n))}}function d3_scale_linear(e,n,r,a){var o,i;function rescale(){var s=Math.min(e.length,n.length)>2?d3_scale_polylinear:d3_scale_bilinear,l=a?d3_uninterpolateClamp:d3_uninterpolateNumber;return o=s(e,n,l,r),i=s(n,e,l,d3_interpolate),scale}function scale(e){return o(e)}return scale.invert=function(e){return i(e)},scale.domain=function(n){return arguments.length?(e=n.map(Number),rescale()):e},scale.range=function(e){return arguments.length?(n=e,rescale()):n},scale.rangeRound=function(e){return scale.range(e).interpolate(d3_interpolateRound)},scale.clamp=function(e){return arguments.length?(a=e,rescale()):a},scale.interpolate=function(e){return arguments.length?(r=e,rescale()):r},scale.ticks=function(n){return d3_scale_linearTicks(e,n)},scale.tickFormat=function(n,r){return d3_scale_linearTickFormat(e,n,r)},scale.nice=function(n){return d3_scale_linearNice(e,n),rescale()},scale.copy=function(){return d3_scale_linear(e,n,r,a)},rescale()}function d3_scale_linearRebind(e,n){return i.rebind(e,n,"range","rangeRound","interpolate","clamp")}function d3_scale_linearNice(e,n){return d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,n)[2])),d3_scale_nice(e,d3_scale_niceStep(d3_scale_linearTickRange(e,n)[2])),e}function d3_scale_linearTickRange(e,n){null==n&&(n=10);var r=d3_scaleExtent(e),a=r[1]-r[0],o=Math.pow(10,Math.floor(Math.log(a/n)/Math.LN10)),i=n/a*o;return i<=.15?o*=10:i<=.35?o*=5:i<=.75&&(o*=2),r[0]=Math.ceil(r[0]/o)*o,r[1]=Math.floor(r[1]/o)*o+.5*o,r[2]=o,r}function d3_scale_linearTicks(e,n){return i.range.apply(i,d3_scale_linearTickRange(e,n))}function d3_scale_linearTickFormat(e,n,r){var a=d3_scale_linearTickRange(e,n);if(r){var o=ne.exec(r);if(o.shift(),"s"===o[8]){var s=i.formatPrefix(Math.max(m(a[0]),m(a[1])));return o[7]||(o[7]="."+d3_scale_linearPrecision(s.scale(a[2]))),o[8]="f",r=i.format(o.join("")),function(e){return r(s.scale(e))+s.symbol}}o[7]||(o[7]="."+function d3_scale_linearFormatPrecision(e,n){var r=d3_scale_linearPrecision(n[2]);return e in mt?Math.abs(r-d3_scale_linearPrecision(Math.max(m(n[0]),m(n[1]))))+ +("e"!==e):r-2*("%"===e)}(o[8],a)),r=o.join("")}else r=",."+d3_scale_linearPrecision(a[2])+"f";return i.format(r)}i.scale.linear=function(){return d3_scale_linear([0,1],[0,1],d3_interpolate,!1)};var mt={s:1,g:1,p:1,r:1,e:1};function d3_scale_linearPrecision(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function d3_scale_log(e,n,r,a){function log(e){return(r?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function pow(e){return r?Math.pow(n,e):-Math.pow(n,-e)}function scale(n){return e(log(n))}return scale.invert=function(n){return pow(e.invert(n))},scale.domain=function(n){return arguments.length?(r=n[0]>=0,e.domain((a=n.map(Number)).map(log)),scale):a},scale.base=function(r){return arguments.length?(n=+r,e.domain(a.map(log)),scale):n},scale.nice=function(){var n=d3_scale_nice(a.map(log),r?Math:yt);return e.domain(n),a=n.map(pow),scale},scale.ticks=function(){var e=d3_scaleExtent(a),o=[],i=e[0],s=e[1],l=Math.floor(log(i)),c=Math.ceil(log(s)),u=n%1?2:n;if(isFinite(c-l)){if(r){for(;l<c;l++)for(var d=1;d<u;d++)o.push(pow(l)*d);o.push(pow(l))}else for(o.push(pow(l));l++<c;)for(d=u-1;d>0;d--)o.push(pow(l)*d);for(l=0;o[l]<i;l++);for(c=o.length;o[c-1]>s;c--);o=o.slice(l,c)}return o},scale.tickFormat=function(e,r){if(!arguments.length)return gt;arguments.length<2?r=gt:"function"!=typeof r&&(r=i.format(r));var a=Math.max(1,n*e/scale.ticks().length);return function(e){var o=e/pow(Math.round(log(e)));return o*n<n-.5&&(o*=n),o<=a?r(e):""}},scale.copy=function(){return d3_scale_log(e.copy(),n,r,a)},d3_scale_linearRebind(scale,e)}i.scale.log=function(){return d3_scale_log(i.scale.linear().domain([0,1]),10,!0,[1,10])};var gt=i.format(".0e"),yt={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function d3_scale_pow(e,n,r){var a=d3_scale_powPow(n),o=d3_scale_powPow(1/n);function scale(n){return e(a(n))}return scale.invert=function(n){return o(e.invert(n))},scale.domain=function(n){return arguments.length?(e.domain((r=n.map(Number)).map(a)),scale):r},scale.ticks=function(e){return d3_scale_linearTicks(r,e)},scale.tickFormat=function(e,n){return d3_scale_linearTickFormat(r,e,n)},scale.nice=function(e){return scale.domain(d3_scale_linearNice(r,e))},scale.exponent=function(i){return arguments.length?(a=d3_scale_powPow(n=i),o=d3_scale_powPow(1/n),e.domain(r.map(a)),scale):n},scale.copy=function(){return d3_scale_pow(e.copy(),n,r)},d3_scale_linearRebind(scale,e)}function d3_scale_powPow(e){return function(n){return n<0?-Math.pow(-n,e):Math.pow(n,e)}}function d3_scale_ordinal(e,n){var r,a,o;function scale(o){return a[((r.get(o)||("range"===n.t?r.set(o,e.push(o)):NaN))-1)%a.length]}function steps(n,r){return i.range(e.length).map((function(e){return n+r*e}))}return scale.domain=function(a){if(!arguments.length)return e;e=[],r=new d3_Map;for(var o,i=-1,s=a.length;++i<s;)r.has(o=a[i])||r.set(o,e.push(o));return scale[n.t].apply(scale,n.a)},scale.range=function(e){return arguments.length?(a=e,o=0,n={t:"range",a:arguments},scale):a},scale.rangePoints=function(r,i){arguments.length<2&&(i=0);var s=r[0],l=r[1],c=e.length<2?(s=(s+l)/2,0):(l-s)/(e.length-1+i);return a=steps(s+c*i/2,c),o=0,n={t:"rangePoints",a:arguments},scale},scale.rangeRoundPoints=function(r,i){arguments.length<2&&(i=0);var s=r[0],l=r[1],c=e.length<2?(s=l=Math.round((s+l)/2),0):(l-s)/(e.length-1+i)|0;return a=steps(s+Math.round(c*i/2+(l-s-(e.length-1+i)*c)/2),c),o=0,n={t:"rangeRoundPoints",a:arguments},scale},scale.rangeBands=function(r,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var l=r[1]<r[0],c=r[l-0],u=r[1-l],d=(u-c)/(e.length-i+2*s);return a=steps(c+d*s,d),l&&a.reverse(),o=d*(1-i),n={t:"rangeBands",a:arguments},scale},scale.rangeRoundBands=function(r,i,s){arguments.length<2&&(i=0),arguments.length<3&&(s=i);var l=r[1]<r[0],c=r[l-0],u=r[1-l],d=Math.floor((u-c)/(e.length-i+2*s));return a=steps(c+Math.round((u-c-(e.length-i)*d)/2),d),l&&a.reverse(),o=Math.round(d*(1-i)),n={t:"rangeRoundBands",a:arguments},scale},scale.rangeBand=function(){return o},scale.rangeExtent=function(){return d3_scaleExtent(n.a[0])},scale.copy=function(){return d3_scale_ordinal(e,n)},scale.domain(e)}i.scale.pow=function(){return d3_scale_pow(i.scale.linear(),1,[0,1])},i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return d3_scale_ordinal([],{t:"range",a:[[]]})},i.scale.category10=function(){return i.scale.ordinal().range(bt)},i.scale.category20=function(){return i.scale.ordinal().range(vt)},i.scale.category20b=function(){return i.scale.ordinal().range(xt)},i.scale.category20c=function(){return i.scale.ordinal().range(_t)};var bt=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(d3_rgbString),vt=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(d3_rgbString),xt=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(d3_rgbString),_t=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(d3_rgbString);function d3_scale_quantile(e,n){var r;function rescale(){var a=0,o=n.length;for(r=[];++a<o;)r[a-1]=i.quantile(e,a/o);return scale}function scale(e){if(!isNaN(e=+e))return n[i.bisect(r,e)]}return scale.domain=function(n){return arguments.length?(e=n.map(d3_number).filter(d3_numeric).sort(d3_ascending),rescale()):e},scale.range=function(e){return arguments.length?(n=e,rescale()):n},scale.quantiles=function(){return r},scale.invertExtent=function(a){return(a=n.indexOf(a))<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},scale.copy=function(){return d3_scale_quantile(e,n)},rescale()}function d3_scale_quantize(e,n,r){var a,o;function scale(n){return r[Math.max(0,Math.min(o,Math.floor(a*(n-e))))]}function rescale(){return a=r.length/(n-e),o=r.length-1,scale}return scale.domain=function(r){return arguments.length?(e=+r[0],n=+r[r.length-1],rescale()):[e,n]},scale.range=function(e){return arguments.length?(r=e,rescale()):r},scale.invertExtent=function(n){return[n=(n=r.indexOf(n))<0?NaN:n/a+e,n+1/a]},scale.copy=function(){return d3_scale_quantize(e,n,r)},rescale()}function d3_scale_threshold(e,n){function scale(r){if(r<=r)return n[i.bisect(e,r)]}return scale.domain=function(n){return arguments.length?(e=n,scale):e},scale.range=function(e){return arguments.length?(n=e,scale):n},scale.invertExtent=function(r){return r=n.indexOf(r),[e[r-1],e[r]]},scale.copy=function(){return d3_scale_threshold(e,n)},scale}function d3_scale_identity(e){function identity(e){return+e}return identity.invert=identity,identity.domain=identity.range=function(n){return arguments.length?(e=n.map(identity),identity):e},identity.ticks=function(n){return d3_scale_linearTicks(e,n)},identity.tickFormat=function(n,r){return d3_scale_linearTickFormat(e,n,r)},identity.copy=function(){return d3_scale_identity(e)},identity}function d3_zero(){return 0}i.scale.quantile=function(){return d3_scale_quantile([],[])},i.scale.quantize=function(){return d3_scale_quantize(0,1,[0,1])},i.scale.threshold=function(){return d3_scale_threshold([.5],[0,1])},i.scale.identity=function(){return d3_scale_identity([0,1])},i.svg={},i.svg.arc=function(){var e=d3_svg_arcInnerRadius,n=d3_svg_arcOuterRadius,r=d3_zero,a=wt,o=d3_svg_arcStartAngle,i=d3_svg_arcEndAngle,s=d3_svg_arcPadAngle;function arc(){var l=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+n.apply(this,arguments)),u=o.apply(this,arguments)-D,d=i.apply(this,arguments)-D,p=Math.abs(d-u),f=u>d?0:1;if(c<l&&(h=c,c=l,l=h),p>=E)return circleSegment(c,f)+(l?circleSegment(l,1-f):"")+"Z";var h,m,g,y,b,x,_,w,k,T,S,O,C=0,I=0,M=[];if((y=(+s.apply(this,arguments)||0)/2)&&(g=a===wt?Math.sqrt(l*l+c*c):+a.apply(this,arguments),f||(I*=-1),c&&(I=d3_asin(g/c*Math.sin(y))),l&&(C=d3_asin(g/l*Math.sin(y)))),c){b=c*Math.cos(u+I),x=c*Math.sin(u+I),_=c*Math.cos(d-I),w=c*Math.sin(d-I);var j=Math.abs(d-u-2*I)<=N?0:1;if(I&&d3_svg_arcSweep(b,x,_,w)===f^j){var R=(u+d)/2;b=c*Math.cos(R),x=c*Math.sin(R),_=w=null}}else b=x=0;if(l){k=l*Math.cos(d-C),T=l*Math.sin(d-C),S=l*Math.cos(u+C),O=l*Math.sin(u+C);var L=Math.abs(u-d+2*C)<=N?0:1;if(C&&d3_svg_arcSweep(k,T,S,O)===1-f^L){var z=(u+d)/2;k=l*Math.cos(z),T=l*Math.sin(z),S=O=null}}else k=T=0;if(p>A&&(h=Math.min(Math.abs(c-l)/2,+r.apply(this,arguments)))>.001){m=l<c^f?0:1;var $=h,B=h;if(p<N){var V=null==S?[k,T]:null==_?[b,x]:d3_geom_polygonIntersect([b,x],[S,O],[_,w],[k,T]),U=b-V[0],W=x-V[1],H=_-V[0],G=w-V[1],q=1/Math.sin(Math.acos((U*H+W*G)/(Math.sqrt(U*U+W*W)*Math.sqrt(H*H+G*G)))/2),K=Math.sqrt(V[0]*V[0]+V[1]*V[1]);B=Math.min(h,(l-K)/(q-1)),$=Math.min(h,(c-K)/(q+1))}if(null!=_){var X=d3_svg_arcCornerTangents(null==S?[k,T]:[S,O],[b,x],c,$,f),Y=d3_svg_arcCornerTangents([_,w],[k,T],c,$,f);h===$?M.push("M",X[0],"A",$,",",$," 0 0,",m," ",X[1],"A",c,",",c," 0 ",1-f^d3_svg_arcSweep(X[1][0],X[1][1],Y[1][0],Y[1][1]),",",f," ",Y[1],"A",$,",",$," 0 0,",m," ",Y[0]):M.push("M",X[0],"A",$,",",$," 0 1,",m," ",Y[0])}else M.push("M",b,",",x);if(null!=S){var Z=d3_svg_arcCornerTangents([b,x],[S,O],l,-B,f),J=d3_svg_arcCornerTangents([k,T],null==_?[b,x]:[_,w],l,-B,f);h===B?M.push("L",J[0],"A",B,",",B," 0 0,",m," ",J[1],"A",l,",",l," 0 ",f^d3_svg_arcSweep(J[1][0],J[1][1],Z[1][0],Z[1][1]),",",1-f," ",Z[1],"A",B,",",B," 0 0,",m," ",Z[0]):M.push("L",J[0],"A",B,",",B," 0 0,",m," ",Z[0])}else M.push("L",k,",",T)}else M.push("M",b,",",x),null!=_&&M.push("A",c,",",c," 0 ",j,",",f," ",_,",",w),M.push("L",k,",",T),null!=S&&M.push("A",l,",",l," 0 ",L,",",1-f," ",S,",",O);return M.push("Z"),M.join("")}function circleSegment(e,n){return"M0,"+e+"A"+e+","+e+" 0 1,"+n+" 0,"+-e+"A"+e+","+e+" 0 1,"+n+" 0,"+e}return arc.innerRadius=function(n){return arguments.length?(e=d3_functor(n),arc):e},arc.outerRadius=function(e){return arguments.length?(n=d3_functor(e),arc):n},arc.cornerRadius=function(e){return arguments.length?(r=d3_functor(e),arc):r},arc.padRadius=function(e){return arguments.length?(a=e==wt?wt:d3_functor(e),arc):a},arc.startAngle=function(e){return arguments.length?(o=d3_functor(e),arc):o},arc.endAngle=function(e){return arguments.length?(i=d3_functor(e),arc):i},arc.padAngle=function(e){return arguments.length?(s=d3_functor(e),arc):s},arc.centroid=function(){var r=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,a=(+o.apply(this,arguments)+ +i.apply(this,arguments))/2-D;return[Math.cos(a)*r,Math.sin(a)*r]},arc};var wt="auto";function d3_svg_arcInnerRadius(e){return e.innerRadius}function d3_svg_arcOuterRadius(e){return e.outerRadius}function d3_svg_arcStartAngle(e){return e.startAngle}function d3_svg_arcEndAngle(e){return e.endAngle}function d3_svg_arcPadAngle(e){return e&&e.padAngle}function d3_svg_arcSweep(e,n,r,a){return(e-r)*n-(n-a)*e>0?0:1}function d3_svg_arcCornerTangents(e,n,r,a,o){var i=e[0]-n[0],s=e[1]-n[1],l=(o?a:-a)/Math.sqrt(i*i+s*s),c=l*s,u=-l*i,d=e[0]+c,p=e[1]+u,f=n[0]+c,h=n[1]+u,m=(d+f)/2,g=(p+h)/2,y=f-d,b=h-p,x=y*y+b*b,_=r-a,w=d*h-f*p,k=(b<0?-1:1)*Math.sqrt(Math.max(0,_*_*x-w*w)),T=(w*b-y*k)/x,S=(-w*y-b*k)/x,O=(w*b+y*k)/x,C=(-w*y+b*k)/x,A=T-m,I=S-g,N=O-m,M=C-g;return A*A+I*I>N*N+M*M&&(T=O,S=C),[[T-c,S-u],[T*r/_,S*r/_]]}function d3_svg_line(e){var n=d3_geom_pointX,r=d3_geom_pointY,a=d3_true,o=d3_svg_lineLinear,i=o.key,s=.7;function line(i){var l,c=[],u=[],d=-1,p=i.length,f=d3_functor(n),h=d3_functor(r);function segment(){c.push("M",o(e(u),s))}for(;++d<p;)a.call(this,l=i[d],d)?u.push([+f.call(this,l,d),+h.call(this,l,d)]):u.length&&(segment(),u=[]);return u.length&&segment(),c.length?c.join(""):null}return line.x=function(e){return arguments.length?(n=e,line):n},line.y=function(e){return arguments.length?(r=e,line):r},line.defined=function(e){return arguments.length?(a=e,line):a},line.interpolate=function(e){return arguments.length?(i="function"==typeof e?o=e:(o=kt.get(e)||d3_svg_lineLinear).key,line):i},line.tension=function(e){return arguments.length?(s=e,line):s},line}i.svg.line=function(){return d3_svg_line(d3_identity)};var kt=i.map({linear:d3_svg_lineLinear,"linear-closed":d3_svg_lineLinearClosed,step:function d3_svg_lineStep(e){var n=0,r=e.length,a=e[0],o=[a[0],",",a[1]];for(;++n<r;)o.push("H",(a[0]+(a=e[n])[0])/2,"V",a[1]);r>1&&o.push("H",a[0]);return o.join("")},"step-before":d3_svg_lineStepBefore,"step-after":d3_svg_lineStepAfter,basis:d3_svg_lineBasis,"basis-open":function d3_svg_lineBasisOpen(e){if(e.length<4)return d3_svg_lineLinear(e);var n,r=[],a=-1,o=e.length,i=[0],s=[0];for(;++a<3;)n=e[a],i.push(n[0]),s.push(n[1]);r.push(d3_svg_lineDot4(Ot,i)+","+d3_svg_lineDot4(Ot,s)),--a;for(;++a<o;)n=e[a],i.shift(),i.push(n[0]),s.shift(),s.push(n[1]),d3_svg_lineBasisBezier(r,i,s);return r.join("")},"basis-closed":function d3_svg_lineBasisClosed(e){var n,r,a=-1,o=e.length,i=o+4,s=[],l=[];for(;++a<4;)r=e[a%o],s.push(r[0]),l.push(r[1]);n=[d3_svg_lineDot4(Ot,s),",",d3_svg_lineDot4(Ot,l)],--a;for(;++a<i;)r=e[a%o],s.shift(),s.push(r[0]),l.shift(),l.push(r[1]),d3_svg_lineBasisBezier(n,s,l);return n.join("")},bundle:function d3_svg_lineBundle(e,n){var r=e.length-1;if(r)for(var a,o,i=e[0][0],s=e[0][1],l=e[r][0]-i,c=e[r][1]-s,u=-1;++u<=r;)a=e[u],o=u/r,a[0]=n*a[0]+(1-n)*(i+o*l),a[1]=n*a[1]+(1-n)*(s+o*c);return d3_svg_lineBasis(e)},cardinal:function d3_svg_lineCardinal(e,n){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,d3_svg_lineCardinalTangents(e,n))},"cardinal-open":function d3_svg_lineCardinalOpen(e,n){return e.length<4?d3_svg_lineLinear(e):e[1]+d3_svg_lineHermite(e.slice(1,-1),d3_svg_lineCardinalTangents(e,n))},"cardinal-closed":function d3_svg_lineCardinalClosed(e,n){return e.length<3?d3_svg_lineLinearClosed(e):e[0]+d3_svg_lineHermite((e.push(e[0]),e),d3_svg_lineCardinalTangents([e[e.length-2]].concat(e,[e[1]]),n))},monotone:function d3_svg_lineMonotone(e){return e.length<3?d3_svg_lineLinear(e):e[0]+d3_svg_lineHermite(e,function d3_svg_lineMonotoneTangents(e){var n,r,a,o,i=[],s=function d3_svg_lineFiniteDifferences(e){var n=0,r=e.length-1,a=[],o=e[0],i=e[1],s=a[0]=d3_svg_lineSlope(o,i);for(;++n<r;)a[n]=(s+(s=d3_svg_lineSlope(o=i,i=e[n+1])))/2;return a[n]=s,a}(e),l=-1,c=e.length-1;for(;++l<c;)n=d3_svg_lineSlope(e[l],e[l+1]),m(n)<A?s[l]=s[l+1]=0:(o=(r=s[l]/n)*r+(a=s[l+1]/n)*a)>9&&(o=3*n/Math.sqrt(o),s[l]=o*r,s[l+1]=o*a);l=-1;for(;++l<=c;)o=(e[Math.min(c,l+1)][0]-e[Math.max(0,l-1)][0])/(6*(1+s[l]*s[l])),i.push([o||0,s[l]*o||0]);return i}(e))}});function d3_svg_lineLinear(e){return e.length>1?e.join("L"):e+"Z"}function d3_svg_lineLinearClosed(e){return e.join("L")+"Z"}function d3_svg_lineStepBefore(e){for(var n=0,r=e.length,a=e[0],o=[a[0],",",a[1]];++n<r;)o.push("V",(a=e[n])[1],"H",a[0]);return o.join("")}function d3_svg_lineStepAfter(e){for(var n=0,r=e.length,a=e[0],o=[a[0],",",a[1]];++n<r;)o.push("H",(a=e[n])[0],"V",a[1]);return o.join("")}function d3_svg_lineHermite(e,n){if(n.length<1||e.length!=n.length&&e.length!=n.length+2)return d3_svg_lineLinear(e);var r=e.length!=n.length,a="",o=e[0],i=e[1],s=n[0],l=s,c=1;if(r&&(a+="Q"+(i[0]-2*s[0]/3)+","+(i[1]-2*s[1]/3)+","+i[0]+","+i[1],o=e[1],c=2),n.length>1){l=n[1],i=e[c],c++,a+="C"+(o[0]+s[0])+","+(o[1]+s[1])+","+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1];for(var u=2;u<n.length;u++,c++)i=e[c],l=n[u],a+="S"+(i[0]-l[0])+","+(i[1]-l[1])+","+i[0]+","+i[1]}if(r){var d=e[c];a+="Q"+(i[0]+2*l[0]/3)+","+(i[1]+2*l[1]/3)+","+d[0]+","+d[1]}return a}function d3_svg_lineCardinalTangents(e,n){for(var r,a=[],o=(1-n)/2,i=e[0],s=e[1],l=1,c=e.length;++l<c;)r=i,i=s,s=e[l],a.push([o*(s[0]-r[0]),o*(s[1]-r[1])]);return a}function d3_svg_lineBasis(e){if(e.length<3)return d3_svg_lineLinear(e);var n=1,r=e.length,a=e[0],o=a[0],i=a[1],s=[o,o,o,(a=e[1])[0]],l=[i,i,i,a[1]],c=[o,",",i,"L",d3_svg_lineDot4(Ot,s),",",d3_svg_lineDot4(Ot,l)];for(e.push(e[r-1]);++n<=r;)a=e[n],s.shift(),s.push(a[0]),l.shift(),l.push(a[1]),d3_svg_lineBasisBezier(c,s,l);return e.pop(),c.push("L",a),c.join("")}function d3_svg_lineDot4(e,n){return e[0]*n[0]+e[1]*n[1]+e[2]*n[2]+e[3]*n[3]}kt.forEach((function(e,n){n.key=e,n.closed=/-closed$/.test(e)}));var Tt=[0,2/3,1/3,0],St=[0,1/3,2/3,0],Ot=[0,1/6,2/3,1/6];function d3_svg_lineBasisBezier(e,n,r){e.push("C",d3_svg_lineDot4(Tt,n),",",d3_svg_lineDot4(Tt,r),",",d3_svg_lineDot4(St,n),",",d3_svg_lineDot4(St,r),",",d3_svg_lineDot4(Ot,n),",",d3_svg_lineDot4(Ot,r))}function d3_svg_lineSlope(e,n){return(n[1]-e[1])/(n[0]-e[0])}function d3_svg_lineRadial(e){for(var n,r,a,o=-1,i=e.length;++o<i;)r=(n=e[o])[0],a=n[1]-D,n[0]=r*Math.cos(a),n[1]=r*Math.sin(a);return e}function d3_svg_area(e){var n=d3_geom_pointX,r=d3_geom_pointX,a=0,o=d3_geom_pointY,i=d3_true,s=d3_svg_lineLinear,l=s.key,c=s,u="L",d=.7;function area(l){var p,f,h,m=[],g=[],y=[],b=-1,x=l.length,_=d3_functor(n),w=d3_functor(a),k=n===r?function(){return f}:d3_functor(r),T=a===o?function(){return h}:d3_functor(o);function segment(){m.push("M",s(e(y),d),u,c(e(g.reverse()),d),"Z")}for(;++b<x;)i.call(this,p=l[b],b)?(g.push([f=+_.call(this,p,b),h=+w.call(this,p,b)]),y.push([+k.call(this,p,b),+T.call(this,p,b)])):g.length&&(segment(),g=[],y=[]);return g.length&&segment(),m.length?m.join(""):null}return area.x=function(e){return arguments.length?(n=r=e,area):r},area.x0=function(e){return arguments.length?(n=e,area):n},area.x1=function(e){return arguments.length?(r=e,area):r},area.y=function(e){return arguments.length?(a=o=e,area):o},area.y0=function(e){return arguments.length?(a=e,area):a},area.y1=function(e){return arguments.length?(o=e,area):o},area.defined=function(e){return arguments.length?(i=e,area):i},area.interpolate=function(e){return arguments.length?(l="function"==typeof e?s=e:(s=kt.get(e)||d3_svg_lineLinear).key,c=s.reverse||s,u=s.closed?"M":"L",area):l},area.tension=function(e){return arguments.length?(d=e,area):d},area}function d3_svg_chordRadius(e){return e.radius}function d3_svg_diagonalProjection(e){return[e.x,e.y]}function d3_svg_diagonalRadialProjection(e){return function(){var n=e.apply(this,arguments),r=n[0],a=n[1]-D;return[r*Math.cos(a),r*Math.sin(a)]}}function d3_svg_symbolSize(){return 64}function d3_svg_symbolType(){return"circle"}function d3_svg_symbolCircle(e){var n=Math.sqrt(e/N);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}i.svg.line.radial=function(){var e=d3_svg_line(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},d3_svg_lineStepBefore.reverse=d3_svg_lineStepAfter,d3_svg_lineStepAfter.reverse=d3_svg_lineStepBefore,i.svg.area=function(){return d3_svg_area(d3_identity)},i.svg.area.radial=function(){var e=d3_svg_area(d3_svg_lineRadial);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},i.svg.chord=function(){var e=d3_source,n=d3_target,r=d3_svg_chordRadius,a=d3_svg_arcStartAngle,o=d3_svg_arcEndAngle;function chord(r,a){var o=subgroup(this,e,r,a),i=subgroup(this,n,r,a);return"M"+o.p0+arc(o.r,o.p1,o.a1-o.a0)+(function equals(e,n){return e.a0==n.a0&&e.a1==n.a1}(o,i)?curve(o.r,o.p1,o.r,o.p0):curve(o.r,o.p1,i.r,i.p0)+arc(i.r,i.p1,i.a1-i.a0)+curve(i.r,i.p1,o.r,o.p0))+"Z"}function subgroup(e,n,i,s){var l=n.call(e,i,s),c=r.call(e,l,s),u=a.call(e,l,s)-D,d=o.call(e,l,s)-D;return{r:c,a0:u,a1:d,p0:[c*Math.cos(u),c*Math.sin(u)],p1:[c*Math.cos(d),c*Math.sin(d)]}}function arc(e,n,r){return"A"+e+","+e+" 0 "+ +(r>N)+",1 "+n}function curve(e,n,r,a){return"Q 0,0 "+a}return chord.radius=function(e){return arguments.length?(r=d3_functor(e),chord):r},chord.source=function(n){return arguments.length?(e=d3_functor(n),chord):e},chord.target=function(e){return arguments.length?(n=d3_functor(e),chord):n},chord.startAngle=function(e){return arguments.length?(a=d3_functor(e),chord):a},chord.endAngle=function(e){return arguments.length?(o=d3_functor(e),chord):o},chord},i.svg.diagonal=function(){var e=d3_source,n=d3_target,r=d3_svg_diagonalProjection;function diagonal(a,o){var i=e.call(this,a,o),s=n.call(this,a,o),l=(i.y+s.y)/2,c=[i,{x:i.x,y:l},{x:s.x,y:l},s];return"M"+(c=c.map(r))[0]+"C"+c[1]+" "+c[2]+" "+c[3]}return diagonal.source=function(n){return arguments.length?(e=d3_functor(n),diagonal):e},diagonal.target=function(e){return arguments.length?(n=d3_functor(e),diagonal):n},diagonal.projection=function(e){return arguments.length?(r=e,diagonal):r},diagonal},i.svg.diagonal.radial=function(){var e=i.svg.diagonal(),n=d3_svg_diagonalProjection,r=e.projection;return e.projection=function(e){return arguments.length?r(d3_svg_diagonalRadialProjection(n=e)):n},e},i.svg.symbol=function(){var e=d3_svg_symbolType,n=d3_svg_symbolSize;function symbol(r,a){return(Ct.get(e.call(this,r,a))||d3_svg_symbolCircle)(n.call(this,r,a))}return symbol.type=function(n){return arguments.length?(e=d3_functor(n),symbol):e},symbol.size=function(e){return arguments.length?(n=d3_functor(e),symbol):n},symbol};var Ct=i.map({circle:d3_svg_symbolCircle,cross:function(e){var n=Math.sqrt(e/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(e){var n=Math.sqrt(e/(2*It)),r=n*It;return"M0,"+-n+"L"+r+",0 0,"+n+" "+-r+",0Z"},square:function(e){var n=Math.sqrt(e)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(e){var n=Math.sqrt(e/At),r=n*At/2;return"M0,"+r+"L"+n+","+-r+" "+-n+","+-r+"Z"},"triangle-up":function(e){var n=Math.sqrt(e/At),r=n*At/2;return"M0,"+-r+"L"+n+","+r+" "+-n+","+r+"Z"}});i.svg.symbolTypes=Ct.keys();var At=Math.sqrt(3),It=Math.tan(30*j);x.transition=function(e){for(var n,r,a=Mt||++jt,o=d3_transitionNamespace(e),i=[],s=Et||{time:Date.now(),ease:d3_ease_cubicInOut,delay:0,duration:250},l=-1,c=this.length;++l<c;){i.push(n=[]);for(var u=this[l],d=-1,p=u.length;++d<p;)(r=u[d])&&d3_transitionNode(r,d,o,a,s),n.push(r)}return d3_transition(i,o,a)},x.interrupt=function(e){return this.each(null==e?Nt:d3_selection_interruptNS(d3_transitionNamespace(e)))};var Nt=d3_selection_interruptNS(d3_transitionNamespace());function d3_selection_interruptNS(e){return function(){var n,r,a;(n=this[e])&&(a=n[r=n.active])&&(a.timer.c=null,a.timer.t=NaN,--n.count?delete n[r]:delete this[e],n.active+=.5,a.event&&a.event.interrupt.call(this,this.__data__,a.index))}}function d3_transition(e,n,r){return b(e,Dt),e.namespace=n,e.id=r,e}var Mt,Et,Dt=[],jt=0;function d3_transition_tween(e,n,r,a){var o=e.id,i=e.namespace;return d3_selection_each(e,"function"==typeof r?function(e,s,l){e[i][o].tween.set(n,a(r.call(e,e.__data__,s,l)))}:(r=a(r),function(e){e[i][o].tween.set(n,r)}))}function d3_transition_text(e){return null==e&&(e=""),function(){this.textContent=e}}function d3_transitionNamespace(e){return null==e?"__transition__":"__transition_"+e+"__"}function d3_transitionNode(e,n,r,a,o){var i,s,l,c,u,d=e[r]||(e[r]={active:0,count:0}),p=d[a];function start(r){var o=d.active,f=d[o];for(var h in f&&(f.timer.c=null,f.timer.t=NaN,--d.count,delete d[o],f.event&&f.event.interrupt.call(e,e.__data__,f.index)),d)if(+h<a){var m=d[h];m.timer.c=null,m.timer.t=NaN,--d.count,delete d[h]}s.c=tick,d3_timer((function(){return s.c&&tick(r||1)&&(s.c=null,s.t=NaN),1}),0,i),d.active=a,p.event&&p.event.start.call(e,e.__data__,n),u=[],p.tween.forEach((function(r,a){(a=a.call(e,e.__data__,n))&&u.push(a)})),c=p.ease,l=p.duration}function tick(o){for(var i=o/l,s=c(i),f=u.length;f>0;)u[--f].call(e,s);if(i>=1)return p.event&&p.event.end.call(e,e.__data__,n),--d.count?delete d[a]:delete e[r],1}p||(i=o.time,s=d3_timer((function schedule(e){var n=p.delay;if(s.t=n+i,n<=e)return start(e-n);s.c=start}),0,i),p=d[a]={tween:new d3_Map,time:i,timer:s,delay:o.delay,duration:o.duration,ease:o.ease,index:n},o=null,++d.count)}Dt.call=x.call,Dt.empty=x.empty,Dt.node=x.node,Dt.size=x.size,i.transition=function(e,n){return e&&e.transition?Mt?e.transition(n):e:i.selection().transition(e)},i.transition.prototype=Dt,Dt.select=function(e){var n,r,a,o=this.id,i=this.namespace,s=[];e=d3_selection_selector(e);for(var l=-1,c=this.length;++l<c;){s.push(n=[]);for(var u=this[l],d=-1,p=u.length;++d<p;)(a=u[d])&&(r=e.call(a,a.__data__,d,l))?("__data__"in a&&(r.__data__=a.__data__),d3_transitionNode(r,d,i,o,a[i][o]),n.push(r)):n.push(null)}return d3_transition(s,i,o)},Dt.selectAll=function(e){var n,r,a,o,i,s=this.id,l=this.namespace,c=[];e=d3_selection_selectorAll(e);for(var u=-1,d=this.length;++u<d;)for(var p=this[u],f=-1,h=p.length;++f<h;)if(a=p[f]){i=a[l][s],r=e.call(a,a.__data__,f,u),c.push(n=[]);for(var m=-1,g=r.length;++m<g;)(o=r[m])&&d3_transitionNode(o,m,l,s,i),n.push(o)}return d3_transition(c,l,s)},Dt.filter=function(e){var n,r,a=[];"function"!=typeof e&&(e=d3_selection_filter(e));for(var o=0,i=this.length;o<i;o++){a.push(n=[]);for(var s,l=0,c=(s=this[o]).length;l<c;l++)(r=s[l])&&e.call(r,r.__data__,l,o)&&n.push(r)}return d3_transition(a,this.namespace,this.id)},Dt.tween=function(e,n){var r=this.id,a=this.namespace;return arguments.length<2?this.node()[a][r].tween.get(e):d3_selection_each(this,null==n?function(n){n[a][r].tween.remove(e)}:function(o){o[a][r].tween.set(e,n)})},Dt.attr=function(e,n){if(arguments.length<2){for(n in e)this.attr(n,e[n]);return this}var r="transform"==e?d3_interpolateTransform:d3_interpolate,a=i.ns.qualify(e);function attrNull(){this.removeAttribute(a)}function attrNullNS(){this.removeAttributeNS(a.space,a.local)}function attrTween(e){return null==e?attrNull:(e+="",function(){var n,o=this.getAttribute(a);return o!==e&&(n=r(o,e),function(e){this.setAttribute(a,n(e))})})}function attrTweenNS(e){return null==e?attrNullNS:(e+="",function(){var n,o=this.getAttributeNS(a.space,a.local);return o!==e&&(n=r(o,e),function(e){this.setAttributeNS(a.space,a.local,n(e))})})}return d3_transition_tween(this,"attr."+e,n,a.local?attrTweenNS:attrTween)},Dt.attrTween=function(e,n){var r=i.ns.qualify(e);return this.tween("attr."+e,r.local?function attrTweenNS(e,a){var o=n.call(this,e,a,this.getAttributeNS(r.space,r.local));return o&&function(e){this.setAttributeNS(r.space,r.local,o(e))}}:function attrTween(e,a){var o=n.call(this,e,a,this.getAttribute(r));return o&&function(e){this.setAttribute(r,o(e))}})},Dt.style=function(e,n,r){var a=arguments.length;if(a<3){if("string"!=typeof e){for(r in a<2&&(n=""),e)this.style(r,e[r],n);return this}r=""}function styleNull(){this.style.removeProperty(e)}function styleString(n){return null==n?styleNull:(n+="",function(){var a,o=d3_window(this).getComputedStyle(this,null).getPropertyValue(e);return o!==n&&(a=d3_interpolate(o,n),function(n){this.style.setProperty(e,a(n),r)})})}return d3_transition_tween(this,"style."+e,n,styleString)},Dt.styleTween=function(e,n,r){function styleTween(a,o){var i=n.call(this,a,o,d3_window(this).getComputedStyle(this,null).getPropertyValue(e));return i&&function(n){this.style.setProperty(e,i(n),r)}}return arguments.length<3&&(r=""),this.tween("style."+e,styleTween)},Dt.text=function(e){return d3_transition_tween(this,"text",e,d3_transition_text)},Dt.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var n;this[e].count<2&&(n=this.parentNode)&&n.removeChild(this)}))},Dt.ease=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof e&&(e=i.ease.apply(i,arguments)),d3_selection_each(this,(function(a){a[r][n].ease=e})))},Dt.delay=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].delay:d3_selection_each(this,"function"==typeof e?function(a,o,i){a[r][n].delay=+e.call(a,a.__data__,o,i)}:(e=+e,function(a){a[r][n].delay=e}))},Dt.duration=function(e){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].duration:d3_selection_each(this,"function"==typeof e?function(a,o,i){a[r][n].duration=Math.max(1,e.call(a,a.__data__,o,i))}:(e=Math.max(1,e),function(a){a[r][n].duration=e}))},Dt.each=function(e,n){var r=this.id,a=this.namespace;if(arguments.length<2){var o=Et,s=Mt;try{Mt=r,d3_selection_each(this,(function(n,o,i){Et=n[a][r],e.call(n,n.__data__,o,i)}))}finally{Et=o,Mt=s}}else d3_selection_each(this,(function(o){var s=o[a][r];(s.event||(s.event=i.dispatch("start","end","interrupt"))).on(e,n)}));return this},Dt.transition=function(){for(var e,n,r,a=this.id,o=++jt,i=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(e=[]);for(var u,d=0,p=(u=this[l]).length;d<p;d++)(n=u[d])&&d3_transitionNode(n,d,i,o,{time:(r=n[i][a]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),e.push(n)}return d3_transition(s,i,o)},i.svg.axis=function(){var e,n=i.scale.linear(),r=Rt,a=6,o=6,s=3,l=[10],c=null;function axis(u){u.each((function(){var u,d=i.select(this),p=this.__chart__||n,f=this.__chart__=n.copy(),h=null==c?f.ticks?f.ticks.apply(f,l):f.domain():c,m=null==e?f.tickFormat?f.tickFormat.apply(f,l):d3_identity:e,g=d.selectAll(".tick").data(h,f),y=g.enter().insert("g",".domain").attr("class","tick").style("opacity",A),b=i.transition(g.exit()).style("opacity",A).remove(),x=i.transition(g.order()).style("opacity",1),_=Math.max(a,0)+s,w=d3_scaleRange(f),k=d.selectAll(".domain").data([0]),T=(k.enter().append("path").attr("class","domain"),i.transition(k));y.append("line"),y.append("text");var S,O,C,I,N=y.select("line"),M=x.select("line"),E=g.select("text").text(m),D=y.select("text"),j=x.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(u=d3_svg_axisX,S="x",C="y",O="x2",I="y2",E.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),T.attr("d","M"+w[0]+","+R*o+"V0H"+w[1]+"V"+R*o)):(u=d3_svg_axisY,S="y",C="x",O="y2",I="x2",E.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),T.attr("d","M"+R*o+","+w[0]+"H0V"+w[1]+"H"+R*o)),N.attr(I,R*a),D.attr(C,R*_),M.attr(O,0).attr(I,R*a),j.attr(S,0).attr(C,R*_),f.rangeBand){var L=f,z=L.rangeBand()/2;p=f=function(e){return L(e)+z}}else p.rangeBand?p=f:b.call(u,f,p);y.call(u,p,f),x.call(u,f,f)}))}return axis.scale=function(e){return arguments.length?(n=e,axis):n},axis.orient=function(e){return arguments.length?(r=e in Lt?e+"":Rt,axis):r},axis.ticks=function(){return arguments.length?(l=d3_array(arguments),axis):l},axis.tickValues=function(e){return arguments.length?(c=e,axis):c},axis.tickFormat=function(n){return arguments.length?(e=n,axis):e},axis.tickSize=function(e){var n=arguments.length;return n?(a=+e,o=+arguments[n-1],axis):a},axis.innerTickSize=function(e){return arguments.length?(a=+e,axis):a},axis.outerTickSize=function(e){return arguments.length?(o=+e,axis):o},axis.tickPadding=function(e){return arguments.length?(s=+e,axis):s},axis.tickSubdivide=function(){return arguments.length&&axis},axis};var Rt="bottom",Lt={top:1,right:1,bottom:1,left:1};function d3_svg_axisX(e,n,r){e.attr("transform",(function(e){var a=n(e);return"translate("+(isFinite(a)?a:r(e))+",0)"}))}function d3_svg_axisY(e,n,r){e.attr("transform",(function(e){var a=n(e);return"translate(0,"+(isFinite(a)?a:r(e))+")"}))}i.svg.brush=function(){var e,n,r=d3_eventDispatch(brush,"brushstart","brush","brushend"),a=null,o=null,s=[0,0],l=[0,0],c=!0,u=!0,d=Ft[0];function brush(e){e.each((function(){var e=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",brushstart).on("touchstart.brush",brushstart),n=e.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=e.selectAll(".resize").data(d,d3_identity);r.exit().remove(),r.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Pt[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",brush.empty()?"none":null);var s,l=i.transition(e),c=i.transition(n);a&&(s=d3_scaleRange(a),c.attr("x",s[0]).attr("width",s[1]-s[0]),redrawX(l)),o&&(s=d3_scaleRange(o),c.attr("y",s[0]).attr("height",s[1]-s[0]),redrawY(l)),redraw(l)}))}function redraw(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+s[+/e$/.test(e)]+","+l[+/^s/.test(e)]+")"}))}function redrawX(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function redrawY(e){e.select(".extent").attr("y",l[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function brushstart(){var d,p,f=this,h=i.select(i.event.target),m=r.of(f,arguments),g=i.select(f),y=h.datum(),b=!/^(n|s)$/.test(y)&&a,x=!/^(e|w)$/.test(y)&&o,_=h.classed("extent"),w=d3_event_dragSuppress(f),k=i.mouse(f),T=i.select(d3_window(f)).on("keydown.brush",keydown).on("keyup.brush",keyup);if(i.event.changedTouches?T.on("touchmove.brush",brushmove).on("touchend.brush",brushend):T.on("mousemove.brush",brushmove).on("mouseup.brush",brushend),g.interrupt().selectAll("*").interrupt(),_)k[0]=s[0]-k[0],k[1]=l[0]-k[1];else if(y){var S=+/w$/.test(y),O=+/^n/.test(y);p=[s[1-S]-k[0],l[1-O]-k[1]],k[0]=s[S],k[1]=l[O]}else i.event.altKey&&(d=k.slice());function keydown(){32==i.event.keyCode&&(_||(d=null,k[0]-=s[1],k[1]-=l[1],_=2),d3_eventPreventDefault())}function keyup(){32==i.event.keyCode&&2==_&&(k[0]+=s[1],k[1]+=l[1],_=0,d3_eventPreventDefault())}function brushmove(){var e=i.mouse(f),n=!1;p&&(e[0]+=p[0],e[1]+=p[1]),_||(i.event.altKey?(d||(d=[(s[0]+s[1])/2,(l[0]+l[1])/2]),k[0]=s[+(e[0]<d[0])],k[1]=l[+(e[1]<d[1])]):d=null),b&&move1(e,a,0)&&(redrawX(g),n=!0),x&&move1(e,o,1)&&(redrawY(g),n=!0),n&&(redraw(g),m({type:"brush",mode:_?"move":"resize"}))}function move1(r,a,o){var i,p,f=d3_scaleRange(a),h=f[0],m=f[1],g=k[o],y=o?l:s,b=y[1]-y[0];if(_&&(h-=g,m-=b+g),i=(o?u:c)?Math.max(h,Math.min(m,r[o])):r[o],_?p=(i+=g)+b:(d&&(g=Math.max(h,Math.min(m,2*d[o]-i))),g<i?(p=i,i=g):p=g),y[0]!=i||y[1]!=p)return o?n=null:e=null,y[0]=i,y[1]=p,!0}function brushend(){brushmove(),g.style("pointer-events","all").selectAll(".resize").style("display",brush.empty()?"none":null),i.select("body").style("cursor",null),T.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),w(),m({type:"brushend"})}g.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",h.style("cursor")),m({type:"brushstart"}),brushmove()}return brush.event=function(a){a.each((function(){var a=r.of(this,arguments),o={x:s,y:l,i:e,j:n},c=this.__chart__||o;this.__chart__=o,Mt?i.select(this).transition().each("start.brush",(function(){e=c.i,n=c.j,s=c.x,l=c.y,a({type:"brushstart"})})).tween("brush:brush",(function(){var r=d3_interpolateArray(s,o.x),i=d3_interpolateArray(l,o.y);return e=n=null,function(e){s=o.x=r(e),l=o.y=i(e),a({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=o.i,n=o.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})})):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))}))},brush.x=function(e){return arguments.length?(d=Ft[!(a=e)<<1|!o],brush):a},brush.y=function(e){return arguments.length?(d=Ft[!a<<1|!(o=e)],brush):o},brush.clamp=function(e){return arguments.length?(a&&o?(c=!!e[0],u=!!e[1]):a?c=!!e:o&&(u=!!e),brush):a&&o?[c,u]:a?c:o?u:null},brush.extent=function(r){var i,c,u,d,p;return arguments.length?(a&&(i=r[0],c=r[1],o&&(i=i[0],c=c[0]),e=[i,c],a.invert&&(i=a(i),c=a(c)),c<i&&(p=i,i=c,c=p),i==s[0]&&c==s[1]||(s=[i,c])),o&&(u=r[0],d=r[1],a&&(u=u[1],d=d[1]),n=[u,d],o.invert&&(u=o(u),d=o(d)),d<u&&(p=u,u=d,d=p),u==l[0]&&d==l[1]||(l=[u,d])),brush):(a&&(e?(i=e[0],c=e[1]):(i=s[0],c=s[1],a.invert&&(i=a.invert(i),c=a.invert(c)),c<i&&(p=i,i=c,c=p))),o&&(n?(u=n[0],d=n[1]):(u=l[0],d=l[1],o.invert&&(u=o.invert(u),d=o.invert(d)),d<u&&(p=u,u=d,d=p))),a&&o?[[i,u],[c,d]]:a?[i,c]:o&&[u,d])},brush.clear=function(){return brush.empty()||(s=[0,0],l=[0,0],e=n=null),brush},brush.empty=function(){return!!a&&s[0]==s[1]||!!o&&l[0]==l[1]},i.rebind(brush,r,"on")};var Pt={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ft=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],zt=ae.format=ue.timeFormat,$t=zt.utc,Bt=$t("%Y-%m-%dT%H:%M:%S.%LZ");function d3_time_formatIsoNative(e){return e.toISOString()}function d3_time_scale(e,n,r){function scale(n){return e(n)}function tickMethod(e,r){var a=(e[1]-e[0])/r,o=i.bisect(Vt,a);return o==Vt.length?[n.year,d3_scale_linearTickRange(e.map((function(e){return e/31536e6})),r)[2]]:o?n[a/Vt[o-1]<Vt[o]/a?o-1:o]:[Ht,d3_scale_linearTickRange(e,r)[2]]}return scale.invert=function(n){return d3_time_scaleDate(e.invert(n))},scale.domain=function(n){return arguments.length?(e.domain(n),scale):e.domain().map(d3_time_scaleDate)},scale.nice=function(e,n){var r=scale.domain(),a=d3_scaleExtent(r),o=null==e?tickMethod(a,10):"number"==typeof e&&tickMethod(a,e);function skipped(r){return!isNaN(r)&&!e.range(r,d3_time_scaleDate(+r+1),n).length}return o&&(e=o[0],n=o[1]),scale.domain(d3_scale_nice(r,n>1?{floor:function(n){for(;skipped(n=e.floor(n));)n=d3_time_scaleDate(n-1);return n},ceil:function(n){for(;skipped(n=e.ceil(n));)n=d3_time_scaleDate(+n+1);return n}}:e))},scale.ticks=function(e,n){var r=d3_scaleExtent(scale.domain()),a=null==e?tickMethod(r,10):"number"==typeof e?tickMethod(r,e):!e.range&&[{range:e},n];return a&&(e=a[0],n=a[1]),e.range(r[0],d3_time_scaleDate(+r[1]+1),n<1?1:n)},scale.tickFormat=function(){return r},scale.copy=function(){return d3_time_scale(e.copy(),n,r)},d3_scale_linearRebind(scale,e)}function d3_time_scaleDate(e){return new Date(e)}zt.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?d3_time_formatIsoNative:Bt,d3_time_formatIsoNative.parse=function(e){var n=new Date(e);return isNaN(n)?null:n},d3_time_formatIsoNative.toString=Bt.toString,ae.second=d3_time_interval((function(e){return new oe(1e3*Math.floor(e/1e3))}),(function(e,n){e.setTime(e.getTime()+1e3*Math.floor(n))}),(function(e){return e.getSeconds()})),ae.seconds=ae.second.range,ae.seconds.utc=ae.second.utc.range,ae.minute=d3_time_interval((function(e){return new oe(6e4*Math.floor(e/6e4))}),(function(e,n){e.setTime(e.getTime()+6e4*Math.floor(n))}),(function(e){return e.getMinutes()})),ae.minutes=ae.minute.range,ae.minutes.utc=ae.minute.utc.range,ae.hour=d3_time_interval((function(e){var n=e.getTimezoneOffset()/60;return new oe(36e5*(Math.floor(e/36e5-n)+n))}),(function(e,n){e.setTime(e.getTime()+36e5*Math.floor(n))}),(function(e){return e.getHours()})),ae.hours=ae.hour.range,ae.hours.utc=ae.hour.utc.range,ae.month=d3_time_interval((function(e){return(e=ae.day(e)).setDate(1),e}),(function(e,n){e.setMonth(e.getMonth()+n)}),(function(e){return e.getMonth()})),ae.months=ae.month.range,ae.months.utc=ae.month.utc.range;var Vt=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ut=[[ae.second,1],[ae.second,5],[ae.second,15],[ae.second,30],[ae.minute,1],[ae.minute,5],[ae.minute,15],[ae.minute,30],[ae.hour,1],[ae.hour,3],[ae.hour,6],[ae.hour,12],[ae.day,1],[ae.day,2],[ae.week,1],[ae.month,1],[ae.month,3],[ae.year,1]],Wt=zt.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",d3_true]]),Ht={range:function(e,n,r){return i.range(Math.ceil(e/r)*r,+n,r).map(d3_time_scaleDate)},floor:d3_identity,ceil:d3_identity};Ut.year=ae.year,ae.scale=function(){return d3_time_scale(i.scale.linear(),Ut,Wt)};var Gt=Ut.map((function(e){return[e[0].utc,e[1]]})),qt=$t.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",d3_true]]);function d3_json(e){return JSON.parse(e.responseText)}function d3_html(e){var n=l.createRange();return n.selectNode(l.body),n.createContextualFragment(e.responseText)}Gt.year=ae.year.utc,ae.scale.utc=function(){return d3_time_scale(i.scale.linear(),Gt,qt)},i.text=d3_xhrType((function(e){return e.responseText})),i.json=function(e,n){return d3_xhr(e,"application/json",d3_json,n)},i.html=function(e,n){return d3_xhr(e,"text/html",d3_html,n)},i.xml=d3_xhrType((function(e){return e.responseXML})),this.d3=i,void 0===(o="function"==typeof(a=i)?a.call(n,r,n,e):a)||(e.exports=o)}()},"6e83":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}]},"6eeb":function(e,n,r){var a=r("da84"),o=r("9112"),i=r("5135"),s=r("ce4e"),l=r("8925"),c=r("69f3"),u=c.get,d=c.enforce,p=String(String).split("String");(e.exports=function(e,n,r,l){var c,u=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,h=!!l&&!!l.noTargetGet;"function"==typeof r&&("string"!=typeof n||i(r,"name")||o(r,"name",n),(c=d(r)).source||(c.source=p.join("string"==typeof n?n:""))),e!==a?(u?!h&&e[n]&&(f=!0):delete e[n],f?e[n]=r:o(e,n,r)):f?e[n]=r:s(n,r)})(Function.prototype,"toString",(function toString(){return"function"==typeof this&&u(this).source||l(this)}))},"6f09":function(e,n,r){"use strict";e.exports=function eventData(e,n,r,a,o){if(e.x="xVal"in n?n.xVal:n.x,e.y="yVal"in n?n.yVal:n.y,"zLabelVal"in n&&(e.z=n.zLabelVal),n.xa&&(e.xaxis=n.xa),n.ya&&(e.yaxis=n.ya),!(r.cumulative||{}).enabled){var i,s=Array.isArray(o)?a[0].pts[o[0]][o[1]]:a[o].pts;if(e.pointNumbers=s,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex,r._indexToPoints){i=[];for(var l=0;l<s.length;l++)i=i.concat(r._indexToPoints[s[l]])}else i=s;e.pointIndices=i}return e}},"6f37":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({leakyRelu_:function leakyRelu_(e,n=.2){const r={x:Object(i.a)(e,"x","leakyRelu")},s={alpha:n};return a.a.runKernel(o.xb,r,s)}})},"6f51":function(e,n){e.exports=function translate(e,n,r){var a,o,i,s,l,c,u,d,p,f,h,m,g=r[0],y=r[1],b=r[2];n===e?(e[12]=n[0]*g+n[4]*y+n[8]*b+n[12],e[13]=n[1]*g+n[5]*y+n[9]*b+n[13],e[14]=n[2]*g+n[6]*y+n[10]*b+n[14],e[15]=n[3]*g+n[7]*y+n[11]*b+n[15]):(a=n[0],o=n[1],i=n[2],s=n[3],l=n[4],c=n[5],u=n[6],d=n[7],p=n[8],f=n[9],h=n[10],m=n[11],e[0]=a,e[1]=o,e[2]=i,e[3]=s,e[4]=l,e[5]=c,e[6]=u,e[7]=d,e[8]=p,e[9]=f,e[10]=h,e[11]=m,e[12]=a*g+l*y+p*b+n[12],e[13]=o*g+c*y+f*b+n[13],e[14]=i*g+u*y+h*b+n[14],e[15]=s*g+d*y+m*b+n[15]);return e}},"6f53":function(e,n,r){var a=r("83ab"),o=r("df75"),i=r("fc6a"),s=r("d1e7").f,createMethod=function(e){return function(n){for(var r,l=i(n),c=o(l),u=c.length,d=0,p=[];u>d;)r=c[d++],a&&!s.call(l,r)||p.push(e?[r,l[r]]:l[r]);return p}};e.exports={entries:createMethod(!0),values:createMethod(!1)}},"6fc3":function(e,n,r){"use strict";function baseFilter(e){return!0===e.visible}function calcDataFilter(e){var n=e[0].trace;return!0===n.visible&&0!==n._length}e.exports=function filterVisible(e){for(var n=function isCalcData(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}(e)?calcDataFilter:baseFilter,r=[],a=0;a<e.length;a++){var o=e[a];n(o)&&r.push(o)}return r}},"6fef":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({isNaN_:function isNaN_(e){const n={x:Object(i.a)(e,"x","isNaN")};return a.a.runKernel(o.ub,n)}})},7e3:function(e,n,r){"use strict";function getCentroid(e,n,r,a,o){var i=n.c2p(a?e.s0:e.p0,!0),s=n.c2p(a?e.s1:e.p1,!0),l=r.c2p(a?e.p0:e.s0,!0),c=r.c2p(a?e.p1:e.s1,!0);return o?[(i+s)/2,(l+c)/2]:a?[s,(l+c)/2]:[(i+s)/2,c]}e.exports=function selectPoints(e,n){var r,a=e.cd,o=e.xaxis,i=e.yaxis,s=a[0].trace,l="funnel"===s.type,c="h"===s.orientation,u=[];if(!1===n)for(r=0;r<a.length;r++)a[r].selected=0;else for(r=0;r<a.length;r++){var d=a[r],p="ct"in d?d.ct:getCentroid(d,o,i,c,l);n.contains(p,!1,r,e)?(u.push({pointNumber:r,x:o.c2d(d.x),y:i.c2d(d.y)}),d.selected=1):d.selected=0}return u}},7089:function(e,n,r){"use strict";var a=r("fc26");e.exports=function hasColorbar(e){return a.isPlainObject(e.colorbar)}},"70b4":function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("0642"),s=r("8797"),l=r("e806").BADNUM,c=r("de81"),u=r("09bd"),d=r("106b"),p=r("4136");function calcAxisExpansion(e,n,r,a,o,s,l){var u=n._length,d=e._fullLayout,p=r._id,f=a._id,h=d._firstScatter[firstScatterGroup(n)]===n.uid,m=(getStackOpts(n,d,r,a)||{}).orientation,g=n.fill;r._minDtick=0,a._minDtick=0;var y={padded:!0},b={padded:!0};l&&(y.ppad=b.ppad=l);var x=u<2||o[0]!==o[u-1]||s[0]!==s[u-1];x&&("tozerox"===g||"tonextx"===g&&(h||"h"===m))?y.tozero=!0:(n.error_y||{}).visible||"tonexty"!==g&&"tozeroy"!==g&&(c.hasMarkers(n)||c.hasText(n))||(y.padded=!1,y.ppad=0),x&&("tozeroy"===g||"tonexty"===g&&(h||"v"===m))?b.tozero=!0:"tonextx"!==g&&"tozerox"!==g||(b.padded=!1),p&&(n._extremes[p]=i.findExtremes(r,o,y)),f&&(n._extremes[f]=i.findExtremes(a,s,b))}function calcMarkerSize(e,n){if(c.hasMarkers(e)){var r,a=e.marker,s=1.6*(e.marker.sizeref||1);if(r="area"===e.marker.sizemode?function(e){return Math.max(Math.sqrt((e||0)/s),3)}:function(e){return Math.max((e||0)/s,3)},o.isArrayOrTypedArray(a.size)){var l={type:"linear"};i.setConvert(l);for(var u=l.makeCalcdata(e.marker,"size"),d=new Array(n),p=0;p<n;p++)d[p]=r(u[p]);return d}return r(a.size)}}function setFirstScatter(e,n){var r=firstScatterGroup(n),a=e._firstScatter;a[r]||(a[r]=n.uid)}function firstScatterGroup(e){var n=e.stackgroup;return e.xaxis+e.yaxis+e.type+(n?"-"+n:"")}function getStackOpts(e,n,r,a){var o=e.stackgroup;if(o){var i=n._scatterStackOpts[r._id+a._id][o],s="v"===i.orientation?a:r;return"linear"===s.type||"log"===s.type?i:void 0}}e.exports={calc:function calc(e,n){var r,c,f,h,m,g,y=e._fullLayout,b=i.getFromId(e,n.xaxis||"x"),x=i.getFromId(e,n.yaxis||"y"),_=b.makeCalcdata(n,"x"),w=x.makeCalcdata(n,"y"),k=s(n,b,"x",_),T=s(n,x,"y",w),S=n._length,O=new Array(S),C=n.ids,A=getStackOpts(n,y,b,x),I=!1;setFirstScatter(y,n);var N,M="x",E="y";A?(o.pushUnique(A.traceIndices,n._expandedIndex),(r="v"===A.orientation)?(E="s",N="x"):(M="s",N="y"),m="interpolate"===A.stackgaps):calcAxisExpansion(e,n,b,x,k,T,calcMarkerSize(n,S));var D=!!n.xperiodalignment,j=!!n.yperiodalignment;for(c=0;c<S;c++){var R=O[c]={},L=a(k[c]),z=a(T[c]);L&&z?(R[M]=k[c],R[E]=T[c],D&&(R.orig_x=_[c]),j&&(R.orig_y=w[c])):A&&(r?L:z)?(R[N]=r?k[c]:T[c],R.gap=!0,m?(R.s=l,I=!0):R.s=0):R[M]=R[E]=l,C&&(R.id=String(C[c]))}if(d(O,n),u(e,n),p(O,n),A){for(c=0;c<O.length;)O[c][N]===l?O.splice(c,1):c++;if(o.sort(O,(function(e,n){return e[N]-n[N]||e.i-n.i})),I){for(c=0;c<O.length-1&&O[c].gap;)c++;for((g=O[c].s)||(g=O[c].s=0),f=0;f<c;f++)O[f].s=g;for(h=O.length-1;h>c&&O[h].gap;)h--;for(g=O[h].s,f=O.length-1;f>h;f--)O[f].s=g;for(;c<h;)if(O[++c].gap){for(f=c+1;O[f].gap;)f++;for(var $=O[c-1][N],B=O[c-1].s,V=(O[f].s-B)/(O[f][N]-$);c<f;)O[c].s=B+(O[c][N]-$)*V,c++}}}return O},calcMarkerSize:calcMarkerSize,calcAxisExpansion:calcAxisExpansion,setFirstScatter:setFirstScatter,getStackOpts:getStackOpts}},"70e1":function(e,n,r){"use strict";r.r(n),r.d(n,"timeFormatDefaultLocale",(function(){return defaultLocale})),r.d(n,"timeFormat",(function(){return E})),r.d(n,"timeParse",(function(){return D})),r.d(n,"utcFormat",(function(){return j})),r.d(n,"utcParse",(function(){return R})),r.d(n,"timeFormatLocale",(function(){return formatLocale})),r.d(n,"isoFormat",(function(){return U})),r.d(n,"isoParse",(function(){return W}));var a=new Date,o=new Date;function newInterval(e,n,r,i){function interval(n){return e(n=0===arguments.length?new Date:new Date(+n)),n}return interval.floor=function(n){return e(n=new Date(+n)),n},interval.ceil=function(r){return e(r=new Date(r-1)),n(r,1),e(r),r},interval.round=function(e){var n=interval(e),r=interval.ceil(e);return e-n<r-e?n:r},interval.offset=function(e,r){return n(e=new Date(+e),null==r?1:Math.floor(r)),e},interval.range=function(r,a,o){var i,s=[];if(r=interval.ceil(r),o=null==o?1:Math.floor(o),!(r<a&&o>0))return s;do{s.push(i=new Date(+r)),n(r,o),e(r)}while(i<r&&r<a);return s},interval.filter=function(r){return newInterval((function(n){if(n>=n)for(;e(n),!r(n);)n.setTime(n-1)}),(function(e,a){if(e>=e)if(a<0)for(;++a<=0;)for(;n(e,-1),!r(e););else for(;--a>=0;)for(;n(e,1),!r(e););}))},r&&(interval.count=function(n,i){return a.setTime(+n),o.setTime(+i),e(a),e(o),Math.floor(r(a,o))},interval.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?interval.filter(i?function(n){return i(n)%e==0}:function(n){return interval.count(0,n)%e==0}):interval:null}),interval}var i=864e5,s=6048e5;function utcWeekday(e){return newInterval((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCDate(e.getUTCDate()+7*n)}),(function(e,n){return(n-e)/s}))}var l=utcWeekday(0),c=utcWeekday(1),u=utcWeekday(2),d=utcWeekday(3),p=utcWeekday(4),f=utcWeekday(5),h=utcWeekday(6),m=(l.range,c.range,u.range,d.range,p.range,f.range,h.range,newInterval((function(e){e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCDate(e.getUTCDate()+n)}),(function(e,n){return(n-e)/i}),(function(e){return e.getUTCDate()-1}))),g=m;m.range;function weekday(e){return newInterval((function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)}),(function(e,n){e.setDate(e.getDate()+7*n)}),(function(e,n){return(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/s}))}var y=weekday(0),b=weekday(1),x=weekday(2),_=weekday(3),w=weekday(4),k=weekday(5),T=weekday(6),S=(y.range,b.range,x.range,_.range,w.range,k.range,T.range,newInterval((function(e){e.setHours(0,0,0,0)}),(function(e,n){e.setDate(e.getDate()+n)}),(function(e,n){return(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/i}),(function(e){return e.getDate()-1}))),O=S,C=(S.range,newInterval((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n)}),(function(e,n){return n.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()})));C.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval((function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,r){n.setFullYear(n.getFullYear()+r*e)})):null};var A=C,I=(C.range,newInterval((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)}),(function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()})));I.every=function(e){return isFinite(e=Math.floor(e))&&e>0?newInterval((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,r){n.setUTCFullYear(n.getUTCFullYear()+r*e)})):null};var N=I;I.range;function localDate(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,n,r){return{y:e,m:n,d:r,H:0,M:0,S:0,L:0}}function formatLocale(e){var n=e.dateTime,r=e.date,a=e.time,o=e.periods,i=e.days,s=e.shortDays,l=e.months,u=e.shortMonths,d=formatRe(o),p=formatLookup(o),f=formatRe(i),h=formatLookup(i),m=formatRe(s),y=formatLookup(s),x=formatRe(l),_=formatLookup(l),w=formatRe(u),k=formatLookup(u),T={a:function formatShortWeekday(e){return s[e.getDay()]},A:function formatWeekday(e){return i[e.getDay()]},b:function formatShortMonth(e){return u[e.getMonth()]},B:function formatMonth(e){return l[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(e){return o[+(e.getHours()>=12)]},q:function formatQuarter(e){return 1+~~(e.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},S={a:function formatUTCShortWeekday(e){return s[e.getUTCDay()]},A:function formatUTCWeekday(e){return i[e.getUTCDay()]},b:function formatUTCShortMonth(e){return u[e.getUTCMonth()]},B:function formatUTCMonth(e){return l[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(e){return o[+(e.getUTCHours()>=12)]},q:function formatUTCQuarter(e){return 1+~~(e.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},C={a:function parseShortWeekday(e,n,r){var a=m.exec(n.slice(r));return a?(e.w=y[a[0].toLowerCase()],r+a[0].length):-1},A:function parseWeekday(e,n,r){var a=f.exec(n.slice(r));return a?(e.w=h[a[0].toLowerCase()],r+a[0].length):-1},b:function parseShortMonth(e,n,r){var a=w.exec(n.slice(r));return a?(e.m=k[a[0].toLowerCase()],r+a[0].length):-1},B:function parseMonth(e,n,r){var a=x.exec(n.slice(r));return a?(e.m=_[a[0].toLowerCase()],r+a[0].length):-1},c:function parseLocaleDateTime(e,r,a){return parseSpecifier(e,n,r,a)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(e,n,r){var a=d.exec(n.slice(r));return a?(e.p=p[a[0].toLowerCase()],r+a[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(e,n,a){return parseSpecifier(e,r,n,a)},X:function parseLocaleTime(e,n,r){return parseSpecifier(e,a,n,r)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(e,n){return function(r){var a,o,i,s=[],l=-1,c=0,u=e.length;for(r instanceof Date||(r=new Date(+r));++l<u;)37===e.charCodeAt(l)&&(s.push(e.slice(c,l)),null!=(o=L[a=e.charAt(++l)])?a=e.charAt(++l):o="e"===a?" ":"0",(i=n[a])&&(a=i(r,o)),s.push(a),c=l+1);return s.push(e.slice(c,l)),s.join("")}}function newParse(e,n){return function(r){var a,o,i=newDate(1900,void 0,1);if(parseSpecifier(i,e,r+="",0)!=r.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(n&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(a=utcDate(newDate(i.y,0,1))).getUTCDay(),a=o>4||0===o?c.ceil(a):c(a),a=g.offset(a,7*(i.V-1)),i.y=a.getUTCFullYear(),i.m=a.getUTCMonth(),i.d=a.getUTCDate()+(i.w+6)%7):(o=(a=localDate(newDate(i.y,0,1))).getDay(),a=o>4||0===o?b.ceil(a):b(a),a=O.offset(a,7*(i.V-1)),i.y=a.getFullYear(),i.m=a.getMonth(),i.d=a.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?utcDate(newDate(i.y,0,1)).getUTCDay():localDate(newDate(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,utcDate(i)):localDate(i)}}function parseSpecifier(e,n,r,a){for(var o,i,s=0,l=n.length,c=r.length;s<l;){if(a>=c)return-1;if(37===(o=n.charCodeAt(s++))){if(o=n.charAt(s++),!(i=C[o in L?n.charAt(s++):o])||(a=i(e,r,a))<0)return-1}else if(o!=r.charCodeAt(a++))return-1}return a}return T.x=newFormat(r,T),T.X=newFormat(a,T),T.c=newFormat(n,T),S.x=newFormat(r,S),S.X=newFormat(a,S),S.c=newFormat(n,S),{format:function(e){var n=newFormat(e+="",T);return n.toString=function(){return e},n},parse:function(e){var n=newParse(e+="",!1);return n.toString=function(){return e},n},utcFormat:function(e){var n=newFormat(e+="",S);return n.toString=function(){return e},n},utcParse:function(e){var n=newParse(e+="",!0);return n.toString=function(){return e},n}}}var M,E,D,j,R,L={"-":"",_:" ",0:"0"},z=/^\s*\d+/,$=/^%/,B=/[\\^$*+?|[\]().{}]/g;function pad(e,n,r){var a=e<0?"-":"",o=(a?-e:e)+"",i=o.length;return a+(i<r?new Array(r-i+1).join(n)+o:o)}function requote(e){return e.replace(B,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){for(var n={},r=-1,a=e.length;++r<a;)n[e[r].toLowerCase()]=r;return n}function parseWeekdayNumberSunday(e,n,r){var a=z.exec(n.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function parseWeekdayNumberMonday(e,n,r){var a=z.exec(n.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function parseWeekNumberSunday(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function parseWeekNumberISO(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function parseWeekNumberMonday(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function parseFullYear(e,n,r){var a=z.exec(n.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function parseYear(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function parseZone(e,n,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function parseQuarter(e,n,r){var a=z.exec(n.slice(r,r+1));return a?(e.q=3*a[0]-3,r+a[0].length):-1}function parseMonthNumber(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function parseDayOfMonth(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function parseDayOfYear(e,n,r){var a=z.exec(n.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function parseHour24(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function parseMinutes(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function parseSeconds(e,n,r){var a=z.exec(n.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function parseMilliseconds(e,n,r){var a=z.exec(n.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function parseMicroseconds(e,n,r){var a=z.exec(n.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function parseLiteralPercent(e,n,r){var a=$.exec(n.slice(r,r+1));return a?r+a[0].length:-1}function parseUnixTimestamp(e,n,r){var a=z.exec(n.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function parseUnixTimestampSeconds(e,n,r){var a=z.exec(n.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function formatDayOfMonth(e,n){return pad(e.getDate(),n,2)}function formatHour24(e,n){return pad(e.getHours(),n,2)}function formatHour12(e,n){return pad(e.getHours()%12||12,n,2)}function formatDayOfYear(e,n){return pad(1+O.count(A(e),e),n,3)}function formatMilliseconds(e,n){return pad(e.getMilliseconds(),n,3)}function formatMicroseconds(e,n){return formatMilliseconds(e,n)+"000"}function formatMonthNumber(e,n){return pad(e.getMonth()+1,n,2)}function formatMinutes(e,n){return pad(e.getMinutes(),n,2)}function formatSeconds(e,n){return pad(e.getSeconds(),n,2)}function formatWeekdayNumberMonday(e){var n=e.getDay();return 0===n?7:n}function formatWeekNumberSunday(e,n){return pad(y.count(A(e)-1,e),n,2)}function dISO(e){var n=e.getDay();return n>=4||0===n?w(e):w.ceil(e)}function formatWeekNumberISO(e,n){return e=dISO(e),pad(w.count(A(e),e)+(4===A(e).getDay()),n,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,n){return pad(b.count(A(e)-1,e),n,2)}function formatYear(e,n){return pad(e.getFullYear()%100,n,2)}function formatYearISO(e,n){return pad((e=dISO(e)).getFullYear()%100,n,2)}function formatFullYear(e,n){return pad(e.getFullYear()%1e4,n,4)}function formatFullYearISO(e,n){var r=e.getDay();return pad((e=r>=4||0===r?w(e):w.ceil(e)).getFullYear()%1e4,n,4)}function formatZone(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+pad(n/60|0,"0",2)+pad(n%60,"0",2)}function formatUTCDayOfMonth(e,n){return pad(e.getUTCDate(),n,2)}function formatUTCHour24(e,n){return pad(e.getUTCHours(),n,2)}function formatUTCHour12(e,n){return pad(e.getUTCHours()%12||12,n,2)}function formatUTCDayOfYear(e,n){return pad(1+g.count(N(e),e),n,3)}function formatUTCMilliseconds(e,n){return pad(e.getUTCMilliseconds(),n,3)}function formatUTCMicroseconds(e,n){return formatUTCMilliseconds(e,n)+"000"}function formatUTCMonthNumber(e,n){return pad(e.getUTCMonth()+1,n,2)}function formatUTCMinutes(e,n){return pad(e.getUTCMinutes(),n,2)}function formatUTCSeconds(e,n){return pad(e.getUTCSeconds(),n,2)}function formatUTCWeekdayNumberMonday(e){var n=e.getUTCDay();return 0===n?7:n}function formatUTCWeekNumberSunday(e,n){return pad(l.count(N(e)-1,e),n,2)}function UTCdISO(e){var n=e.getUTCDay();return n>=4||0===n?p(e):p.ceil(e)}function formatUTCWeekNumberISO(e,n){return e=UTCdISO(e),pad(p.count(N(e),e)+(4===N(e).getUTCDay()),n,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,n){return pad(c.count(N(e)-1,e),n,2)}function formatUTCYear(e,n){return pad(e.getUTCFullYear()%100,n,2)}function formatUTCYearISO(e,n){return pad((e=UTCdISO(e)).getUTCFullYear()%100,n,2)}function formatUTCFullYear(e,n){return pad(e.getUTCFullYear()%1e4,n,4)}function formatUTCFullYearISO(e,n){var r=e.getUTCDay();return pad((e=r>=4||0===r?p(e):p.ceil(e)).getUTCFullYear()%1e4,n,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function defaultLocale(e){return M=formatLocale(e),E=M.format,D=M.parse,j=M.utcFormat,R=M.utcParse,M}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var V="%Y-%m-%dT%H:%M:%S.%LZ";var U=Date.prototype.toISOString?function formatIsoNative(e){return e.toISOString()}:j(V);var W=+new Date("2000-01-01T00:00:00.000Z")?function parseIsoNative(e){var n=new Date(e);return isNaN(n)?null:n}:R(V)},"70f9":function(e,n,r){"use strict";var a=r("2595"),o=r("34f9");e.exports={moduleType:"component",name:"annotations",layoutAttributes:r("bb4a"),supplyLayoutDefaults:r("bb5b"),includeBasePlot:r("37d1")("annotations"),calcAutorange:r("cd84"),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:o.hasClickToShow,onClick:o.onClick,convertCoords:r("351b")}},7118:function(e,n,r){"use strict";var a=r("19b2"),o=r("371e"),i=r("fc26"),s=r("e5ac"),l=r("d798"),c=r("d92f"),u=r("27e3"),d=r("5008"),p=r("d18b"),f=r("743b"),h=r("1a40"),m=r("d301").WEEKDAY_PATTERN,g=r("d301").HOUR_PATTERN;function rangebreaksDefaults(e,n,r){function coerce(r,a){return i.coerce(e,n,l.rangebreaks,r,a)}if(coerce("enabled")){var o=coerce("bounds");if(o&&o.length>=2){var s,c,u="";if(2===o.length)for(s=0;s<2;s++)if(c=indexOfDay(o[s])){u=m;break}var d=coerce("pattern",u);if(d===m)for(s=0;s<2;s++)(c=indexOfDay(o[s]))&&(n.bounds[s]=o[s]=c-1);if(d)for(s=0;s<2;s++)switch(c=o[s],d){case m:if(!a(c))return void(n.enabled=!1);if((c=+c)!==Math.floor(c)||c<0||c>=7)return void(n.enabled=!1);n.bounds[s]=o[s]=c;break;case g:if(!a(c))return void(n.enabled=!1);if((c=+c)<0||c>24)return void(n.enabled=!1);n.bounds[s]=o[s]=c}if(!1===r.autorange){var p=r.range;if(p[0]<p[1]){if(o[0]<p[0]&&o[1]>p[1])return void(n.enabled=!1)}else if(o[0]>p[0]&&o[1]<p[1])return void(n.enabled=!1)}}else{var f=coerce("values");if(!f||!f.length)return void(n.enabled=!1);coerce("dvalue")}}}e.exports=function handleAxisDefaults(e,n,r,a,g){var y,b=a.letter,x=a.font||{},_=a.splomStash||{},w=r("visible",!a.visibleDflt),k=n._template||{},T=n.type||k.type||"-";"date"===T&&(o.getComponentMethod("calendars","handleDefaults")(e,n,"calendar",a.calendar),a.noTicklabelmode||(y=r("ticklabelmode")));a.noTicklabelposition&&"multicategory"!==T||i.coerce(e,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:"period"===y?["outside","inside"]:"x"===b?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition"),h(n,g);var S=!n.isValidRange(e.range);S&&a.reverseDflt&&(S="reversed"),!r("autorange",S)||"linear"!==T&&"-"!==T||r("rangemode"),r("range"),n.cleanRange(),p(e,n,r,a),"category"===T||a.noHover||r("hoverformat");var O=r("color"),C=O!==l.color.dflt?O:x.color,A=_.label||g._dfltTitle[b];if(d(e,n,r,T,a,{pass:1}),!w)return n;r("title.text",A),i.coerceFont(r,"title.font",{family:x.family,size:Math.round(1.2*x.size),color:C}),c(e,n,r,T),d(e,n,r,T,a,{pass:2}),u(e,n,r,a),f(e,n,r,{dfltColor:O,bgColor:a.bgColor,showGrid:a.showGrid,attributes:l}),(n.showline||n.ticks)&&r("mirror"),a.automargin&&r("automargin");var I,N="multicategory"===T;a.noTickson||"category"!==T&&!N||!n.ticks&&!n.showgrid||(N&&(I="boundaries"),"boundaries"===r("tickson",I)&&delete n.ticklabelposition);N&&(r("showdividers")&&(r("dividercolor"),r("dividerwidth")));if("date"===T)if(s(e,n,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:rangebreaksDefaults}),n.rangebreaks.length){for(var M=0;M<n.rangebreaks.length;M++)if(n.rangebreaks[M].pattern===m){n._hasDayOfWeekBreaks=!0;break}if(h(n,g),g._has("scattergl")||g._has("splom"))for(var E=0;E<a.data.length;E++){var D=a.data[E];"scattergl"!==D.type&&"splom"!==D.type||(D.visible=!1,i.warn(D.type+" traces do not work on axes with rangebreaks. Setting trace "+D.index+" to `visible: false`."))}}else delete n.rangebreaks;return n};var y={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function indexOfDay(e){if("string"==typeof e)return y[e.substr(0,3).toLowerCase()]}},7156:function(e,n,r){var a=r("861d"),o=r("d2bb");e.exports=function(e,n,r){var i,s;return o&&"function"==typeof(i=n.constructor)&&i!==r&&a(s=i.prototype)&&s!==r.prototype&&o(e,s),e}},"71db":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("35c9");var c=r("54ef");const u=Object(c.a)({batchNorm_:function batchNorm_(e,n,r,c,u,d){null==d&&(d=.001);const p=Object(i.a)(e,"x","batchNorm"),f=Object(i.a)(n,"mean","batchNorm"),h=Object(i.a)(r,"variance","batchNorm");let m,g;null!=u&&(m=Object(i.a)(u,"scale","batchNorm")),null!=c&&(g=Object(i.a)(c,"offset","batchNorm")),s.b(f.rank===h.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),s.b(null==g||f.rank===g.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),s.b(null==m||f.rank===m.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const y={x:function xAs4D(e){let n;return n=0===e.rank||1===e.rank?Object(l.a)(e,[1,1,1,e.size]):2===e.rank?Object(l.a)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?Object(l.a)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,n}(p),scale:m,offset:g,mean:f,variance:h},b={varianceEpsilon:d},x=a.a.runKernel(o.ib,y,b);return Object(l.a)(x,p.shape)}})},7210:function(e,n,r){"use strict";var a=r("fc26"),o=r("e5ac"),i=r("9c5f"),s=r("e639").name,l=i.steps;function sliderDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,i,r,o)}for(var s=o(e,n,{name:"steps",handleItemDefaults:stepDefaults}),l=0,c=0;c<s.length;c++)s[c].visible&&l++;if(l<2?n.visible=!1:coerce("visible")){n._stepCount=l;var u=n._visibleSteps=a.filterVisible(s);(s[coerce("active")]||{}).visible||(n.active=u[0]._index),coerce("x"),coerce("y"),a.noneOrAll(e,n,["x","y"]),coerce("xanchor"),coerce("yanchor"),coerce("len"),coerce("lenmode"),coerce("pad.t"),coerce("pad.r"),coerce("pad.b"),coerce("pad.l"),a.coerceFont(coerce,"font",r.font),coerce("currentvalue.visible")&&(coerce("currentvalue.xanchor"),coerce("currentvalue.prefix"),coerce("currentvalue.suffix"),coerce("currentvalue.offset"),a.coerceFont(coerce,"currentvalue.font",n.font)),coerce("transition.duration"),coerce("transition.easing"),coerce("bgcolor"),coerce("activebgcolor"),coerce("bordercolor"),coerce("borderwidth"),coerce("ticklen"),coerce("tickwidth"),coerce("tickcolor"),coerce("minorticklen")}}function stepDefaults(e,n){function coerce(r,o){return a.coerce(e,n,l,r,o)}if("skip"===e.method||Array.isArray(e.args)?coerce("visible"):n.visible=!1){coerce("method"),coerce("args");var r=coerce("label","step-"+n._index);coerce("value",r),coerce("execute")}}e.exports=function slidersDefaults(e,n){o(e,n,{name:s,handleItemDefaults:sliderDefaults})}},"722f":function(e,n,r){"use strict";var a=r("fc26"),o=r("3c1c"),i=r("371e").traceIs,s=r("1c1c").handleGroupingDefaults,l=a.nestedProperty,c=r("6add").getAxisGroup,u=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],d=["x","y"];e.exports=function crossTraceDefaults(e,n){var r,p,f,h,m,g,y,b=n._histogramBinOpts={},x=[],_={},w=[];function coerce(e,n){return a.coerce(r._input,r,r._module.attributes,e,n)}function orientation2binDir(e){return"v"===e.orientation?"x":"y"}function fillBinOpts(e,r,i){var s=e.uid+"__"+i;r||(r=s);var l=function getAxisType(e,r){return o.getFromTrace({_fullLayout:n},e,r).type}(e,i),c=e[i+"calendar"]||"",u=b[r],d=!0;u&&(l===u.axType&&c===u.calendar?(d=!1,u.traces.push(e),u.dirs.push(i)):(r=s,l!==u.axType&&a.warn(["Attempted to group the bins of trace",e.index,"set on a","type:"+l,"axis","with bins on","type:"+u.axType,"axis."].join(" ")),c!==u.calendar&&a.warn(["Attempted to group the bins of trace",e.index,"set with a",c,"calendar","with bins",u.calendar?"on a "+u.calendar+" calendar":"w/o a set calendar"].join(" ")))),d&&(b[r]={traces:[e],dirs:[i],axType:l,calendar:e[i+"calendar"]||""}),e["_"+i+"bingroup"]=r}for(m=0;m<e.length;m++)r=e[m],i(r,"histogram")&&(x.push(r),delete r._xautoBinFinished,delete r._yautoBinFinished,i(r,"2dMap")||s(r._input,r,n,coerce));var k=n._alignmentOpts||{};for(m=0;m<x.length;m++){if(r=x[m],f="",!i(r,"2dMap")){if(h=orientation2binDir(r),"group"===n.barmode&&r.alignmentgroup){var T=r[h+"axis"],S=c(n,T)+r.orientation;(k[S]||{})[r.alignmentgroup]&&(f=S)}f||"overlay"===n.barmode||(f=c(n,r.xaxis)+c(n,r.yaxis)+orientation2binDir(r))}f?(_[f]||(_[f]=[]),_[f].push(r)):w.push(r)}for(f in _)if(1!==(p=_[f]).length){var O=!1;for(p.length&&(r=p[0],O=coerce("bingroup")),f=O||f,m=0;m<p.length;m++){var C=(r=p[m])._input.bingroup;C&&C!==f&&a.warn(["Trace",r.index,"must match","within bingroup",f+".","Ignoring its bingroup:",C,"setting."].join(" ")),r.bingroup=f,fillBinOpts(r,f,orientation2binDir(r))}}else w.push(p[0]);for(m=0;m<w.length;m++){r=w[m];var A=coerce("bingroup");if(i(r,"2dMap"))for(y=0;y<2;y++){var I=coerce((h=d[y])+"bingroup",A?A+"__"+h:null);fillBinOpts(r,I,h)}else fillBinOpts(r,A,orientation2binDir(r))}for(f in b){var N=b[f];for(p=N.traces,g=0;g<u.length;g++){var M,E,D=u[g],j=D.name;if("nbins"!==j||!N.sizeFound){for(m=0;m<p.length;m++){if(r=p[m],h=N.dirs[m],M=D.aStr[h],void 0!==l(r._input,M).get()){N[j]=coerce(M),N[j+"Found"]=!0;break}(E=(r._autoBin||{})[h]||{})[j]&&l(r,M).set(E[j])}if("start"===j||"end"===j)for(;m<p.length;m++)(r=p[m])["_"+h+"bingroup"]&&coerce(M,(E=(r._autoBin||{})[h]||{})[j]);"nbins"!==j||N.sizeFound||N.nbinsFound||(r=p[0],N[j]=coerce(M))}}}}},"72a4":function(e,n,r){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},"739b":function(e,n,r){"use strict";var a=r("fc26"),o=r("a651"),i=r("0dd7"),s=r("4183");e.exports=function supplyLayoutDefaults(e,n){function coerce(r,o){return a.coerce(e,n,i,r,o)}coerce("colorscale.sequential"),coerce("colorscale.sequentialminus"),coerce("colorscale.diverging");var r,l,c=n._colorAxes;function coerceAx(e,n){return a.coerce(r,l,i.coloraxis,e,n)}for(var u in c){var d=c[u];if(d[0])r=e[u]||{},(l=o.newContainer(n,u,"coloraxis"))._name=u,s(r,l,n,coerceAx,{prefix:"",cLetter:"c"});else{for(var p=0;p<d[2].length;p++)d[2][p]();delete n._colorAxes[u]}}}},"73b8":function(e,n,r){"use strict";r.d(n,"b",(function(){return getKernel})),r.d(n,"a",(function(){return getGradient})),r.d(n,"c",(function(){return getKernelsForBackend})),r.d(n,"e",(function(){return registerKernel})),r.d(n,"d",(function(){return registerGradient}));var a=r("b333"),o=r("f490");const i=Object(o.a)("kernelRegistry",(()=>new Map)),s=Object(o.a)("gradRegistry",(()=>new Map));function getKernel(e,n){const r=makeKey(e,n);return i.get(r)}function getGradient(e){return s.get(e)}function getKernelsForBackend(e){const n=i.entries(),r=[];for(;;){const{done:a,value:o}=n.next();if(a)break;const[i,s]=o,[l]=i.split("_");l===e&&r.push(s)}return r}function registerKernel(e){const{kernelName:n,backendName:r}=e,a=makeKey(n,r);i.has(a)&&console.warn(`The kernel '${n}' for backend '${r}' is already registered`),i.set(a,e)}function registerGradient(e){const{kernelName:n}=e;s.has(n)&&Object(a.b)().getBool("DEBUG")&&console.warn(`Overriding the gradient for '${n}'`),s.set(n,e)}function makeKey(e,n){return`${n}_${e}`}},"73c9":function(e,n,r){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},"73d3":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("6ad5"),s=r("54ef"),l=r("35c9");const c=Object(s.a)({conv2DBackpropInput_:function conv2DBackpropInput_(e,n,r,s,c,u="NHWC",d){i.b(e.length===n.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${n.rank}) must match`));let p=e,f=n,h=!1;3===n.rank&&(h=!0,f=Object(l.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]),p=[1,e[0],e[1],e[2]]),i.b(4===p.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${p.length}.`)),i.b(4===f.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`)),i.b(4===r.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${r.rank}`));const m="NHWC"===u?p[3]:p[1],g="NHWC"===u?f.shape[3]:f.shape[1];i.b(m===r.shape[2],(()=>`Error in conv2dDerInput: depth of input (${m}) must match input depth for filter ${r.shape[2]}.`)),i.b(g===r.shape[3],(()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${r.shape[3]}.`)),null!=d&&i.b(i.v(c),(()=>`Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode ${d} but got pad ${c}.`));const y={dy:f,filter:r},b={strides:s,pad:c,dataFormat:u,dimRoundingMode:d,inputShape:p},x=a.a.runKernel(o.E,y,b);return h?Object(l.a)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},"73f8":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({resizeBilinear_:function resizeBilinear_(e,n,r=!1,l=!1){const u=Object(i.a)(e,"images","resizeBilinear");s.b(3===u.rank||4===u.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${u.rank}.`)),s.b(2===n.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${n}.`)),s.b(!1===l||!1===r,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let d=u,p=!1;3===u.rank&&(p=!0,d=Object(c.a)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const[]=n,f={images:d},h={alignCorners:r,halfPixelCenters:l,size:n},m=a.a.runKernel(o.oc,f,h);return p?Object(c.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},7418:function(e,n){n.f=Object.getOwnPropertySymbols},"743b":function(e,n,r){"use strict";var a=r("66cb").mix,o=r("dfb3").lightFraction,i=r("fc26");e.exports=function handleLineGridDefaults(e,n,r,s){var l=(s=s||{}).dfltColor;function coerce2(r,a){return i.coerce2(e,n,s.attributes,r,a)}var c=coerce2("linecolor",l),u=coerce2("linewidth");r("showline",s.showLine||!!c||!!u)||(delete n.linecolor,delete n.linewidth);var d=coerce2("gridcolor",a(l,s.bgColor,s.blend||o).toRgbString()),p=coerce2("gridwidth");if(r("showgrid",s.showGrid||!!d||!!p)||(delete n.gridcolor,delete n.gridwidth),!s.noZeroLine){var f=coerce2("zerolinecolor",l),h=coerce2("zerolinewidth");r("zeroline",s.showGrid||!!f||!!h)||(delete n.zerolinecolor,delete n.zerolinewidth)}}},"746f":function(e,n,r){var a=r("428f"),o=r("5135"),i=r("e538"),s=r("9bf2").f;e.exports=function(e){var n=a.Symbol||(a.Symbol={});o(n,e)||s(n,e,{value:i.f(e)})}},"74d6":function(e,n,r){"use strict";var a=r("19b2"),o=r("6af8").isArrayOrTypedArray;function npGet(e,n){return function(){var r,a,i,s,l,c=e;for(s=0;s<n.length-1;s++){if(-1===(r=n[s])){for(a=!0,i=[],l=0;l<c.length;l++)i[l]=npGet(c[l],n.slice(s+1))(),i[l]!==i[0]&&(a=!1);return a?i[0]:i}if("number"==typeof r&&!o(c))return;if("object"!=typeof(c=c[r])||null===c)return}if("object"==typeof c&&null!==c&&null!==(i=c[n[s]]))return i}}e.exports=function nestedProperty(e,n){if(a(n))n=String(n);else if("string"!=typeof n||"[-1]"===n.substr(n.length-4))throw"bad property string";for(var r,o,i,s=0,l=n.split(".");s<l.length;){if(r=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(r[1])l[s]=r[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(o=r[2].substr(1,r[2].length-2).split("]["),i=0;i<o.length;i++)s++,l.splice(s,0,Number(o[i]))}s++}return"object"!=typeof e?function badContainer(e,n,r){return{set:function(){throw"bad container"},get:function(){},astr:n,parts:r,obj:e}}(e,n,l):{set:npSet(e,l,n),get:npGet(e,l),astr:n,parts:l,obj:e}};var i=/(^|\.)args\[/;function isDeletable(e,n){return void 0===e||null===e&&!n.match(i)}function npSet(e,n,r){return function(a){var i,s,l=e,c="",u=[[e,c]],d=isDeletable(a,r);for(s=0;s<n.length-1;s++){if("number"==typeof(i=n[s])&&!o(l))throw"array index but container is not an array";if(-1===i){if(d=!setArrayAll(l,n.slice(s+1),a,r))break;return}if(!checkNewContainer(l,i,n[s+1],d))break;if("object"!=typeof(l=l[i])||null===l)throw"container is not an object";c=joinPropStr(c,i),u.push([l,c])}if(d){if(s===n.length-1&&(delete l[n[s]],Array.isArray(l)&&+n[s]==l.length-1))for(;l.length&&void 0===l[l.length-1];)l.pop()}else l[n[s]]=a}}function joinPropStr(e,n){var r=n;return a(n)?r="["+n+"]":e&&(r="."+n),e+r}function setArrayAll(e,n,r,a){var i,s=o(r),l=!0,c=r,u=a.replace("-1",0),d=!s&&isDeletable(r,u),p=n[0];for(i=0;i<e.length;i++)u=a.replace("-1",i),s&&(d=isDeletable(c=r[i%r.length],u)),d&&(l=!1),checkNewContainer(e,i,p,d)&&npSet(e[i],n,a.replace("-1",i))(c);return l}function checkNewContainer(e,n,r,a){if(void 0===e[n]){if(a)return!1;e[n]="number"==typeof r?[]:{}}return!0}},7559:function(e,n,r){"use strict";e.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'><defs><style>.cls-1 {fill: #3f4f75;} .cls-2 {fill: #80cfbe;} .cls-3 {fill: #fff;}</style></defs><title>plotly-logomark</title><g id='symbol'><rect class='cls-1' width='132' height='132' rx='6' ry='6'/><circle class='cls-2' cx='78' cy='54' r='6'/><circle class='cls-2' cx='102' cy='30' r='6'/><circle class='cls-2' cx='78' cy='30' r='6'/><circle class='cls-2' cx='54' cy='30' r='6'/><circle class='cls-2' cx='30' cy='30' r='6'/><circle class='cls-2' cx='30' cy='54' r='6'/><path class='cls-3' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/><path class='cls-3' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/><path class='cls-3' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/><path class='cls-3' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/></g></svg>"}}},7568:function(e,n,r){"use strict";function print(e,n=!1){console.log(e.toString(n))}r.d(n,"a",(function(){return print}))},7580:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({spaceToBatchND_:function spaceToBatchND_(e,n,r){const l=Object(i.a)(e,"x","spaceToBatchND");s.b(l.rank>=1+n.length,(()=>`input rank ${l.rank} should be > than [blockShape] ${n.length}`)),s.b(r.length===n.length,(()=>`paddings.shape[0] ${r.length} must be equal to [blockShape] ${n.length}`)),s.b(l.shape.reduce(((e,a,o)=>o>0&&o<=n.length?e&&(a+r[o-1][0]+r[o-1][1])%n[o-1]==0:e),!0),(()=>`input spatial dimensions ${l.shape.slice(1)} with paddings ${r.toString()} must be divisible by blockShapes ${n.toString()}`));const c={x:l},u={blockShape:n,paddings:r};return a.a.runKernel(o.Gc,c,u)}})},7675:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("a3f7"),o=r("6ad5"),i=r("dd7e"),s=r("b818"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({conv1d_:function conv1d_(e,n,r,l,u="NWC",d=1,p){const f=Object(a.a)(e,"x","conv1d"),h=Object(a.a)(n,"filter","conv1d");let m=f,g=!1;2===f.rank&&(g=!0,m=Object(c.a)(f,[1,f.shape[0],f.shape[1]])),o.b(3===m.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${m.rank}.`)),o.b(3===h.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${h.rank}.`)),null!=p&&o.b(o.v(l),(()=>`Error in conv1d: pad must be an integer when using, dimRoundingMode ${p} but got pad ${l}.`)),o.b(m.shape[2]===h.shape[1],(()=>`Error in conv1d: depth of input (${m.shape[2]}) must match input depth for filter ${h.shape[1]}.`)),o.b(s.h(r,d),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${r} and dilation '${d}'`)),o.b("NWC"===u,(()=>`Error in conv1d: got dataFormat of ${u} but only NWC is currently supported.`));const y=Object(c.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),b=Object(c.a)(m,[m.shape[0],1,m.shape[1],m.shape[2]]),x=[1,r],_=[1,d],w=Object(i.a)(b,y,x,l,"NHWC",_,p);return g?Object(c.a)(w,[w.shape[2],w.shape[3]]):Object(c.a)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},"76b2":function(e,n,r){"use strict";e.exports=function(){"undefined"!=typeof MathJax&&("local"!==(window.PlotlyConfig||{}).MathJaxConfig&&(MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()))}},"76c2":function(e,n,r){"use strict";r.r(n),r.d(n,"makeTypesMatch",(function(){return makeTypesMatch})),r.d(n,"assertTypesMatch",(function(){return assertTypesMatch})),r.d(n,"isTensorInList",(function(){return isTensorInList})),r.d(n,"getTensorsInContainer",(function(){return getTensorsInContainer}));var a=r("34d7"),o=r("23bf"),i=r("6ad5");function makeTypesMatch(e,n){if(e.dtype===n.dtype)return[e,n];const r=Object(o.b)(e.dtype,n.dtype);return[e.cast(r),n.cast(r)]}function assertTypesMatch(e,n){Object(i.b)(e.dtype===n.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${n.dtype}) input must match`))}function isTensorInList(e,n){return n.some((n=>n.id===e.id))}function getTensorsInContainer(e){const n=[];return walkTensorContainer(e,n,new Set),n}function walkTensorContainer(e,n,r){if(null==e)return;if(e instanceof a.a)return void n.push(e);if(!function isIterable(e){return Array.isArray(e)||"object"==typeof e}(e))return;const o=e;for(const a in o){const e=o[a];r.has(e)||(r.add(e),walkTensorContainer(e,n,r))}}},7839:function(e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"78df":function(e,n,r){"use strict";e.exports={FORMAT_LINK:"https://github.com/d3/d3-3.x-api-reference/blob/master/Formatting.md#d3_format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format#locale_format"}},7941:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.x,o=n.i;return e=a[o],r=(e^=e>>>7)^e<<24,r^=(e=a[o+1&7])^e>>>10,r^=(e=a[o+3&7])^e>>>3,r^=(e=a[o+4&7])^e<<7,e=a[o+7&7],r^=(e^=e<<13)^e<<9,a[o]=r,n.i=o+1&7,r},function init(e,n){var r,a=[];if(n===(0|n))a[0]=n;else for(n=""+n,r=0;r<n.length;++r)a[7&r]=a[7&r]<<15^n.charCodeAt(r)+a[r+1&7]<<13;for(;a.length<8;)a.push(0);for(r=0;r<8&&0===a[r];++r);for(8==r?a[7]=-1:a[r],e.x=a,e.i=0,r=256;r>0;--r)e.next()}(n,e)}function copy(e,n){return n.x=e.x.slice(),n.i=e.i,n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.x&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorshift7=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},7974:function(e,n,r){"use strict";var a=r("fc26"),o=r("055a").counter,i=r("81f0").attributes,s=r("d301").idRegex,l=r("a651"),c={rows:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of rows in the grid. If you provide a 2D `subplots`","array or a `yaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",role:"info",editType:"plot",description:["Is the first row the top or the bottom? Note that columns","are always enumerated from left to right."].join(" ")},columns:{valType:"integer",min:1,role:"info",editType:"plot",description:["The number of columns in the grid. If you provide a 2D `subplots`","array, the length of its longest row is used as the default.","If you give an `xaxes` array, its length is used as the default.","But it's also possible to have a different length, if you","want to leave a row at the end for non-cartesian subplots."].join(" ")},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[o("xy").toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used for freeform grids, where some axes may be shared across subplots","but others are not. Each entry should be a cartesian subplot id, like","*xy* or *x3y2*, or ** to leave that cell empty. You may reuse x axes","within the same column, and y axes within the same row.","Non-cartesian subplots and traces that support `domain` can place themselves","in this grid separately using the `gridcell` attribute."].join(" ")},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s.x.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an x axis id like *x*, *x2*, etc., or ** to","not put an x axis in that column. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `yaxes` is present,","will generate consecutive IDs."].join(" ")},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[s.y.toString(),""],editType:"plot"},role:"info",editType:"plot",description:["Used with `yaxes` when the x and y axes are shared across columns and rows.","Each entry should be an y axis id like *y*, *y2*, etc., or ** to","not put a y axis in that row. Entries other than ** must be unique.","Ignored if `subplots` is present. If missing but `xaxes` is present,","will generate consecutive IDs."].join(" ")},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",role:"info",editType:"plot",description:["If no `subplots`, `xaxes`, or `yaxes` are given but we do have `rows` and `columns`,","we can generate defaults using consecutive axis IDs, in two ways:","*coupled* gives one x axis per column and one y axis per row.","*independent* uses a new xy pair for each cell, left-to-right across each row","then iterating rows according to `roworder`."].join(" ")},xgap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Horizontal space between grid cells, expressed as a fraction","of the total width available to one cell. Defaults to 0.1","for coupled-axes grids and 0.2 for independent grids."].join(" ")},ygap:{valType:"number",min:0,max:1,role:"info",editType:"plot",description:["Vertical space between grid cells, expressed as a fraction","of the total height available to one cell. Defaults to 0.1","for coupled-axes grids and 0.3 for independent grids."].join(" ")},domain:i({name:"grid",editType:"plot",noGridCell:!0},{description:["The first and last cells end exactly at the domain","edges, with no grout around the edges."].join(" ")}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",role:"info",editType:"plot",description:["Sets where the x axis labels and titles go. *bottom* means","the very bottom of the grid. *bottom plot* is the lowest plot","that each x axis is used in. *top* and *top plot* are similar."].join(" ")},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",role:"info",editType:"plot",description:["Sets where the y axis labels and titles go. *left* means","the very left edge of the grid. *left plot* is the leftmost plot","that each y axis is used in. *right* and *right plot* are similar."].join(" ")},editType:"plot"};function getAxes(e,n,r){var a=n[r+"axes"],o=Object.keys((e._splomAxes||{})[r]||{});return Array.isArray(a)?a:o.length?o:void 0}function fillGridPositions(e,n,r,a,o,i){var s=n(e+"gap",r),l=n("domain."+e);n(e+"side",a);for(var c=new Array(o),u=l[0],d=(l[1]-u)/(o-s),p=d*(1-s),f=0;f<o;f++){var h=u+d*f;c[i?o-1-f:f]=[h,h+p]}return c}function fillGridAxes(e,n,r,a,o){var i,s=new Array(r);function fillOneAxis(e,r){-1!==n.indexOf(r)&&void 0===a[r]?(s[e]=r,a[r]=e):s[e]=""}if(Array.isArray(e))for(i=0;i<r;i++)fillOneAxis(i,e[i]);else for(fillOneAxis(0,o),i=1;i<r;i++)fillOneAxis(i,o+(i+1));return s}e.exports={moduleType:"component",name:"grid",schema:{layout:{grid:c}},layoutAttributes:c,sizeDefaults:function sizeDefaults(e,n){var r=e.grid||{},o=getAxes(n,r,"x"),i=getAxes(n,r,"y");if(e.grid||o||i){var s,u,d=Array.isArray(r.subplots)&&Array.isArray(r.subplots[0]),p=Array.isArray(o),f=Array.isArray(i),h=p&&o!==r.xaxes&&f&&i!==r.yaxes;d?(s=r.subplots.length,u=r.subplots[0].length):(f&&(s=i.length),p&&(u=o.length));var m=l.newContainer(n,"grid"),g=coerce("rows",s),y=coerce("columns",u);if(g*y>1){if(!d&&!p&&!f)"independent"===coerce("pattern")&&(d=!0);m._hasSubplotGrid=d;var b,x,_="top to bottom"===coerce("roworder"),w=d?.2:.1,k=d?.3:.1;h&&n._splomGridDflt&&(b=n._splomGridDflt.xside,x=n._splomGridDflt.yside),m._domains={x:fillGridPositions("x",coerce,w,b,y),y:fillGridPositions("y",coerce,k,x,g,_)}}else delete n.grid}function coerce(e,n){return a.coerce(r,m,c,e,n)}},contentDefaults:function contentDefaults(e,n){var r=n.grid;if(r&&r._domains){var a,o,i,s,l,c,u,d=e.grid||{},p=n._subplots,f=r._hasSubplotGrid,h=r.rows,m=r.columns,g="independent"===r.pattern,y=r._axisMap={};if(f){var b=d.subplots||[];c=r.subplots=new Array(h);var x=1;for(a=0;a<h;a++){var _=c[a]=new Array(m),w=b[a]||[];for(o=0;o<m;o++)if(g?(l=1===x?"xy":"x"+x+"y"+x,x++):l=w[o],_[o]="",-1!==p.cartesian.indexOf(l)){if(u=l.indexOf("y"),i=l.slice(0,u),s=l.slice(u),void 0!==y[i]&&y[i]!==o||void 0!==y[s]&&y[s]!==a)continue;_[o]=l,y[i]=o,y[s]=a}}}else{var k=getAxes(n,d,"x"),T=getAxes(n,d,"y");r.xaxes=fillGridAxes(k,p.xaxis,m,y,"x"),r.yaxes=fillGridAxes(T,p.yaxis,h,y,"y")}var S=r._anchors={},O="top to bottom"===r.roworder;for(var C in y){var A,I,N,M=C.charAt(0),E=r[M+"side"];if(E.length<8)S[C]="free";else if("x"===M){if("t"===E.charAt(0)===O?(A=0,I=1,N=h):(A=h-1,I=-1,N=-1),f){var D=y[C];for(a=A;a!==N;a+=I)if((l=c[a][D])&&(u=l.indexOf("y"),l.slice(0,u)===C)){S[C]=l.slice(u);break}}else for(a=A;a!==N;a+=I)if(s=r.yaxes[a],-1!==p.cartesian.indexOf(C+s)){S[C]=s;break}}else if("l"===E.charAt(0)?(A=0,I=1,N=m):(A=m-1,I=-1,N=-1),f){var j=y[C];for(a=A;a!==N;a+=I)if((l=c[j][a])&&(u=l.indexOf("y"),l.slice(u)===C)){S[C]=l.slice(0,u);break}}else for(a=A;a!==N;a+=I)if(i=r.xaxes[a],-1!==p.cartesian.indexOf(i+C)){S[C]=i;break}}}}}},"79f1":function(e,n,r){"use strict";n.isGrouped=function isGrouped(e){return-1!==(e.traceorder||"").indexOf("grouped")},n.isVertical=function isVertical(e){return"h"!==e.orientation},n.isReversed=function isReversed(e){return-1!==(e.traceorder||"").indexOf("reversed")}},"7a0e":function(e,n){e.exports=function copy(e,n){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}},"7ad0":function(e,n){e.exports=function perspective(e,n,r,a,o){var i=1/Math.tan(n/2),s=1/(a-o);return e[0]=i/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(o+a)*s,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*o*a*s,e[15]=0,e}},"7aec":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.w,o=n.X,i=n.i;return n.w=a=a+1640531527|0,r=o[i+34&127],e=o[i=i+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=o[i]=r^e,n.i=i,r+(a^a>>>16)|0},function init(e,n){var r,a,o,i,s,l=[],c=128;for(n===(0|n)?(a=n,n=null):(n+="\0",a=0,c=Math.max(c,n.length)),o=0,i=-32;i<c;++i)n&&(a^=n.charCodeAt((i+32)%n.length)),0===i&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,i>=0&&(s=s+1640531527|0,o=0==(r=l[127&i]^=a+s)?o+1:0);for(o>=128&&(l[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)a=l[o+34&127],r=l[o=o+1&127],a^=a<<13,r^=r<<17,a^=a>>>15,r^=r>>>12,l[o]=a^r;e.w=s,e.X=l,e.i=o}(n,e)}function copy(e,n){return n.i=e.i,n.w=e.w,n.X=e.X.slice(),n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.X&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor4096=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"7b0b":function(e,n,r){var a=r("1d80");e.exports=function(e){return Object(a(e))}},"7c73":function(e,n,r){var a,o=r("825a"),i=r("37e8"),s=r("7839"),l=r("d012"),c=r("1be4"),u=r("cc12"),d=r("f772"),p=d("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(e){return"<script>"+e+"</"+"script>"},NullProtoObject=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(n){}NullProtoObject=a?function(e){e.write(scriptTag("")),e.close();var n=e.parentWindow.Object;return e=null,n}(a):function(){var e,n=u("iframe");return n.style.display="none",c.appendChild(n),n.src=String("javascript:"),(e=n.contentWindow.document).open(),e.write(scriptTag("document.F=Object")),e.close(),e.F}();for(var e=s.length;e--;)delete NullProtoObject.prototype[s[e]];return NullProtoObject()};l[p]=!0,e.exports=Object.create||function create(e,n){var r;return null!==e?(EmptyConstructor.prototype=o(e),r=new EmptyConstructor,EmptyConstructor.prototype=null,r[p]=e):r=NullProtoObject(),void 0===n?r:i(r,n)}},"7c9f":function(e,n,r){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:r("d72e"),supplyLayoutDefaults:r("4b6a"),includeBasePlot:r("37d1")("images"),draw:r("ff49"),convertCoords:r("6174")}},"7cde":function(e,n,r){"use strict";r.d(n,"b",(function(){return a})),r.d(n,"a",(function(){return o}));const a=1.7580993408473768,o=1.0507009873554805},"7dd0":function(e,n,r){"use strict";var a=r("23e7"),o=r("9ed3"),i=r("e163"),s=r("d2bb"),l=r("d44e"),c=r("9112"),u=r("6eeb"),d=r("b622"),p=r("c430"),f=r("3f8c"),h=r("ae93"),m=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,y=d("iterator"),b="keys",x="values",_="entries",returnThis=function(){return this};e.exports=function(e,n,r,d,h,w,k){o(r,n,d);var T,S,O,getIterationMethod=function(e){if(e===h&&M)return M;if(!g&&e in I)return I[e];switch(e){case b:return function keys(){return new r(this,e)};case x:return function values(){return new r(this,e)};case _:return function entries(){return new r(this,e)}}return function(){return new r(this)}},C=n+" Iterator",A=!1,I=e.prototype,N=I[y]||I["@@iterator"]||h&&I[h],M=!g&&N||getIterationMethod(h),E="Array"==n&&I.entries||N;if(E&&(T=i(E.call(new e)),m!==Object.prototype&&T.next&&(p||i(T)===m||(s?s(T,m):"function"!=typeof T[y]&&c(T,y,returnThis)),l(T,C,!0,!0),p&&(f[C]=returnThis))),h==x&&N&&N.name!==x&&(A=!0,M=function values(){return N.call(this)}),p&&!k||I[y]===M||c(I,y,M),f[n]=M,h)if(S={values:getIterationMethod(x),keys:w?M:getIterationMethod(b),entries:getIterationMethod(_)},k)for(O in S)(g||A||!(O in I))&&u(I,O,S[O]);else a({target:n,proto:!0,forced:g||A},S);return S}},"7df2":function(e,n,r){"use strict";var a={};function _clearTimeout(e){e&&null!==e.timer&&(clearTimeout(e.timer),e.timer=null)}n.throttle=function throttle(e,n,r){var o=a[e],i=Date.now();if(!o){for(var s in a)a[s].ts<i-6e4&&delete a[s];o=a[e]={ts:0,timer:null}}function exec(){r(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}_clearTimeout(o),i>o.ts+n?exec():o.timer=setTimeout((function(){exec(),o.timer=null}),n)},n.done=function(e){var n=a[e];return n&&n.timer?new Promise((function(e){var r=n.onDone;n.onDone=function onDone(){r&&r(),e(),n.onDone=null}})):Promise.resolve()},n.clear=function(e){if(e)_clearTimeout(a[e]),delete a[e];else for(var r in a)n.clear(r)}},"7e36":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({atan_:function atan_(e){const n={x:Object(i.a)(e,"x","atan")};return a.a.runKernel(o.l,n)}})},"7e6a":function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var a=r("043e"),o=r("54ef"),i=r("d4e4");const s=Object(o.a)({truncatedNormal_:function truncatedNormal_(e,n=0,r=1,o,s){if(null!=o&&"bool"===o)throw new Error("Unsupported data type $ { dtype }");const l=new i.a(n,r,o,!0,s),c=Object(a.a)(e,o);for(let a=0;a<c.values.length;a++)c.values[a]=l.nextValue();return c.toTensor()}})},"7e96":function(e,n,r){"use strict";var a=r("0642");e.exports=function formatLabels(e,n,r){var o={},i={_fullLayout:r},s=a.getFromTrace(i,n,"x"),l=a.getFromTrace(i,n,"y");return o.xLabel=a.tickText(s,e.x,!0).text,o.yLabel=a.tickText(l,e.y,!0).text,o}},"7ed6":function(e,n,r){"use strict";function isMobile(){if(function _isNavigatorDefined(){return"undefined"!=typeof navigator&&null!=navigator}()){const e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function isBrowser(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}r.r(n),r.d(n,"isMobile",(function(){return isMobile})),r.d(n,"isBrowser",(function(){return isBrowser}))},"7eee":function(e,n,r){"use strict";var a=r("fc26"),o=r("cb34").overrideAll,i=r("8c2d"),s={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i)};delete s.error_x.copy_zstyle,delete s.error_y.copy_zstyle,delete s.error_y.copy_ystyle;var l={error_x:a.extendFlat({},i),error_y:a.extendFlat({},i),error_z:a.extendFlat({},i)};delete l.error_x.copy_ystyle,delete l.error_y.copy_ystyle,delete l.error_z.copy_ystyle,delete l.error_z.copy_zstyle,e.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:s,bar:s,histogram:s,scatter3d:o(l,"calc","nested"),scattergl:o(s,"calc","nested")}},supplyDefaults:r("2015"),calc:r("db3f"),makeComputeError:r("3c31"),plot:r("553a"),style:r("afdd"),hoverInfo:function hoverInfo(e,n,r){(n.error_y||{}).visible&&(r.yerr=e.yh-e.y,n.error_y.symmetric||(r.yerrneg=e.y-e.ys));(n.error_x||{}).visible&&(r.xerr=e.xh-e.x,n.error_x.symmetric||(r.xerrneg=e.x-e.xs))}}},"7f4d":function(e,n,r){"use strict";n.__esModule=!0,n.default=function(e){for(var n=1,r=arguments.length;n<r;n++){var a=arguments[n]||{};for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];void 0!==i&&(e[o]=i)}}return e}},"7f9a":function(e,n,r){var a=r("da84"),o=r("8925"),i=a.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},"7fb7":function(e,n,r){"use strict";e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},"7fc3":function(e,n,r){"use strict";var a=r("371e"),o=r("e812").hover;e.exports=function click(e,n,r){var i=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function emitClick(){e.emit("plotly_click",{points:e._hoverdata,event:n})}void 0!==r&&o(e,n,r,!0),e._hoverdata&&n&&n.target&&(i&&i.then?i.then(emitClick):emitClick(),n.stopImmediatePropagation&&n.stopImmediatePropagation())}},"7feb":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var e=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^e^e>>>8},e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor128=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"804a":function(e,n,r){"use strict";r.d(n,"a",(function(){return h}));var a=r("538e"),o=r("a3f7"),i=r("deb3"),s=r("4f20"),l=r("1359"),c=r("c021"),u=r("a5aa"),d=r("54ef"),p=r("a009"),f=r("e053");const h=Object(d.a)({logSoftmax_:function logSoftmax_(e,n=-1){const r=Object(o.a)(e,"logits","logSoftmax");if(-1===n&&(n=r.rank-1),n!==r.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${r.rank} and axis was ${n}`);return Object(a.a)(((e,r)=>{const a=Object(c.a)(e,n,!0),o=Object(p.a)(e,a),d=Object(p.a)(Object(i.a)(o,"float32"),Object(l.a)(Object(f.a)(Object(s.a)(o),n,!0)));r([d]);return{value:d,gradFunc:(e,r)=>{const[a]=r,o=Object(s.a)(a);return Object(p.a)(e,Object(u.a)(Object(f.a)(e,n,!0),o))}}}))(r)}})},8122:function(e,n,r){"use strict";n.__esModule=!0,n.isEmpty=n.isEqual=n.arrayEquals=n.looseEqual=n.capitalize=n.kebabCase=n.autoprefixer=n.isFirefox=n.isEdge=n.isIE=n.coerceTruthyValueToArray=n.arrayFind=n.arrayFindIndex=n.escapeRegexpString=n.valueEquals=n.generateId=n.getValueByPath=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.noop=function noop(){},n.hasOwn=function hasOwn(e,n){return s.call(e,n)},n.toObject=function toObject(e){for(var n={},r=0;r<e.length;r++)e[r]&&extend(n,e[r]);return n},n.getPropByPath=function getPropByPath(e,n,r){for(var a=e,o=(n=(n=n.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,s=o.length;i<s-1&&(a||r);++i){var l=o[i];if(!(l in a)){if(r)throw new Error("please transfer a valid prop path to form item!");break}a=a[l]}return{o:a,k:o[i],v:a?a[o[i]]:null}},n.rafThrottle=function rafThrottle(e){var n=!1;return function(){for(var r=this,a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];n||(n=!0,window.requestAnimationFrame((function(a){e.apply(r,o),n=!1})))}},n.objToArray=function objToArray(e){if(Array.isArray(e))return e;return d(e)?[]:[e]};var o=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e")),i=r("a742");var s=Object.prototype.hasOwnProperty;function extend(e,n){for(var r in n)e[r]=n[r];return e}n.getValueByPath=function getValueByPath(e,n){for(var r=(n=n||"").split("."),a=e,o=null,i=0,s=r.length;i<s;i++){var l=r[i];if(!a)break;if(i===s-1){o=a[l];break}a=a[l]}return o};n.generateId=function generateId(){return Math.floor(1e4*Math.random())},n.valueEquals=function valueEquals(e,n){if(e===n)return!0;if(!(e instanceof Array))return!1;if(!(n instanceof Array))return!1;if(e.length!==n.length)return!1;for(var r=0;r!==e.length;++r)if(e[r]!==n[r])return!1;return!0},n.escapeRegexpString=function escapeRegexpString(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var l=n.arrayFindIndex=function arrayFindIndex(e,n){for(var r=0;r!==e.length;++r)if(n(e[r]))return r;return-1},c=(n.arrayFind=function arrayFind(e,n){var r=l(e,n);return-1!==r?e[r]:void 0},n.coerceTruthyValueToArray=function coerceTruthyValueToArray(e){return Array.isArray(e)?e:e?[e]:[]},n.isIE=function isIE(){return!o.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},n.isEdge=function isEdge(){return!o.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},n.isFirefox=function isFirefox(){return!o.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},n.autoprefixer=function autoprefixer(e){if("object"!==(void 0===e?"undefined":a(e)))return e;var n=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(r){var a=e[r];r&&a&&n.forEach((function(n){e[n+r]=a}))})),e},n.kebabCase=function kebabCase(e){var n=/([^-])([A-Z])/g;return e.replace(n,"$1-$2").replace(n,"$1-$2").toLowerCase()},n.capitalize=function capitalize(e){return(0,i.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},n.looseEqual=function looseEqual(e,n){var r=(0,i.isObject)(e),a=(0,i.isObject)(n);return r&&a?JSON.stringify(e)===JSON.stringify(n):!r&&!a&&String(e)===String(n)}),u=n.arrayEquals=function arrayEquals(e,n){if(n=n||[],(e=e||[]).length!==n.length)return!1;for(var r=0;r<e.length;r++)if(!c(e[r],n[r]))return!1;return!0},d=(n.isEqual=function isEqual(e,n){return Array.isArray(e)&&Array.isArray(n)?u(e,n):c(e,n)},n.isEmpty=function isEmpty(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})},"81f0":function(e,n,r){"use strict";var a=r("9092").extendFlat;n.attributes=function(e,n){n=n||{};var r={valType:"info_array",role:"info",editType:(e=e||{}).editType,items:[{valType:"number",min:0,max:1,editType:e.editType},{valType:"number",min:0,max:1,editType:e.editType}],dflt:[0,1]},o=e.name?e.name+" ":"",i=e.trace?"trace ":"subplot ",s=n.description?" "+n.description:"",l={x:a({},r,{description:["Sets the horizontal domain of this ",o,i,"(in plot fraction).",s].join("")}),y:a({},r,{description:["Sets the vertical domain of this ",o,i,"(in plot fraction).",s].join("")}),editType:e.editType};return e.noGridCell||(l.row={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this row in the grid for this ",o,i,".",s].join("")},l.column={valType:"integer",min:0,dflt:0,role:"info",editType:e.editType,description:["If there is a layout grid, use the domain ","for this column in the grid for this ",o,i,".",s].join("")}),l},n.defaults=function(e,n,r,a){var o=a&&a.x||[0,1],i=a&&a.y||[0,1],s=n.grid;if(s){var l=r("domain.column");void 0!==l&&(l<s.columns?o=s._domains.x[l]:delete e.domain.column);var c=r("domain.row");void 0!==c&&(c<s.rows?i=s._domains.y[c]:delete e.domain.row)}var u=r("domain.x",o),d=r("domain.y",i);u[0]<u[1]||(e.domain.x=o.slice()),d[0]<d[1]||(e.domain.y=i.slice())}},"821b":function(e,n,r){"use strict";e.exports=function clearGlCanvases(e){var n=e._fullLayout;n._glcanvas&&n._glcanvas.size()&&n._glcanvas.each((function(e){e.regl&&e.regl.clear({color:!0,depth:!0})}))}},"825a":function(e,n,r){var a=r("861d");e.exports=function(e){if(!a(e))throw TypeError(String(e)+" is not an object");return e}},"82a5":function(e,n,r){"use strict";var a=r("fc26"),o=r("371e");function paste(e,n,r,o){o=o||a.identity,Array.isArray(e)&&(n[0][r]=o(e))}e.exports=function calc(e){var n=e.calcdata,r=e._fullLayout;function makeCoerceHoverInfo(e){return function(n){return a.coerceHoverinfo({hoverinfo:n},{_module:e._module},r)}}for(var i=0;i<n.length;i++){var s=n[i],l=s[0].trace;if(!o.traceIs(l,"pie-like")){var c=o.traceIs(l,"2dMap")?paste:a.fillArray;c(l.hoverinfo,s,"hi",makeCoerceHoverInfo(l)),l.hovertemplate&&c(l.hovertemplate,s,"ht"),l.hoverlabel&&(c(l.hoverlabel.bgcolor,s,"hbg"),c(l.hoverlabel.bordercolor,s,"hbc"),c(l.hoverlabel.font.size,s,"hts"),c(l.hoverlabel.font.color,s,"htc"),c(l.hoverlabel.font.family,s,"htf"),c(l.hoverlabel.namelength,s,"hnl"),c(l.hoverlabel.align,s,"hta"))}}}},"82b5":function(e,n,r){"use strict";e.exports=function(e){var n=e.editType;return{t:{valType:"number",dflt:0,role:"style",editType:n,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,role:"style",editType:n,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,role:"style",editType:n,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,role:"style",editType:n,description:"The amount of padding (in px) on the left side of the component."},editType:n}}},8378:function(e,n,r){"use strict";var a=r("fc26"),o=r("d115"),i=r("c4c7").isUnifiedHover,s=r("54d9"),l=r("a651"),c=r("a685"),u=r("d798"),d=r("b5e2"),p=r("7118"),f=r("6add"),h=r("f3a2"),m=r("3c1c"),g=m.id2name,y=m.name2id,b=r("d301").AX_ID_PATTERN,x=r("371e"),_=x.traceIs,w=x.getComponentMethod;function appendList(e,n,r){Array.isArray(e[n])?e[n].push(r):e[n]=[r]}e.exports=function supplyLayoutDefaults(e,n,r){var x,k,T=n.autotypenumbers,S={},O={},C={},A={},I={},N={},M={},E={},D={},j={};for(x=0;x<r.length;x++){var R=r[x];if(_(R,"cartesian")||_(R,"gl2d")){var L,z;if(R.xaxis)L=g(R.xaxis),appendList(S,L,R);else if(R.xaxes)for(k=0;k<R.xaxes.length;k++)appendList(S,g(R.xaxes[k]),R);if(R.yaxis)z=g(R.yaxis),appendList(S,z,R);else if(R.yaxes)for(k=0;k<R.yaxes.length;k++)appendList(S,g(R.yaxes[k]),R);if("funnel"===R.type?"h"===R.orientation?(L&&(O[L]=!0),z&&(M[z]=!0)):z&&(C[z]=!0):"image"===R.type?(z&&(E[z]=!0),L&&(E[L]=!0)):(z&&(I[z]=!0,N[z]=!0),_(R,"carpet")&&("carpet"!==R.type||R._cheater)||L&&(A[L]=!0)),"carpet"===R.type&&R._cheater&&L&&(O[L]=!0),_(R,"2dMap")&&(D[L]=!0,D[z]=!0),_(R,"oriented"))j["h"===R.orientation?z:L]=!0}}var $=n._subplots,B=$.xaxis,V=$.yaxis,U=a.simpleMap(B,g),W=a.simpleMap(V,g),H=U.concat(W),G=o.background;B.length&&V.length&&(G=a.coerce(e,n,c,"plot_bgcolor"));var q,K,X,Y,Z,J=o.combine(G,n.paper_bgcolor);function newAxLayoutOut(){var e=S[q]||[];Z._traceIndices=e.map((function(e){return e._expandedIndex})),Z._annIndices=[],Z._shapeIndices=[],Z._imgIndices=[],Z._subplotsWith=[],Z._counterAxes=[],Z._name=Z._attr=q,Z._id=K}function coerce(e,n){return a.coerce(Y,Z,u,e,n)}function coerce2(e,n){return a.coerce2(Y,Z,u,e,n)}function getCounterAxes(e){return"x"===e?V:B}function getOverlayableAxes(n,r){for(var a="x"===n?U:W,o=[],i=0;i<a.length;i++){var s=a[i];s===r||(e[s]||{}).overlaying||o.push(y(s))}return o}var Q={x:getCounterAxes("x"),y:getCounterAxes("y")},ee=Q.x.concat(Q.y),te={},ne=[];function addMissingMatchedAxis(){var e=Y.matches;b.test(e)&&-1===ee.indexOf(e)&&(te[e]=Y.type,ne=Object.keys(te))}var re=s(e,n,r),ae=i(re);for(x=0;x<H.length;x++){q=H[x],K=y(q),X=q.charAt(0),a.isPlainObject(e[q])||(e[q]={}),Y=e[q],Z=l.newContainer(n,q,X+"axis"),newAxLayoutOut();var oe="x"===X&&!A[q]&&O[q]||"y"===X&&!I[q]&&C[q],ie="y"===X&&(!N[q]&&M[q]||E[q]),se={letter:X,font:n.font,outerTicks:D[q],showGrid:!j[q],data:S[q]||[],bgColor:J,calendar:n.calendar,automargin:!0,visibleDflt:oe,reverseDflt:ie,autotypenumbersDflt:T,splomStash:((n._splomAxes||{})[X]||{})[K]};coerce("uirevision",n.uirevision),d(Y,Z,coerce,se),p(Y,Z,coerce,se,n);var le=ae&&X===re.charAt(0),ce=coerce2("spikecolor",ae?Z.color:void 0),ue=coerce2("spikethickness",ae?1.5:void 0),de=coerce2("spikedash",ae?"dot":void 0),pe=coerce2("spikemode",ae?"across":void 0),fe=coerce2("spikesnap",ae?"hovered data":void 0);coerce("showspikes",!!(le||ce||ue||de||pe||fe))||(delete Z.spikecolor,delete Z.spikethickness,delete Z.spikedash,delete Z.spikemode,delete Z.spikesnap),h(Y,Z,coerce,{letter:X,counterAxes:Q[X],overlayableAxes:getOverlayableAxes(X,q),grid:n.grid}),coerce("title.standoff"),addMissingMatchedAxis(),Z._input=Y}for(x=0;x<ne.length;){K=ne[x++],X=(q=g(K)).charAt(0),a.isPlainObject(e[q])||(e[q]={}),Y=e[q],Z=l.newContainer(n,q,X+"axis"),newAxLayoutOut();var he={letter:X,font:n.font,outerTicks:D[q],showGrid:!j[q],data:[],bgColor:J,calendar:n.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:T,splomStash:((n._splomAxes||{})[X]||{})[K]};coerce("uirevision",n.uirevision),Z.type=te[K]||"linear",p(Y,Z,coerce,he,n),h(Y,Z,coerce,{letter:X,counterAxes:Q[X],overlayableAxes:getOverlayableAxes(X,q),grid:n.grid}),coerce("fixedrange"),addMissingMatchedAxis(),Z._input=Y}var me=w("rangeslider","handleDefaults"),ge=w("rangeselector","handleDefaults");for(x=0;x<U.length;x++)q=U[x],Y=e[q],Z=n[q],me(e,n,q),"date"===Z.type&&ge(Y,Z,n,W,Z.calendar),coerce("fixedrange");for(x=0;x<W.length;x++){q=W[x],Y=e[q],Z=n[q];var ye=n[g(Z.anchor)];coerce("fixedrange",w("rangeslider","isVisible")(ye))}f.handleDefaults(e,n,{axIds:ee.concat(ne).sort(m.idSort),axHasImage:E})}},8389:function(e,n,r){"use strict";function binaryInsert(e,n,r){const a=function binarySearch(e,n,r){return function binarySearch_(e,n,r){let a=0,o=e.length,i=0,s=!1;for(;a<o;){i=a+(o-a>>>1);const l=r(n,e[i]);l>0?a=i+1:(o=i,s=!l)}return s?a:-a-1}(e,n,r||defaultComparator)}(e,n,r),o=a<0?-(a+1):a;e.splice(o,0,n)}function defaultComparator(e,n){return e>n?1:e<n?-1:0}function nonMaxSuppressionV3Impl(e,n,r,a,o){return nonMaxSuppressionImpl_(e,n,r,a,o,0)}function nonMaxSuppressionV4Impl(e,n,r,a,o,i){return nonMaxSuppressionImpl_(e,n,r,a,o,0,!1,i,!0)}function nonMaxSuppressionV5Impl(e,n,r,a,o,i){return nonMaxSuppressionImpl_(e,n,r,a,o,i,!0)}function nonMaxSuppressionImpl_(e,n,r,a,o,i,s=!1,l=!1,c=!1){const u=[];for(let y=0;y<n.length;y++)n[y]>o&&u.push({score:n[y],boxIndex:y,suppressBeginIndex:0});u.sort(ascendingComparator);const d=i>0?-.5/i:0,p=[],f=[];for(;p.length<r&&u.length>0;){const n=u.pop(),{score:r,boxIndex:i,suppressBeginIndex:s}=n;if(r<o)break;let l=!1;for(let c=p.length-1;c>=s;--c){const r=intersectionOverUnion(e,i,p[c]);if(r>=a){l=!0;break}if(n.score=n.score*suppressWeight(a,d,r),n.score<=o)break}n.suppressBeginIndex=p.length,l||(n.score===r?(p.push(i),f.push(n.score)):n.score>o&&binaryInsert(u,n,ascendingComparator))}const h=p.length,m=r-h;l&&m>0&&(p.push(...new Array(m).fill(0)),f.push(...new Array(m).fill(0)));const g={selectedIndices:p};return s&&(g.selectedScores=f),c&&(g.validOutputs=h),g}function intersectionOverUnion(e,n,r){const a=e.subarray(4*n,4*n+4),o=e.subarray(4*r,4*r+4),i=Math.min(a[0],a[2]),s=Math.min(a[1],a[3]),l=Math.max(a[0],a[2]),c=Math.max(a[1],a[3]),u=Math.min(o[0],o[2]),d=Math.min(o[1],o[3]),p=Math.max(o[0],o[2]),f=Math.max(o[1],o[3]),h=(l-i)*(c-s),m=(p-u)*(f-d);if(h<=0||m<=0)return 0;const g=Math.max(i,u),y=Math.max(s,d),b=Math.min(l,p),x=Math.min(c,f),_=Math.max(b-g,0)*Math.max(x-y,0);return _/(h+m-_)}function suppressWeight(e,n,r){const a=Math.exp(n*r*r);return r<=e?a:0}function ascendingComparator(e,n){return e.score-n.score||e.score===n.score&&n.boxIndex-e.boxIndex}r.d(n,"a",(function(){return nonMaxSuppressionV3Impl})),r.d(n,"b",(function(){return nonMaxSuppressionV4Impl})),r.d(n,"c",(function(){return nonMaxSuppressionV5Impl}))},"838f":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({depthwiseConv2d_:function depthwiseConv2d_(e,n,r,l,u="NHWC",d=[1,1],p){const f=Object(i.a)(e,"x","depthwiseConv2d"),h=Object(i.a)(n,"filter","depthwiseConv2d");let m=f,g=!1;3===f.rank&&(g=!0,m=Object(c.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),s.b(4===m.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`)),s.b(4===h.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),s.b(m.shape[3]===h.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),null!=p&&s.b(s.v(l),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${p} but got pad ${l}.`));const y={x:m,filter:h},b={strides:r,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p},x=a.a.runKernel(o.O,y,b);return g?Object(c.a)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},"83ab":function(e,n,r){var a=r("d039");e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83d1":function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("66cb"),s=r("371e"),l=r("d115"),c=r("c258"),u=r("fc26"),d=u.strTranslate,p=r("0379"),f=r("73c9"),h=r("63dc").LINE_SPACING,m=r("72a4").DESELECTDIM,g=r("de81"),y=r("1978"),b=r("c4c7").appendArrayPointValue,x=e.exports={};x.font=function(e,n,r,a){u.isPlainObject(n)&&(a=n.color,r=n.size,n=n.family),n&&e.style("font-family",n),r+1&&e.style("font-size",r+"px"),a&&e.call(l.fill,a)},x.setPosition=function(e,n,r){e.attr("x",n).attr("y",r)},x.setSize=function(e,n,r){e.attr("width",n).attr("height",r)},x.setRect=function(e,n,r,a,o){e.call(x.setPosition,n,r).call(x.setSize,a,o)},x.translatePoint=function(e,n,r,a){var i=r.c2p(e.x),s=a.c2p(e.y);return!!(o(i)&&o(s)&&n.node())&&("text"===n.node().nodeName?n.attr("x",i).attr("y",s):n.attr("transform",d(i,s)),!0)},x.translatePoints=function(e,n,r){e.each((function(e){var o=a.select(this);x.translatePoint(e,o,n,r)}))},x.hideOutsideRangePoint=function(e,n,r,a,o,i){n.attr("display",r.isPtWithinRange(e,o)&&a.isPtWithinRange(e,i)?null:"none")},x.hideOutsideRangePoints=function(e,n){if(n._hasClipOnAxisFalse){var r=n.xaxis,o=n.yaxis;e.each((function(n){var i=n[0].trace,l=i.xcalendar,c=i.ycalendar,u=s.traceIs(i,"bar-like")?".bartext":".point,.textpoint";e.selectAll(u).each((function(e){x.hideOutsideRangePoint(e,a.select(this),r,o,l,c)}))}))}},x.crispRound=function(e,n,r){return n&&o(n)?e._context.staticPlot?n:n<1?1:Math.round(n):r||0},x.singleLineStyle=function(e,n,r,a,o){n.style("fill","none");var i=(((e||[])[0]||{}).trace||{}).line||{},s=r||i.width||0,c=o||i.dash||"";l.stroke(n,a||i.color),x.dashLine(n,c,s)},x.lineGroupStyle=function(e,n,r,o){e.style("fill","none").each((function(e){var i=(((e||[])[0]||{}).trace||{}).line||{},s=n||i.width||0,c=o||i.dash||"";a.select(this).call(l.stroke,r||i.color).call(x.dashLine,c,s)}))},x.dashLine=function(e,n,r){r=+r||0,n=x.dashStyle(n,r),e.style({"stroke-dasharray":n,"stroke-width":r+"px"})},x.dashStyle=function(e,n){n=+n||1;var r=Math.max(n,3);return"solid"===e?e="":"dot"===e?e=r+"px,"+r+"px":"dash"===e?e=3*r+"px,"+3*r+"px":"longdash"===e?e=5*r+"px,"+5*r+"px":"dashdot"===e?e=3*r+"px,"+r+"px,"+r+"px,"+r+"px":"longdashdot"===e&&(e=5*r+"px,"+2*r+"px,"+r+"px,"+2*r+"px"),e},x.singleFillStyle=function(e){var n=(((a.select(e.node()).data()[0]||[])[0]||{}).trace||{}).fillcolor;n&&e.call(l.fill,n)},x.fillGroupStyle=function(e){e.style("stroke-width",0).each((function(e){var n=a.select(this);e[0].trace&&n.call(l.fill,e[0].trace.fillcolor)}))};var _=r("3350");x.symbolNames=[],x.symbolFuncs=[],x.symbolNeedLines={},x.symbolNoDot={},x.symbolNoFill={},x.symbolList=[],Object.keys(_).forEach((function(e){var n=_[e],r=n.n;x.symbolList.push(r,String(r),e,r+100,String(r+100),e+"-open"),x.symbolNames[r]=e,x.symbolFuncs[r]=n.f,n.needLine&&(x.symbolNeedLines[r]=!0),n.noDot?x.symbolNoDot[r]=!0:x.symbolList.push(r+200,String(r+200),e+"-dot",r+300,String(r+300),e+"-open-dot"),n.noFill&&(x.symbolNoFill[r]=!0)}));var w=x.symbolNames.length;function makePointPath(e,n){var r=e%100;return x.symbolFuncs[r](n)+(e>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}x.symbolNumber=function(e){if(o(e))e=+e;else if("string"==typeof e){var n=0;e.indexOf("-open")>0&&(n=100,e=e.replace("-open","")),e.indexOf("-dot")>0&&(n+=200,e=e.replace("-dot","")),(e=x.symbolNames.indexOf(e))>=0&&(e+=n)}return e%100>=w||e>=400?0:Math.floor(Math.max(e,0))};var k={x1:1,x2:0,y1:0,y2:0},T={x1:0,x2:0,y1:1,y2:0},S=a.format("~.1f"),O={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:k},horizontalreversed:{node:"linearGradient",attrs:k,reversed:!0},vertical:{node:"linearGradient",attrs:T},verticalreversed:{node:"linearGradient",attrs:T,reversed:!0}};x.gradient=function(e,n,r,o,s,c){for(var d=s.length,p=O[o],f=new Array(d),h=0;h<d;h++)p.reversed?f[d-1-h]=[S(100*(1-s[h][0])),s[h][1]]:f[h]=[S(100*s[h][0]),s[h][1]];var m=n._fullLayout,g="g"+m._uid+"-"+r,y=m._defs.select(".gradients").selectAll("#"+g).data([o+f.join(";")],u.identity);y.exit().remove(),y.enter().append(p.node).each((function(){var e=a.select(this);p.attrs&&e.attr(p.attrs),e.attr("id",g);var n=e.selectAll("stop").data(f);n.exit().remove(),n.enter().append("stop"),n.each((function(e){var n=i(e[1]);a.select(this).attr({offset:e[0]+"%","stop-color":l.tinyRGB(n),"stop-opacity":n.getAlpha()})}))})),e.style(c,getFullUrl(g,n)).style(c+"-opacity",null);var className2query=function(e){return"."+e.attr("class").replace(/\s/g,".")},b=className2query(a.select(e.node().parentNode))+">"+className2query(e);m._gradientUrlQueryParts[b]=1},x.initGradients=function(e){var n=e._fullLayout;u.ensureSingle(n._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),n._gradientUrlQueryParts={}},x.pointStyle=function(e,n,r){if(e.size()){var o=x.makePointStyleFns(n);e.each((function(e){x.singlePointStyle(e,a.select(this),n,o,r)}))}},x.singlePointStyle=function(e,n,r,a,o){var i=r.marker,s=i.line;if(n.style("opacity",a.selectedOpacityFn?a.selectedOpacityFn(e):void 0===e.mo?i.opacity:e.mo),a.ms2mrc){var c;c="various"===e.ms||"various"===i.size?3:a.ms2mrc(e.ms),e.mrc=c,a.selectedSizeFn&&(c=e.mrc=a.selectedSizeFn(e));var d=x.symbolNumber(e.mx||i.symbol)||0;e.om=d%200>=100,n.attr("d",makePointPath(d,c))}var p,f,h,m=!1;if(e.so)h=s.outlierwidth,f=s.outliercolor,p=i.outliercolor;else{var g=(s||{}).width;h=(e.mlw+1||g+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,f="mlc"in e?e.mlcc=a.lineScale(e.mlc):u.isArrayOrTypedArray(s.color)?l.defaultLine:s.color,u.isArrayOrTypedArray(i.color)&&(p=l.defaultLine,m=!0),p="mc"in e?e.mcc=a.markerScale(e.mc):i.color||"rgba(0,0,0,0)",a.selectedColorFn&&(p=a.selectedColorFn(e))}if(e.om)n.call(l.stroke,p).style({"stroke-width":(h||1)+"px",fill:"none"});else{n.style("stroke-width",(e.isBlank?0:h)+"px");var y=i.gradient,b=e.mgt;if(b?m=!0:b=y&&y.type,Array.isArray(b)&&(b=b[0],O[b]||(b=0)),b&&"none"!==b){var _=e.mgc;_?m=!0:_=y.color;var w=r.uid;m&&(w+="-"+e.i),x.gradient(n,o,w,b,[[0,_],[1,p]],"fill")}else l.fill(n,p);h&&l.stroke(n,f)}},x.makePointStyleFns=function(e){var n={},r=e.marker;return n.markerScale=x.tryColorscale(r,""),n.lineScale=x.tryColorscale(r,"line"),s.traceIs(e,"symbols")&&(n.ms2mrc=g.isBubble(e)?y(e):function(){return(r.size||6)/2}),e.selectedpoints&&u.extendFlat(n,x.makeSelectedPointStyleFns(e)),n},x.makeSelectedPointStyleFns=function(e){var n={},r=e.selected||{},a=e.unselected||{},o=e.marker||{},i=r.marker||{},l=a.marker||{},c=o.opacity,d=i.opacity,p=l.opacity,f=void 0!==d,h=void 0!==p;(u.isArrayOrTypedArray(c)||f||h)&&(n.selectedOpacityFn=function(e){var n=void 0===e.mo?o.opacity:e.mo;return e.selected?f?d:n:h?p:m*n});var g=o.color,y=i.color,b=l.color;(y||b)&&(n.selectedColorFn=function(e){var n=e.mcc||g;return e.selected?y||n:b||n});var x=o.size,_=i.size,w=l.size,k=void 0!==_,T=void 0!==w;return s.traceIs(e,"symbols")&&(k||T)&&(n.selectedSizeFn=function(e){var n=e.mrc||x/2;return e.selected?k?_/2:n:T?w/2:n}),n},x.makeSelectedTextStyleFns=function(e){var n={},r=e.selected||{},a=e.unselected||{},o=e.textfont||{},i=r.textfont||{},s=a.textfont||{},c=o.color,u=i.color,d=s.color;return n.selectedTextColorFn=function(e){var n=e.tc||c;return e.selected?u||n:d||(u?n:l.addOpacity(n,m))},n},x.selectedPointStyle=function(e,n){if(e.size()&&n.selectedpoints){var r=x.makeSelectedPointStyleFns(n),o=n.marker||{},i=[];r.selectedOpacityFn&&i.push((function(e,n){e.style("opacity",r.selectedOpacityFn(n))})),r.selectedColorFn&&i.push((function(e,n){l.fill(e,r.selectedColorFn(n))})),r.selectedSizeFn&&i.push((function(e,n){var a=n.mx||o.symbol||0,i=r.selectedSizeFn(n);e.attr("d",makePointPath(x.symbolNumber(a),i)),n.mrc2=i})),i.length&&e.each((function(e){for(var n=a.select(this),r=0;r<i.length;r++)i[r](n,e)}))}},x.tryColorscale=function(e,n){var r=n?u.nestedProperty(e,n).get():e;if(r){var a=r.color;if((r.colorscale||r._colorAx)&&u.isArrayOrTypedArray(a))return c.makeColorScaleFuncFromTrace(r)}return u.identity};var C={start:1,end:-1,middle:0,bottom:1,top:-1};function textPointPosition(e,n,r,o){var i=a.select(e.node().parentNode),s=-1!==n.indexOf("top")?"top":-1!==n.indexOf("bottom")?"bottom":"middle",l=-1!==n.indexOf("left")?"end":-1!==n.indexOf("right")?"start":"middle",c=o?o/.8+1:0,u=(p.lineCount(e)-1)*h+1,f=C[l]*c,m=.75*r+C[s]*c+(C[s]-1)*u*r/2;e.attr("text-anchor",l),i.attr("transform",d(f,m))}function extracTextFontSize(e,n){var r=e.ts||n.textfont.size;return o(r)&&r>0?r:0}x.textPointStyle=function(e,n,r){if(e.size()){var o;if(n.selectedpoints){var i=x.makeSelectedTextStyleFns(n);o=i.selectedTextColorFn}var s=n.texttemplate,l=r._fullLayout;e.each((function(e){var i=a.select(this),c=s?u.extractOption(e,n,"txt","texttemplate"):u.extractOption(e,n,"tx","text");if(c||0===c){if(s){var d=n._module.formatLabels?n._module.formatLabels(e,n,l):{},f={};b(f,n,e.i);var h=n._meta||{};c=u.texttemplateString(c,d,l._d3locale,f,e,h)}var m=e.tp||n.textposition,g=extracTextFontSize(e,n),y=o?o(e):e.tc||n.textfont.color;i.call(x.font,e.tf||n.textfont.family,g,y).text(c).call(p.convertToTspans,r).call(textPointPosition,m,g,e.mrc)}else i.remove()}))}},x.selectedTextStyle=function(e,n){if(e.size()&&n.selectedpoints){var r=x.makeSelectedTextStyleFns(n);e.each((function(e){var o=a.select(this),i=r.selectedTextColorFn(e),s=e.tp||n.textposition,c=extracTextFontSize(e,n);l.fill(o,i),textPointPosition(o,s,c,e.mrc2||e.mrc)}))}};function makeTangent(e,n,r,o){var i=e[0]-n[0],s=e[1]-n[1],l=r[0]-n[0],c=r[1]-n[1],u=Math.pow(i*i+s*s,.25),d=Math.pow(l*l+c*c,.25),p=(d*d*i-u*u*l)*o,f=(d*d*s-u*u*c)*o,h=3*d*(u+d),m=3*u*(u+d);return[[a.round(n[0]+(h&&p/h),2),a.round(n[1]+(h&&f/h),2)],[a.round(n[0]-(m&&p/m),2),a.round(n[1]-(m&&f/m),2)]]}x.smoothopen=function(e,n){if(e.length<3)return"M"+e.join("L");var r,a="M"+e[0],o=[];for(r=1;r<e.length-1;r++)o.push(makeTangent(e[r-1],e[r],e[r+1],n));for(a+="Q"+o[0][0]+" "+e[1],r=2;r<e.length-1;r++)a+="C"+o[r-2][1]+" "+o[r-1][0]+" "+e[r];return a+="Q"+o[e.length-3][1]+" "+e[e.length-1]},x.smoothclosed=function(e,n){if(e.length<3)return"M"+e.join("L")+"Z";var r,a="M"+e[0],o=e.length-1,i=[makeTangent(e[o],e[0],e[1],n)];for(r=1;r<o;r++)i.push(makeTangent(e[r-1],e[r],e[r+1],n));for(i.push(makeTangent(e[o-1],e[o],e[0],n)),r=1;r<=o;r++)a+="C"+i[r-1][1]+" "+i[r][0]+" "+e[r];return a+="C"+i[o][1]+" "+i[0][0]+" "+e[0]+"Z"};var A={hv:function(e,n){return"H"+a.round(n[0],2)+"V"+a.round(n[1],2)},vh:function(e,n){return"V"+a.round(n[1],2)+"H"+a.round(n[0],2)},hvh:function(e,n){return"H"+a.round((e[0]+n[0])/2,2)+"V"+a.round(n[1],2)+"H"+a.round(n[0],2)},vhv:function(e,n){return"V"+a.round((e[1]+n[1])/2,2)+"H"+a.round(n[0],2)+"V"+a.round(n[1],2)}},STEPLINEAR=function(e,n){return"L"+a.round(n[0],2)+","+a.round(n[1],2)};x.steps=function(e){var n=A[e]||STEPLINEAR;return function(e){for(var r="M"+a.round(e[0][0],2)+","+a.round(e[0][1],2),o=1;o<e.length;o++)r+=n(e[o-1],e[o]);return r}},x.makeTester=function(){var e=u.ensureSingleById(a.select("body"),"svg","js-plotly-tester",(function(e){e.attr(f.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})})),n=u.ensureSingle(e,"path","js-reference-point",(function(e){e.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})}));x.tester=e,x.testref=n},x.savedBBoxes={};var I=0;function nodeHash(e){var n=e.getAttribute("data-unformatted");if(null!==n)return n+e.getAttribute("data-math")+e.getAttribute("text-anchor")+e.getAttribute("style")}function getFullUrl(e,n){if(!e)return null;var r=n._context;return"url('"+(r._exportedPlot?"":r._baseUrl||"")+"#"+e+"')"}x.bBox=function(e,n,r){var o,i,s;if(r||(r=nodeHash(e)),r){if(o=x.savedBBoxes[r])return u.extendFlat({},o)}else if(1===e.childNodes.length){var l=e.childNodes[0];if(r=nodeHash(l)){var c=+l.getAttribute("x")||0,d=+l.getAttribute("y")||0,f=l.getAttribute("transform");if(!f){var h=x.bBox(l,!1,r);return c&&(h.left+=c,h.right+=c),d&&(h.top+=d,h.bottom+=d),h}if(r+="~"+c+"~"+d+"~"+f,o=x.savedBBoxes[r])return u.extendFlat({},o)}}n?i=e:(s=x.tester.node(),i=e.cloneNode(!0),s.appendChild(i)),a.select(i).attr("transform",null).call(p.positionText,0,0);var m=i.getBoundingClientRect(),g=x.testref.node().getBoundingClientRect();n||s.removeChild(i);var y={height:m.height,width:m.width,left:m.left-g.left,top:m.top-g.top,right:m.right-g.left,bottom:m.bottom-g.top};return I>=1e4&&(x.savedBBoxes={},I=0),r&&(x.savedBBoxes[r]=y),I++,u.extendFlat({},y)},x.setClipUrl=function(e,n,r){e.attr("clip-path",getFullUrl(n,r))},x.getTranslate=function(e){var n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,(function(e,n,r){return[n,r].join(" ")})).split(" ");return{x:+n[0]||0,y:+n[1]||0}},x.setTranslate=function(e,n,r){var a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return n=n||0,r=r||0,i=i.replace(/(\btranslate\(.*?\);?)/,"").trim(),i=(i+=d(n,r)).trim(),e[o]("transform",i),i},x.getScale=function(e){var n=(e[e.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,(function(e,n,r){return[n,r].join(" ")})).split(" ");return{x:+n[0]||1,y:+n[1]||1}},x.setScale=function(e,n,r){var a=e.attr?"attr":"getAttribute",o=e.attr?"attr":"setAttribute",i=e[a]("transform")||"";return n=n||1,r=r||1,i=i.replace(/(\bscale\(.*?\);?)/,"").trim(),i=(i+="scale("+n+","+r+")").trim(),e[o]("transform",i),i};var N=/\s*sc.*/;x.setPointGroupScale=function(e,n,r){if(n=n||1,r=r||1,e){var a=1===n&&1===r?"":"scale("+n+","+r+")";e.each((function(){var e=(this.getAttribute("transform")||"").replace(N,"");e=(e+=a).trim(),this.setAttribute("transform",e)}))}};var M=/translate\([^)]*\)\s*$/;x.setTextPointsScale=function(e,n,r){e&&e.each((function(){var e,o=a.select(this),i=o.select("text");if(i.node()){var s=parseFloat(i.attr("x")||0),l=parseFloat(i.attr("y")||0),c=(o.attr("transform")||"").match(M);e=1===n&&1===r?[]:[d(s,l),"scale("+n+","+r+")",d(-s,-l)],c&&e.push(c),o.attr("transform",e.join(""))}}))}},8418:function(e,n,r){"use strict";var a=r("c04ea"),o=r("9bf2"),i=r("5c6c");e.exports=function(e,n,r){var s=a(n);s in e?o.f(e,s,i(0,r)):e[s]=r}},"84d6":function(e,n,r){"use strict";r.d(n,"a",(function(){return range}));var a=r("6ae2"),o=r("c05b");function range(e,n,r=1,i="float32"){if(0===r)throw new Error("Cannot have a step of zero");const s={start:e,stop:n,step:r,dtype:i};return a.a.runKernel(o.hc,{},s)}},"84df":function(e,n,r){"use strict";var a=r("fc26"),o=r("371e"),i=!0;e.exports=function handleClick(e,n,r){var s=n._fullLayout;if(!n._dragged&&!n._editing){var l,c=s.legend.itemclick,u=s.legend.itemdoubleclick;if(1===r&&"toggle"===c&&"toggleothers"===u&&i&&n.data&&n._context.showTips?(a.notifier(a._(n,"Double-click on legend to isolate one trace"),"long"),i=!1):i=!1,1===r?l=c:2===r&&(l=u),l){var d,p,f,h,m,g=s.hiddenlabels?s.hiddenlabels.slice():[],y=e.data()[0][0],b=n._fullData,x=y.trace,_=x.legendgroup,w={},k=[],T=[],S=[];if(o.traceIs(x,"pie-like")){var O=y.label,C=g.indexOf(O);"toggle"===l?-1===C?g.push(O):g.splice(C,1):"toggleothers"===l&&(g=[],n.calcdata[0].forEach((function(e){O!==e.label&&g.push(e.label)})),n._fullLayout.hiddenlabels&&n._fullLayout.hiddenlabels.length===g.length&&-1===C&&(g=[])),o.call("_guiRelayout",n,"hiddenlabels",g)}else{var A,I=_&&_.length,N=[];if(I)for(d=0;d<b.length;d++)(A=b[d]).visible&&A.legendgroup===_&&N.push(d);if("toggle"===l){var M;switch(x.visible){case!0:M="legendonly";break;case!1:M=!1;break;case"legendonly":M=!0}if(I)for(d=0;d<b.length;d++)!1!==b[d].visible&&b[d].legendgroup===_&&setVisibility(b[d],M);else setVisibility(x,M)}else if("toggleothers"===l){var E,D,j,R,L=!0;for(d=0;d<b.length;d++)if(E=b[d]===x,j=!0!==b[d].showlegend,!(E||j||(D=I&&b[d].legendgroup===_)||!0!==b[d].visible||o.traceIs(b[d],"notLegendIsolatable"))){L=!1;break}for(d=0;d<b.length;d++)if(!1!==b[d].visible&&!o.traceIs(b[d],"notLegendIsolatable"))switch(x.visible){case"legendonly":setVisibility(b[d],!0);break;case!0:R=!!L||"legendonly",E=b[d]===x,j=!0!==b[d].showlegend&&!b[d].legendgroup,D=E||I&&b[d].legendgroup===_,setVisibility(b[d],!(!D&&!j)||R)}}for(d=0;d<T.length;d++)if(f=T[d]){var z=f.constructUpdate(),$=Object.keys(z);for(p=0;p<$.length;p++)h=$[p],(w[h]=w[h]||[])[S[d]]=z[h]}for(m=Object.keys(w),d=0;d<m.length;d++)for(h=m[d],p=0;p<k.length;p++)w[h].hasOwnProperty(p)||(w[h][p]=void 0);o.call("_guiRestyle",n,w,k)}}}function insertUpdate(e,n,r){var a=k.indexOf(e),o=w[n];return o||(o=w[n]=[]),-1===k.indexOf(e)&&(k.push(e),a=k.length-1),o[a]=r,a}function setVisibility(e,n){var r=e._fullInput;if(o.hasTransform(r,"groupby")){var i=T[r.index];if(!i){var s=o.getTransformIndices(r,"groupby"),l=s[s.length-1];i=a.keyedContainer(r,"transforms["+l+"].styles","target","value.visible"),T[r.index]=i}var c=i.get(e._group);void 0===c&&(c=!0),!1!==c&&i.set(e._group,n),S[r.index]=insertUpdate(r.index,"visible",!1!==r.visible)}else{var u=!1!==r.visible&&n;insertUpdate(r.index,"visible",u)}}}},"853e":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({unique_:function unique_(e,n=0){const r=Object(i.a)(e,"x","unique","string_or_numeric");Object(s.b)(r.rank>0,(()=>"The input tensor must be at least 1D"));const l={x:r},c={axis:n},[u,d]=a.a.runKernel(o.Wc,l,c);return{values:u,indices:d}}})},"855b":function(e,n,r){"use strict";var a=r("8741"),o=r("7df2"),i=r("1b88").getGraphDiv,s=r("7fb7"),l=e.exports={};l.wrapped=function(e,n,r){(e=i(e))._fullLayout&&o.clear(e._fullLayout._uid+s.HOVERID),l.raw(e,n,r)},l.raw=function raw(e,n){var r=e._fullLayout,o=e._hoverdata;n||(n={}),n.target&&!1===a.triggerHandler(e,"plotly_beforehover",n)||(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),e._hoverdata=void 0,n.target&&o&&e.emit("plotly_unhover",{event:n,points:o}))}},"861d":function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},8629:function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var a=r("043e"),o=r("54ef"),i=r("d4e4");const s=Object(o.a)({randomUniform_:function randomUniform_(e,n=0,r=1,o="float32",s){const l=Object(a.a)(e,o),c=new i.b(n,r,null,s);for(let a=0;a<l.values.length;a++)l.values[a]=c.nextValue();return l.toTensor()}})},8741:function(e,n,r){"use strict";var a=r("faa1").EventEmitter,o={init:function(e){if(e._ev instanceof a)return e;var n=new a,r=new a;return e._ev=n,e._internalEv=r,e.on=n.on.bind(n),e.once=n.once.bind(n),e.removeListener=n.removeListener.bind(n),e.removeAllListeners=n.removeAllListeners.bind(n),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(a,o){"undefined"!=typeof jQuery&&jQuery(e).trigger(a,o),n.emit(a,o),r.emit(a,o)},e},triggerHandler:function(e,n,r){var a,o;"undefined"!=typeof jQuery&&(a=jQuery(e).triggerHandler(n,r));var i=e._ev;if(!i)return a;var s,l=i._events[n];if(!l)return a;function apply(e){return e.listener?(i.removeListener(n,e.listener),e.fired?void 0:(e.fired=!0,e.listener.apply(i,[r]))):e.apply(i,[r])}for(l=Array.isArray(l)?l:[l],s=0;s<l.length-1;s++)apply(l[s]);return o=apply(l[s]),void 0!==a?a:o},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};e.exports=o},8797:function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=o.dateTime2ms,s=o.incrementMonth,l=r("e806").ONEAVGMONTH;e.exports=function alignPeriod(e,n,r,o){if("date"!==n.type)return o;var c=e[r+"periodalignment"];if(!c)return o;var u,d=e[r+"period"];if(a(d)){if((d=+d)<=0)return o}else if("string"==typeof d&&"M"===d.charAt(0)){var p=+d.substring(1);if(!(p>0&&Math.round(p)===p))return o;u=p}for(var f=n.calendar,h="start"===c,m="end"===c,g=e[r+"period0"],y=i(g,f)||0,b=[],x=o.length,_=0;_<x;_++){var w,k,T,S=o[_];if(u){for(w=Math.round((S-y)/(u*l)),T=s(y,u*w,f);T>S;)T=s(T,-u,f);for(;T<=S;)T=s(T,u,f);k=s(T,-u,f)}else{for(T=y+(w=Math.round((S-y)/d))*d;T>S;)T-=d;for(;T<=S;)T+=d;k=T-d}b[_]=h?k:m?T:(k+T)/2}return b}},"887c":function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("bb71"),s=r("d115"),l=r("83d1"),c=r("fc26"),u=c.strTranslate,d=r("0379"),p=r("3c1c"),f=r("63dc"),h=f.LINE_SPACING,m=f.FROM_TL,g=f.FROM_BR,y=r("b19b"),b=r("9d33");function selectorKeyFunc(e){return e._id}function drawButtonRect(e,n,r){var a=c.ensureSingle(e,"rect","selector-rect",(function(e){e.attr("shape-rendering","crispEdges")}));a.attr({rx:y.rx,ry:y.ry}),a.call(s.stroke,n.bordercolor).call(s.fill,function getFillColor(e,n){return n._isActive||n._isHovered?e.activecolor:e.bgcolor}(n,r)).style("stroke-width",n.borderwidth+"px")}function drawButtonText(e,n,r,a){c.ensureSingle(e,"text","selector-text",(function(e){e.attr("text-anchor","middle")})).call(l.font,n.font).text(function getLabel(e,n){if(e.label)return n?c.templateString(e.label,n):e.label;return"all"===e.step?"all":e.count+e.step.charAt(0)}(r,a._fullLayout._meta)).call((function textLayout(e){d.convertToTspans(e,a)}))}e.exports=function draw(e){var n=e._fullLayout._infolayer.selectAll(".rangeselector").data(function makeSelectorData(e){for(var n=p.list(e,"x",!0),r=[],a=0;a<n.length;a++){var o=n[a];o.rangeselector&&o.rangeselector.visible&&r.push(o)}return r}(e),selectorKeyFunc);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each((function(n){var r=a.select(this),s=n,p=s.rangeselector,f=r.selectAll("g.button").data(c.filterVisible(p.buttons));f.enter().append("g").classed("button",!0),f.exit().remove(),f.each((function(n){var r=a.select(this),i=b(s,n);n._isActive=function isActive(e,n,r){if("all"===n.step)return!0===e.autorange;var a=Object.keys(r);return e.range[0]===r[a[0]]&&e.range[1]===r[a[1]]}(s,n,i),r.call(drawButtonRect,p,n),r.call(drawButtonText,p,n,e),r.on("click",(function(){e._dragged||o.call("_guiRelayout",e,i)})),r.on("mouseover",(function(){n._isHovered=!0,r.call(drawButtonRect,p,n)})),r.on("mouseout",(function(){n._isHovered=!1,r.call(drawButtonRect,p,n)}))})),function reposition(e,n,r,o,s){var p=0,f=0,b=r.borderwidth;n.each((function(){var e=a.select(this).select(".selector-text"),n=r.font.size*h,o=Math.max(n*d.lineCount(e),16)+3;f=Math.max(f,o)})),n.each((function(){var e=a.select(this),n=e.select(".selector-rect"),o=e.select(".selector-text"),i=o.node()&&l.bBox(o.node()).width,s=r.font.size*h,c=d.lineCount(o),m=Math.max(i+10,y.minButtonWidth);e.attr("transform",u(b+p,b)),n.attr({x:0,y:0,width:m,height:f}),d.positionText(o,m/2,f/2-(c-1)*s/2+3),p+=m+5}));var x=e._fullLayout._size,_=x.l+x.w*r.x,w=x.t+x.h*(1-r.y),k="left";c.isRightAnchor(r)&&(_-=p,k="right");c.isCenterAnchor(r)&&(_-=p/2,k="center");var T="top";c.isBottomAnchor(r)&&(w-=f,T="bottom");c.isMiddleAnchor(r)&&(w-=f/2,T="middle");p=Math.ceil(p),f=Math.ceil(f),_=Math.round(_),w=Math.round(w),i.autoMargin(e,o+"-range-selector",{x:r.x,y:r.y,l:p*m[k],r:p*g[k],b:f*g[T],t:f*m[T]}),s.attr("transform",u(_,w))}(e,f,p,s._name,r)}))}},8888:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({tanh_:function tanh_(e){const n={x:Object(i.a)(e,"x","tanh")};return a.a.runKernel(o.Rc,n)}})},8925:function(e,n,r){var a=r("c6cd"),o=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(e){return o.call(e)}),e.exports=a.inspectSource},"89ed":function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.b,r=n.c,a=n.d,o=n.a;return e=e<<25^e>>>7^r,r=r-a|0,a=a<<24^a>>>8^o,o=o-e|0,n.b=e=e<<20^e>>>12^r,n.c=r=r-a|0,n.d=a<<16^r>>>16^o,n.a=o-e|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,e===Math.floor(e)?(n.a=e/4294967296|0,n.b=0|e):r+=e;for(var a=0;a<r.length+20;a++)n.b^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.a=e.a,n.b=e.b,n.c=e.c,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.tychei=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},"8aa5":function(e,n,r){"use strict";var a=r("6547").charAt;e.exports=function(e,n,r){return n+(r?a(e,n).length:1)}},"8ae0":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({abs_:function abs_(e){const n=Object(i.a)(e,"x","abs");if("complex64"===n.dtype){const e={x:n};return a.a.runKernel(o.A,e)}{const e={x:n};return a.a.runKernel(o.a,e)}}})},"8b1d":function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("bb71"),s=r("fc26"),l=s.strTranslate,c=r("83d1"),u=r("d115"),d=r("1999"),p=r("91cd"),f=r("3c1c"),h=r("4efe"),m=r("0f37"),g=r("22f9");function drawBg(e,n,r,a){var o=s.ensureSingle(e,"rect",g.bgClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})),i=a.borderwidth%2==0?a.borderwidth:a.borderwidth-1,u=-a._offsetShift,d=c.crispRound(n,a.borderwidth);o.attr({width:a._width+i,height:a._height+i,transform:l(u,u),fill:a.bgcolor,stroke:a.bordercolor,"stroke-width":d})}function addClipPath(e,n,r,a){var o=n._fullLayout;s.ensureSingleById(o._topdefs,"clipPath",a._clipId,(function(e){e.append("rect").attr({x:0,y:0})})).select("rect").attr({width:a._width,height:a._height})}function drawRangePlot(e,n,r,o){var l,u=n.calcdata,d=e.selectAll("g."+g.rangePlotClassName).data(r._subplotsWith,s.identity);d.enter().append("g").attr("class",(function(e){return g.rangePlotClassName+" "+e})).call(c.setClipUrl,o._clipId,n),d.order(),d.exit().remove(),d.each((function(e,s){var c=a.select(this),d=0===s,h=f.getFromId(n,e,"y"),m=h._name,g=o[m],y={data:[],layout:{xaxis:{type:r.type,domain:[0,1],range:o.range.slice(),calendar:r.calendar},width:o._width,height:o._height,margin:{t:0,b:0,l:0,r:0}},_context:n._context};r.rangebreaks&&(y.layout.xaxis.rangebreaks=r.rangebreaks),y.layout[m]={type:h.type,domain:[0,1],range:"match"!==g.rangemode?g.range.slice():h.range.slice(),calendar:h.calendar},h.rangebreaks&&(y.layout[m].rangebreaks=h.rangebreaks),i.supplyDefaults(y);var b=y._fullLayout.xaxis,x=y._fullLayout[m];b.clearCalc(),b.setScale(),x.clearCalc(),x.setScale();var _={id:e,plotgroup:c,xaxis:b,yaxis:x,isRangePlot:!0};d?l=_:(_.mainplot="xy",_.mainplotinfo=l),p.rangePlot(n,_,function filterRangePlotCalcData(e,n){for(var r=[],a=0;a<e.length;a++){var o=e[a],i=o[0].trace;i.xaxis+i.yaxis===n&&r.push(o)}return r}(u,e))}))}function drawMasks(e,n,r,a,o){(s.ensureSingle(e,"rect",g.maskMinClassName,(function(e){e.attr({x:0,y:0,"shape-rendering":"crispEdges"})})).attr("height",a._height).call(u.fill,g.maskColor),s.ensureSingle(e,"rect",g.maskMaxClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("height",a._height).call(u.fill,g.maskColor),"match"!==o.rangemode)&&(s.ensureSingle(e,"rect",g.maskMinOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",a._width).call(u.fill,g.maskOppAxisColor),s.ensureSingle(e,"rect",g.maskMaxOppAxisClassName,(function(e){e.attr({y:0,"shape-rendering":"crispEdges"})})).attr("width",a._width).style("border-top",g.maskOppBorder).call(u.fill,g.maskOppAxisColor))}function drawSlideBox(e,n,r,a){n._context.staticPlot||s.ensureSingle(e,"rect",g.slideBoxClassName,(function(e){e.attr({y:0,cursor:g.slideBoxCursor,"shape-rendering":"crispEdges"})})).attr({height:a._height,fill:g.slideBoxFill})}function drawGrabbers(e,n,r,a){var o=s.ensureSingle(e,"g",g.grabberMinClassName),i=s.ensureSingle(e,"g",g.grabberMaxClassName),l={x:0,width:g.handleWidth,rx:g.handleRadius,fill:u.background,stroke:u.defaultLine,"stroke-width":g.handleStrokeWidth,"shape-rendering":"crispEdges"},c={y:Math.round(a._height/4),height:Math.round(a._height/2)};s.ensureSingle(o,"rect",g.handleMinClassName,(function(e){e.attr(l)})).attr(c),s.ensureSingle(i,"rect",g.handleMaxClassName,(function(e){e.attr(l)})).attr(c);var d={width:g.grabAreaWidth,x:0,y:0,fill:g.grabAreaFill,cursor:n._context.staticPlot?void 0:g.grabAreaCursor};s.ensureSingle(o,"rect",g.grabAreaMinClassName,(function(e){e.attr(d)})).attr("height",a._height),s.ensureSingle(i,"rect",g.grabAreaMaxClassName,(function(e){e.attr(d)})).attr("height",a._height)}e.exports=function(e){for(var n=e._fullLayout,r=n._rangeSliderData,i=0;i<r.length;i++){var c=r[i][g.name];c._clipId=c._id+"-"+n._uid}var u=n._infolayer.selectAll("g."+g.containerClassName).data(r,(function keyFunction(e){return e._name}));u.exit().each((function(e){var r=e[g.name];n._topdefs.select("#"+r._clipId).remove()})).remove(),0!==r.length&&(u.enter().append("g").classed(g.containerClassName,!0).attr("pointer-events","all"),u.each((function(r){var i=a.select(this),c=r[g.name],u=n[f.id2name(r.anchor)],p=c[f.id2name(r.anchor)];if(c.range){var y,b=s.simpleMap(c.range,r.r2l),x=s.simpleMap(r.range,r.r2l);y=x[0]<x[1]?[Math.min(b[0],x[0]),Math.max(b[1],x[1])]:[Math.max(b[0],x[0]),Math.min(b[1],x[1])],c.range=c._input.range=s.simpleMap(y,r.l2r)}r.cleanRange("rangeslider.range");var _=n._size,w=r.domain;c._width=_.w*(w[1]-w[0]);var k=Math.round(_.l+_.w*w[0]),T=Math.round(_.t+_.h*(1-r._counterDomainMin)+("bottom"===r.side?r._depth:0)+c._offsetShift+g.extraPad);i.attr("transform",l(k,T)),c._rl=s.simpleMap(c.range,r.r2l);var S=c._rl[0],O=c._rl[1],C=O-S;if(c.p2d=function(e){return e/c._width*C+S},c.d2p=function(e){return(e-S)/C*c._width},r.rangebreaks){var A=r.locateBreaks(S,O);if(A.length){var I,N,M=0;for(I=0;I<A.length;I++)M+=(N=A[I]).max-N.min;var E=c._width/(O-S-M),D=[-E*S];for(I=0;I<A.length;I++)N=A[I],D.push(D[D.length-1]-E*(N.max-N.min));for(c.d2p=function(e){for(var n=D[0],r=0;r<A.length;r++){var a=A[r];if(e>=a.max)n=D[r+1];else if(e<a.min)break}return n+E*e},I=0;I<A.length;I++)(N=A[I]).pmin=c.d2p(N.min),N.pmax=c.d2p(N.max);c.p2d=function(e){for(var n=D[0],r=0;r<A.length;r++){var a=A[r];if(e>=a.pmax)n=D[r+1];else if(e<a.pmin)break}return(e-n)/E}}}if("match"!==p.rangemode){var j=u.r2l(p.range[0]),R=u.r2l(p.range[1])-j;c.d2pOppAxis=function(e){return(e-j)/R*c._height}}i.call(drawBg,e,r,c).call(addClipPath,e,r,c).call(drawRangePlot,e,r,c).call(drawMasks,e,r,c,p).call(drawSlideBox,e,r,c).call(drawGrabbers,e,r,c),function setupDragElement(e,n,r,i){if(n._context.staticPlot)return;var l=e.select("rect."+g.slideBoxClassName).node(),c=e.select("rect."+g.grabAreaMinClassName).node(),u=e.select("rect."+g.grabAreaMaxClassName).node();function mouseDownHandler(){var d=a.event,p=d.target,f=d.clientX||d.touches[0].clientX,g=f-e.node().getBoundingClientRect().left,y=i.d2p(r._rl[0]),b=i.d2p(r._rl[1]),x=h.coverSlip();function mouseMove(e){var d,h,_,w=+(e.clientX||e.touches[0].clientX)-f;switch(p){case l:_="ew-resize",d=y+w,h=b+w;break;case c:_="col-resize",d=y+w,h=b;break;case u:_="col-resize",d=y,h=b+w;break;default:_="ew-resize",d=g,h=g+w}if(h<d){var k=h;h=d,d=k}i._pixelMin=d,i._pixelMax=h,m(a.select(x),_),function setDataRange(e,n,r,a){function clamp(e){return r.l2r(s.constrain(e,a._rl[0],a._rl[1]))}var i=clamp(a.p2d(a._pixelMin)),l=clamp(a.p2d(a._pixelMax));window.requestAnimationFrame((function(){o.call("_guiRelayout",n,r._name+".range",[i,l])}))}(0,n,r,i)}function mouseUp(){x.removeEventListener("mousemove",mouseMove),x.removeEventListener("mouseup",mouseUp),this.removeEventListener("touchmove",mouseMove),this.removeEventListener("touchend",mouseUp),s.removeElement(x)}this.addEventListener("touchmove",mouseMove),this.addEventListener("touchend",mouseUp),x.addEventListener("mousemove",mouseMove),x.addEventListener("mouseup",mouseUp)}e.on("mousedown",mouseDownHandler),e.on("touchstart",mouseDownHandler)}(i,e,r,c),function setPixelRange(e,n,r,a,o,i){var c=g.handleWidth/2;function clamp(e){return s.constrain(e,0,a._width)}function clampOppAxis(e){return s.constrain(e,0,a._height)}function clampHandle(e){return s.constrain(e,-c,a._width+c)}var u=clamp(a.d2p(r._rl[0])),d=clamp(a.d2p(r._rl[1]));if(e.select("rect."+g.slideBoxClassName).attr("x",u).attr("width",d-u),e.select("rect."+g.maskMinClassName).attr("width",u),e.select("rect."+g.maskMaxClassName).attr("x",d).attr("width",a._width-d),"match"!==i.rangemode){var p=a._height-clampOppAxis(a.d2pOppAxis(o._rl[1])),f=a._height-clampOppAxis(a.d2pOppAxis(o._rl[0]));e.select("rect."+g.maskMinOppAxisClassName).attr("x",u).attr("height",p).attr("width",d-u),e.select("rect."+g.maskMaxOppAxisClassName).attr("x",u).attr("y",f).attr("height",a._height-f).attr("width",d-u),e.select("rect."+g.slideBoxClassName).attr("y",p).attr("height",f-p)}var h=.5,m=Math.round(clampHandle(u-c))-h,y=Math.round(clampHandle(d-c))+h;e.select("g."+g.grabberMinClassName).attr("transform",l(m,h)),e.select("g."+g.grabberMaxClassName).attr("transform",l(y,h))}(i,0,r,c,u,p),"bottom"===r.side&&d.draw(e,r._id+"title",{propContainer:r,propName:r._name+".title",placeholder:n._dfltTitle.x,attributes:{x:r._offset+r._length/2,y:T+c._height+c._offsetShift+10+1.5*r.title.font.size,"text-anchor":"middle"}})})))}},"8b25":function(e,n,r){"use strict";e.exports=Sieve;var a=r("fc26").distinctVals,o=r("e806").BADNUM;function Sieve(e,n){this.traces=e,this.sepNegVal=n.sepNegVal,this.overlapNoMerge=n.overlapNoMerge;for(var r=1/0,i=[],s=0;s<e.length;s++){for(var l=e[s],c=0;c<l.length;c++){var u=l[c];u.p!==o&&i.push(u.p)}l[0]&&l[0].width1&&(r=Math.min(l[0].width1,r))}this.positions=i;var d=a(i,{unitMinDiff:n.unitMinDiff});this.distinctPositions=d.vals,1===d.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(d.minDiff,r),this.binWidth=this.minDiff,this.bins={}}Sieve.prototype.put=function put(e,n){var r=this.getLabel(e,n),a=this.bins[r]||0;return this.bins[r]=a+n,a},Sieve.prototype.get=function get(e,n){var r=this.getLabel(e,n);return this.bins[r]||0},Sieve.prototype.getLabel=function getLabel(e,n){return(n<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},"8b87":function(e,n,r){"use strict";r.d(n,"a",(function(){return DataStorage})),r.d(n,"b",(function(){return KernelBackend}));class DataStorage{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class KernelBackend{refCount(e){return notYetImplemented("refCount")}incRef(e){return notYetImplemented("incRef")}timerAvailable(){return!0}time(e){return notYetImplemented("time")}read(e){return notYetImplemented("read")}readSync(e){return notYetImplemented("readSync")}numDataIds(){return notYetImplemented("numDataIds")}disposeData(e,n){return notYetImplemented("disposeData")}write(e,n,r){return notYetImplemented("write")}move(e,n,r,a,o){return notYetImplemented("move")}memory(){return notYetImplemented("memory")}floatPrecision(){return notYetImplemented("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return notYetImplemented("dispose")}}function notYetImplemented(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},"8b98":function(e,n){var r={left:0,top:0};e.exports=function mouseEventOffset(e,n,a){n=n||e.currentTarget||e.srcElement,Array.isArray(a)||(a=[0,0]);var o=e.clientX||0,i=e.clientY||0,s=function getBoundingClientOffset(e){return e===window||e===document||e===document.body?r:e.getBoundingClientRect()}(n);return a[0]=o-s.left,a[1]=i-s.top,a}},"8bb6":function(e,n){e.exports=function perspectiveFromFieldOfView(e,n,r,a){var o=Math.tan(n.upDegrees*Math.PI/180),i=Math.tan(n.downDegrees*Math.PI/180),s=Math.tan(n.leftDegrees*Math.PI/180),l=Math.tan(n.rightDegrees*Math.PI/180),c=2/(s+l),u=2/(o+i);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(s-l)*c*.5,e[9]=(o-i)*u*.5,e[10]=a/(r-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*r/(r-a),e[15]=0,e}},"8bbc":function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=124)}({0:function(e,n,r){"use strict";function normalizeComponent(e,n,r,a,o,i,s,l){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function renderWithStyleInjection(e,n){return c.call(n),d(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(n,"a",(function(){return normalizeComponent}))},124:function(e,n,r){"use strict";r.r(n);var a={name:"ElTag",props:{text:String,closable:Boolean,type:String,hit:Boolean,disableTransitions:Boolean,color:String,size:String,effect:{type:String,default:"light",validator:function validator(e){return-1!==["dark","light","plain"].indexOf(e)}}},methods:{handleClose:function handleClose(e){e.stopPropagation(),this.$emit("close",e)},handleClick:function handleClick(e){this.$emit("click",e)}},computed:{tagSize:function tagSize(){return this.size||(this.$ELEMENT||{}).size}},render:function render(e){var n=this.type,r=this.tagSize,a=this.hit,o=this.effect,i=e("span",{class:["el-tag",n?"el-tag--"+n:"",r?"el-tag--"+r:"",o?"el-tag--"+o:"",a&&"is-hit"],style:{backgroundColor:this.color},on:{click:this.handleClick}},[this.$slots.default,this.closable&&e("i",{class:"el-tag__close el-icon-close",on:{click:this.handleClose}})]);return this.disableTransitions?i:e("transition",{attrs:{name:"el-zoom-in-center"}},[i])}},o=r(0),i=Object(o.a)(a,undefined,undefined,!1,null,null,null);i.options.__file="packages/tag/src/tag.vue";var s=i.exports;s.install=function(e){e.component(s.name,s)};n.default=s}})},"8bc9":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({maxPoolWithArgmax_:function maxPoolWithArgmax_(e,n,r,s,l=!1){const c={x:Object(i.a)(e,"x","maxPoolWithArgmax")},u={filterSize:n,strides:r,pad:s,includeBatchInIndex:l},d=a.a.runKernel(o.Mb,c,u);return{result:d[0],indexes:d[1]}}})},"8bfa":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef"),l=r("a34f");const c=Object(s.a)({scatterND_:function scatterND_(e,n,r){const s=Object(i.a)(e,"indices","scatterND","int32"),c=Object(i.a)(n,"updates","scatterND");l.b(c,s,r);const u={indices:s,updates:c},d={shape:r};return a.a.runKernel(o.wc,u,d)}})},"8c2d":function(e,n,r){"use strict";e.exports={visible:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not this set of error bars is visible."].join(" ")},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],role:"info",editType:"calc",description:["Determines the rule used to generate the error bars.","If *constant`, the bar lengths are of a constant value.","Set this constant in `value`.","If *percent*, the bar lengths correspond to a percentage of","underlying data. Set this percentage in `value`.","If *sqrt*, the bar lengths correspond to the square of the","underlying data.","If *data*, the bar lengths are set with data set `array`."].join(" ")},symmetric:{valType:"boolean",role:"info",editType:"calc",description:["Determines whether or not the error bars have the same length","in both direction","(top/bottom for vertical bars, left/right for horizontal bars."].join(" ")},array:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar.","Values are plotted relative to the underlying data."].join(" ")},arrayminus:{valType:"data_array",editType:"calc",description:["Sets the data corresponding the length of each error bar in the","bottom (left) direction for vertical (horizontal) bars","Values are plotted relative to the underlying data."].join(" ")},value:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars."].join(" ")},valueminus:{valType:"number",min:0,dflt:10,role:"info",editType:"calc",description:["Sets the value of either the percentage","(if `type` is set to *percent*) or the constant","(if `type` is set to *constant*) corresponding to the lengths of","the error bars in the","bottom (left) direction for vertical (horizontal) bars"].join(" ")},traceref:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,role:"info",editType:"style"},copy_ystyle:{valType:"boolean",role:"style",editType:"plot"},copy_zstyle:{valType:"boolean",role:"style",editType:"style"},color:{valType:"color",role:"style",editType:"style",description:"Sets the stoke color of the error bars."},thickness:{valType:"number",min:0,dflt:2,role:"style",editType:"style",description:"Sets the thickness (in px) of the error bars."},width:{valType:"number",min:0,role:"style",editType:"plot",description:["Sets the width (in px) of the cross-bar at both ends","of the error bars."].join(" ")},editType:"calc",_deprecated:{opacity:{valType:"number",role:"style",editType:"style",description:["Obsolete.","Use the alpha channel in error bar `color` to set the opacity."].join(" ")}}}},"8cb0":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("54ef"),s=r("35c9");const l=Object(i.a)({depthwiseConv2dNativeBackpropInput_:function depthwiseConv2dNativeBackpropInput_(e,n,r,i,l,c=[1,1],u){let d=n,p=!1;3===n.rank&&(p=!0,d=Object(s.a)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));const f={dy:d,filter:r},h={strides:i,pad:l,dimRoundingMode:u,dilations:c,inputShape:e},m=a.a.runKernel(o.Q,f,h);return p?Object(s.a)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},"8d0e":function(e,n,r){"use strict";e.exports={eventDataKeys:["binNumber"]}},"8d71":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({tile_:function tile_(e,n){const r=Object(i.a)(e,"x","tile","string_or_numeric");s.b(r.rank===n.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of reps ${n}.`));const l={x:r},c={reps:n};return a.a.runKernel(o.Sc,l,c)}})},"8dec":function(e,n,r){"use strict";var a=r("6e58"),o=r("66cb"),i=r("bb71"),s=r("371e"),l=r("0642"),c=r("4efe"),u=r("fc26"),d=u.strTranslate,p=r("9092").extendFlat,f=r("0f37"),h=r("83d1"),m=r("d115"),g=r("1999"),y=r("0379"),b=r("215c").flipScale,x=r("7118"),_=r("f3a2"),w=r("d798"),k=r("63dc"),T=k.LINE_SPACING,S=k.FROM_TL,O=k.FROM_BR,C=r("aa8a").cn;e.exports={draw:function draw(e){var n=e._fullLayout._infolayer.selectAll("g."+C.colorbar).data(function makeColorBarData(e){var n,r,a,o,i=e._fullLayout,s=e.calcdata,l=[];function initOpts(e){return p(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function calcOpts(){"function"==typeof o.calc?o.calc(e,a,n):(n._fillgradient=r.reversescale?b(r.colorscale):r.colorscale,n._zrange=[r[o.min],r[o.max]])}for(var c=0;c<s.length;c++){var u=s[c],d=(a=u[0].trace)._module.colorbar;if(!0===a.visible&&d)for(var f=Array.isArray(d),h=f?d:[d],m=0;m<h.length;m++){var g=(o=h[m]).container;(r=g?a[g]:a)&&r.showscale&&((n=initOpts(r.colorbar))._id="cb"+a.uid+(f&&g?"-"+g:""),n._traceIndex=a.index,n._propPrefix=(g?g+".":"")+"colorbar.",n._meta=a._meta,calcOpts(),l.push(n))}}for(var y in i._colorAxes)if((r=i[y]).showscale){var x=i._colorAxes[y];(n=initOpts(r.colorbar))._id="cb"+y,n._propPrefix=y+".colorbar.",n._meta=i._meta,o={min:"cmin",max:"cmax"},"heatmap"!==x[0]&&(a=x[1],o.calc=a._module.colorbar.calc),calcOpts(),l.push(n)}return l}(e),(function(e){return e._id}));n.enter().append("g").attr("class",(function(e){return e._id})).classed(C.colorbar,!0),n.each((function(n){var r=a.select(this);u.ensureSingle(r,"rect",C.cbbg),u.ensureSingle(r,"g",C.cbfills),u.ensureSingle(r,"g",C.cblines),u.ensureSingle(r,"g",C.cbaxis,(function(e){e.classed(C.crisp,!0)})),u.ensureSingle(r,"g",C.cbtitleunshift,(function(e){e.append("g").classed(C.cbtitle,!0)})),u.ensureSingle(r,"rect",C.cboutline);var b=function drawColorBar(e,n,r){var s=r._fullLayout,c=s._size,f=n._fillcolor,b=n._line,k=n.title,A=k.side,I=n._zrange||a.extent(("function"==typeof f?f:b.color).domain()),N="function"==typeof b.color?b.color:function(){return b.color},M="function"==typeof f?f:function(){return f},E=n._levels,D=function calcLevels(e,n,r){var a,o,i=n._levels,s=[],l=[],c=i.end+i.size/100,u=i.size,d=1.001*r[0]-.001*r[1],p=1.001*r[1]-.001*r[0];for(o=0;o<1e5&&(a=i.start+o*u,!(u>0?a>=c:a<=c));o++)a>d&&a<p&&s.push(a);if(n._fillgradient)l=[0];else if("function"==typeof n._fillcolor){var f=n._filllevels;if(f)for(c=f.end+f.size/100,u=f.size,o=0;o<1e5&&(a=f.start+o*u,!(u>0?a>=c:a<=c));o++)a>r[0]&&a<r[1]&&l.push(a);else(l=s.map((function(e){return e-i.size/2}))).push(l[l.length-1]+i.size)}else n._fillcolor&&"string"==typeof n._fillcolor&&(l=[0]);i.size<0&&(s.reverse(),l.reverse());return{line:s,fill:l}}(0,n,I),j=D.fill,R=D.line,L=Math.round(n.thickness*("fraction"===n.thicknessmode?c.w:1)),z=L/c.w,$=Math.round(n.len*("fraction"===n.lenmode?c.h:1)),B=$/c.h,V=n.xpad/c.w,U=(n.borderwidth+n.outlinewidth)/2,W=n.ypad/c.h,H=Math.round(n.x*c.w+n.xpad),G=n.x-z*({middle:.5,right:1}[n.xanchor]||0),q=n.y+B*(({top:-.5,bottom:.5}[n.yanchor]||0)-.5),K=Math.round(c.h*(1-q)),X=K-$;n._lenFrac=B,n._thickFrac=z,n._xLeftFrac=G,n._yBottomFrac=q;var Y=n._axis=function mockColorBarAxis(e,n,r){var a=e._fullLayout,o={type:"linear",range:r,tickmode:n.tickmode,nticks:n.nticks,tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,showticklabels:n.showticklabels,ticklabelposition:n.ticklabelposition,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,showexponent:n.showexponent,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,title:n.title,showline:!0,anchor:"free",side:"right",position:1},i={type:"linear",_id:"y"+n._id},s={letter:"y",font:a.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:a.calendar};function coerce(e,n){return u.coerce(o,i,w,e,n)}return x(o,i,coerce,s,a),_(o,i,coerce,s),i}(r,n,I);Y.position=n.x+V+z,-1!==["top","bottom"].indexOf(A)&&(Y.title.side=A,Y.titlex=n.x+V,Y.titley=q+("top"===k.side?B-W:W));if(b.color&&"auto"===n.tickmode){Y.tickmode="linear",Y.tick0=E.start;var Z=E.size,J=u.constrain((K-X)/50,4,15)+1,Q=(I[1]-I[0])/((n.nticks||J)*Z);if(Q>1){var ee=Math.pow(10,Math.floor(Math.log(Q)/Math.LN10));Z*=ee*u.roundUp(Q/ee,[2,5,10]),(Math.abs(E.start)/E.size+1e-6)%1<2e-6&&(Y.tick0=0)}Y.dtick=Z}Y.domain=[q+W,q+B-W],Y.setScale(),e.attr("transform",d(Math.round(c.l),Math.round(c.t)));var te,ne=e.select("."+C.cbtitleunshift).attr("transform",d(-Math.round(c.l),-Math.round(c.t))),re=e.select("."+C.cbaxis),ae=0;function drawTitle(a,o){var i={propContainer:Y,propName:n._propPrefix+"title",traceIndex:n._traceIndex,_meta:n._meta,placeholder:s._dfltTitle.colorbar,containerGroup:e.select("."+C.cbtitle)},l="h"===a.charAt(0)?a.substr(1):"h"+a;e.selectAll("."+l+",."+l+"-math-group").remove(),g.draw(r,a,p(i,o||{}))}function drawDummyTitle(){if(-1!==["top","bottom"].indexOf(A)){var e,r=c.l+(n.x+V)*c.w,a=Y.title.font.size;e="top"===A?(1-(q+B-W))*c.h+c.t+3+.75*a:(1-(q+W))*c.h+c.t-3-.25*a,drawTitle(Y._id+"title",{attributes:{x:r,y:e,"text-anchor":"start"}})}}function drawCbTitle(){if(-1===["top","bottom"].indexOf(A)){var e=Y.title.font.size,n=Y._offset+Y._length/2,o=c.l+(Y.position||0)*c.w+("right"===Y.side?10+e*(Y.showticklabels?1:.5):-10-e*(Y.showticklabels?.5:0));drawTitle("h"+Y._id+"title",{avoid:{selection:a.select(r).selectAll("g."+Y._id+"tick"),side:A,offsetLeft:c.l,offsetTop:0,maxShift:s.width},attributes:{x:o,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}function drawAxis(){if(-1!==["top","bottom"].indexOf(A)){var i=e.select("."+C.cbtitle),s=i.select("text"),p=[-n.outlinewidth/2,n.outlinewidth/2],f=i.select(".h"+Y._id+"title-math-group").node(),m=15.6;if(s.node()&&(m=parseInt(s.node().style.fontSize,10)*T),f?(ae=h.bBox(f).height)>m&&(p[1]-=(ae-m)/2):s.node()&&!s.classed(C.jsPlaceholder)&&(ae=h.bBox(s.node()).height),ae){if(ae+=5,"top"===A)Y.domain[1]-=ae/c.h,p[1]*=-1;else{Y.domain[0]+=ae/c.h;var g=y.lineCount(s);p[1]+=(1-g)*m}i.attr("transform",d(p[0],p[1])),Y.setScale()}}e.selectAll("."+C.cbfills+",."+C.cblines).attr("transform",d(0,Math.round(c.h*(1-Y.domain[1])))),re.attr("transform",d(0,Math.round(-c.t)));var x=e.select("."+C.cbfills).selectAll("rect."+C.cbfill).attr("style","").data(j);x.enter().append("rect").classed(C.cbfill,!0).style("stroke","none"),x.exit().remove();var _=I.map(Y.c2p).map(Math.round).sort((function(e,n){return e-n}));x.each((function(e,i){var s=[0===i?I[0]:(j[i]+j[i-1])/2,i===j.length-1?I[1]:(j[i]+j[i+1])/2].map(Y.c2p).map(Math.round);s[1]=u.constrain(s[1]+(s[1]>s[0])?1:-1,_[0],_[1]);var l=a.select(this).attr({x:H,width:Math.max(L,2),y:a.min(s),height:Math.max(a.max(s)-a.min(s),2)});if(n._fillgradient)h.gradient(l,r,n._id,"vertical",n._fillgradient,"fill");else{var c=M(e).replace("e-","");l.attr("fill",o(c).toHexString())}}));var w=e.select("."+C.cblines).selectAll("path."+C.cbline).data(b.color&&b.width?R:[]);w.enter().append("path").classed(C.cbline,!0),w.exit().remove(),w.each((function(e){a.select(this).attr("d","M"+H+","+(Math.round(Y.c2p(e))+b.width/2%1)+"h"+L).call(h.lineGroupStyle,b.width,N(e),b.dash)})),re.selectAll("g."+Y._id+"tick,path").remove();var k=H+L+(n.outlinewidth||0)/2-("outside"===n.ticks?1:0),S=l.calcTicks(Y),O=l.getTickSigns(Y)[2];return l.drawTicks(r,Y,{vals:"inside"===Y.ticks?l.clipEnds(Y,S):S,layer:re,path:l.makeTickPath(Y,k,O),transFn:l.makeTransTickFn(Y)}),l.drawLabels(r,Y,{vals:S,layer:re,transFn:l.makeTransTickLabelFn(Y),labelFns:l.makeLabelFns(Y,k)})}function positionCB(){var a=L+n.outlinewidth/2;if(-1===Y.ticklabelposition.indexOf("inside")&&(a+=h.bBox(re.node()).width),(te=ne.select("text")).node()&&!te.classed(C.jsPlaceholder)){var o,s=ne.select(".h"+Y._id+"title-math-group").node();o=s&&-1!==["top","bottom"].indexOf(A)?h.bBox(s).width:h.bBox(ne.node()).right-H-c.l,a=Math.max(a,o)}var l=2*n.xpad+a+n.borderwidth+n.outlinewidth/2,u=K-X;e.select("."+C.cbbg).attr({x:H-n.xpad-(n.borderwidth+n.outlinewidth)/2,y:X-U,width:Math.max(l,2),height:Math.max(u+2*U,2)}).call(m.fill,n.bgcolor).call(m.stroke,n.bordercolor).style("stroke-width",n.borderwidth),e.selectAll("."+C.cboutline).attr({x:H,y:X+n.ypad+("top"===A?ae:0),width:Math.max(L,2),height:Math.max(u-2*n.ypad-ae,2)}).call(m.stroke,n.outlinecolor).style({fill:"none","stroke-width":n.outlinewidth});var p=({center:.5,right:1}[n.xanchor]||0)*l;e.attr("transform",d(c.l-p,c.t));var f={},g=S[n.yanchor],y=O[n.yanchor];"pixels"===n.lenmode?(f.y=n.y,f.t=u*g,f.b=u*y):(f.t=f.b=0,f.yt=n.y+n.len*g,f.yb=n.y-n.len*y);var b=S[n.xanchor],x=O[n.xanchor];if("pixels"===n.thicknessmode)f.x=n.x,f.l=l*b,f.r=l*x;else{var _=l-L;f.l=_*b,f.r=_*x,f.xl=n.x-n.thickness*b,f.xr=n.x+n.thickness*x}i.autoMargin(r,n._id,f)}return u.syncOrAsync([i.previousPromises,drawDummyTitle,drawAxis,drawCbTitle,i.previousPromises,positionCB],r)}(r,n,e);b&&b.then&&(e._promises||[]).push(b),e._context.edits.colorbarPosition&&function makeEditable(e,n,r){var a,o,i,l=r._fullLayout._size;c.init({element:e.node(),gd:r,prepFn:function(){a=e.attr("transform"),f(e)},moveFn:function(r,s){e.attr("transform",a+d(r,s)),o=c.align(n._xLeftFrac+r/l.w,n._thickFrac,0,1,n.xanchor),i=c.align(n._yBottomFrac-s/l.h,n._lenFrac,0,1,n.yanchor);var u=c.getCursor(o,i,n.xanchor,n.yanchor);f(e,u)},doneFn:function(){if(f(e),void 0!==o&&void 0!==i){var a={};a[n._propPrefix+"x"]=o,a[n._propPrefix+"y"]=i,void 0!==n._traceIndex?s.call("_guiRestyle",r,a,n._traceIndex):s.call("_guiRelayout",r,a)}}})}(r,n,e)})),n.exit().each((function(n){i.autoMargin(e,n._id)})).remove(),n.order()}}},"8df8":function(e,n,r){"use strict";e.exports=isMobile,e.exports.isMobile=isMobile,e.exports.default=isMobile;var a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function isMobile(e){e||(e={});var n=e.ua;if(n||"undefined"==typeof navigator||(n=navigator.userAgent),n&&n.headers&&"string"==typeof n.headers["user-agent"]&&(n=n.headers["user-agent"]),"string"!=typeof n)return!1;var r=e.tablet?o.test(n):a.test(n);return!r&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==n.indexOf("Macintosh")&&-1!==n.indexOf("Safari")&&(r=!0),r}},"8e05":function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("deb3"),c=r("54ef");const u=Object(c.a)({erf_:function erf_(e){let n=Object(i.a)(e,"x","erf");s.b("int32"===n.dtype||"float32"===n.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===n.dtype&&(n=Object(l.a)(n,"float32"));const r={x:n};return a.a.runKernel(o.Y,r)}})},"8f2a":function(e,n,r){"use strict";var a=r("fc26"),o=r("a651"),i=r("d92f"),s=r("27e3"),l=r("5008"),c=r("67c4");e.exports=function colorbarDefaults(e,n,r){var u=o.newContainer(n,"colorbar"),d=e.colorbar||{};function coerce(e,n){return a.coerce(d,u,c,e,n)}var p=coerce("thicknessmode");coerce("thickness","fraction"===p?30/(r.width-r.margin.l-r.margin.r):30);var f=coerce("lenmode");coerce("len","fraction"===f?1:r.height-r.margin.t-r.margin.b),coerce("x"),coerce("xanchor"),coerce("xpad"),coerce("y"),coerce("yanchor"),coerce("ypad"),a.noneOrAll(d,u,["x","y"]),coerce("outlinecolor"),coerce("outlinewidth"),coerce("bordercolor"),coerce("borderwidth"),coerce("bgcolor");var h=coerce("ticklabelposition");i(d,u,coerce,"linear");var m={outerTicks:!1,font:r.font};-1!==h.indexOf("inside")&&(m.bgColor="black"),l(d,u,coerce,"linear",m),s(d,u,coerce,"linear",m),coerce("title.text",r._dfltTitle.colorbar),a.coerceFont(coerce,"title.font",r.font),coerce("title.side")}},"8f38":function(e,n,r){"use strict";var a=r("dfb3");e.exports={bgcolor:{valType:"color",dflt:a.background,role:"style",editType:"plot",description:"Sets the background color of the range slider."},bordercolor:{valType:"color",dflt:a.defaultLine,role:"style",editType:"plot",description:"Sets the border color of the range slider."},borderwidth:{valType:"integer",dflt:0,min:0,role:"style",editType:"plot",description:"Sets the border width of the range slider."},autorange:{valType:"boolean",dflt:!0,role:"style",editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range slider range is","computed in relation to the input data.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1},description:["Sets the range of the range slider.","If not set, defaults to the full xaxis range.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},thickness:{valType:"number",dflt:.15,min:0,max:1,role:"style",editType:"plot",description:["The height of the range slider as a fraction of the","total plot area height."].join(" ")},visible:{valType:"boolean",dflt:!0,role:"info",editType:"calc",description:["Determines whether or not the range slider will be visible.","If visible, perpendicular axes will be set to `fixedrange`"].join(" ")},editType:"calc"}},"8ff1":function(e,n,r){"use strict";e.exports=ScrollBox;var a=r("6e58"),o=r("d115"),i=r("83d1"),s=r("fc26");function ScrollBox(e,n,r){this.gd=e,this.container=n,this.id=r,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}ScrollBox.barWidth=2,ScrollBox.barLength=20,ScrollBox.barRadius=2,ScrollBox.barPad=1,ScrollBox.barColor="#808BA4",ScrollBox.prototype.enable=function enable(e,n,r){var s=this.gd._fullLayout,l=s.width,c=s.height;this.position=e;var u,d,p,f,h=this.position.l,m=this.position.w,g=this.position.t,y=this.position.h,b=this.position.direction,x="down"===b,_="left"===b,w="up"===b,k=m,T=y;x||_||"right"===b||w||(this.position.direction="down",x=!0),x||w?(d=(u=h)+k,x?(p=g,T=(f=Math.min(p+T,c))-p):T=(f=g+T)-(p=Math.max(f-T,0))):(f=(p=g)+T,_?k=(d=h+k)-(u=Math.max(d-k,0)):(u=h,k=(d=Math.min(u+k,l))-u)),this._box={l:u,t:p,w:k,h:T};var S=m>k,O=ScrollBox.barLength+2*ScrollBox.barPad,C=ScrollBox.barWidth+2*ScrollBox.barPad,A=h,I=g+y;I+C>c&&(I=c-C);var N=this.container.selectAll("rect.scrollbar-horizontal").data(S?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(o.fill,ScrollBox.barColor),S?(this.hbar=N.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:A,y:I,width:O,height:C}),this._hbarXMin=A+O/2,this._hbarTranslateMax=k-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var M=y>T,E=ScrollBox.barWidth+2*ScrollBox.barPad,D=ScrollBox.barLength+2*ScrollBox.barPad,j=h+m,R=g;j+E>l&&(j=l-E);var L=this.container.selectAll("rect.scrollbar-vertical").data(M?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-vertical",!0).call(o.fill,ScrollBox.barColor),M?(this.vbar=L.attr({rx:ScrollBox.barRadius,ry:ScrollBox.barRadius,x:j,y:R,width:E,height:D}),this._vbarYMin=R+D/2,this._vbarTranslateMax=T-D):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var z=this.id,$=u-.5,B=M?d+E+.5:d+.5,V=p-.5,U=S?f+C+.5:f+.5,W=s._topdefs.selectAll("#"+z).data(S||M?[0]:[]);if(W.exit().remove(),W.enter().append("clipPath").attr("id",z).append("rect"),S||M?(this._clipRect=W.select("rect").attr({x:Math.floor($),y:Math.floor(V),width:Math.ceil(B)-Math.floor($),height:Math.ceil(U)-Math.floor(V)}),this.container.call(i.setClipUrl,z,this.gd),this.bg.attr({x:h,y:g,width:m,height:y})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),S||M){var H=a.behavior.drag().on("dragstart",(function(){a.event.sourceEvent.preventDefault()})).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(H);var G=a.behavior.drag().on("dragstart",(function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()})).on("drag",this._onBarDrag.bind(this));S&&this.hbar.on(".drag",null).call(G),M&&this.vbar.on(".drag",null).call(G)}this.setTranslate(n,r)},ScrollBox.prototype.disable=function disable(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(i.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},ScrollBox.prototype._onBoxDrag=function _onBoxDrag(){var e=this.translateX,n=this.translateY;this.hbar&&(e-=a.event.dx),this.vbar&&(n-=a.event.dy),this.setTranslate(e,n)},ScrollBox.prototype._onBoxWheel=function _onBoxWheel(){var e=this.translateX,n=this.translateY;this.hbar&&(e+=a.event.deltaY),this.vbar&&(n+=a.event.deltaY),this.setTranslate(e,n)},ScrollBox.prototype._onBarDrag=function _onBarDrag(){var e=this.translateX,n=this.translateY;if(this.hbar){var r=e+this._hbarXMin,o=r+this._hbarTranslateMax;e=(s.constrain(a.event.x,r,o)-r)/(o-r)*(this.position.w-this._box.w)}if(this.vbar){var i=n+this._vbarYMin,l=i+this._vbarTranslateMax;n=(s.constrain(a.event.y,i,l)-i)/(l-i)*(this.position.h-this._box.h)}this.setTranslate(e,n)},ScrollBox.prototype.setTranslate=function setTranslate(e,n){var r=this.position.w-this._box.w,a=this.position.h-this._box.h;if(e=s.constrain(e||0,0,r),n=s.constrain(n||0,0,a),this.translateX=e,this.translateY=n,this.container.call(i.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-n),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+n-.5)}),this.hbar){var o=e/r;this.hbar.call(i.setTranslate,e+o*this._hbarTranslateMax,n)}if(this.vbar){var l=n/a;this.vbar.call(i.setTranslate,e,n+l*this._vbarTranslateMax)}}},9092:function(e,n,r){"use strict";var a=r("1385"),o=Array.isArray;function _extend(e,n,r,i){var s,l,c,u,d,p,f=e[0],h=e.length;if(2===h&&o(f)&&o(e[1])&&0===f.length){if(function primitivesLoopSplice(e,n){var r,a;for(r=0;r<e.length;r++){if(null!==(a=e[r])&&"object"==typeof a)return!1;void 0!==a&&(n[r]=a)}return!0}(e[1],f))return f;f.splice(0,f.length)}for(var m=1;m<h;m++)for(l in s=e[m])c=f[l],u=s[l],i&&o(u)?f[l]=u:n&&u&&(a(u)||(d=o(u)))?(d?(d=!1,p=c&&o(c)?c:[]):p=c&&a(c)?c:{},f[l]=_extend([p,u],n,r,i)):(void 0!==u||r)&&(f[l]=u);return f}n.extendFlat=function(){return _extend(arguments,!1,!1,!1)},n.extendDeep=function(){return _extend(arguments,!0,!1,!1)},n.extendDeepAll=function(){return _extend(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return _extend(arguments,!0,!1,!0)}},"90e3":function(e,n){var r=0,a=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+a).toString(36)}},9103:function(e,n,r){"use strict";var a=r("d115"),o=r("215c").hasColorscale,i=r("4183");e.exports=function handleStyleDefaults(e,n,r,s,l){r("marker.color",s),o(e,"marker")&&i(e,n,l,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",a.defaultLine),o(e,"marker.line")&&i(e,n,l,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),r("selected.marker.color"),r("unselected.marker.color")}},9112:function(e,n,r){var a=r("83ab"),o=r("9bf2"),i=r("5c6c");e.exports=a?function(e,n,r){return o.f(e,n,i(1,r))}:function(e,n,r){return e[n]=r,e}},9117:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({add_:function add_(e,n){let r=Object(s.a)(e,"a","add"),l=Object(s.a)(n,"b","add");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.d,c)}})},9152:function(e,n){n.read=function(e,n,r,a,o){var i,s,l=8*o-a-1,c=(1<<l)-1,u=c>>1,d=-7,p=r?o-1:0,f=r?-1:1,h=e[n+p];for(p+=f,i=h&(1<<-d)-1,h>>=-d,d+=l;d>0;i=256*i+e[n+p],p+=f,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=a;d>0;s=256*s+e[n+p],p+=f,d-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,a),i-=u}return(h?-1:1)*s*Math.pow(2,i-a)},n.write=function(e,n,r,a,o,i){var s,l,c,u=8*i-o-1,d=(1<<u)-1,p=d>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=a?0:i-1,m=a?1:-1,g=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,s=d):(s=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-s))<1&&(s--,c*=2),(n+=s+p>=1?f/c:f*Math.pow(2,1-p))*c>=2&&(s++,c/=2),s+p>=d?(l=0,s=d):s+p>=1?(l=(n*c-1)*Math.pow(2,o),s+=p):(l=n*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;e[r+h]=255&l,h+=m,l/=256,o-=8);for(s=s<<o|l,u+=o;u>0;e[r+h]=255&s,h+=m,s/=256,u-=8);e[r+h-m]|=128*g}},"917a":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({relu_:function relu_(e){const n={x:Object(i.a)(e,"x","relu")};return a.a.runKernel(o.lc,n)}})},"91a3":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({gather_:function gather_(e,n,r=0,s=0){const l={x:Object(i.a)(e,"x","gather"),indices:Object(i.a)(n,"indices","gather","int32")},c={axis:r,batchDims:s};return a.a.runKernel(o.mb,l,c)}})},"91cd":function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("fc26"),s=r("bb71"),l=r("83d1"),c=r("ad62").getModuleCalcData,u=r("3c1c"),d=r("d301"),p=r("73c9"),f=i.ensureSingle;function ensureSingleAndAddDatum(e,n,r){return i.ensureSingle(e,n,r,(function(e){e.datum(r)}))}function plotOne(e,n,r,i,s){for(var u,p,f,h=d.traceLayerClasses,m=e._fullLayout,g=m._modules,y=[],b=[],x=0;x<g.length;x++){var _=(u=g[x]).name,w=o.modules[_].categories;if(w.svg){var k=u.layerName||_+"layer",T=u.plot;f=(p=c(r,T))[0],r=p[1],f.length&&y.push({i:h.indexOf(k),className:k,plotMethod:T,cdModule:f}),w.zoomScale&&b.push("."+k)}}y.sort((function(e,n){return e.i-n.i}));var S=n.plot.selectAll("g.mlayer").data(y,(function(e){return e.className}));if(S.enter().append("g").attr("class",(function(e){return e.className})).classed("mlayer",!0).classed("rangeplot",n.isRangePlot),S.exit().remove(),S.order(),S.each((function(r){var o=a.select(this),c=r.className;r.plotMethod(e,n,r.cdModule,o,i,s),-1===d.clipOnAxisFalseQuery.indexOf("."+c)&&l.setClipUrl(o,n.layerClipId,e)})),m._has("scattergl")&&(u=o.getModule("scattergl"),f=c(r,u)[0],u.plot(e,n,f)),!e._context.staticPlot&&(n._hasClipOnAxisFalse&&(n.clipOnAxisFalseTraces=n.plot.selectAll(d.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var O=n.plot.selectAll(b.join(",")).selectAll(".trace");n.zoomScalePts=O.selectAll("path.point"),n.zoomScaleTxt=O.selectAll(".textpoint")}}function makeSubplotLayer(e,n){var r=n.plotgroup,a=n.id,o=d.layerValue2layerClass[n.xaxis.layer],i=d.layerValue2layerClass[n.yaxis.layer],s=e._fullLayout._hasOnlyLargeSploms;if(n.mainplot){var l=n.mainplotinfo,c=l.plotgroup,p=a+"-x",h=a+"-y";n.gridlayer=l.gridlayer,n.zerolinelayer=l.zerolinelayer,f(l.overlinesBelow,"path",p),f(l.overlinesBelow,"path",h),f(l.overaxesBelow,"g",p),f(l.overaxesBelow,"g",h),n.plot=f(l.overplot,"g",a),f(l.overlinesAbove,"path",p),f(l.overlinesAbove,"path",h),f(l.overaxesAbove,"g",p),f(l.overaxesAbove,"g",h),n.xlines=c.select(".overlines-"+o).select("."+p),n.ylines=c.select(".overlines-"+i).select("."+h),n.xaxislayer=c.select(".overaxes-"+o).select("."+p),n.yaxislayer=c.select(".overaxes-"+i).select("."+h)}else if(s)n.xlines=f(r,"path","xlines-above"),n.ylines=f(r,"path","ylines-above"),n.xaxislayer=f(r,"g","xaxislayer-above"),n.yaxislayer=f(r,"g","yaxislayer-above");else{var m=f(r,"g","layer-subplot");n.shapelayer=f(m,"g","shapelayer"),n.imagelayer=f(m,"g","imagelayer"),n.gridlayer=f(r,"g","gridlayer"),n.zerolinelayer=f(r,"g","zerolinelayer"),f(r,"path","xlines-below"),f(r,"path","ylines-below"),n.overlinesBelow=f(r,"g","overlines-below"),f(r,"g","xaxislayer-below"),f(r,"g","yaxislayer-below"),n.overaxesBelow=f(r,"g","overaxes-below"),n.plot=f(r,"g","plot"),n.overplot=f(r,"g","overplot"),n.xlines=f(r,"path","xlines-above"),n.ylines=f(r,"path","ylines-above"),n.overlinesAbove=f(r,"g","overlines-above"),f(r,"g","xaxislayer-above"),f(r,"g","yaxislayer-above"),n.overaxesAbove=f(r,"g","overaxes-above"),n.xlines=r.select(".xlines-"+o),n.ylines=r.select(".ylines-"+i),n.xaxislayer=r.select(".xaxislayer-"+o),n.yaxislayer=r.select(".yaxislayer-"+i)}s||(ensureSingleAndAddDatum(n.gridlayer,"g",n.xaxis._id),ensureSingleAndAddDatum(n.gridlayer,"g",n.yaxis._id),n.gridlayer.selectAll("g").map((function(e){return e[0]})).sort(u.idSort)),n.xlines.style("fill","none").classed("crisp",!0),n.ylines.style("fill","none").classed("crisp",!0)}function purgeSubplotLayers(e,n){if(e){var r={};for(var o in e.each((function(e){var o=e[0];a.select(this).remove(),removeSubplotExtras(o,n),r[o]=!0})),n._plots)for(var i=n._plots[o].overlays||[],s=0;s<i.length;s++){var l=i[s];r[l.id]&&l.plot.selectAll(".trace").remove()}}}function removeSubplotExtras(e,n){n._draggers.selectAll("g."+e).remove(),n._defs.select("#clip"+n._uid+e+"plot").remove()}n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=d.idRegex,n.attrRegex=d.attrRegex,n.attributes=r("3ff7"),n.layoutAttributes=r("d798"),n.supplyLayoutDefaults=r("8378"),n.transitionAxes=r("0446"),n.finalizeSubplots=function(e,n){var r,a,o,s=n._subplots,l=s.xaxis,c=s.yaxis,p=s.cartesian,f=p.concat(s.gl2d||[]),h={},m={};for(r=0;r<f.length;r++){var g=f[r].split("y");h[g[0]]=1,m["y"+g[1]]=1}for(r=0;r<l.length;r++)h[a=l[r]]||(o=(e[u.id2name(a)]||{}).anchor,d.idRegex.y.test(o)||(o="y"),p.push(a+o),f.push(a+o),m[o]||(m[o]=1,i.pushUnique(c,o)));for(r=0;r<c.length;r++)m[o=c[r]]||(a=(e[u.id2name(o)]||{}).anchor,d.idRegex.x.test(a)||(a="x"),p.push(a+o),f.push(a+o),h[a]||(h[a]=1,i.pushUnique(l,a)));if(!f.length){for(var y in a="",o="",e){if(d.attrRegex.test(y))"x"===y.charAt(0)?(!a||+y.substr(5)<+a.substr(5))&&(a=y):(!o||+y.substr(5)<+o.substr(5))&&(o=y)}a=a?u.name2id(a):"x",o=o?u.name2id(o):"y",l.push(a),c.push(o),p.push(a+o)}},n.plot=function(e,n,r,a){var o,i=e._fullLayout,s=i._subplots.cartesian,l=e.calcdata;if(!Array.isArray(n))for(n=[],o=0;o<l.length;o++)n.push(o);for(o=0;o<s.length;o++){for(var c,u=s[o],d=i._plots[u],p=[],f=0;f<l.length;f++){var h=l[f],m=h[0].trace;m.xaxis+m.yaxis===u&&((-1!==n.indexOf(m.index)||m.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===u&&-1!==["tonextx","tonexty","tonext"].indexOf(m.fill)&&-1===p.indexOf(c)&&p.push(c),p.push(h)),c=h)}plotOne(e,d,p,r,a)}},n.clean=function(e,n,r,a){var o,i,s,l=a._plots||{},c=n._plots||{},d=a._subplots||{};if(a._hasOnlyLargeSploms&&!n._hasOnlyLargeSploms)for(s in l)(o=l[s]).plotgroup&&o.plotgroup.remove();var p=a._has&&a._has("gl"),f=n._has&&n._has("gl");if(p&&!f)for(s in l)(o=l[s])._scene&&o._scene.destroy();if(d.xaxis&&d.yaxis){var h=u.listIds({_fullLayout:a});for(i=0;i<h.length;i++){var m=h[i];n[u.id2name(m)]||a._infolayer.selectAll(".g-"+m+"title").remove()}}var g=a._has&&a._has("cartesian"),y=n._has&&n._has("cartesian");if(g&&!y)purgeSubplotLayers(a._cartesianlayer.selectAll(".subplot"),a),a._defs.selectAll(".axesclip").remove(),delete a._axisConstraintGroups,delete a._axisMatchGroups;else if(d.cartesian)for(i=0;i<d.cartesian.length;i++){var b=d.cartesian[i];if(!c[b]){var x="."+b+",."+b+"-x,."+b+"-y";a._cartesianlayer.selectAll(x).remove(),removeSubplotExtras(b,a)}}},n.drawFramework=function(e){var n=e._fullLayout,r=function makeSubplotData(e){var n,r,a,o,i,s,l=e._fullLayout,c=l._subplots.cartesian,u=c.length,d=[],p=[];for(n=0;n<u;n++){a=c[n],i=(o=l._plots[a]).xaxis,s=o.yaxis;var f=i._mainAxis,h=s._mainAxis,m=f._id+h._id,g=l._plots[m];o.overlays=[],m!==a&&g?(o.mainplot=m,o.mainplotinfo=g,p.push(a)):(o.mainplot=void 0,o.mainplotinfo=void 0,d.push(a))}for(n=0;n<p.length;n++)a=p[n],(o=l._plots[a]).mainplotinfo.overlays.push(o);var y=d.concat(p),b=new Array(u);for(n=0;n<u;n++){a=y[n],i=(o=l._plots[a]).xaxis,s=o.yaxis;var x=[a,i.layer,s.layer,i.overlaying||"",s.overlaying||""];for(r=0;r<o.overlays.length;r++)x.push(o.overlays[r].id);b[n]=x}return b}(e),o=n._cartesianlayer.selectAll(".subplot").data(r,String);o.enter().append("g").attr("class",(function(e){return"subplot "+e[0]})),o.order(),o.exit().call(purgeSubplotLayers,n),o.each((function(r){var o=r[0],i=n._plots[o];i.plotgroup=a.select(this),makeSubplotLayer(e,i),i.draglayer=f(n._draggers,"g",o)}))},n.rangePlot=function(e,n,r){makeSubplotLayer(e,n),plotOne(e,n,r),s.style(e)},n.toSVG=function(e){var n=e._fullLayout._glimages,r=a.select(e).selectAll(".svg-container");r.filter((function(e,n){return n===r.size()-1})).selectAll(".gl-canvas-context, .gl-canvas-focus").each((function canvasToImage(){var e=this,r=e.toDataURL("image/png");n.append("svg:image").attr({xmlns:p.svg,"xlink:href":r,preserveAspectRatio:"none",x:0,y:0,width:e.width,height:e.height})}))},n.updateFx=r("1aea").updateFx},9263:function(e,n,r){"use strict";var a=r("ad6d"),o=r("9f7f"),i=r("5692"),s=RegExp.prototype.exec,l=i("native-string-replace",String.prototype.replace),c=s,u=function(){var e=/a/,n=/b*/g;return s.call(e,"a"),s.call(n,"a"),0!==e.lastIndex||0!==n.lastIndex}(),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(c=function exec(e){var n,r,o,i,c=this,f=d&&c.sticky,h=a.call(c),m=c.source,g=0,y=e;return f&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),y=String(e).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==e[c.lastIndex-1])&&(m="(?: "+m+")",y=" "+y,g++),r=new RegExp("^(?:"+m+")",h)),p&&(r=new RegExp("^"+m+"$(?!\\s)",h)),u&&(n=c.lastIndex),o=s.call(f?r:c,y),f?o?(o.input=o.input.slice(g),o[0]=o[0].slice(g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:u&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),p&&o&&o.length>1&&l.call(o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o}),e.exports=c},"927d":function(e,n,r){"use strict";var a=r("7fb7"),o=r("9845")({editType:"none",description:"Sets the default hover label font used by all traces on the graph."});o.family.dflt=a.HOVERFONT,o.size.dflt=a.HOVERFONTSIZE,e.exports={clickmode:{valType:"flaglist",role:"info",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"],description:["Determines the mode of single click interactions.","*event* is the default value and emits the `plotly_click`","event. In addition this mode emits the `plotly_selected` event","in drag modes *lasso* and *select*, but with no event data attached","(kept for compatibility reasons).","The *select* flag enables selecting single","data points via click. This mode also supports persistent selections,","meaning that pressing Shift while clicking, adds to / subtracts from an","existing selection. *select* with `hovermode`: *x* can be confusing, consider","explicitly setting `hovermode`: *closest* when using this feature.","Selection events are sent accordingly as long as *event* flag is set as well.","When the *event* flag is missing, `plotly_click` and `plotly_selected`","events are not fired."].join(" ")},dragmode:{valType:"enumerated",role:"info",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar",description:["Determines the mode of drag interactions.","*select* and *lasso* apply only to scatter traces with","markers or text. *orbit* and *turntable* apply only to","3D scenes."].join(" ")},hovermode:{valType:"enumerated",role:"info",values:["x","y","closest",!1,"x unified","y unified"],editType:"modebar",description:["Determines the mode of hover interactions.","If *closest*, a single hoverlabel will appear","for the *closest* point within the `hoverdistance`.","If *x* (or *y*), multiple hoverlabels will appear for multiple points","at the *closest* x- (or y-) coordinate within the `hoverdistance`,","with the caveat that no more than one hoverlabel will appear per trace.","If *x unified* (or *y unified*), a single hoverlabel will appear","multiple points at the closest x- (or y-) coordinate within the `hoverdistance`","with the caveat that no more than one hoverlabel will appear per trace.","In this mode, spikelines are enabled by default perpendicular to the specified axis.","If false, hover interactions are disabled.","If `clickmode` includes the *select* flag,","`hovermode` defaults to *closest*.","If `clickmode` lacks the *select* flag,","it defaults to *x* or *y* (depending on the trace's","`orientation` value) for plots based on","cartesian coordinates. For anything else the default","value is *closest*."].join(" ")},hoverdistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data","to add hover labels (-1 means no cutoff, 0 means no looking for data).","This is only a real distance for hovering on point-like objects,","like scatter points. For area-like objects (bars, scatter fills, etc)","hovering is on inside the area and off outside, but these objects","will not supersede hover on point-like objects in case of conflict."].join(" ")},spikedistance:{valType:"integer",min:-1,dflt:20,role:"info",editType:"none",description:["Sets the default distance (in pixels) to look for data to draw","spikelines to (-1 means no cutoff, 0 means no looking for data).","As with hoverdistance, distance does not apply to area-like objects.","In addition, some objects can be hovered on but will not generate","spikelines, such as scatter fills."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"none",description:["Sets the background color of all hover labels on graph"].join(" ")},bordercolor:{valType:"color",role:"style",editType:"none",description:["Sets the border color of all hover labels on graph."].join(" ")},font:o,align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",role:"style",editType:"none",description:["Sets the horizontal alignment of the text content within hover label box.","Has an effect only if the hover label text spans more two or more lines"].join(" ")},namelength:{valType:"integer",min:-1,dflt:15,role:"style",editType:"none",description:["Sets the default length (in number of characters) of the trace name in","the hover labels for all traces. -1 shows the whole name","regardless of length. 0-3 shows the first 0-3 characters, and","an integer >3 will show the whole name if it is less than that","many characters, but if it is longer, will truncate to","`namelength - 3` characters and add an ellipsis."].join(" ")},editType:"none"},selectdirection:{valType:"enumerated",role:"info",values:["h","v","d","any"],dflt:"any",description:["When `dragmode` is set to *select*, this limits the selection of the drag to","horizontal, vertical or diagonal. *h* only allows horizontal selection,","*v* only vertical, *d* only diagonal and *any* sets no limit."].join(" "),editType:"none"}}},9343:function(e,n){e.exports=function invert(e,n){var r=n[0],a=n[1],o=n[2],i=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],p=n[9],f=n[10],h=n[11],m=n[12],g=n[13],y=n[14],b=n[15],x=r*l-a*s,_=r*c-o*s,w=r*u-i*s,k=a*c-o*l,T=a*u-i*l,S=o*u-i*c,O=d*g-p*m,C=d*y-f*m,A=d*b-h*m,I=p*y-f*g,N=p*b-h*g,M=f*b-h*y,E=x*M-_*N+w*I+k*A-T*C+S*O;if(!E)return null;return E=1/E,e[0]=(l*M-c*N+u*I)*E,e[1]=(o*N-a*M-i*I)*E,e[2]=(g*S-y*T+b*k)*E,e[3]=(f*T-p*S-h*k)*E,e[4]=(c*A-s*M-u*C)*E,e[5]=(r*M-o*A+i*C)*E,e[6]=(y*w-m*S-b*_)*E,e[7]=(d*S-f*w+h*_)*E,e[8]=(s*N-l*A+u*O)*E,e[9]=(a*A-r*N-i*O)*E,e[10]=(m*T-g*w+b*x)*E,e[11]=(p*w-d*T-h*x)*E,e[12]=(l*C-s*I-c*O)*E,e[13]=(r*I-a*C+o*O)*E,e[14]=(g*_-m*k-y*x)*E,e[15]=(d*k-p*_+f*x)*E,e}},"93a6":function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26");function getMinKey(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:function recordMinTextSize(e,n,r){if(r.uniformtext.mode){var a=getMinKey(e),o=r.uniformtext.minsize,i=n.scale*n.fontSize;n.hide=i<o,r[a]=r[a]||1/0,n.hide||(r[a]=Math.min(r[a],Math.max(i,o)))}},clearMinTextSize:function clearMinTextSize(e,n){n[getMinKey(e)]=void 0},resizeText:function resizeText(e,n,r){var i=e._fullLayout,s=i["_"+r+"Text_minsize"];if(s){var l,c="hide"===i.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":l="g.slice";break;case"treemap":l="g.slice, g.pathbar";break;default:l="g.points > g.point"}n.selectAll(l).each((function(e){var n=e.transform;n&&(n.scale=c&&n.hide?0:s/n.fontSize,a.select(this).select("text").attr("transform",o.getTextTransform(n)))}))}}}},"93b2":function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var a=r("6ae2"),o=r("a3f7"),i=r("54ef");const s=Object(i.a)({square_:function square_(e){const n=Object(o.a)(e,"x","square");return a.a.runKernel("Square",{x:n},{})}})},"93db":function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({mirrorPad_:function mirrorPad_(e,n,r){s.b("reflect"===r||"symmetric"===r,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${r}.`));const l=Object(i.a)(e,"x","mirrorPad");if(0===l.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");s.b(n.length===l.rank,(()=>`Padding doesn't match input. Must be ${l.rank}. Got ${n.length}.`));const c="reflect"===r?1:0;for(let a=0;a<l.rank;a++)s.b(2===n[a].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),s.b(n[a][0]>=0&&n[a][0]<=l.shape[a]-c&&n[a][1]>=0&&n[a][1]<=l.shape[a]-c,(()=>`Padding in dimension ${a} cannot be greater than or equal to ${l.shape[a]-c} or less than 0 for input of shape ${l.shape}`));const u={paddings:n,mode:r},d={x:l};return a.a.runKernel(o.Rb,d,u)}})},9489:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}]},"94ca":function(e,n,r){var a=r("d039"),o=/#|\.prototype\./,isForced=function(e,n){var r=s[i(e)];return r==c||r!=l&&("function"==typeof n?a(n):!!n)},i=isForced.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=isForced.data={},l=isForced.NATIVE="N",c=isForced.POLYFILL="P";e.exports=isForced},"94d5":function(e,n,r){"use strict";var a=['Variables are inserted using %{variable}, for example "y: %{y}".','Numbers are formatted using d3-format\'s syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".',r("78df").FORMAT_LINK,"for details on the formatting syntax.",'Dates are formatted using d3-time-format\'s syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".',r("78df").DATE_FORMAT_LINK,"for details on the date formatting syntax."].join(" ");function describeVariables(e){var n=e.description?" "+e.description:"",r=e.keys||[];if(r.length>0){for(var a=[],o=0;o<r.length;o++)a[o]="`"+r[o]+"`";n+="Finally, the template string has access to ",n=1===r.length?"variable "+a[0]:"variables "+a.slice(0,-1).join(", ")+" and "+a.slice(-1)+"."}return n}n.hovertemplateAttrs=function(e,n){e=e||{};var r=describeVariables(n=n||{}),o={valType:"string",role:"info",dflt:"",editType:e.editType||"none",description:["Template string used for rendering the information that appear on hover box.","Note that this will override `hoverinfo`.",a,"The variables available in `hovertemplate` are the ones emitted as event data described at this link https://plotly.com/javascript/plotlyjs-events/#event-data.","Additionally, every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r,'Anything contained in tag `<extra>` is displayed in the secondary box, for example "<extra>{fullData.name}</extra>".',"To hide the secondary box completely, use an empty tag `<extra></extra>`."].join(" ")};return!1!==e.arrayOk&&(o.arrayOk=!0),o},n.texttemplateAttrs=function(e,n){e=e||{};var r=describeVariables(n=n||{}),o={valType:"string",role:"info",dflt:"",editType:e.editType||"calc",description:["Template string used for rendering the information text that appear on points.","Note that this will override `textinfo`.",a,"Every attributes that can be specified per-point (the ones that are `arrayOk: true`) are available.",r].join(" ")};return!1!==e.arrayOk&&(o.arrayOk=!0),o}},9547:function(e,n,r){"use strict";e.exports=function doAvg(e,n){for(var r=e.length,a=0,o=0;o<r;o++)n[o]?(e[o]/=n[o],a+=e[o]):e[o]=null;return a}},"958a":function(e,n,r){"use strict";n.manage=r("a9e4")},"960f":function(e,n,r){"use strict";r.d(n,"a",(function(){return tensor1d}));var a=r("a3f7"),o=r("6ad5"),i=r("5959");function tensor1d(e,n){Object(o.d)(e);const r=Object(a.c)(e,n);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Object(i.a)(e,null,r,n)}},9676:function(e,n,r){"use strict";var a=r("6e58"),o=r("66cb"),i=r("1477"),s=r("371e"),l=r("fc26"),c=l.strTranslate,u=r("0379"),d=r("d115"),p=r("83d1"),f=r("a5c4"),h=r("0642"),m=r("0f37"),g=r("4efe"),y=r("e21b"),b=y.selectingOrDrawing,x=y.freeMode,_=r("63dc").FROM_TL,w=r("821b"),k=r("a392").redrawReglTraces,T=r("bb71"),S=r("3c1c").getFromId,O=r("1876").prepSelect,C=r("1876").clearSelect,A=r("1876").selectOnClick,I=r("9759"),N=r("d301"),M=N.MINDRAG,E=N.MINZOOM,D=!0;function makeDragger(e,n,r,a){var o=l.ensureSingle(e.draglayer,n,r,(function(n){n.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",e.id)}));return o.call(m,a),o.node()}function makeRectDragger(e,n,r,o,i,s,l){var c=makeDragger(e,"rect",n,r);return a.select(c).call(p.setRect,o,i,s,l),c}function isDirectionActive(e,n){for(var r=0;r<e.length;r++)if(!e[r].fixedrange)return n;return""}function zoomAxRanges(e,n,r,a,o){for(var i=0;i<e.length;i++){var s=e[i];if(!s.fixedrange)if(s.rangebreaks){var l="y"===s._id.charAt(0),c=l?1-n:n,u=l?1-r:r;a[s._name+".range[0]"]=s.l2r(s.p2l(c*s._length)),a[s._name+".range[1]"]=s.l2r(s.p2l(u*s._length))}else{var d=s._rl[0],p=s._rl[1]-d;a[s._name+".range[0]"]=s.l2r(d+p*n),a[s._name+".range[1]"]=s.l2r(d+p*r)}}if(o&&o.length){var f=(n+(1-r))/2;zoomAxRanges(o,f,1-f,a,[])}}function dragAxList(e,n){for(var r=0;r<e.length;r++){var a=e[r];if(!a.fixedrange)if(a.rangebreaks){var o=a._length,i=(a.p2l(0+n)-a.p2l(0)+(a.p2l(o+n)-a.p2l(o)))/2;a.range=[a.l2r(a._rl[0]-i),a.l2r(a._rl[1]-i)]}else a.range=[a.l2r(a._rl[0]-n/a._m),a.l2r(a._rl[1]-n/a._m)]}}function dZoom(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function makeZoombox(e,n,r,a,o){return e.append("path").attr("class","zoombox").style({fill:n>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",c(r,a)).attr("d",o+"Z")}function makeCorners(e,n,r){return e.append("path").attr("class","zoombox-corners").style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr("transform",c(n,r)).attr("d","M0,0Z")}function updateZoombox(e,n,r,a,o,i){e.attr("d",a+"M"+r.l+","+r.t+"v"+r.h+"h"+r.w+"v-"+r.h+"h-"+r.w+"Z"),transitionZoombox(e,n,o,i)}function transitionZoombox(e,n,r,a){r||(e.transition().style("fill",a>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),n.transition().style("opacity",1).duration(200))}function removeZoombox(e){a.select(e).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function showDoubleClickNotifier(e){D&&e.data&&e._context.showTips&&(l.notifier(l._(e,"Double-click to zoom back out"),"long"),D=!1)}function xyCorners(e){var n=Math.floor(Math.min(e.b-e.t,e.r-e.l,E)/2);return"M"+(e.l-3.5)+","+(e.t-.5+n)+"h3v"+-n+"h"+n+"v-3h-"+(n+3)+"ZM"+(e.r+3.5)+","+(e.t-.5+n)+"h-3v"+-n+"h"+-n+"v-3h"+(n+3)+"ZM"+(e.r+3.5)+","+(e.b+.5-n)+"h-3v"+n+"h"+-n+"v3h"+(n+3)+"ZM"+(e.l-3.5)+","+(e.b+.5-n)+"h3v"+n+"h"+n+"v3h-"+(n+3)+"Z"}function calcLinks(e,n,r,a,o){for(var i,s,c,u,d=!1,p={},f={},h=(o||{}).xaHash,m=(o||{}).yaHash,g=0;g<n.length;g++){var y=n[g];for(i in r)if(y[i]){for(c in y)o&&(h[c]||m[c])||("x"===c.charAt(0)?r:a)[c]||(p[c]=i);for(s in a)o&&(h[s]||m[s])||!y[s]||(d=!0)}for(s in a)if(y[s])for(u in y)o&&(h[u]||m[u])||("x"===u.charAt(0)?r:a)[u]||(f[u]=s)}d&&(l.extendFlat(p,f),f={});var b={},x=[];for(c in p){var _=S(e,c);x.push(_),b[_._id]=_}var w={},k=[];for(u in f){var T=S(e,u);k.push(T),w[T._id]=T}return{xaHash:b,yaHash:w,xaxes:x,yaxes:k,xLinks:p,yLinks:f,isSubplotConstrained:d}}function attachWheelEventHandler(e,n){if(i){var r=void 0!==e.onwheel?"wheel":"mousewheel";e._onwheel&&e.removeEventListener(r,e._onwheel),e._onwheel=n,e.addEventListener(r,n,{passive:!1})}else void 0!==e.onwheel?e.onwheel=n:void 0!==e.onmousewheel?e.onmousewheel=n:e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener("wheel",n,{passive:!1}))}function hashValues(e){var n=[];for(var r in e)n.push(e[r]);return n}e.exports={makeDragBox:function makeDragBox(e,n,r,i,c,d,m,y){var D,j,R,L,z,$,B,V,U,W,H,G,q,K,X,Y,Z,J,Q,ee,te,ne,re,ae=e._fullLayout._zoomlayer,oe=m+y==="nsew",ie=1===(m+y).length;function recomputeAxisLists(){if(D=n.xaxis,j=n.yaxis,U=D._length,W=j._length,B=D._offset,V=j._offset,(R={})[D._id]=D,(L={})[j._id]=j,m&&y)for(var r=n.overlays,a=0;a<r.length;a++){var o=r[a].xaxis;R[o._id]=o;var i=r[a].yaxis;L[i._id]=i}z=hashValues(R),$=hashValues(L),q=isDirectionActive(z,y),K=isDirectionActive($,m),X=!K&&!q,G=calcLinks(e,e._fullLayout._axisMatchGroups,R,L);var s=(H=calcLinks(e,e._fullLayout._axisConstraintGroups,R,L,G)).isSubplotConstrained||G.isSubplotConstrained;Y=y||s,Z=m||s;var l=e._fullLayout;J=l._has("scattergl"),Q=l._has("splom"),ee=l._has("svg")}recomputeAxisLists();var se=function getDragCursor(e,n,r){if(!e)return"pointer";if("nsew"===e)return r?"":"pan"===n?"move":"crosshair";return e.toLowerCase()+"-resize"}(K+q,e._fullLayout.dragmode,oe),le=makeRectDragger(n,m+y+"drag",se,r,i,c,d);if(X&&!oe)return le.onmousedown=null,le.style.pointerEvents="none",le;var ce,ue,de,pe,fe,he,me,ge,ye,be,ve={element:le,gd:e,plotinfo:n};function clearAndResetSelect(){ve.plotinfo.selection=!1,C(e)}function clickFn(e,r){var o=ve.gd;if(o._fullLayout._activeShapeIndex>=0)o._fullLayout._deactivateShape(o);else{var i=o._fullLayout.clickmode;if(removeZoombox(o),2!==e||ie||doubleClick(),oe)i.indexOf("select")>-1&&A(r,o,z,$,n.id,ve),i.indexOf("event")>-1&&f.click(o,r,n.id);else if(1===e&&ie){var l=m?j:D,c="s"===m||"w"===y?0:1,d=l._name+".range["+c+"]",p=function getEndText(e,n){var r,o=e.range[n],i=Math.abs(o-e.range[1-n]);return"date"===e.type?o:"log"===e.type?(r=Math.ceil(Math.max(0,-Math.log(i)/Math.LN10))+3,a.format("."+r+"g")(Math.pow(10,o))):(r=Math.floor(Math.log(Math.abs(o))/Math.LN10)-Math.floor(Math.log(i)/Math.LN10)+4,a.format("."+String(r)+"g")(o))}(l,c),h="left",g="middle";if(l.fixedrange)return;m?(g="n"===m?"top":"bottom","right"===l.side&&(h="right")):"e"===y&&(h="right"),o._context.showAxisRangeEntryBoxes&&a.select(le).call(u.makeEditable,{gd:o,immediate:!0,background:o._fullLayout.paper_bgcolor,text:String(p),fill:l.tickfont?l.tickfont.color:"#444",horizontalAlign:h,verticalAlign:g}).on("edit",(function(e){var n=l.d2r(e);void 0!==n&&s.call("_guiRelayout",o,d,n)}))}}}function zoomMove(n,r){if(e._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(U,ne*n+ce)),o=Math.max(0,Math.min(W,re*r+ue)),i=Math.abs(a-ce),s=Math.abs(o-ue);function noZoom(){me="",de.r=de.l,de.t=de.b,ye.attr("d","M0,0Z")}if(de.l=Math.min(ce,a),de.r=Math.max(ce,a),de.t=Math.min(ue,o),de.b=Math.max(ue,o),H.isSubplotConstrained)i>E||s>E?(me="xy",i/U>s/W?(s=i*W/U,ue>o?de.t=ue-s:de.b=ue+s):(i=s*U/W,ce>a?de.l=ce-i:de.r=ce+i),ye.attr("d",xyCorners(de))):noZoom();else if(G.isSubplotConstrained)if(i>E||s>E){me="xy";var l=Math.min(de.l/U,(W-de.b)/W),c=Math.max(de.r/U,(W-de.t)/W);de.l=l*U,de.r=c*U,de.b=(1-l)*W,de.t=(1-c)*W,ye.attr("d",xyCorners(de))}else noZoom();else!K||s<Math.min(Math.max(.6*i,M),E)?i<M||!q?noZoom():(de.t=0,de.b=W,me="x",ye.attr("d",function xCorners(e,n){return"M"+(e.l-.5)+","+(n-E-.5)+"h-3v"+(2*E+1)+"h3ZM"+(e.r+.5)+","+(n-E-.5)+"h3v"+(2*E+1)+"h-3Z"}(de,ue))):!q||i<Math.min(.6*s,E)?(de.l=0,de.r=U,me="y",ye.attr("d",function yCorners(e,n){return"M"+(n-E-.5)+","+(e.t-.5)+"v-3h"+(2*E+1)+"v3ZM"+(n-E-.5)+","+(e.b+.5)+"v3h"+(2*E+1)+"v-3Z"}(de,ce))):(me="xy",ye.attr("d",xyCorners(de)));de.w=de.r-de.l,de.h=de.b-de.t,me&&(be=!0),e._dragged=be,updateZoombox(ge,ye,de,fe,he,pe),computeZoomUpdates(),e.emit("plotly_relayouting",te),he=!0}function computeZoomUpdates(){te={},"xy"!==me&&"x"!==me||(zoomAxRanges(z,de.l/U,de.r/U,te,H.xaxes),updateMatchedAxRange("x",te)),"xy"!==me&&"y"!==me||(zoomAxRanges($,(W-de.b)/W,(W-de.t)/W,te,H.yaxes),updateMatchedAxRange("y",te))}function zoomDone(){computeZoomUpdates(),removeZoombox(e),dragTail(),showDoubleClickNotifier(e)}ve.prepFn=function(n,r,a){var i=ve.dragmode,s=e._fullLayout.dragmode;s!==i&&(ve.dragmode=s),recomputeAxisLists(),ne=e._fullLayout._invScaleX,re=e._fullLayout._invScaleY,X||(oe?n.shiftKey?"pan"===s?s="zoom":b(s)||(s="pan"):n.ctrlKey&&(s="pan"):s="pan"),x(s)?ve.minDrag=1:ve.minDrag=void 0,b(s)?(ve.xaxes=z,ve.yaxes=$,O(n,r,a,ve,s)):(ve.clickFn=clickFn,b(i)&&clearAndResetSelect(),X||("zoom"===s?(ve.moveFn=zoomMove,ve.doneFn=zoomDone,ve.minDrag=1,function zoomPrep(n,r,a){var i=le.getBoundingClientRect();ce=r-i.left,ue=a-i.top,e._fullLayout._calcInverseTransform(e);var s=l.apply3DTransform(e._fullLayout._invTransform)(ce,ue);ce=s[0],ue=s[1],de={l:ce,r:ce,w:0,t:ue,b:ue,h:0},pe=e._hmpixcount?e._hmlumcount/e._hmpixcount:o(e._fullLayout.plot_bgcolor).getLuminance(),he=!1,me="xy",be=!1,ge=makeZoombox(ae,pe,B,V,fe="M0,0H"+U+"V"+W+"H0V0"),ye=makeCorners(ae,B,V)}(0,r,a)):"pan"===s&&(ve.moveFn=plotDrag,ve.doneFn=dragTail))),e._fullLayout._redrag=function(){var n=e._dragdata;if(n&&n.element===le){var r=e._fullLayout.dragmode;b(r)||(recomputeAxisLists(),updateSubplots([0,0,U,W]),ve.moveFn(n.dx,n.dy))}}},g.init(ve);var xe=[0,0,U,W],_e=null,we=N.REDRAWDELAY,ke=n.mainplot?e._fullLayout._plots[n.mainplot]:n;function plotDrag(n,r){if(n*=ne,r*=re,!e._transitioningWithDuration){if(e._fullLayout._replotting=!0,"ew"===q||"ns"===K){var a=q?-n:0,o=K?-r:0;if(G.isSubplotConstrained){if(q&&K){var i=(n/U-r/W)/2;a=-(n=i*U),o=-(r=-i*W)}K?a=-o*U/W:o=-a*W/U}return q&&(dragAxList(z,n),updateMatchedAxRange("x")),K&&(dragAxList($,r),updateMatchedAxRange("y")),updateSubplots([a,o,U,W]),ticksAndAnnotations(),void e.emit("plotly_relayouting",te)}var s,l,c="w"===q==("n"===K)?1:-1;if(q&&K&&(H.isSubplotConstrained||G.isSubplotConstrained)){var u=(n/U+c*r/W)/2;n=u*U,r=c*u*W}if("w"===q?n=dz(z,0,n):"e"===q?n=dz(z,1,-n):q||(n=0),"n"===K?r=dz($,1,r):"s"===K?r=dz($,0,-r):K||(r=0),s="w"===q?n:0,l="n"===K?r:0,H.isSubplotConstrained&&!G.isSubplotConstrained||G.isSubplotConstrained&&q&&K&&c>0){var d;if(G.isSubplotConstrained||!q&&1===K.length){for(d=0;d<z.length;d++)z[d].range=z[d]._r.slice(),I(z[d],1-r/W);s=(n=r*U/W)/2}if(G.isSubplotConstrained||!K&&1===q.length){for(d=0;d<$.length;d++)$[d].range=$[d]._r.slice(),I($[d],1-n/U);l=(r=n*W/U)/2}}G.isSubplotConstrained&&K||updateMatchedAxRange("x"),G.isSubplotConstrained&&q||updateMatchedAxRange("y");var p=U-n,f=W-r;!G.isSubplotConstrained||q&&K||(q?(l=s?0:n*W/U,f=p*W/U):(s=l?0:r*U/W,p=f*U/W)),updateSubplots([s,l,p,f]),ticksAndAnnotations(),e.emit("plotly_relayouting",te)}function dz(e,n,r){for(var a,o,i=1-n,s=0;s<e.length;s++){var l=e[s];if(!l.fixedrange){a=l,o=l._rl[i]+(l._rl[n]-l._rl[i])/dZoom(r/l._length);var c=l.l2r(o);!1!==c&&void 0!==c&&(l.range[n]=c)}}return a._length*(a._rl[n]-o)/(a._rl[n]-a._rl[i])}}function updateMatchedAxRange(e,n){for(var r=G.isSubplotConstrained?{x:$,y:z}[e]:G[e+"axes"],a=G.isSubplotConstrained?{x:z,y:$}[e]:[],o=0;o<r.length;o++){var i=r[o],s=i._id,l=G.xLinks[s]||G.yLinks[s],c=a[0]||R[l]||L[l];c&&(n?(n[i._name+".range[0]"]=n[c._name+".range[0]"],n[i._name+".range[1]"]=n[c._name+".range[1]"]):i.range=c.range.slice())}}function ticksAndAnnotations(){var n,r=[];function pushActiveAxIds(e){for(n=0;n<e.length;n++)e[n].fixedrange||r.push(e[n]._id)}for(Y&&(pushActiveAxIds(z),pushActiveAxIds(H.xaxes),pushActiveAxIds(G.xaxes)),Z&&(pushActiveAxIds($),pushActiveAxIds(H.yaxes),pushActiveAxIds(G.yaxes)),te={},n=0;n<r.length;n++){var a=r[n],o=S(e,a);h.drawOne(e,o,{skipTitle:!0}),te[o._name+".range[0]"]=o.range[0],te[o._name+".range[1]"]=o.range[1]}h.redrawComponents(e,r)}function doubleClick(){if(!e._transitioningWithDuration){var n=e._context.doubleClick,r=[];q&&(r=r.concat(z)),K&&(r=r.concat($)),G.xaxes&&(r=r.concat(G.xaxes)),G.yaxes&&(r=r.concat(G.yaxes));var a,o,i,l={};if("reset+autosize"===n)for(n="autosize",o=0;o<r.length;o++)if((a=r[o])._rangeInitial&&(a.range[0]!==a._rangeInitial[0]||a.range[1]!==a._rangeInitial[1])||!a._rangeInitial&&!a.autorange){n="reset";break}if("autosize"===n)for(o=0;o<r.length;o++)(a=r[o]).fixedrange||(l[a._name+".autorange"]=!0);else if("reset"===n)for((q||H.isSubplotConstrained)&&(r=r.concat(H.xaxes)),K&&!H.isSubplotConstrained&&(r=r.concat(H.yaxes)),H.isSubplotConstrained&&(q?K||(r=r.concat($)):r=r.concat(z)),o=0;o<r.length;o++)(a=r[o]).fixedrange||(a._rangeInitial?(i=a._rangeInitial,l[a._name+".range[0]"]=i[0],l[a._name+".range[1]"]=i[1]):l[a._name+".autorange"]=!0);e.emit("plotly_doubleclick",null),s.call("_guiRelayout",e,l)}}function dragTail(){updateSubplots([0,0,U,W]),l.syncOrAsync([T.previousPromises,function(){e._fullLayout._replotting=!1,s.call("_guiRelayout",e,te)}],e)}function updateSubplots(n){var r,a,o,i,c=e._fullLayout,u=c._plots,d=c._subplots.cartesian;if(Q&&s.subplotsRegistry.splom.drag(e),J)for(r=0;r<d.length;r++)if(o=(a=u[d[r]]).xaxis,i=a.yaxis,a._scene){var f=l.simpleMap(o.range,o.r2l),h=l.simpleMap(i.range,i.r2l);a._scene.update({range:[f[0],h[0],f[1],h[1]]})}if((Q||J)&&(w(e),k(e)),ee){var g=n[2]/D._length,b=n[3]/j._length;for(r=0;r<d.length;r++){o=(a=u[d[r]]).xaxis,i=a.yaxis;var x,_,T,S,O=(Y||G.isSubplotConstrained)&&!o.fixedrange&&R[o._id],C=(Z||G.isSubplotConstrained)&&!i.fixedrange&&L[i._id];if(O?(x=g,T=y||G.isSubplotConstrained?n[0]:getShift(o,x)):G.xaHash[o._id]?(x=g,T=n[0]*o._length/D._length):G.yaHash[o._id]?(x=b,T="ns"===K?-n[1]*o._length/j._length:getShift(o,x,{n:"top",s:"bottom"}[K])):T=scaleAndGetShift(o,x=getLinkedScaleFactor(o,g,b)),C?(_=b,S=m||G.isSubplotConstrained?n[1]:getShift(i,_)):G.yaHash[i._id]?(_=b,S=n[1]*i._length/j._length):G.xaHash[i._id]?(_=g,S="ew"===q?-n[0]*i._length/D._length:getShift(i,_,{e:"right",w:"left"}[q])):S=scaleAndGetShift(i,_=getLinkedScaleFactor(i,g,b)),x||_){x||(x=1),_||(_=1);var A=o._offset-T/x,I=i._offset-S/_;a.clipRect.call(p.setTranslate,T,S).call(p.setScale,x,_),a.plot.call(p.setTranslate,A,I).call(p.setScale,1/x,1/_),x===a.xScaleFactor&&_===a.yScaleFactor||(p.setPointGroupScale(a.zoomScalePts,x,_),p.setTextPointsScale(a.zoomScaleTxt,x,_)),p.hideOutsideRangePoints(a.clipOnAxisFalseTraces,a),a.xScaleFactor=x,a.yScaleFactor=_}}}}function getLinkedScaleFactor(e,n,r){return e.fixedrange?0:Y&&H.xaHash[e._id]?n:Z&&(H.isSubplotConstrained?H.xaHash:H.yaHash)[e._id]?r:0}function scaleAndGetShift(e,n){return n?(e.range=e._r.slice(),I(e,n),getShift(e,n)):0}function getShift(e,n,r){return e._length*(1-n)*_[r||e.constraintoward||"middle"]}return m.length*y.length!=1&&attachWheelEventHandler(le,(function zoomWheel(n){if(e._context._scrollZoom.cartesian||e._fullLayout._enablescrollzoom){if(clearAndResetSelect(),e._transitioningWithDuration)return n.preventDefault(),void n.stopPropagation();recomputeAxisLists(),clearTimeout(_e);var r=-n.deltaY;if(isFinite(r)||(r=n.wheelDelta/10),isFinite(r)){var a,o=Math.exp(-Math.min(Math.max(r,-20),20)/200),i=ke.draglayer.select(".nsewdrag").node().getBoundingClientRect(),s=(n.clientX-i.left)/i.width,c=(i.bottom-n.clientY)/i.height;if(Y){for(y||(s=.5),a=0;a<z.length;a++)zoomWheelOneAxis(z[a],s,o);updateMatchedAxRange("x"),xe[2]*=o,xe[0]+=xe[2]*s*(1/o-1)}if(Z){for(m||(c=.5),a=0;a<$.length;a++)zoomWheelOneAxis($[a],c,o);updateMatchedAxRange("y"),xe[3]*=o,xe[1]+=xe[3]*(1-c)*(1/o-1)}updateSubplots(xe),ticksAndAnnotations(),e.emit("plotly_relayouting",te),_e=setTimeout((function(){xe=[0,0,U,W],dragTail()}),we),n.preventDefault()}else l.log("Did not find wheel motion attributes: ",n)}function zoomWheelOneAxis(e,n,r){if(!e.fixedrange){var a=l.simpleMap(e.range,e.r2l),o=a[0]+(a[1]-a[0])*n;e.range=a.map((function doZoom(n){return e.l2r(o+(n-o)*r)}))}}})),le},makeDragger:makeDragger,makeRectDragger:makeRectDragger,makeZoombox:makeZoombox,makeCorners:makeCorners,updateZoombox:updateZoombox,xyCorners:xyCorners,transitionZoombox:transitionZoombox,removeZoombox:removeZoombox,showDoubleClickNotifier:showDoubleClickNotifier,attachWheelEventHandler:attachWheelEventHandler}},"96cf":function(e,n,r){var a=function(e){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function define(e,n,r){return Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{define({},"")}catch(b){define=function(e,n,r){return e[n]=r}}function wrap(e,n,r,a){var o=n&&n.prototype instanceof Generator?n:Generator,i=Object.create(o.prototype),s=new Context(a||[]);return i._invoke=function makeInvokeMethod(e,n,r){var a=c;return function invoke(o,i){if(a===d)throw new Error("Generator is already running");if(a===p){if("throw"===o)throw i;return doneResult()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var l=maybeInvokeDelegate(s,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===c)throw a=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=d;var h=tryCatch(e,n,r);if("normal"===h.type){if(a=r.done?p:u,h.arg===f)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(a=p,r.method="throw",r.arg=h.arg)}}}(e,r,s),i}function tryCatch(e,n,r){try{return{type:"normal",arg:e.call(n,r)}}catch(b){return{type:"throw",arg:b}}}e.wrap=wrap;var c="suspendedStart",u="suspendedYield",d="executing",p="completed",f={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var h={};h[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(values([])));g&&g!==r&&a.call(g,i)&&(h=g);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(h);function defineIteratorMethods(e){["next","throw","return"].forEach((function(n){define(e,n,(function(e){return this._invoke(n,e)}))}))}function AsyncIterator(e,n){function invoke(r,o,i,s){var l=tryCatch(e[r],e,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==typeof u&&a.call(u,"__await")?n.resolve(u.__await).then((function(e){invoke("next",e,i,s)}),(function(e){invoke("throw",e,i,s)})):n.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return invoke("throw",e,i,s)}))}s(l.arg)}var r;this._invoke=function enqueue(e,a){function callInvokeWithMethodAndArg(){return new n((function(n,r){invoke(e,a,n,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,r){var a=e.iterator[r.method];if(a===n){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=n,maybeInvokeDelegate(e,r),"throw"===r.method))return f;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=tryCatch(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,f;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=n),r.delegate=null,f):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,f)}function pushTryEntry(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function resetTryEntry(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function next(){for(;++o<e.length;)if(a.call(e,o))return next.value=e[o],next.done=!1,next;return next.value=n,next.done=!0,next};return s.next=s}}return{next:doneResult}}function doneResult(){return{value:n,done:!0}}return GeneratorFunction.prototype=y.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName=define(GeneratorFunctionPrototype,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===GeneratorFunction||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,define(e,l,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[s]=function(){return this},e.AsyncIterator=AsyncIterator,e.async=function(n,r,a,o,i){void 0===i&&(i=Promise);var s=new AsyncIterator(wrap(n,r,a,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},defineIteratorMethods(y),define(y,l,"Generator"),y[i]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var n=[];for(var r in e)n.push(r);return n.reverse(),function next(){for(;n.length;){var r=n.pop();if(r in e)return next.value=r,next.done=!1,next}return next.done=!0,next}},e.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(resetTryEntry),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function handle(a,o){return s.type="throw",s.arg=e,r.next=a,o&&(r.method="next",r.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return handle("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0);if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return handle(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return handle(i.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=n,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,a){return this.delegate={iterator:values(e),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=n),f}},e}(e.exports);try{regeneratorRuntime=a}catch(o){Function("r","regeneratorRuntime = r")(a)}},9748:function(e,n,r){"use strict";r.d(n,"a",(function(){return p}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("deb3"),c=r("b818"),u=r("54ef"),d=r("35c9");const p=Object(u.a)({avgPool_:function avgPool_(e,n,r,u,p){const f=Object(i.a)(e,"x","avgPool","float32");s.b(c.h(r,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${r} and dilations '1'`));let h=f,m=!1;3===f.rank&&(m=!0,h=Object(d.a)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),s.b(4===h.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${h.rank}.`)),null!=p&&s.b(s.v(u),(()=>`Error in avgPool: pad must be an integer when using, dimRoundingMode ${p} but got pad ${u}.`));const g={x:h},y={filterSize:n,strides:r,pad:u,dimRoundingMode:p};let b=a.a.runKernel(o.o,g,y);return b=Object(l.a)(b,f.dtype),m?Object(d.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},9759:function(e,n,r){"use strict";var a=r("63dc").FROM_BL;e.exports=function scaleZoom(e,n,r){void 0===r&&(r=a[e.constraintoward||"center"]);var o=[e.r2l(e.range[0]),e.r2l(e.range[1])],i=o[0]+(o[1]-o[0])*r;e.range=e._input.range=[e.l2r(i+(o[0]-i)*n),e.l2r(i+(o[1]-i)*n)],e.setScale()}},9778:function(e,n,r){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:r("e827"),supplyLayoutDefaults:r("e813"),draw:r("43d9"),style:r("ee77")}},9845:function(e,n,r){"use strict";e.exports=function(e){var n=e.editType,r=e.colorEditType;void 0===r&&(r=n);var a={family:{valType:"string",role:"style",noBlank:!0,strict:!0,editType:n,description:["HTML font family - the typeface that will be applied by the web browser.","The web browser will only be able to apply a font if it is available on the system","which it operates. Provide multiple font families, separated by commas, to indicate","the preference in which to apply fonts if they aren't available on the system.","The Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise) generates images on a server,","where only a select number of","fonts are installed and supported.","These include *Arial*, *Balto*, *Courier New*, *Droid Sans*,, *Droid Serif*,","*Droid Sans Mono*, *Gravitas One*, *Old Standard TT*, *Open Sans*, *Overpass*,","*PT Sans Narrow*, *Raleway*, *Times New Roman*."].join(" ")},size:{valType:"number",role:"style",min:1,editType:n},color:{valType:"color",role:"style",editType:r},editType:n,description:""+(e.description||"")};return e.arrayOk&&(a.family.arrayOk=!0,a.size.arrayOk=!0,a.color.arrayOk=!0),a}},9847:function(e,n,r){"use strict";r.d(n,"a",(function(){return a}));const a={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},9935:function(e,n,r){var a=r("c14d");e.exports=function Intersecter(e,n,r){function segmentCopy(e,n,a){return{id:r?r.segmentId():-1,start:e,end:n,myFill:{above:a.myFill.above,below:a.myFill.below},otherFill:null}}var o=a.create();function eventAdd(e,r){o.insertBefore(e,(function(a){return function eventCompare(e,r,a,o,i,s){var l=n.pointsCompare(r,i);return 0!==l?l:n.pointsSame(a,s)?0:e!==o?e?1:-1:n.pointAboveOrOnLine(a,o?i:s,o?s:i)?1:-1}(e.isStart,e.pt,r,a.isStart,a.pt,a.other.pt)<0}))}function eventAddSegment(e,n){var r=function eventAddSegmentStart(e,n){var r=a.node({isStart:!0,pt:e.start,seg:e,primary:n,other:null,status:null});return eventAdd(r,e.end),r}(e,n);return function eventAddSegmentEnd(e,n,r){var o=a.node({isStart:!1,pt:n.end,seg:n,primary:r,other:e,status:null});e.other=o,eventAdd(o,e.pt)}(r,e,n),r}function eventDivide(e,n){var a=segmentCopy(n,e.seg.end,e.seg);return function eventUpdateEnd(e,n){r&&r.segmentChop(e.seg,n),e.other.remove(),e.seg.end=n,e.other.pt=n,eventAdd(e.other,e.pt)}(e,n),eventAddSegment(a,e.primary)}function calculate(i,s){var l=a.create();function statusFindSurrounding(e){return l.findTransition((function(r){return function statusCompare(e,r){var a=e.seg.start,o=e.seg.end,i=r.seg.start,s=r.seg.end;return n.pointsCollinear(a,i,s)?n.pointsCollinear(o,i,s)||n.pointAboveOrOnLine(o,i,s)?1:-1:n.pointAboveOrOnLine(a,i,s)?1:-1}(e,r.ev)>0}))}function checkIntersection(e,a){var o=e.seg,i=a.seg,s=o.start,l=o.end,c=i.start,u=i.end;r&&r.checkIntersection(o,i);var d=n.linesIntersect(s,l,c,u);if(!1===d){if(!n.pointsCollinear(s,l,c))return!1;if(n.pointsSame(s,u)||n.pointsSame(l,c))return!1;var p=n.pointsSame(s,c),f=n.pointsSame(l,u);if(p&&f)return a;var h=!p&&n.pointBetween(s,c,u),m=!f&&n.pointBetween(l,c,u);if(p)return m?eventDivide(a,l):eventDivide(e,u),a;h&&(f||(m?eventDivide(a,l):eventDivide(e,u)),eventDivide(a,s))}else 0===d.alongA&&(-1===d.alongB?eventDivide(e,c):0===d.alongB?eventDivide(e,d.pt):1===d.alongB&&eventDivide(e,u)),0===d.alongB&&(-1===d.alongA?eventDivide(a,s):0===d.alongA?eventDivide(a,d.pt):1===d.alongA&&eventDivide(a,l));return!1}for(var c=[];!o.isEmpty();){var u=o.getHead();if(r&&r.vert(u.pt[0]),u.isStart){r&&r.segmentNew(u.seg,u.primary);var d=statusFindSurrounding(u),p=d.before?d.before.ev:null,f=d.after?d.after.ev:null;function checkBothIntersections(){if(p){var e=checkIntersection(u,p);if(e)return e}return!!f&&checkIntersection(u,f)}r&&r.tempStatus(u.seg,!!p&&p.seg,!!f&&f.seg);var h,m=checkBothIntersections();if(m){var g;if(e)(g=null===u.seg.myFill.below||u.seg.myFill.above!==u.seg.myFill.below)&&(m.seg.myFill.above=!m.seg.myFill.above);else m.seg.otherFill=u.seg.myFill;r&&r.segmentUpdate(m.seg),u.other.remove(),u.remove()}if(o.getHead()!==u){r&&r.rewind(u.seg);continue}if(e)g=null===u.seg.myFill.below||u.seg.myFill.above!==u.seg.myFill.below,u.seg.myFill.below=f?f.seg.myFill.above:i,u.seg.myFill.above=g?!u.seg.myFill.below:u.seg.myFill.below;else if(null===u.seg.otherFill)h=f?u.primary===f.primary?f.seg.otherFill.above:f.seg.myFill.above:u.primary?s:i,u.seg.otherFill={above:h,below:h};r&&r.status(u.seg,!!p&&p.seg,!!f&&f.seg),u.other.status=d.insert(a.node({ev:u}))}else{var y=u.status;if(null===y)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(y.prev)&&l.exists(y.next)&&checkIntersection(y.prev.ev,y.next.ev),r&&r.statusRemove(y.ev.seg),y.remove(),!u.primary){var b=u.seg.myFill;u.seg.myFill=u.seg.otherFill,u.seg.otherFill=b}c.push(u.seg)}o.getHead().remove()}return r&&r.done(),c}return e?{addRegion:function(e){for(var a,o,i,s=e[e.length-1],l=0;l<e.length;l++){a=s,s=e[l];var c=n.pointsCompare(a,s);0!==c&&eventAddSegment((o=c<0?a:s,i=c<0?s:a,{id:r?r.segmentId():-1,start:o,end:i,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(e){return calculate(e,!1)}}:{calculate:function(e,n,r,a){return e.forEach((function(e){eventAddSegment(segmentCopy(e.start,e.end,e),!0)})),r.forEach((function(e){eventAddSegment(segmentCopy(e.start,e.end,e),!1)})),calculate(n,a)}}}},9969:function(e,n){e.exports=function rotate(e,n,r,a){var o,i,s,l,c,u,d,p,f,h,m,g,y,b,x,_,w,k,T,S,O,C,A,I,N=a[0],M=a[1],E=a[2],D=Math.sqrt(N*N+M*M+E*E);if(Math.abs(D)<1e-6)return null;N*=D=1/D,M*=D,E*=D,o=Math.sin(r),i=Math.cos(r),s=1-i,l=n[0],c=n[1],u=n[2],d=n[3],p=n[4],f=n[5],h=n[6],m=n[7],g=n[8],y=n[9],b=n[10],x=n[11],_=N*N*s+i,w=M*N*s+E*o,k=E*N*s-M*o,T=N*M*s-E*o,S=M*M*s+i,O=E*M*s+N*o,C=N*E*s+M*o,A=M*E*s-N*o,I=E*E*s+i,e[0]=l*_+p*w+g*k,e[1]=c*_+f*w+y*k,e[2]=u*_+h*w+b*k,e[3]=d*_+m*w+x*k,e[4]=l*T+p*S+g*O,e[5]=c*T+f*S+y*O,e[6]=u*T+h*S+b*O,e[7]=d*T+m*S+x*O,e[8]=l*C+p*A+g*I,e[9]=c*C+f*A+y*I,e[10]=u*C+h*A+b*I,e[11]=d*C+m*A+x*I,n!==e&&(e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]);return e}},"9bf2":function(e,n,r){var a=r("83ab"),o=r("0cfb"),i=r("825a"),s=r("c04ea"),l=Object.defineProperty;n.f=a?l:function defineProperty(e,n,r){if(i(e),n=s(n,!0),i(r),o)try{return l(e,n,r)}catch(a){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[n]=r.value),e}},"9c5f":function(e,n,r){"use strict";var a=r("9845"),o=r("82b5"),i=r("9092").extendDeepAll,s=r("cb34").overrideAll,l=r("5b68"),c=r("a651").templatedArray,u=r("e639"),d=c("step",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not this step is included in the slider."].join(" ")},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle",role:"info",description:["Sets the Plotly method to be called when the slider value is changed.","If the `skip` method is used, the API slider will function as normal","but will perform no API calls and will not bind automatically to state","updates. This may be used to create a component interface and attach to","slider events manually via JavaScript."].join(" ")},args:{valType:"info_array",role:"info",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}],description:["Sets the arguments values to be passed to the Plotly","method set in `method` on slide."].join(" ")},label:{valType:"string",role:"info",description:"Sets the text label to appear on the slider"},value:{valType:"string",role:"info",description:["Sets the value of the slider step, used to refer to the step programatically.","Defaults to the slider label if not provided."].join(" ")},execute:{valType:"boolean",role:"info",dflt:!0,description:["When true, the API method is executed. When false, all other behaviors are the same","and command execution is skipped. This may be useful when hooking into, for example,","the `plotly_sliderchange` method and executing the API command manually without losing","the benefit of the slider automatically binding to the state of the plot through the","specification of `method` and `args`."].join(" ")}});e.exports=s(c("slider",{visible:{valType:"boolean",role:"info",dflt:!0,description:["Determines whether or not the slider is visible."].join(" ")},active:{valType:"number",role:"info",min:0,dflt:0,description:["Determines which button (by index starting from 0) is","considered active."].join(" ")},steps:d,lenmode:{valType:"enumerated",values:["fraction","pixels"],role:"info",dflt:"fraction",description:["Determines whether this slider length","is set in units of plot *fraction* or in *pixels.","Use `len` to set the value."].join(" ")},len:{valType:"number",min:0,dflt:1,role:"style",description:["Sets the length of the slider","This measure excludes the padding of both ends.","That is, the slider's length is this length minus the","padding on both ends."].join(" ")},x:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the x position (in normalized coordinates) of the slider."},pad:i(o({editType:"arraydraw"}),{description:"Set the padding of the slider component along each side."},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",description:["Sets the slider's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,dflt:0,role:"style",description:"Sets the y position (in normalized coordinates) of the slider."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top",role:"info",description:["Sets the slider's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},transition:{duration:{valType:"number",role:"info",min:0,dflt:150,description:"Sets the duration of the slider transition"},easing:{valType:"enumerated",values:l.transition.easing.values,role:"info",dflt:"cubic-in-out",description:"Sets the easing function of the slider transition"}},currentvalue:{visible:{valType:"boolean",role:"info",dflt:!0,description:["Shows the currently-selected value above the slider."].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",description:["The alignment of the value readout relative to the length of the slider."].join(" ")},offset:{valType:"number",dflt:10,role:"info",description:["The amount of space, in pixels, between the current value label","and the slider."].join(" ")},prefix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the prefix of the label."},suffix:{valType:"string",role:"info",description:"When currentvalue.visible is true, this sets the suffix of the label."},font:a({description:"Sets the font of the current value label text."})},font:a({description:"Sets the font of the slider step labels."}),activebgcolor:{valType:"color",role:"style",dflt:u.gripBgActiveColor,description:["Sets the background color of the slider grip","while dragging."].join(" ")},bgcolor:{valType:"color",role:"style",dflt:u.railBgColor,description:"Sets the background color of the slider."},bordercolor:{valType:"color",dflt:u.railBorderColor,role:"style",description:"Sets the color of the border enclosing the slider."},borderwidth:{valType:"number",min:0,dflt:u.railBorderWidth,role:"style",description:"Sets the width (in px) of the border enclosing the slider."},ticklen:{valType:"number",min:0,dflt:u.tickLength,role:"style",description:"Sets the length in pixels of step tick marks"},tickcolor:{valType:"color",dflt:u.tickColor,role:"style",description:"Sets the color of the border enclosing the slider."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",description:"Sets the tick width (in px)."},minorticklen:{valType:"number",min:0,dflt:u.minorTickLength,role:"style",description:"Sets the length in pixels of minor step tick marks"}}),"arraydraw","from-root")},"9ca2":function(e,n){e.exports=function scale(e,n,r){var a=r[0],o=r[1],i=r[2];return e[0]=n[0]*a,e[1]=n[1]*a,e[2]=n[2]*a,e[3]=n[3]*a,e[4]=n[4]*o,e[5]=n[5]*o,e[6]=n[6]*o,e[7]=n[7]*o,e[8]=n[8]*i,e[9]=n[9]*i,e[10]=n[10]*i,e[11]=n[11]*i,e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],e}},"9cf1":function(e,n,r){"use strict";var a=r("e806"),o=a.BADNUM,i=a.LOG_CLIP,s=i+.5,l=i-.5,c=r("fc26"),u=c.segmentsIntersect,d=c.constrain,p=r("de69");e.exports=function linePoints(e,n){var r,a,i,f,h,m,g,y,b,x,_,w,k,T,S,O,C,A,I=n.xaxis,N=n.yaxis,M="log"===I.type,E="log"===N.type,D=I._length,j=N._length,R=n.connectGaps,L=n.baseTolerance,z=n.shape,$="linear"===z,B=n.fill&&"none"!==n.fill,V=[],U=p.minTolerance,W=e.length,H=new Array(W),G=0;function getPt(r){var a=e[r];if(!a)return!1;var i=n.linearized?I.l2p(a.x):I.c2p(a.x),c=n.linearized?N.l2p(a.y):N.c2p(a.y);if(i===o){if(M&&(i=I.c2p(a.x,!0)),i===o)return!1;E&&c===o&&(i*=Math.abs(I._m*j*(I._m>0?s:l)/(N._m*D*(N._m>0?s:l)))),i*=1e3}if(c===o){if(E&&(c=N.c2p(a.y,!0)),c===o)return!1;c*=1e3}return[i,c]}function crossesViewport(e,n,r,a){var o=r-e,i=a-n,s=.5-e,l=.5-n,c=o*o+i*i,u=o*s+i*l;if(u>0&&u<c){var d=s*i-l*o;if(d*d<c)return!0}}function getTolerance(e,n){var r=e[0]/D,a=e[1]/j,o=Math.max(0,-r,r-1,-a,a-1);return o&&void 0!==C&&crossesViewport(r,a,C,A)&&(o=0),o&&n&&crossesViewport(r,a,n[0]/D,n[1]/j)&&(o=0),(1+p.toleranceGrowth*o)*L}function ptDist(e,n){var r=e[0]-n[0],a=e[1]-n[1];return Math.sqrt(r*r+a*a)}var q,K,X,Y,Z,J,Q,ee=p.maxScreensAway,te=-D*ee,ne=D*(1+ee),re=-j*ee,ae=j*(1+ee),oe=[[te,re,ne,re],[ne,re,ne,ae],[ne,ae,te,ae],[te,ae,te,re]];function onlyConstrainedPoint(e){if(e[0]<te||e[0]>ne||e[1]<re||e[1]>ae)return[d(e[0],te,ne),d(e[1],re,ae)]}function sameEdge(e,n){return e[0]===n[0]&&(e[0]===te||e[0]===ne)||(e[1]===n[1]&&(e[1]===re||e[1]===ae)||void 0)}function getABAEdgeIntersections(e,n,r){return function(a,o){var i=onlyConstrainedPoint(a),s=onlyConstrainedPoint(o),l=[];if(i&&s&&sameEdge(i,s))return l;i&&l.push(i),s&&l.push(s);var u=2*c.constrain((a[e]+o[e])/2,n,r)-((i||a)[e]+(s||o)[e]);u&&((i&&s?u>0==i[e]>s[e]?i:s:i||s)[e]+=u);return l}}function updateEdge(e){var n=e[0],r=e[1],a=n===H[G-1][0],o=r===H[G-1][1];if(!a||!o)if(G>1){var i=n===H[G-2][0],s=r===H[G-2][1];a&&(n===te||n===ne)&&i?s?G--:H[G-1]=e:o&&(r===re||r===ae)&&s?i?G--:H[G-1]=e:H[G++]=e}else H[G++]=e}function updateEdgesForReentry(e){H[G-1][0]!==e[0]&&H[G-1][1]!==e[1]&&updateEdge([X,Y]),updateEdge(e),Z=null,X=Y=0}function addPt(e){if(C=e[0]/D,A=e[1]/j,q=e[0]<te?te:e[0]>ne?ne:0,K=e[1]<re?re:e[1]>ae?ae:0,q||K){if(G)if(Z){var n=Q(Z,e);n.length>1&&(updateEdgesForReentry(n[0]),H[G++]=n[1])}else J=Q(H[G-1],e)[0],H[G++]=J;else H[G++]=[q||e[0],K||e[1]];var r=H[G-1];q&&K&&(r[0]!==q||r[1]!==K)?(Z&&(X!==q&&Y!==K?updateEdge(X&&Y?function getClosestCorner(e,n){var r=n[0]-e[0],a=(n[1]-e[1])/r;return(e[1]*n[0]-n[1]*e[0])/r>0?[a>0?te:ne,ae]:[a>0?ne:te,re]}(Z,e):[X||q,Y||K]):X&&Y&&updateEdge([X,Y])),updateEdge([q,K])):X-q&&Y-K&&updateEdge([q||X,K||Y]),Z=e,X=q,Y=K}else Z&&updateEdgesForReentry(Q(Z,e)[0]),H[G++]=e}for("linear"===z||"spline"===z?Q=function getLinearEdgeIntersections(e,n){for(var r=[],a=0,o=0;o<4;o++){var i=oe[o],s=u(e[0],e[1],n[0],n[1],i[0],i[1],i[2],i[3]);s&&(!a||Math.abs(s.x-r[0][0])>1||Math.abs(s.y-r[0][1])>1)&&(s=[s.x,s.y],a&&ptDist(s,e)<ptDist(r[0],e)?r.unshift(s):r.push(s),a++)}return r}:"hv"===z||"vh"===z?Q=function getHVEdgeIntersections(e,n){var r=[],a=onlyConstrainedPoint(e),o=onlyConstrainedPoint(n);return a&&o&&sameEdge(a,o)||(a&&r.push(a),o&&r.push(o)),r}:"hvh"===z?Q=getABAEdgeIntersections(0,te,ne):"vhv"===z&&(Q=getABAEdgeIntersections(1,re,ae)),r=0;r<W;r++)if(a=getPt(r)){for(G=0,Z=null,addPt(a),r++;r<W;r++){if(!(f=getPt(r))){if(R)continue;break}if($&&n.simplify){var ie=getPt(r+1);if(x=ptDist(f,a),B&&(0===G||G===W-1)||!(x<getTolerance(f,ie)*U)){for(y=[(f[0]-a[0])/x,(f[1]-a[1])/x],h=a,_=x,w=T=S=0,g=!1,i=f,r++;r<e.length;r++){if(m=ie,ie=getPt(r+1),!m){if(R)continue;break}if(O=(b=[m[0]-a[0],m[1]-a[1]])[0]*y[1]-b[1]*y[0],T=Math.min(T,O),(S=Math.max(S,O))-T>getTolerance(m,ie))break;i=m,(k=b[0]*y[0]+b[1]*y[1])>_?(_=k,f=m,g=!1):k<w&&(w=k,h=m,g=!0)}if(g?(addPt(f),i!==h&&addPt(h)):(h!==a&&addPt(h),i!==f&&addPt(f)),addPt(i),r>=e.length||!m)break;addPt(m),a=m}}else addPt(f)}Z&&updateEdge([X||Z[0],Y||Z[1]]),V.push(H.slice(0,G))}return V}},"9d33":function(e,n,r){"use strict";var a=r("6e58");e.exports=function getUpdateObject(e,n){var r=e._name,o={};if("all"===n.step)o[r+".autorange"]=!0;else{var i=function getXRange(e,n){var r,o=e.range,i=new Date(e.r2l(o[1])),s=n.step,l=n.count;switch(n.stepmode){case"backward":r=e.l2r(+a.time[s].utc.offset(i,-l));break;case"todate":var c=a.time[s].utc.offset(i,-l);r=e.l2r(+a.time[s].utc.ceil(c))}var u=o[1];return[r,u]}(e,n);o[r+".range[0]"]=i[0],o[r+".range[1]"]=i[1]}return o}},"9d7e":function(e,n,r){"use strict";n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e){return function template(e){for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return 1===r.length&&"object"===a(r[0])&&(r=r[0]),r&&r.hasOwnProperty||(r={}),e.replace(i,(function(n,a,i,s){var l=void 0;return"{"===e[s-1]&&"}"===e[s+n.length]?i:null==(l=(0,o.hasOwn)(r,i)?r[i]:null)?"":l}))}};var o=r("8122"),i=/(%|)\{([0-9a-zA-Z_]+)\}/g},"9e38":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({elu_:function elu_(e){const n={x:Object(i.a)(e,"x","elu")};return a.a.runKernel(o.V,n)}})},"9e7b":function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]}]},"9ed3":function(e,n,r){"use strict";var a=r("ae93").IteratorPrototype,o=r("7c73"),i=r("5c6c"),s=r("d44e"),l=r("3f8c"),returnThis=function(){return this};e.exports=function(e,n,r){var c=n+" Iterator";return e.prototype=o(a,{next:i(1,r)}),s(e,c,!1,!0),l[c]=returnThis,e}},"9f7f":function(e,n,r){"use strict";var a=r("d039");function RE(e,n){return RegExp(e,n)}n.UNSUPPORTED_Y=a((function(){var e=RE("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n.BROKEN_CARET=a((function(){var e=RE("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},"9fe6":function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("b818"),c=r("54ef"),u=r("35c9");const d=Object(c.a)({maxPool_:function maxPool_(e,n,r,c,d){const p=Object(i.a)(e,"x","maxPool");let f=p,h=!1;3===p.rank&&(h=!0,f=Object(u.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),s.b(4===f.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${f.rank}.`)),s.b(l.h(r,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${r} and dilations '1'`)),null!=d&&s.b(s.v(c),(()=>`Error in maxPool: pad must be an integer when using, dimRoundingMode ${d} but got pad ${c}.`));const m={x:f},g={filterSize:n,strides:r,pad:c,dimRoundingMode:d},y=a.a.runKernel(o.Ib,m,g);return h?Object(u.a)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},"9ffd":function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({softplus_:function softplus_(e){const n={x:Object(i.a)(e,"x","softplus")};return a.a.runKernel(o.Fc,n)}})},a009:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({sub_:function sub_(e,n){let r=Object(s.a)(e,"a","sub"),l=Object(s.a)(n,"b","sub");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.Oc,c)}})},a011:function(e,n,r){"use strict";var a=r("19b2"),o=r("6af8").isArrayOrTypedArray;n.aggNums=function(e,r,i,s){var l,c;if((!s||s>i.length)&&(s=i.length),a(r)||(r=!1),o(i[0])){for(c=new Array(s),l=0;l<s;l++)c[l]=n.aggNums(e,r,i[l]);i=c}for(l=0;l<s;l++)a(r)?a(i[l])&&(r=e(+r,+i[l])):r=i[l];return r},n.len=function(e){return n.aggNums((function(e){return e+1}),0,e)},n.mean=function(e,r){return r||(r=n.len(e)),n.aggNums((function(e,n){return e+n}),0,e)/r},n.midRange=function(e){if(void 0!==e&&0!==e.length)return(n.aggNums(Math.max,null,e)+n.aggNums(Math.min,null,e))/2},n.variance=function(e,r,o){return r||(r=n.len(e)),a(o)||(o=n.mean(e,r)),n.aggNums((function(e,n){return e+Math.pow(n-o,2)}),0,e)/r},n.stdev=function(e,r,a){return Math.sqrt(n.variance(e,r,a))},n.median=function(e){var r=e.slice().sort();return n.interp(r,.5)},n.interp=function(e,n){if(!a(n))throw"n should be a finite number";if((n=n*e.length-.5)<0)return e[0];if(n>e.length-1)return e[e.length-1];var r=n%1;return r*e[Math.ceil(n)]+(1-r)*e[Math.floor(n)]}},a082:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.b,r=n.c,a=n.d,o=n.a;return e=e<<25^e>>>7^r,r=r-a|0,a=a<<24^a>>>8^o,o=o-e|0,n.b=e=e<<20^e>>>12^r,n.c=r=r-a|0,n.d=a<<16^r>>>16^o,n.a=o-e|0},n.a=0,n.b=0,n.c=-1640531527,n.d=1367130551,e===Math.floor(e)?(n.a=e/4294967296|0,n.b=0|e):r+=e;for(var a=0;a<r.length+20;a++)n.b^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.a=e.a,n.b=e.b,n.c=e.c,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.tychei=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},a09b:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({zerosLike_:function zerosLike_(e){const n={x:Object(i.a)(e,"x","zerosLike")};return a.a.runKernel(o.Zc,n)}})},a22f:function(e,n,r){"use strict";e.exports=function clearResponsive(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},a288:function(e,n,r){"use strict";var a=r("19b2"),o=r("b5e3"),i=r("bb71"),s=r("fc26"),l=r("4248"),c=r("cb04"),u=r("4ebd"),d=r("5b41").version,p={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png",description:"Sets the format of exported image."},width:{valType:"number",min:1,description:["Sets the exported image width.","Defaults to the value found in `layout.width`","If set to *null*, the exported image width will match the current graph width."].join(" ")},height:{valType:"number",min:1,description:["Sets the exported image height.","Defaults to the value found in `layout.height`","If set to *null*, the exported image height will match the current graph height."].join(" ")},scale:{valType:"number",min:0,dflt:1,description:["Sets a scaling for the generated image.","If set, all features of a graphs (e.g. text, line width)","are scaled, unlike simply setting","a bigger *width* and *height*."].join(" ")},setBackground:{valType:"any",dflt:!1,description:["Sets the image background mode.","By default, the image background is determined by `layout.paper_bgcolor`,","the *transparent* mode.","One might consider setting `setBackground` to *opaque*","when exporting a *jpeg* image as JPEGs do not support opacity."].join(" ")},imageDataOnly:{valType:"boolean",dflt:!1,description:["Determines whether or not the return value is prefixed by","the image format's corresponding 'data:image;' spec."].join(" ")}};e.exports=function toImage(e,n){var r,f,h,m;function isImpliedOrValid(e){return!(e in n)||s.validate(n[e],p[e])}if(n=n||{},s.isPlainObject(e)?(r=e.data||[],f=e.layout||{},h=e.config||{},m={}):(e=s.getGraphDiv(e),r=s.extendDeep([],e.data),f=s.extendDeep({},e.layout),h=e._context,m=e._fullLayout||{}),!isImpliedOrValid("width")&&null!==n.width||!isImpliedOrValid("height")&&null!==n.height)throw new Error("Height and width should be pixel values.");if(!isImpliedOrValid("format"))throw new Error("Export format is not "+s.join2(p.format.values,", "," or ")+".");var g={};function coerce(e,r){return s.coerce(n,g,p,e,r)}var y=coerce("format"),b=coerce("width"),x=coerce("height"),_=coerce("scale"),w=coerce("setBackground"),k=coerce("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var S=s.extendFlat({},f);b?S.width=b:null===n.width&&a(m.width)&&(S.width=m.width),x?S.height=x:null===n.height&&a(m.height)&&(S.height=m.height);var O=s.extendFlat({},h,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),C=l.getRedrawFunc(T);function wait(){return new Promise((function(e){setTimeout(e,l.getDelay(T._fullLayout))}))}function convert(){return new Promise((function(e,n){var r=c(T,y,_),a=T._fullLayout.width,p=T._fullLayout.height;function cleanup(){o.purge(T),document.body.removeChild(T)}if("full-json"===y){var f=i.graphJson(T,!1,"keepdata","object",!0,!0);return f.version=d,f=JSON.stringify(f),cleanup(),e(k?f:l.encodeJSON(f))}if(cleanup(),"svg"===y)return e(k?r:l.encodeSVG(r));var h=document.createElement("canvas");h.id=s.randstr(),u({format:y,width:a,height:p,scale:_,canvas:h,svg:r,promise:!0}).then(e).catch(n)}))}return new Promise((function(e,n){o.plot(T,r,S,O).then(C).then(wait).then(convert).then((function(n){e(function urlToImageData(e){return k?e.replace(l.IMAGE_URL_PREFIX,""):e}(n))})).catch((function(e){n(e)}))}))}},a34f:function(e,n,r){"use strict";r.d(n,"c",(function(){return validateUpdateShape})),r.d(n,"b",(function(){return validateInput})),r.d(n,"a",(function(){return calculateShapes}));var a=r("6ad5");function validateUpdateShape(e,n,r){const a=n.rank>1?n.shape[n.rank-1]:1,o=n.rank>1?n.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${r.shape}, indices.shape: ${n.shape}, shape: ${e}, sliceDim: ${a}, and batchDim: ${o}.`;if(r.rank<o)throw new Error(i+` update.rank < ${o}. `);if(e.length<a+(r.rank-o))throw new Error(i+` Output shape length < ${a+(r.rank-o)}`);if(r.rank!==o+e.length-a)throw new Error(i+" update.rank != "+(o+e.length-a));for(let s=0;s<o;++s)if(r.shape[s]!==n.shape[s])throw new Error(i+` updates.shape[${s}] (${r.shape[s]}) != indices.shape[${s}] (${n.shape[s]}).`);for(let s=0;s<r.rank-o;++s)if(r.shape[s+o]!==e[s+a])throw new Error(i+` updates.shape[${s+o}] (${r.shape[s+o]}) != shape[${s+o}] (${e[s+o]})`)}function validateInput(e,n,r){if(n.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${n.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==n.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${n.dtype}`);if(r.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${r}`);if(0===r.length){if(0===n.size)throw new Error(`Indices specified for empty output. indices shape: ${n.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}validateUpdateShape(r,n,e)}function calculateShapes(e,n,r){const o=n.shape.length,i=o>1?n.shape[o-1]:1,s=r.length;let l=1;for(let a=i;a<s;++a)l*=r[a];const c=i<1?1:i;return{sliceRank:i,numUpdates:Object(a.O)(n.shape)/c,sliceSize:l,strides:[...Object(a.j)(r.slice(0,i)),1],outputSize:Object(a.O)(r)}}},a374:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({acos_:function acos_(e){const n={x:Object(i.a)(e,"x","acos")};return a.a.runKernel(o.b,n)}})},a391:function(e,n,r){"use strict";var a=r("fc26"),o=r("c4c7").isUnifiedHover,i=r("927d"),s=r("54d9"),l=r("2093");e.exports=function supplyLayoutDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,i,r,o)}var c=s(e,n,r);c&&(coerce("hoverdistance"),coerce("spikedistance",o(c)?-1:void 0)),"select"===coerce("dragmode")&&coerce("selectdirection");var u=n._has("mapbox"),d=n._has("geo"),p=n._basePlotModules.length;"zoom"===n.dragmode&&((u||d)&&1===p||u&&d&&2===p)&&(n.dragmode="pan"),l(e,n,coerce)}},a392:function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("bb71"),s=r("fc26"),l=r("821b"),c=r("d115"),u=r("83d1"),d=r("1999"),p=r("958a"),f=r("0642"),h=r("63dc"),m=r("6add"),g=m.enforce,y=m.clean,b=r("ce56").doAutoRange,x="start",_="middle",w="end";function overlappingDomain(e,n,r){for(var a=0;a<r.length;a++){var o=r[a][0],i=r[a][1];if(!(o[0]>=e[1]||o[1]<=e[0])&&(i[0]<n[1]&&i[1]>n[0]))return!0}return!1}function lsInner(e){var r,o,l,d,m,g,y=e._fullLayout,b=y._size,x=b.p,_=f.list(e,"",!0);if(y._paperdiv.style({width:e._context.responsive&&y.autosize&&!e._context._hasZeroWidth&&!e.layout.width?"100%":y.width+"px",height:e._context.responsive&&y.autosize&&!e._context._hasZeroHeight&&!e.layout.height?"100%":y.height+"px"}).selectAll(".main-svg").call(u.setSize,y.width,y.height),e._context.setBackground(e,y.paper_bgcolor),n.drawMainTitle(e),p.manage(e),!y._has("cartesian"))return i.previousPromises(e);function getLinePosition(e,n,r){var a=e._lw/2;return"x"===e._id.charAt(0)?n?"top"===r?n._offset-x-a:n._offset+n._length+x+a:b.t+b.h*(1-(e.position||0))+a%1:n?"right"===r?n._offset+n._length+x+a:n._offset-x-a:b.l+b.w*(e.position||0)+a%1}for(r=0;r<_.length;r++){var w=(d=_[r])._anchorAxis;d._linepositions={},d._lw=u.crispRound(e,d.linewidth,1),d._mainLinePosition=getLinePosition(d,w,d.side),d._mainMirrorPosition=d.mirror&&w?getLinePosition(d,w,h.OPPOSITE_SIDE[d.side]):null}var k=[],T=[],S=[],O=1===c.opacity(y.paper_bgcolor)&&1===c.opacity(y.plot_bgcolor)&&y.paper_bgcolor===y.plot_bgcolor;for(o in y._plots)if((l=y._plots[o]).mainplot)l.bg&&l.bg.remove(),l.bg=void 0;else{var C=l.xaxis.domain,A=l.yaxis.domain,I=l.plotgroup;if(overlappingDomain(C,A,S)){var N=I.node(),M=l.bg=s.ensureSingle(I,"rect","bg");N.insertBefore(M.node(),N.childNodes[0]),T.push(o)}else I.select("rect.bg").remove(),S.push([C,A]),O||(k.push(o),T.push(o))}var E,D,j,R,L,z,$,B,V,U,W,H,G,q=y._bgLayer.selectAll(".bg").data(k);for(q.enter().append("rect").classed("bg",!0),q.exit().remove(),q.each((function(e){y._plots[e].bg=a.select(this)})),r=0;r<T.length;r++)l=y._plots[T[r]],m=l.xaxis,g=l.yaxis,l.bg&&void 0!==m._offset&&void 0!==g._offset&&l.bg.call(u.setRect,m._offset-x,g._offset-x,m._length+2*x,g._length+2*x).call(c.fill,y.plot_bgcolor).style("stroke-width",0);if(!y._hasOnlyLargeSploms)for(o in y._plots){l=y._plots[o],m=l.xaxis,g=l.yaxis;var K,X,Y=l.clipId="clip"+y._uid+o+"plot",Z=s.ensureSingleById(y._clips,"clipPath",Y,(function(e){e.classed("plotclip",!0).append("rect")}));l.clipRect=Z.select("rect").attr({width:m._length,height:g._length}),u.setTranslate(l.plot,m._offset,g._offset),l._hasClipOnAxisFalse?(K=null,X=Y):(K=Y,X=null),u.setClipUrl(l.plot,K,e),l.layerClipId=X}function xLinePath(e){return"M"+E+","+e+"H"+D}function xLinePathFree(e){return"M"+m._offset+","+e+"h"+m._length}function yLinePath(e){return"M"+e+","+B+"V"+$}function yLinePathFree(e){return"M"+e+","+g._offset+"v"+g._length}function mainPath(e,n,r){if(!e.showline||o!==e._mainSubplot)return"";if(!e._anchorAxis)return r(e._mainLinePosition);var a=n(e._mainLinePosition);return e.mirror&&(a+=n(e._mainMirrorPosition)),a}for(o in y._plots){l=y._plots[o],m=l.xaxis,g=l.yaxis;var J="M0,0";shouldShowLinesOrTicks(m,o)&&(L=findCounterAxisLineWidth(m,"left",g,_),E=m._offset-(L?x+L:0),z=findCounterAxisLineWidth(m,"right",g,_),D=m._offset+m._length+(z?x+z:0),j=getLinePosition(m,g,"bottom"),R=getLinePosition(m,g,"top"),!(G=!m._anchorAxis||o!==m._mainSubplot)||"allticks"!==m.mirror&&"all"!==m.mirror||(m._linepositions[o]=[j,R]),J=mainPath(m,xLinePath,xLinePathFree),G&&m.showline&&("all"===m.mirror||"allticks"===m.mirror)&&(J+=xLinePath(j)+xLinePath(R)),l.xlines.style("stroke-width",m._lw+"px").call(c.stroke,m.showline?m.linecolor:"rgba(0,0,0,0)")),l.xlines.attr("d",J);var Q="M0,0";shouldShowLinesOrTicks(g,o)&&(W=findCounterAxisLineWidth(g,"bottom",m,_),$=g._offset+g._length+(W?x:0),H=findCounterAxisLineWidth(g,"top",m,_),B=g._offset-(H?x:0),V=getLinePosition(g,m,"left"),U=getLinePosition(g,m,"right"),!(G=!g._anchorAxis||o!==g._mainSubplot)||"allticks"!==g.mirror&&"all"!==g.mirror||(g._linepositions[o]=[V,U]),Q=mainPath(g,yLinePath,yLinePathFree),G&&g.showline&&("all"===g.mirror||"allticks"===g.mirror)&&(Q+=yLinePath(V)+yLinePath(U)),l.ylines.style("stroke-width",g._lw+"px").call(c.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)")),l.ylines.attr("d",Q)}return f.makeClipPaths(e),i.previousPromises(e)}function shouldShowLinesOrTicks(e,n){return(e.ticks||e.showline)&&(n===e._mainSubplot||"all"===e.mirror||"allticks"===e.mirror)}function shouldShowLineThisSide(e,n,r){if(!r.showline||!r._lw)return!1;if("all"===r.mirror||"allticks"===r.mirror)return!0;var a=r._anchorAxis;if(!a)return!1;var o=h.FROM_BL[n];return r.side===n?a.domain[o]===e.domain[o]:r.mirror&&a.domain[1-o]===e.domain[1-o]}function findCounterAxisLineWidth(e,n,r,a){if(shouldShowLineThisSide(e,n,r))return r._lw;for(var o=0;o<a.length;o++){var i=a[o];if(i._mainAxis===r._mainAxis&&shouldShowLineThisSide(e,n,i))return i._lw}return 0}function getMainTitleX(e,n){var r=e.title,a=e._size,o=0;switch(n===x?o=r.pad.l:n===w&&(o=-r.pad.r),r.xref){case"paper":return a.l+a.w*r.x+o;case"container":default:return e.width*r.x+o}}function getMainTitleY(e,n){var r=e.title,a=e._size,o=0;if("0em"!==n&&n?n===h.CAP_SHIFT+"em"&&(o=r.pad.t):o=-r.pad.b,"auto"===r.y)return a.t/2;switch(r.yref){case"paper":return a.t+a.h-a.h*r.y+o;case"container":default:return e.height-e.height*r.y+o}}n.layoutStyles=function(e){return s.syncOrAsync([i.doAutoMargin,lsInner],e)},n.drawMainTitle=function(e){var n=e._fullLayout,r=function getMainTitleTextAnchor(e){var n=e.title,r=_;s.isRightAnchor(n)?r=w:s.isLeftAnchor(n)&&(r=x);return r}(n),a=function getMainTitleDy(e){var n=e.title,r="0em";s.isTopAnchor(n)?r=h.CAP_SHIFT+"em":s.isMiddleAnchor(n)&&(r=h.MID_SHIFT+"em");return r}(n);d.draw(e,"gtitle",{propContainer:n,propName:"title.text",placeholder:n._dfltTitle.plot,attributes:{x:getMainTitleX(n,r),y:getMainTitleY(n,a),"text-anchor":r,dy:a}})},n.doTraceStyle=function(e){var r,a=e.calcdata,s=[];for(r=0;r<a.length;r++){var c=a[r],u=c[0]||{},d=u.trace||{},p=d._module||{},f=p.arraysToCalcdata;f&&f(c,d);var h=p.editStyle;h&&s.push({fn:h,cd0:u})}if(s.length){for(r=0;r<s.length;r++){var m=s[r];m.fn(e,m.cd0)}l(e),n.redrawReglTraces(e)}return i.style(e),o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doColorBars=function(e){return o.getComponentMethod("colorbar","draw")(e),i.previousPromises(e)},n.layoutReplot=function(e){var n=e.layout;return e.layout=void 0,o.call("plot",e,"",n)},n.doLegend=function(e){return o.getComponentMethod("legend","draw")(e),i.previousPromises(e)},n.doTicksRelayout=function(e){return f.draw(e,"redraw"),e._fullLayout._hasOnlyLargeSploms&&(o.subplotsRegistry.splom.updateGrid(e),l(e),n.redrawReglTraces(e)),n.drawMainTitle(e),i.previousPromises(e)},n.doModeBar=function(e){var n=e._fullLayout;p.manage(e);for(var r=0;r<n._basePlotModules.length;r++){var a=n._basePlotModules[r].updateFx;a&&a(e)}return i.previousPromises(e)},n.doCamera=function(e){for(var n=e._fullLayout,r=n._subplots.gl3d,a=0;a<r.length;a++){var o=n[r[a]];o._scene.setViewport(o)}},n.drawData=function(e){var r=e._fullLayout;l(e);for(var a=r._basePlotModules,s=0;s<a.length;s++)a[s].plot(e);return n.redrawReglTraces(e),i.style(e),o.getComponentMethod("shapes","draw")(e),o.getComponentMethod("annotations","draw")(e),o.getComponentMethod("images","draw")(e),r._replotting=!1,i.previousPromises(e)},n.redrawReglTraces=function(e){var n=e._fullLayout;if(n._has("regl")){var r,a,o=e._fullData,i=[],l=[];for(n._hasOnlyLargeSploms&&n._splomGrid.draw(),r=0;r<o.length;r++){var c=o[r];!0===c.visible&&0!==c._length&&("splom"===c.type?n._splomScenes[c.uid].draw():"scattergl"===c.type?s.pushUnique(i,c.xaxis+c.yaxis):"scatterpolargl"===c.type&&s.pushUnique(l,c.subplot))}for(r=0;r<i.length;r++)(a=n._plots[i[r]])._scene&&a._scene.draw();for(r=0;r<l.length;r++)(a=n[l[r]]._subplot)._scene&&a._scene.draw()}},n.doAutoRangeAndConstraints=function(e){for(var n,r=f.list(e,"",!0),a={},o=0;o<r.length;o++)if(!a[(n=r[o])._id]){a[n._id]=1,y(e,n),b(e,n);var i=n._matchGroup;if(i)for(var s in i){var l=f.getFromId(e,s);b(e,l,n.range),a[s]=1}}g(e)},n.finalDraw=function(e){o.getComponentMethod("rangeslider","draw")(e),o.getComponentMethod("rangeselector","draw")(e)},n.drawMarginPushers=function(e){o.getComponentMethod("legend","draw")(e),o.getComponentMethod("rangeselector","draw")(e),o.getComponentMethod("sliders","draw")(e),o.getComponentMethod("updatemenus","draw")(e),o.getComponentMethod("colorbar","draw")(e)}},a3f7:function(e,n,r){"use strict";r.d(n,"c",(function(){return inferShape})),r.d(n,"a",(function(){return convertToTensor})),r.d(n,"b",(function(){return convertToTensorArray}));var a=r("6ae2"),o=r("b333"),i=r("34d7"),s=r("6ad5"),l=r("eb7e");function inferShape(e,n){let r=e;if(Object(s.A)(e))return"string"===n?[]:[e.length];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(r)||Object(s.A)(r)&&"string"!==n;)a.push(r.length),r=r[0];return Array.isArray(e)&&Object(o.b)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&deepAssertShapeConsistency(e,a,[]),a}function deepAssertShapeConsistency(e,n,r){if(r=r||[],!Array.isArray(e)&&!Object(s.A)(e))return void Object(s.b)(0===n.length,(()=>`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${n[0]} elements`));Object(s.b)(n.length>0,(()=>`Element arr[${r.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),Object(s.b)(e.length===n[0],(()=>`Element arr[${r.join("][")}] should have ${n[0]} elements, but has ${e.length} elements`));const a=n.slice(1);for(let o=0;o<e.length;++o)deepAssertShapeConsistency(e[o],a,r.concat(o))}function assertDtype(e,n,r,a){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==n||"numeric"===e&&"string"===n)throw new Error(`Argument '${r}' passed to '${a}' must be ${e} tensor, but got ${n} tensor`)}}function convertToTensor(e,n,r,o="numeric"){if(e instanceof i.a)return assertDtype(o,e.dtype,n,r),e;let c=Object(s.r)(e);if("string"!==c&&["bool","int32","float32"].indexOf(o)>=0&&(c=o),assertDtype(o,c,n,r),null==e||!Object(s.A)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const a=null==e?"null":e.constructor.name;throw new Error(`Argument '${n}' passed to '${r}' must be a Tensor or TensorLike, but got '${a}'`)}const u=inferShape(e,c);Object(s.A)(e)||Array.isArray(e)||(e=[e]);const d="string"!==c?Object(l.toTypedArray)(e,c):Object(s.m)(e,[],!0);return a.a.makeTensor(d,u,c)}function convertToTensorArray(e,n,r,a="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${n} passed to ${r} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,o)=>convertToTensor(e,`${n}[${o}]`,r,a)))}},a430:function(e,n,r){var a=r("6166"),o=r("7feb"),i=r("df8b"),s=r("3e44"),l=r("e6fc"),c=r("a082"),u=r("f7f1");u.alea=a,u.xor128=o,u.xorwow=i,u.xorshift7=s,u.xor4096=l,u.tychei=c,e.exports=u},a462:function(e,n,r){"use strict";var a=r("9845"),o=r("927d").hoverlabel,i=r("9092").extendFlat;e.exports={hoverlabel:{bgcolor:i({},o.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:i({},o.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:a({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:i({},o.align,{arrayOk:!0}),namelength:i({},o.namelength,{arrayOk:!0}),editType:"none"}}},a49d:function(e,n,r){var a;!function(o,i){var s,l=(0,eval)("this"),c=256,u=i.pow(c,6),d=i.pow(2,52),p=2*d,f=255;function seedrandom(e,n,r){var a=[],f=mixkey(flatten((n=1==n?{entropy:!0}:n||{}).entropy?[e,tostring(o)]:null==e?function autoseed(){try{var e;return s&&(e=s.randomBytes)?e=e(c):(e=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(e)),tostring(e)}catch(a){var n=l.navigator,r=n&&n.plugins;return[+new Date,l,r,l.screen,tostring(o)]}}():e,3),a),h=new ARC4(a),prng=function(){for(var e=h.g(6),n=u,r=0;e<d;)e=(e+r)*c,n*=c,r=h.g(1);for(;e>=p;)e/=2,n/=2,r>>>=1;return(e+r)/n};return prng.int32=function(){return 0|h.g(4)},prng.quick=function(){return h.g(4)/4294967296},prng.double=prng,mixkey(tostring(h.S),o),(n.pass||r||function(e,n,r,a){return a&&(a.S&&copy(a,h),e.state=function(){return copy(h,{})}),r?(i.random=e,n):e})(prng,f,"global"in n?n.global:this==i,n.state)}function ARC4(e){var n,r=e.length,a=this,o=0,i=a.i=a.j=0,s=a.S=[];for(r||(e=[r++]);o<c;)s[o]=o++;for(o=0;o<c;o++)s[o]=s[i=f&i+e[o%r]+(n=s[o])],s[i]=n;(a.g=function(e){for(var n,r=0,o=a.i,i=a.j,s=a.S;e--;)n=s[o=f&o+1],r=r*c+s[f&(s[o]=s[i=f&i+n])+(s[i]=n)];return a.i=o,a.j=i,r})(c)}function copy(e,n){return n.i=e.i,n.j=e.j,n.S=e.S.slice(),n}function flatten(e,n){var r,a=[],o=typeof e;if(n&&"object"==o)for(r in e)try{a.push(flatten(e[r],n-1))}catch(i){}return a.length?a:"string"==o?e:e+"\0"}function mixkey(e,n){for(var r,a=e+"",o=0;o<a.length;)n[f&o]=f&(r^=19*n[f&o])+a.charCodeAt(o++);return tostring(n)}function tostring(e){return String.fromCharCode.apply(0,e)}if(i.seedrandom=seedrandom,mixkey(i.random(),o),e.exports){e.exports=seedrandom;try{s=r(4)}catch(h){}}else void 0===(a=function(){return seedrandom}.call(n,r,n,e))||(e.exports=a)}([],Math)},a49e:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^e^e<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),a==r.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n.v=e.v,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorwow=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},a4b4:function(e,n,r){var a=r("342f");e.exports=/web0s(?!.*chrome)/i.test(a)},a4c0:function(e,n,r){"use strict";var a=r("371e");e.exports=function localize(e,n){for(var r=e._context.locale,o=0;o<2;o++){for(var i=e._context.locales,s=0;s<2;s++){var l=(i[r]||{}).dictionary;if(l){var c=l[n];if(c)return c}i=a.localeRegistry}var u=r.split("-")[0];if(u===r)break;r=u}return n}},a4d3:function(e,n,r){"use strict";var a=r("23e7"),o=r("da84"),i=r("d066"),s=r("c430"),l=r("83ab"),c=r("4930"),u=r("fdbf"),d=r("d039"),p=r("5135"),f=r("e8b5"),h=r("861d"),m=r("825a"),g=r("7b0b"),y=r("fc6a"),b=r("c04ea"),x=r("5c6c"),_=r("7c73"),w=r("df75"),k=r("241c"),T=r("057f"),S=r("7418"),O=r("06cf"),C=r("9bf2"),A=r("d1e7"),I=r("9112"),N=r("6eeb"),M=r("5692"),E=r("f772"),D=r("d012"),j=r("90e3"),R=r("b622"),L=r("e538"),z=r("746f"),$=r("d44e"),B=r("69f3"),V=r("b727").forEach,U=E("hidden"),W="Symbol",H=R("toPrimitive"),G=B.set,q=B.getterFor(W),K=Object.prototype,X=o.Symbol,Y=i("JSON","stringify"),Z=O.f,J=C.f,Q=T.f,ee=A.f,te=M("symbols"),ne=M("op-symbols"),re=M("string-to-symbol-registry"),ae=M("symbol-to-string-registry"),oe=M("wks"),ie=o.QObject,se=!ie||!ie.prototype||!ie.prototype.findChild,le=l&&d((function(){return 7!=_(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,n,r){var a=Z(K,n);a&&delete K[n],J(e,n,r),a&&e!==K&&J(K,n,a)}:J,wrap=function(e,n){var r=te[e]=_(X.prototype);return G(r,{type:W,tag:e,description:n}),l||(r.description=n),r},ce=u?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof X},ue=function defineProperty(e,n,r){e===K&&ue(ne,n,r),m(e);var a=b(n,!0);return m(r),p(te,a)?(r.enumerable?(p(e,U)&&e[U][a]&&(e[U][a]=!1),r=_(r,{enumerable:x(0,!1)})):(p(e,U)||J(e,U,x(1,{})),e[U][a]=!0),le(e,a,r)):J(e,a,r)},de=function defineProperties(e,n){m(e);var r=y(n),a=w(r).concat(me(r));return V(a,(function(n){l&&!pe.call(r,n)||ue(e,n,r[n])})),e},pe=function propertyIsEnumerable(e){var n=b(e,!0),r=ee.call(this,n);return!(this===K&&p(te,n)&&!p(ne,n))&&(!(r||!p(this,n)||!p(te,n)||p(this,U)&&this[U][n])||r)},fe=function getOwnPropertyDescriptor(e,n){var r=y(e),a=b(n,!0);if(r!==K||!p(te,a)||p(ne,a)){var o=Z(r,a);return!o||!p(te,a)||p(r,U)&&r[U][a]||(o.enumerable=!0),o}},he=function getOwnPropertyNames(e){var n=Q(y(e)),r=[];return V(n,(function(e){p(te,e)||p(D,e)||r.push(e)})),r},me=function getOwnPropertySymbols(e){var n=e===K,r=Q(n?ne:y(e)),a=[];return V(r,(function(e){!p(te,e)||n&&!p(K,e)||a.push(te[e])})),a};(c||(N((X=function Symbol(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=j(e),setter=function(e){this===K&&setter.call(ne,e),p(this,U)&&p(this[U],n)&&(this[U][n]=!1),le(this,n,x(1,e))};return l&&se&&le(K,n,{configurable:!0,set:setter}),wrap(n,e)}).prototype,"toString",(function toString(){return q(this).tag})),N(X,"withoutSetter",(function(e){return wrap(j(e),e)})),A.f=pe,C.f=ue,O.f=fe,k.f=T.f=he,S.f=me,L.f=function(e){return wrap(R(e),e)},l&&(J(X.prototype,"description",{configurable:!0,get:function description(){return q(this).description}}),s||N(K,"propertyIsEnumerable",pe,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:X}),V(w(oe),(function(e){z(e)})),a({target:W,stat:!0,forced:!c},{for:function(e){var n=String(e);if(p(re,n))return re[n];var r=X(n);return re[n]=r,ae[r]=n,r},keyFor:function keyFor(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(p(ae,e))return ae[e]},useSetter:function(){se=!0},useSimple:function(){se=!1}}),a({target:"Object",stat:!0,forced:!c,sham:!l},{create:function create(e,n){return void 0===n?_(e):de(_(e),n)},defineProperty:ue,defineProperties:de,getOwnPropertyDescriptor:fe}),a({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:he,getOwnPropertySymbols:me}),a({target:"Object",stat:!0,forced:d((function(){S.f(1)}))},{getOwnPropertySymbols:function getOwnPropertySymbols(e){return S.f(g(e))}}),Y)&&a({target:"JSON",stat:!0,forced:!c||d((function(){var e=X();return"[null]"!=Y([e])||"{}"!=Y({a:e})||"{}"!=Y(Object(e))}))},{stringify:function stringify(e,n,r){for(var a,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(a=n,(h(n)||void 0!==e)&&!ce(e))return f(n)||(n=function(e,n){if("function"==typeof a&&(n=a.call(this,e,n)),!ce(n))return n}),o[1]=n,Y.apply(null,o)}});X.prototype[H]||I(X.prototype,H,X.prototype.valueOf),$(X,W),D[U]=!0},a5aa:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({mul_:function mul_(e,n){let r=Object(s.a)(e,"a","mul"),l=Object(s.a)(n,"b","mul");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.Ub,c)}})},a5c4:function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26"),i=r("4efe"),s=r("c4c7"),l=r("927d"),c=r("e812");e.exports={moduleType:"component",name:"fx",constants:r("7fb7"),schema:{layout:l},attributes:r("a462"),layoutAttributes:l,supplyLayoutGlobalDefaults:r("bb86"),supplyDefaults:r("cbd4"),supplyLayoutDefaults:r("a391"),calc:r("82a5"),getDistanceFunction:s.getDistanceFunction,getClosest:s.getClosest,inbox:s.inbox,quadrature:s.quadrature,appendArrayPointValue:s.appendArrayPointValue,castHoverOption:function castHoverOption(e,n,r){return o.castOption(e,n,"hoverlabel."+r)},castHoverinfo:function castHoverinfo(e,n,r){return o.castOption(e,r,"hoverinfo",(function _coerce(r){return o.coerceHoverinfo({hoverinfo:r},{_module:e._module},n)}))},hover:c.hover,unhover:i.unhover,loneHover:c.loneHover,loneUnhover:function loneUnhover(e){var n=o.isD3Selection(e)?e:a.select(e);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()},click:r("7fc3")}},a5cc:function(e,n,r){"use strict";var a=r("bb4a"),o=r("107c").line,i=r("db54").dash,s=r("9092").extendFlat,l=r("a651").templatedArray,c=r("445c");e.exports=l("shape",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this shape is visible."].join(" ")},type:{valType:"enumerated",values:["circle","rect","path","line"],role:"info",editType:"calc+arraydraw",description:["Specifies the shape type to be drawn.","If *line*, a line is drawn from (`x0`,`y0`) to (`x1`,`y1`)","with respect to the axes' sizing mode.","If *circle*, a circle is drawn from","((`x0`+`x1`)/2, (`y0`+`y1`)/2))","with radius","(|(`x0`+`x1`)/2 - `x0`|, |(`y0`+`y1`)/2 -`y0`)|)","with respect to the axes' sizing mode.","If *rect*, a rectangle is drawn linking","(`x0`,`y0`), (`x1`,`y0`), (`x1`,`y1`), (`x0`,`y1`), (`x0`,`y0`)","with respect to the axes' sizing mode.","If *path*, draw a custom SVG path using `path`.","with respect to the axes' sizing mode."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:"Specifies whether shapes are drawn below or above traces."},xref:s({},a.xref,{description:["Sets the shape's x coordinate axis.",c.axisRefDescription("x","left","right"),"If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, then you must convert","the date to unix time in milliseconds."].join(" ")}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the x axis.","If set to *scaled*, `x0`, `x1` and x coordinates within `path` refer to","data values on the x axis or a fraction of the plot area's width","(`xref` set to *paper*).","If set to *pixel*, `xanchor` specifies the x position in terms","of data or plot fraction but `x0`, `x1` and x coordinates within `path`","are pixels relative to `xanchor`. This way, the shape can have","a fixed width while maintaining a position relative to data or","plot fraction."].join(" ")},xanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `xsizemode` set to *pixel*.","Specifies the anchor point on the x axis to which `x0`, `x1`","and x coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `xsizemode` not set to *pixel*."].join(" ")},x0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting x position.","See `type` and `xsizemode` for more info."].join(" ")},x1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end x position.","See `type` and `xsizemode` for more info."].join(" ")},yref:s({},a.yref,{description:["Sets the annotation's y coordinate axis.",c.axisRefDescription("y","bottom","top")].join(" ")}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",role:"info",editType:"calc+arraydraw",description:["Sets the shapes's sizing mode along the y axis.","If set to *scaled*, `y0`, `y1` and y coordinates within `path` refer to","data values on the y axis or a fraction of the plot area's height","(`yref` set to *paper*).","If set to *pixel*, `yanchor` specifies the y position in terms","of data or plot fraction but `y0`, `y1` and y coordinates within `path`","are pixels relative to `yanchor`. This way, the shape can have","a fixed height while maintaining a position relative to data or","plot fraction."].join(" ")},yanchor:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Only relevant in conjunction with `ysizemode` set to *pixel*.","Specifies the anchor point on the y axis to which `y0`, `y1`","and y coordinates within `path` are relative to.","E.g. useful to attach a pixel sized shape to a certain data value.","No effect when `ysizemode` not set to *pixel*."].join(" ")},y0:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's starting y position.","See `type` and `ysizemode` for more info."].join(" ")},y1:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the shape's end y position.","See `type` and `ysizemode` for more info."].join(" ")},path:{valType:"string",role:"info",editType:"calc+arraydraw",description:["For `type` *path* - a valid SVG path with the pixel values","replaced by data values in `xsizemode`/`ysizemode` being *scaled*","and taken unmodified as pixels relative to `xanchor` and `yanchor`","in case of *pixel* size mode.","There are a few restrictions / quirks","only absolute instructions, not relative. So the allowed segments","are: M, L, H, V, Q, C, T, S, and Z","arcs (A) are not allowed because radius rx and ry are relative.","In the future we could consider supporting relative commands,","but we would have to decide on how to handle date and log axes.","Note that even as is, Q and C Bezier paths that are smooth on","linear axes may not be smooth on log, and vice versa.",'no chained "polybezier" commands - specify the segment type for',"each one.","On category axes, values are numbers scaled to the serial numbers","of categories because using the categories themselves there would","be no way to describe fractional positions","On data axes: because space and T are both normal components of path","strings, we can't use either to separate date from time parts.","Therefore we'll use underscore for this purpose:","2015-02-21_13:45:56.789"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"arraydraw",description:"Sets the opacity of the shape."},line:{color:s({},o.color,{editType:"arraydraw"}),width:s({},o.width,{editType:"calc+arraydraw"}),dash:s({},i,{editType:"arraydraw"}),role:"info",editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"arraydraw",description:["Sets the color filling the shape's interior. Only applies to closed shapes."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",role:"info",editType:"arraydraw",description:["Determines which regions of complex paths constitute the interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},editable:{valType:"boolean",role:"info",dflt:!1,editType:"calc+arraydraw",description:["Determines whether the shape could be activated for edit or not.","Has no effect when the older editable shapes mode is enabled via","`config.editable` or `config.edits.shapePosition`."].join(" ")},editType:"arraydraw"})},a626:function(e,n){e.exports=function SegmentChainer(e,n,r){var a=[],o=[];return e.forEach((function(e){var i=e.start,s=e.end;if(n.pointsSame(i,s))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{r&&r.chainStart(e);for(var l={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},u=l,d=0;d<a.length;d++){var p=(y=a[d])[0],f=(y[1],y[y.length-1]);y[y.length-2];if(n.pointsSame(p,i)){if(setMatch(d,!0,!0))break}else if(n.pointsSame(p,s)){if(setMatch(d,!0,!1))break}else if(n.pointsSame(f,i)){if(setMatch(d,!1,!0))break}else if(n.pointsSame(f,s)&&setMatch(d,!1,!1))break}if(u===l)return a.push([i,s]),void(r&&r.chainNew(i,s));if(u===c){r&&r.chainMatch(l.index);var h=l.index,m=l.matches_pt1?s:i,g=l.matches_head,y=a[h],b=g?y[0]:y[y.length-1],x=g?y[1]:y[y.length-2],_=g?y[y.length-1]:y[0],w=g?y[y.length-2]:y[1];return n.pointsCollinear(x,b,m)&&(g?(r&&r.chainRemoveHead(l.index,m),y.shift()):(r&&r.chainRemoveTail(l.index,m),y.pop()),b=x),n.pointsSame(_,m)?(a.splice(h,1),n.pointsCollinear(w,_,b)&&(g?(r&&r.chainRemoveTail(l.index,b),y.pop()):(r&&r.chainRemoveHead(l.index,b),y.shift())),r&&r.chainClose(l.index),void o.push(y)):void(g?(r&&r.chainAddHead(l.index,m),y.unshift(m)):(r&&r.chainAddTail(l.index,m),y.push(m)))}var k=l.index,T=c.index;r&&r.chainConnect(k,T);var S=a[k].length<a[T].length;l.matches_head?c.matches_head?S?(reverseChain(k),appendChain(k,T)):(reverseChain(T),appendChain(T,k)):appendChain(T,k):c.matches_head?appendChain(k,T):S?(reverseChain(k),appendChain(T,k)):(reverseChain(T),appendChain(k,T))}function setMatch(e,n,r){return u.index=e,u.matches_head=n,u.matches_pt1=r,u===l?(u=c,!1):(u=null,!0)}function reverseChain(e){r&&r.chainReverse(e),a[e].reverse()}function appendChain(e,o){var i=a[e],s=a[o],l=i[i.length-1],c=i[i.length-2],u=s[0],d=s[1];n.pointsCollinear(c,l,u)&&(r&&r.chainRemoveTail(e,l),i.pop(),l=c),n.pointsCollinear(l,u,d)&&(r&&r.chainRemoveHead(o,u),s.shift()),r&&r.chainJoin(e,o),a[e]=i.concat(s),a.splice(o,1)}})),o}},a640:function(e,n,r){"use strict";var a=r("d039");e.exports=function(e,n){var r=[][e];return!!r&&a((function(){r.call(null,n||function(){throw 1},1)}))}},a651:function(e,n,r){"use strict";var a=r("fc26"),o=r("a876"),i={name:{valType:"string",role:"style",editType:"none",description:["When used in a template, named items are created in the output figure","in addition to any items the figure already has in this array.","You can modify these items in the output figure by making your own","item with `templateitemname` matching this `name`","alongside your modifications (including `visible: false` or","`enabled: false` to hide it).","Has no effect outside of a template."].join(" ")}};function validItemName(e){return e&&"string"==typeof e}function arrayDefaultKey(e){var n=e.length-1;return"s"!==e.charAt(n)&&a.warn("bad argument to arrayDefaultKey: "+e),e.substr(0,e.length-1)+"defaults"}i.templateitemname={valType:"string",role:"info",editType:"calc",description:["Used to refer to a named item in this array in the template. Named","items from the template will be created even without a matching item","in the input figure, but you can modify one by making an item with","`templateitemname` matching its `name`, alongside your modifications","(including `visible: false` or `enabled: false` to hide it).","If there is no template or no matching item, this item will be","hidden unless you explicitly show it with `visible: true`."].join(" ")},n.templatedArray=function(e,n){return n._isLinkedToArray=e,n.name=i.name,n.templateitemname=i.templateitemname,n},n.traceTemplater=function(e){var n,r,i={};for(n in e)r=e[n],Array.isArray(r)&&r.length&&(i[n]=0);return{newTrace:function newTrace(s){var l={type:n=a.coerce(s,{},o,"type"),_template:null};if(n in i){r=e[n];var c=i[n]%r.length;i[n]++,l._template=r[c]}return l}}},n.newContainer=function(e,n,r){var o=e._template,i=o&&(o[n]||r&&o[r]);return a.isPlainObject(i)||(i=null),e[n]={_template:i}},n.arrayTemplater=function(e,n,r){var a=e._template,o=a&&a[arrayDefaultKey(n)],i=a&&a[n];Array.isArray(i)&&i.length||(i=[]);var s={};return{newItem:function newItem(e){var n={name:e.name,_input:e},a=n.templateitemname=e.templateitemname;if(!validItemName(a))return n._template=o,n;for(var l=0;l<i.length;l++){var c=i[l];if(c.name===a)return s[a]=1,n._template=c,n}return n[r]=e[r]||!1,n._template=!1,n},defaultItems:function defaultItems(){for(var e=[],n=0;n<i.length;n++){var r=i[n],a=r.name;if(validItemName(a)&&!s[a]){var o={_template:r,name:a,_input:{_templateitemname:a}};o.templateitemname=r.templateitemname,e.push(o),s[a]=1}}return e}}},n.arrayDefaultKey=arrayDefaultKey,n.arrayEditor=function(e,n,r){var o=(a.nestedProperty(e,n).get()||[]).length,i=r._index,s=i>=o&&(r._input||{})._templateitemname;s&&(i=o);var l,c=n+"["+i+"]";function resetUpdate(){l={},s&&(l[c]={},l[c].templateitemname=s)}function modifyItem(e,n){s?a.nestedProperty(l[c],e).set(n):l[c+"."+e]=n}function getUpdateObj(){var e=l;return resetUpdate(),e}return resetUpdate(),{modifyBase:function modifyBase(e,n){l[e]=n},modifyItem:modifyItem,getUpdateObj:getUpdateObj,applyUpdate:function applyUpdate(n,r){n&&modifyItem(n,r);var o=getUpdateObj();for(var i in o)a.nestedProperty(e,i).set(o[i])}}}},a685:function(e,n,r){"use strict";var a=r("9845"),o=r("5b68"),i=r("dfb3"),s=r("ac87"),l=r("82b5"),c=r("9092").extendFlat,u=a({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});u.family.dflt='"Open Sans", verdana, arial, sans-serif',u.size.dflt=12,u.color.dflt=i.defaultLine,e.exports={font:u,title:{text:{valType:"string",role:"info",editType:"layoutstyle",description:["Sets the plot's title.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:a({editType:"layoutstyle",description:["Sets the title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],role:"info",editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],role:"info",editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,role:"style",editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",role:"style",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],role:"info",editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],role:"info",editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:c(l({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,role:"info",editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,role:"info",editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",role:"info",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",role:"info",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",role:"info",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",role:"info",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",role:"info",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",role:"info",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",role:"info",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",role:"info",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",role:"style",dflt:i.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",role:"style",dflt:i.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",role:"info",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",role:"style",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",role:"info",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",role:"info",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:i.defaults,role:"style",editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",role:"info",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",role:"info",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},modebar:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",role:"info",editType:"modebar",description:"Sets the orientation of the modebar."},bgcolor:{valType:"color",role:"style",editType:"modebar",description:"Sets the background color of the modebar."},color:{valType:"color",role:"style",editType:"modebar",description:"Sets the color of the icons in the modebar."},activecolor:{valType:"color",role:"style",editType:"modebar",description:"Sets the color of the active or hovered on icons in the modebar."},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes related to the modebar,","including `hovermode`, `dragmode`, and `showspikes` at both the","root level and inside subplots. Defaults to `layout.uirevision`."].join(" ")},editType:"modebar"},newshape:s.newshape,activeshape:s.activeshape,meta:{valType:"any",arrayOk:!0,role:"info",editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:c({},o.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"}),_deprecated:{title:{valType:"string",role:"info",editType:"layoutstyle",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the contents of the title, please use `title.text` now."].join(" ")},titlefont:a({editType:"layoutstyle",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}}},a691:function(e,n){var r=Math.ceil,a=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?a:r)(e)}},a6dc:function(e,n){e.exports=function BuildLog(){var e,n=0,r=!1;function push(n,r){return e.list.push({type:n,data:r?JSON.parse(JSON.stringify(r)):void 0}),e}return e={list:[],segmentId:function(){return n++},checkIntersection:function(e,n){return push("check",{seg1:e,seg2:n})},segmentChop:function(e,n){return push("div_seg",{seg:e,pt:n}),push("chop",{seg:e,pt:n})},statusRemove:function(e){return push("pop_seg",{seg:e})},segmentUpdate:function(e){return push("seg_update",{seg:e})},segmentNew:function(e,n){return push("new_seg",{seg:e,primary:n})},segmentRemove:function(e){return push("rem_seg",{seg:e})},tempStatus:function(e,n,r){return push("temp_status",{seg:e,above:n,below:r})},rewind:function(e){return push("rewind",{seg:e})},status:function(e,n,r){return push("status",{seg:e,above:n,below:r})},vert:function(n){return n===r?e:(r=n,push("vert",{x:n}))},log:function(e){return"string"!=typeof e&&(e=JSON.stringify(e,!1,"  ")),push("log",{txt:e})},reset:function(){return push("reset")},selected:function(e){return push("selected",{segs:e})},chainStart:function(e){return push("chain_start",{seg:e})},chainRemoveHead:function(e,n){return push("chain_rem_head",{index:e,pt:n})},chainRemoveTail:function(e,n){return push("chain_rem_tail",{index:e,pt:n})},chainNew:function(e,n){return push("chain_new",{pt1:e,pt2:n})},chainMatch:function(e){return push("chain_match",{index:e})},chainClose:function(e){return push("chain_close",{index:e})},chainAddHead:function(e,n){return push("chain_add_head",{index:e,pt:n})},chainAddTail:function(e,n){return push("chain_add_tail",{index:e,pt:n})},chainConnect:function(e,n){return push("chain_con",{index1:e,index2:n})},chainReverse:function(e){return push("chain_rev",{index:e})},chainJoin:function(e,n){return push("chain_join",{index1:e,index2:n})},done:function(){return push("done")}}}},a708:function(e,n,r){"use strict";var a=r("d115"),o=r("59e0").castOption;e.exports=function styleOne(e,n,r){var i=r.marker.line,s=o(i.color,n.pts)||a.defaultLine,l=o(i.width,n.pts)||0;e.style("stroke-width",l).call(a.fill,n.color).call(a.stroke,s)}},a742:function(e,n,r){"use strict";n.__esModule=!0,n.isString=function isString(e){return"[object String]"===Object.prototype.toString.call(e)},n.isObject=function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)},n.isHtmlElement=function isHtmlElement(e){return e&&e.nodeType===Node.ELEMENT_NODE};n.isFunction=function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)},n.isUndefined=function isUndefined(e){return void 0===e},n.isDefined=function isDefined(e){return null!=e}},a780:function(e,n,r){"use strict";r.d(n,"a",(function(){return i}));var a=r("0280"),o=r("a3f7");const i=async function whereAsync_(e){const n=Object(o.a)(e,"condition","whereAsync","bool"),r=await n.data(),i=Object(a.a)(n.shape,r);return e!==n&&n.dispose(),i}},a79d:function(e,n,r){"use strict";var a=r("23e7"),o=r("c430"),i=r("fea9"),s=r("d039"),l=r("d066"),c=r("4840"),u=r("cdf9"),d=r("6eeb");a({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var n=c(this,l("Promise")),r="function"==typeof e;return this.then(r?function(r){return u(n,e()).then((function(){return r}))}:e,r?function(r){return u(n,e()).then((function(){throw r}))}:e)}}),o||"function"!=typeof i||i.prototype.finally||d(i.prototype,"finally",l("Promise").prototype.finally)},a7de:function(e,n,r){"use strict";var a=r("371e");e.exports=function containerArrayMatch(e){for(var n,r,o=a.layoutArrayContainers,i=a.layoutArrayRegexes,s=e.split("[")[0],l=0;l<i.length;l++)if((r=e.match(i[l]))&&0===r.index){n=r[0];break}if(n||(n=o[o.indexOf(s)]),!n)return!1;var c=e.substr(n.length);return c?!!(r=c.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:n,index:Number(r[1]),property:r[3]||""}:{array:n,index:"",property:""}}},a80f:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},a876:function(e,n,r){"use strict";var a=r("a462");e.exports={type:{valType:"enumerated",role:"info",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],role:"info",dflt:!0,editType:"calc",description:["Determines whether or not this trace is visible.","If *legendonly*, the trace is not drawn,","but can appear as a legend item","(provided that the legend itself is visible)."].join(" ")},showlegend:{valType:"boolean",role:"info",dflt:!0,editType:"style",description:["Determines whether or not an item corresponding to this","trace is shown in the legend."].join(" ")},legendgroup:{valType:"string",role:"info",dflt:"",editType:"style",description:["Sets the legend group for this trace.","Traces part of the same legend group hide/show at the same time","when toggling legend items."].join(" ")},opacity:{valType:"number",role:"style",min:0,max:1,dflt:1,editType:"style",description:"Sets the opacity of the trace."},name:{valType:"string",role:"info",editType:"style",description:["Sets the trace name.","The trace name appear as the legend item and on hover."].join(" ")},uid:{valType:"string",role:"info",editType:"plot",anim:!0,description:["Assign an id to this trace,","Use this to provide object constancy between traces during animations","and transitions."].join(" ")},ids:{valType:"data_array",editType:"calc",anim:!0,description:["Assigns id labels to each datum.","These ids for object constancy of data points during animation.","Should be an array of strings, not numbers or any other type."].join(" ")},customdata:{valType:"data_array",editType:"calc",description:["Assigns extra data each datum.","This may be useful when listening to hover, click and selection events.","Note that, *scatter* traces also appends customdata items in the markers","DOM elements"].join(" ")},meta:{valType:"any",arrayOk:!0,role:"info",editType:"plot",description:["Assigns extra meta information associated with this trace","that can be used in various text attributes.","Attributes such as trace `name`, graph, axis and colorbar `title.text`, annotation `text`","`rangeselector`, `updatemenues` and `sliders` `label` text","all support `meta`.","To access the trace `meta` values in an attribute in the same trace, simply use","`%{meta[i]}` where `i` is the index or key of the `meta`","item in question.","To access trace `meta` in layout attributes, use","`%{data[n[.meta[i]}` where `i` is the index or key of the `meta`","and `n` is the trace index."].join(" ")},selectedpoints:{valType:"any",role:"info",editType:"calc",description:["Array containing integer indices of selected points.","Has an effect only for traces that support selections.","Note that an empty array means an empty selection where the `unselected`","are turned on for all points, whereas, any other non-array values means no","selection all where the `selected` and `unselected` styles have no effect."].join(" ")},hoverinfo:{valType:"flaglist",role:"info",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none",description:["Determines which trace information appear on hover.","If `none` or `skip` are set, no information is displayed upon hovering.","But, if `none` is set, click and hover events are still fired."].join(" ")},hoverlabel:a.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,role:"info",editType:"calc",description:["The stream id number links a data trace on a plot with a stream.","See https://chart-studio.plotly.com/settings for more details."].join(" ")},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,role:"info",editType:"calc",description:["Sets the maximum number of points to keep on the plots from an","incoming stream.","If `maxpoints` is set to *50*, only the newest 50 points will","be displayed on the plot."].join(" ")},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc",description:["An array of operations that manipulate the trace data,","for example filtering or sorting the data arrays."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of some user-driven changes to the trace:","`constraintrange` in `parcoords` traces, as well as some","`editable: true` modifications such as `name` and `colorbar.title`.","Defaults to `layout.uirevision`.","Note that other user-driven trace attribute changes are controlled","by `layout` attributes:","`trace.visible` is controlled by `layout.legend.uirevision`,","`selectedpoints` is controlled by `layout.selectionrevision`,","and `colorbar.(x|y)` (accessible with `config: {editable: true}`)","is controlled by `layout.editrevision`.","Trace changes are tracked by `uid`, which only falls back on trace","index if no `uid` is provided. So if your app can add/remove traces","before the end of the `data` array, such that the same trace has a","different index, you can still preserve user-driven changes if you","give each trace a `uid` that stays with it as it moves."].join(" ")}}},a935:function(e,n,r){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},a9cb:function(e,n,r){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string",role:"info",description:["An identifier that specifies the group to which the frame belongs,","used by animate to select a subset of frames."].join(" ")},name:{valType:"string",role:"info",description:"A label by which to identify the frame"},traces:{valType:"any",role:"info",description:["A list of trace indices that identify the respective traces in the","data attribute"].join(" ")},baseframe:{valType:"string",role:"info",description:["The name of the frame into which this frame's properties are merged","before applying. This is used to unify properties and avoid needing","to specify the same values for the same properties in multiple frames."].join(" ")},data:{valType:"any",role:"object",description:["A list of traces this frame modifies. The format is identical to the","normal trace definition."].join(" ")},layout:{valType:"any",role:"object",description:["Layout properties which this frame modifies. The format is identical","to the normal layout definition."].join(" ")}}},a9e3:function(e,n,r){"use strict";var a=r("83ab"),o=r("da84"),i=r("94ca"),s=r("6eeb"),l=r("5135"),c=r("c6b6"),u=r("7156"),d=r("c04ea"),p=r("d039"),f=r("7c73"),h=r("241c").f,m=r("06cf").f,g=r("9bf2").f,y=r("58a8").trim,b="Number",x=o.Number,_=x.prototype,w=c(f(_))==b,toNumber=function(e){var n,r,a,o,i,s,l,c,u=d(e,!1);if("string"==typeof u&&u.length>2)if(43===(n=(u=y(u)).charCodeAt(0))||45===n){if(88===(r=u.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(s=(i=u.slice(2)).length,l=0;l<s;l++)if((c=i.charCodeAt(l))<48||c>o)return NaN;return parseInt(i,a)}return+u};if(i(b,!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var k,T=function Number(e){var n=arguments.length<1?0:e,r=this;return r instanceof T&&(w?p((function(){_.valueOf.call(r)})):c(r)!=b)?u(new x(toNumber(n)),r,T):toNumber(n)},S=a?h(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),O=0;S.length>O;O++)l(x,k=S[O])&&!l(T,k)&&g(T,k,m(x,k));T.prototype=_,_.constructor=T,s(o,b,T)}},a9e4:function(e,n,r){"use strict";var a=r("3c1c"),o=r("de81"),i=r("371e"),s=r("c4c7").isUnifiedHover,l=r("1bbe"),c=r("13c4");e.exports=function manageModeBar(e){var n=e._fullLayout,r=e._context,d=n._modeBar;if(r.displayModeBar||r.watermark){if(!Array.isArray(r.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(r.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p,f=r.modeBarButtons;p=Array.isArray(f)&&f.length?function fillCustomButton(e){for(var n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.length;a++){var o=r[a];if("string"==typeof o){if(void 0===c[o])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));e[n][a]=c[o]}}return e}(f):!r.displayModeBar&&r.watermark?[]:function getButtonGroups(e){var n=e._fullLayout,r=e._fullData,l=e._context,d=l.modeBarButtonsToRemove,p=l.modeBarButtonsToAdd,f=n._has("cartesian"),h=n._has("gl3d"),m=n._has("geo"),g=n._has("pie"),y=n._has("funnelarea"),b=n._has("gl2d"),x=n._has("ternary"),_=n._has("mapbox"),w=n._has("polar"),k=n._has("sankey"),T=function areAllAxesFixed(e){for(var n=a.list({_fullLayout:e},null,!0),r=0;r<n.length;r++)if(!n[r].fixedrange)return!1;return!0}(n),S=s(n.hovermode),O=[];function addGroup(e){if(e.length){for(var n=[],r=0;r<e.length;r++){var a=e[r];-1===d.indexOf(a)&&n.push(c[a])}O.push(n)}}var C=["toImage"];l.showEditInChartStudio?C.push("editInChartStudio"):l.showSendToCloud&&C.push("sendDataToCloud");addGroup(C);var A=[],I=[],N=[],M=[];(f||b||g||y||x)+m+h+_+w>1?(I=["toggleHover"],N=["resetViews"]):m?(A=["zoomInGeo","zoomOutGeo"],I=["hoverClosestGeo"],N=["resetGeo"]):h?(I=["hoverClosest3d"],N=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(A=["zoomInMapbox","zoomOutMapbox"],I=["toggleHover"],N=["resetViewMapbox"]):b?I=["hoverClosestGl2d"]:g?I=["hoverClosestPie"]:k?(I=["hoverClosestCartesian","hoverCompareCartesian"],N=["resetViewSankey"]):I=["toggleHover"];f&&(I=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]);(function hasNoHover(e){for(var n=0;n<e.length;n++)if(!i.traceIs(e[n],"noHover"))return!1;return!0}(r)||S)&&(I=[]);!f&&!b||T||(A=["zoomIn2d","zoomOut2d","autoScale2d"],"resetViews"!==N[0]&&(N=["resetScale2d"]));h?M=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||b)&&!T||x?M=["zoom2d","pan2d"]:_||m?M=["pan2d"]:w&&(M=["zoom2d"]);(function isSelectable(e){for(var n=!1,r=0;r<e.length&&!n;r++){var a=e[r];a._module&&a._module.selectPoints&&(i.traceIs(a,"scatter-like")?(o.hasMarkers(a)||o.hasText(a))&&(n=!0):i.traceIs(a,"box-violin")&&"all"!==a.boxpoints&&"all"!==a.points||(n=!0))}return n})(r)&&M.push("select2d","lasso2d");if(Array.isArray(p)){for(var E=[],D=0;D<p.length;D++){var j=p[D];"string"==typeof j?-1!==u.indexOf(j)&&(n._has("mapbox")||n._has("cartesian"))&&M.push(j):E.push(j)}p=E}return addGroup(M),addGroup(A.concat(N)),addGroup(I),function appendButtonsToGroups(e,n){if(n.length)if(Array.isArray(n[0]))for(var r=0;r<n.length;r++)e.push(n[r]);else e.push(n);return e}(O,p)}(e),d?d.update(e,p):n._modeBar=l(e,p)}else d&&(d.destroy(),delete n._modeBar)};var u=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"]},aa8a:function(e,n,r){"use strict";e.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},ac1f:function(e,n,r){"use strict";var a=r("23e7"),o=r("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},ac33:function(e,n,r){"use strict";var a=r("fc26").strTranslate;function p2r(e,n){switch(e.type){case"log":return e.p2d(n);case"date":return e.p2r(n,0,e.calendar);default:return e.p2r(n)}}e.exports={p2r:p2r,r2p:function r2p(e,n){switch(e.type){case"log":return e.d2p(n);case"date":return e.r2p(n,0,e.calendar);default:return e.r2p(n)}},axValue:function axValue(e){var n="y"===e._id.charAt(0)?1:0;return function(r){return p2r(e,r[n])}},getTransform:function getTransform(e){return a(e.xaxis._offset,e.yaxis._offset)}}},ac87:function(e,n,r){"use strict";var a=r("db54").dash,o=r("9092").extendFlat;e.exports={newshape:{line:{color:{valType:"color",editType:"none",role:"info",description:["Sets the line color.","By default uses either dark grey or white","to increase contrast with background color."].join(" ")},width:{valType:"number",min:0,dflt:4,role:"info",editType:"none",description:"Sets the line width (in px)."},dash:o({},a,{dflt:"solid",editType:"none"}),role:"info",editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"info",editType:"none",description:["Sets the color filling new shapes' interior.","Please note that if using a fillcolor with alpha greater than half,","drag inside the active shape starts moving the shape underneath,","otherwise a new shape could be started over."].join(" ")},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",role:"info",editType:"none",description:["Determines the path's interior.","For more info please visit https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"info",editType:"none",description:"Sets the opacity of new shapes."},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"none",description:"Specifies whether new shapes are drawn below or above traces."},drawdirection:{valType:"enumerated",role:"info",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none",description:["When `dragmode` is set to *drawrect*, *drawline* or *drawcircle*","this limits the drag to be horizontal, vertical or diagonal.","Using *diagonal* there is no limit e.g. in drawing lines in any direction.","*ortho* limits the draw to be either horizontal or vertical.","*horizontal* allows horizontal extend.","*vertical* allows vertical extend."].join(" ")},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",role:"style",editType:"none",description:"Sets the color filling the active shape' interior."},opacity:{valType:"number",min:0,max:1,dflt:.5,role:"info",editType:"none",description:"Sets the opacity of the active shape."},editType:"none"}}},ac97:function(e,n,r){"use strict";var a=r("a5c4"),o=r("371e"),i=r("d115"),s=r("fc26").fillText,l=r("6833").getLineWidth,c=r("0642").hoverLabelText,u=r("e806").BADNUM;function hoverOnBars(e,n,r,o){var i,l,d,p,f,h,m,g=e.cd,y=g[0].trace,b=g[0].t,x="closest"===o,_="waterfall"===y.type,w=e.maxHoverDistance;function thisBarMinPos(e){return e[d]-e.w/2}function thisBarMaxPos(e){return e[d]+e.w/2}var k=x?thisBarMinPos:function(e){return Math.min(thisBarMinPos(e),e.p-b.bardelta/2)},T=x?thisBarMaxPos:function(e){return Math.max(thisBarMaxPos(e),e.p+b.bardelta/2)};function _positionFn(e,n){return a.inbox(e-i,n-i,w+Math.min(1,Math.abs(n-e)/m)-1)}function positionFn(e){return _positionFn(k(e),T(e))}function sizeFn(e){var n=l,r=e.b,o=e[p];if(_){var i=Math.abs(e.rawS)||0;n>0?o+=i:n<0&&(o-=i)}return a.inbox(r-n,o-n,w+(o-n)/(o-r)-1)}"h"===y.orientation?(i=r,l=n,d="y",p="x",f=sizeFn,h=positionFn):(i=n,l=r,d="x",p="y",h=sizeFn,f=positionFn);var S=e[d+"a"],O=e[p+"a"];m=Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0]));var C=a.getDistanceFunction(o,f,h,(function dxy(e){return(f(e)+h(e))/2}));if(a.getClosest(g,C,e),!1!==e.index&&g[e.index].p!==u){x||(k=function(e){return Math.min(thisBarMinPos(e),e.p-b.bargroupwidth/2)},T=function(e){return Math.max(thisBarMaxPos(e),e.p+b.bargroupwidth/2)});var A=g[e.index],I=y.base?A.b+A.s:A.s;e[p+"0"]=e[p+"1"]=O.c2p(A[p],!0),e[p+"LabelVal"]=I;var N=b.extents[b.extents.round(A.p)];e[d+"0"]=S.c2p(x?k(A):N[0],!0),e[d+"1"]=S.c2p(x?T(A):N[1],!0);var M=void 0!==A.orig_p;return e[d+"LabelVal"]=M?A.orig_p:A.p,e.labelLabel=c(S,e[d+"LabelVal"]),e.valueLabel=c(O,e[p+"LabelVal"]),e.baseLabel=c(O,A.b),e.spikeDistance=(sizeFn(A)+function thisBarPositionFn(e){return _positionFn(thisBarMinPos(e),thisBarMaxPos(e))}(A))/2-w,e[d+"Spike"]=S.c2p(A.p,!0),s(A,y,e),e.hovertemplate=y.hovertemplate,e}}function getTraceColor(e,n){var r=n.mcc||e.marker.color,a=n.mlcc||e.marker.line.color,o=l(e,n);return i.opacity(r)?r:i.opacity(a)&&o?a:void 0}e.exports={hoverPoints:function hoverPoints(e,n,r,a){var i=hoverOnBars(e,n,r,a);if(i){var s=i.cd,l=s[0].trace,c=s[i.index];return i.color=getTraceColor(l,c),o.getComponentMethod("errorbars","hoverInfo")(c,l,i),[i]}},hoverOnBars:hoverOnBars,getTraceColor:getTraceColor}},ad3d:function(e,n,r){"use strict";(function(e){r.d(n,"a",(function(){return u}));var a=r("ecee"),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var i=function createCommonjsModule(e,n){return e(n={exports:{}},n.exports),n.exports}((function(e){!function(n){var _processKeys=function(e,n,r){if(!_isObject(n)||_isDate(n)||_isRegExp(n)||_isBoolean(n)||_isFunction(n))return n;var a,o=0,i=0;if(_isArray(n))for(a=[],i=n.length;o<i;o++)a.push(_processKeys(e,n[o],r));else for(var s in a={},n)Object.prototype.hasOwnProperty.call(n,s)&&(a[e(s,r)]=_processKeys(e,n[s],r));return a},camelize=function(e){return _isNumerical(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,n){return n?n.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1)},pascalize=function(e){var n=camelize(e);return n.substr(0,1).toUpperCase()+n.substr(1)},decamelize=function(e,n){return function(e,n){var r=(n=n||{}).separator||"_",a=n.split||/(?=[A-Z])/;return e.split(a).join(r)}(e,n).toLowerCase()},r=Object.prototype.toString,_isFunction=function(e){return"function"==typeof e},_isObject=function(e){return e===Object(e)},_isArray=function(e){return"[object Array]"==r.call(e)},_isDate=function(e){return"[object Date]"==r.call(e)},_isRegExp=function(e){return"[object RegExp]"==r.call(e)},_isBoolean=function(e){return"[object Boolean]"==r.call(e)},_isNumerical=function(e){return(e-=0)==e},_processor=function(e,n){var r=n&&"process"in n?n.process:n;return"function"!=typeof r?e:function(n,a){return r(n,e,a)}},a={camelize:camelize,decamelize:decamelize,pascalize:pascalize,depascalize:decamelize,camelizeKeys:function(e,n){return _processKeys(_processor(camelize,n),e)},decamelizeKeys:function(e,n){return _processKeys(_processor(decamelize,n),e,n)},pascalizeKeys:function(e,n){return _processKeys(_processor(pascalize,n),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=a:n.humps=a}(o)})),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},defineProperty=function(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},objectWithoutProperties=function(e,n){var r={};for(var a in e)n.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r};function styleToObject(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,n){var r=n.indexOf(":"),a=i.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return e[a]=o,e}),{})}function classToObject(e){return e.split(/\s+/).reduce((function(e,n){return e[n]=!0,e}),{})}function combineClassObjects(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n){return Array.isArray(n)?e=e.concat(n):e.push(n),e}),[])}function convert(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(n.children||[]).map(convert.bind(null,e)),i=Object.keys(n.attributes||{}).reduce((function(e,r){var a=n.attributes[r];switch(r){case"class":e.class=classToObject(a);break;case"style":e.style=styleToObject(a);break;default:e.attrs[r]=a}return e}),{class:{},style:{},attrs:{}}),s=a.class,c=void 0===s?{}:s,u=a.style,d=void 0===u?{}:u,p=a.attrs,f=void 0===p?{}:p,h=objectWithoutProperties(a,["class","style","attrs"]);return"string"==typeof n?n:e(n.tag,l({class:combineClassObjects(i.class,c),style:l({},i.style,d),attrs:l({},i.attrs,f)},h,{props:r}),o)}var c=!1;try{c=!0}catch(d){}function objectWithKey(e,n){return Array.isArray(n)&&n.length>0||!Array.isArray(n)&&n?defineProperty({},e,n):{}}function normalizeIconArgs(e){return null===e?null:"object"===(void 0===e?"undefined":s(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}var u={name:"FontAwesomeIcon",functional:!0,props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function validator(e){return["horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function validator(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function validator(e){return[90,180,270].indexOf(parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function validator(e){return["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},render:function render(e,n){var r=n.props,o=r.icon,i=r.mask,s=r.symbol,u=r.title,d=normalizeIconArgs(o),p=objectWithKey("classes",function classList(e){var n,r=(n={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},defineProperty(n,"fa-"+e.size,null!==e.size),defineProperty(n,"fa-rotate-"+e.rotation,null!==e.rotation),defineProperty(n,"fa-pull-"+e.pull,null!==e.pull),defineProperty(n,"fa-swap-opacity",e.swapOpacity),n);return Object.keys(r).map((function(e){return r[e]?e:null})).filter((function(e){return e}))}(r)),f=objectWithKey("transform","string"==typeof r.transform?a.d.transform(r.transform):r.transform),h=objectWithKey("mask",normalizeIconArgs(i)),m=Object(a.b)(d,l({},p,f,h,{symbol:s,title:u}));if(!m)return function log(){var e;!c&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find one or more icon(s)",d,h);var g=m.abstract;return convert.bind(null,e)(g[0],{},n.data)}};Boolean,Boolean}).call(this,r("c8ba"))},ad62:function(e,n,r){"use strict";var a=r("371e"),o=r("d301").SUBPLOT_PATTERN;n.getSubplotCalcData=function(e,n,r){var o=a.subplotsRegistry[n];if(!o)return[];for(var i=o.attr,s=[],l=0;l<e.length;l++){var c=e[l];c[0].trace[i]===r&&s.push(c)}return s},n.getModuleCalcData=function(e,n){var r,o=[],i=[];if(!(r="string"==typeof n?a.getModule(n).plot:"function"==typeof n?n:n.plot))return[o,e];for(var s=0;s<e.length;s++){var l=e[s],c=l[0].trace;!0===c.visible&&0!==c._length&&(c._module.plot===r?o.push(l):i.push(l))}return[o,i]},n.getSubplotData=function getSubplotData(e,n,r){if(!a.subplotsRegistry[n])return[];var i,s,l,c=a.subplotsRegistry[n].attr,u=[];if("gl2d"===n){var d=r.match(o);s="x"+d[1],l="y"+d[2]}for(var p=0;p<e.length;p++)i=e[p],"gl2d"===n&&a.traceIs(i,"gl2d")?i[c[0]]===s&&i[c[1]]===l&&u.push(i):i[c]===r&&u.push(i);return u}},ad6d:function(e,n,r){"use strict";var a=r("825a");e.exports=function(){var e=a(this),n="";return e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.sticky&&(n+="y"),n}},ad91:function(e,n,r){"use strict";var a=r("fc26"),o=r("a288"),i=r("e8cf"),s=r("4248");e.exports=function downloadImage(e,n){var r;return a.isPlainObject(e)||(r=a.getGraphDiv(e)),(n=n||{}).format=n.format||"png",n.width=n.width||null,n.height=n.height||null,n.imageDataOnly=!0,new Promise((function(l,c){r&&r._snapshotInProgress&&c(new Error("Snapshotting already in progress.")),a.isIE()&&"svg"!==n.format&&c(new Error(s.MSG_IE_BAD_FORMAT)),r&&(r._snapshotInProgress=!0);var u=o(e,n),d=n.filename||e.fn||"newplot";d+="."+n.format.replace("-","."),u.then((function(e){return r&&(r._snapshotInProgress=!1),i(e,d,n.format)})).then((function(e){l(e)})).catch((function(e){r&&(r._snapshotInProgress=!1),c(e)}))}))}},ae13:function(e,n,r){"use strict";var a=r("3ff5").dfltConfig,o=r("0082"),i=e.exports={};function apply(e,n){if(e&&e.apply)try{return void e.apply(console,n)}catch(a){}for(var r=0;r<n.length;r++)try{e(n[r])}catch(a){console.log(n[r])}}i.log=function(){var e;if(a.logging>1){var n=["LOG:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);apply(console.trace||console.log,n)}if(a.notifyOnLogging>1){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);o(r.join("<br>"),"long")}},i.warn=function(){var e;if(a.logging>0){var n=["WARN:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);apply(console.trace||console.log,n)}if(a.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);o(r.join("<br>"),"stick")}},i.error=function(){var e;if(a.logging>0){var n=["ERROR:"];for(e=0;e<arguments.length;e++)n.push(arguments[e]);apply(console.error,n)}if(a.notifyOnLogging>0){var r=[];for(e=0;e<arguments.length;e++)r.push(arguments[e]);o(r.join("<br>"),"stick")}}},ae6d:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({min_:function min_(e,n=null,r=!1){const s={x:Object(i.a)(e,"x","min")},l={axis:n,keepDims:r};return a.a.runKernel(o.Pb,s,l)}})},ae93:function(e,n,r){"use strict";var a,o,i,s=r("d039"),l=r("e163"),c=r("9112"),u=r("5135"),d=r("b622"),p=r("c430"),f=d("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(a=o):h=!0);var m=null==a||s((function(){var e={};return a[f].call(e)!==e}));m&&(a={}),p&&!m||u(a,f)||c(a,f,(function(){return this})),e.exports={IteratorPrototype:a,BUGGY_SAFARI_ITERATORS:h}},aeab:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},af50:function(e,n,r){"use strict";e.exports={attributes:r("40c0"),layoutAttributes:r("37e3"),supplyDefaults:r("11e1"),crossTraceDefaults:r("722f"),supplyLayoutDefaults:r("ed16"),calc:r("0c39").calc,crossTraceCalc:r("0cec").crossTraceCalc,plot:r("c791").plot,layerName:"barlayer",style:r("2df3").style,styleOnSelect:r("2df3").styleOnSelect,colorbar:r("f3cf"),hoverPoints:r("e5d7"),selectPoints:r("7000"),eventData:r("6f09"),moduleType:"trace",name:"histogram",basePlotModule:r("91cd"),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{description:["The sample data from which statistics are computed is set in `x`","for vertically spanning histograms and","in `y` for horizontally spanning histograms.","Binning options are set `xbins` and `ybins` respectively","if no aggregation data is provided."].join(" ")}}},afda:function(e,n,r){"use strict";r.d(n,"a",(function(){return m}));var a=r("a3f7"),o=r("6ad5"),i=r("9117"),s=r("36e5"),l=r("4f20"),c=r("1359"),u=r("c021"),d=r("54ef"),p=r("35c9"),f=r("a009"),h=r("e053");const m=Object(d.a)({logSumExp_:function logSumExp_(e,n=null,r=!1){const d=Object(a.a)(e,"x","logSumExp"),m=Object(o.I)(n,d.shape),g=Object(u.a)(d,m,!0),y=Object(f.a)(d,g),b=Object(l.a)(y),x=Object(h.a)(b,m),_=Object(c.a)(x),w=Object(i.a)(Object(p.a)(g,_.shape),_);if(r){const e=Object(s.e)(w.shape,m);return Object(p.a)(w,e)}return w}})},afdd:function(e,n,r){"use strict";var a=r("6e58"),o=r("d115");e.exports=function style(e){e.each((function(e){var n=e[0].trace,r=n.error_y||{},i=n.error_x||{},s=a.select(this);s.selectAll("path.yerror").style("stroke-width",r.thickness+"px").call(o.stroke,r.color),i.copy_ystyle&&(i=r),s.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(o.stroke,i.color)}))}},b041:function(e,n,r){"use strict";var a=r("00ee"),o=r("f5df");e.exports=a?{}.toString:function toString(){return"[object "+o(this)+"]"}},b0c0:function(e,n,r){var a=r("83ab"),o=r("9bf2").f,i=Function.prototype,s=i.toString,l=/^\s*function ([^ (]*)/,c="name";a&&!(c in i)&&o(i,c,{configurable:!0,get:function(){try{return s.call(this).match(l)[1]}catch(e){return""}}})},b19b:function(e,n,r){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},b1c9:function(e,n){e.exports=function determinant(e){var n=e[0],r=e[1],a=e[2],o=e[3],i=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],p=e[10],f=e[11],h=e[12],m=e[13],g=e[14],y=e[15];return(n*s-r*i)*(p*y-f*g)-(n*l-a*i)*(d*y-f*m)+(n*c-o*i)*(d*g-p*m)+(r*l-a*s)*(u*y-f*h)-(r*c-o*s)*(u*g-p*h)+(a*c-o*l)*(u*m-d*h)}},b21c:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({lessEqual_:function lessEqual_(e,n){let r=Object(s.a)(e,"a","lessEqual"),c=Object(s.a)(n,"b","lessEqual");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.zb,u)}})},b333:function(e,n,r){"use strict";r.d(n,"a",(function(){return Environment})),r.d(n,"b",(function(){return env})),r.d(n,"c",(function(){return setEnvironmentGlobal}));var a=r("6ad5");const o="tfjsflags";class Environment{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}setPlatform(e,n){null!=this.platform&&console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${n}.`),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},null!=this.urlFlags[e]){const n=this.urlFlags[e];console.warn(`Setting feature override from URL ${e}: ${n}.`),this.set(e,n)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Object(a.x)(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=function getQueryParams(e){const n={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...r)=>(function decodeParam(e,n,r){e[decodeURIComponent(n)]=decodeURIComponent(r||"")}(n,r[0],r[1]),r.join("=")))),n}(this.global.location.search);if(o in e){e.tfjsflags.split(",").forEach((e=>{const[n,r]=e.split(":");this.urlFlags[n]=function parseValue(e,n){if("true"===(n=n.toLowerCase())||"false"===n)return"true"===n;if(""+ +n===n)return+n;throw new Error(`Could not parse value flag value ${n} for flag ${e}.`)}(n,r)}))}}}function env(){return i}let i=null;function setEnvironmentGlobal(e){i=e}},b34d:function(e,n,r){"use strict";var a=r("e440"),o=r("52d8"),i=o.CIRCLE_SIDES,s=o.SQRT2,l=r("ac33"),c=l.p2r,u=l.r2p,d=[0,3,4,5,6,1,2],p=[0,3,4,1,2];function almostEq(e,n){return Math.abs(e-n)<=1e-6}function dist(e,n){var r=n[1]-e[1],a=n[2]-e[2];return Math.sqrt(r*r+a*a)}n.writePaths=function(e){var n=e.length;if(!n)return"M0,0Z";for(var r="",a=0;a<n;a++)for(var o=e[a].length,i=0;i<o;i++){var s=e[a][i][0];if("Z"===s)r+="Z";else for(var l=e[a][i].length,c=0;c<l;c++){var u=c;"Q"===s||"S"===s?u=p[c]:"C"===s&&(u=d[c]),r+=e[a][i][u],c>0&&c<l-1&&(r+=",")}}return r},n.readPaths=function(e,n,r,o){var s,l,d,p=a(e),f=[],h=-1,m=0,g=0,recStart=function(){l=m,d=g};recStart();for(var y=0;y<p.length;y++){var b,x,_,w,k=[],T=p[y][0],S=T;switch(T){case"M":h++,f[h]=[],m=+p[y][1],g=+p[y][2],k.push([S,m,g]),recStart();break;case"Q":case"S":b=+p[y][1],_=+p[y][2],m=+p[y][3],g=+p[y][4],k.push([S,m,g,b,_]);break;case"C":b=+p[y][1],_=+p[y][2],x=+p[y][3],w=+p[y][4],m=+p[y][5],g=+p[y][6],k.push([S,m,g,b,_,x,w]);break;case"T":case"L":m=+p[y][1],g=+p[y][2],k.push([S,m,g]);break;case"H":S="L",m=+p[y][1],k.push([S,m,g]);break;case"V":S="L",g=+p[y][1],k.push([S,m,g]);break;case"A":S="L";var O=+p[y][1],C=+p[y][2];+p[y][4]||(O=-O,C=-C);var A=m-O,I=g;for(s=1;s<=i/2;s++){var N=2*Math.PI*s/i;k.push([S,A+O*Math.cos(N),I+C*Math.sin(N)])}break;case"Z":m===l&&g===d||(m=l,g=d,k.push([S,m,g]))}for(var M=(r||{}).domain,E=n._fullLayout._size,D=r&&"pixel"===r.xsizemode,j=r&&"pixel"===r.ysizemode,R=!1===o,L=0;L<k.length;L++){for(s=0;s+2<7;s+=2){var z=k[L][s+1],$=k[L][s+2];void 0!==z&&void 0!==$&&(m=z,g=$,r&&(r.xaxis&&r.xaxis.p2r?(R&&(z-=r.xaxis._offset),z=D?u(r.xaxis,r.xanchor)+z:c(r.xaxis,z)):(R&&(z-=E.l),M?z=M.x[0]+z/E.w:z/=E.w),r.yaxis&&r.yaxis.p2r?(R&&($-=r.yaxis._offset),$=j?u(r.yaxis,r.yanchor)-$:c(r.yaxis,$)):(R&&($-=E.t),$=M?M.y[1]-$/E.h:1-$/E.h)),k[L][s+1]=z,k[L][s+2]=$)}f[h].push(k[L].slice())}}return f},n.pointsShapeRectangle=function(e){if(5!==e.length)return!1;for(var n=1;n<3;n++){if(!almostEq(e[0][n]-e[1][n],e[3][n]-e[2][n]))return!1;if(!almostEq(e[0][n]-e[3][n],e[1][n]-e[2][n]))return!1}return!(!almostEq(e[0][1],e[1][1])&&!almostEq(e[0][1],e[3][1]))&&!!(dist(e[0],e[1])*dist(e[0],e[3]))},n.pointsShapeEllipse=function(e){var n=e.length;if(n!==i+1)return!1;n=i;for(var r=0;r<n;r++){var a=(2*n-r)%n,o=(n/2+a)%n,s=(n/2+r)%n;if(!almostEq(dist(e[r],e[s]),dist(e[a],e[o])))return!1}return!0},n.handleEllipse=function(e,r,a){if(!e)return[r,a];var o=n.ellipseOver({x0:r[0],y0:r[1],x1:a[0],y1:a[1]}),l=(o.x1+o.x0)/2,c=(o.y1+o.y0)/2,u=(o.x1-o.x0)/2,d=(o.y1-o.y0)/2;u||(u=d/=s),d||(d=u/=s);for(var p=[],f=0;f<i;f++){var h=2*f*Math.PI/i;p.push([l+u*Math.cos(h),c+d*Math.sin(h)])}return p},n.ellipseOver=function(e){var n=e.x0,r=e.y0,a=e.x1,o=e.y1,i=a-n,l=o-r,c=((n-=i)+a)/2,u=((r-=l)+o)/2;return{x0:c-(i*=s),y0:u-(l*=s),x1:c+i,y1:u+l}}},b39e:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({selu_:function selu_(e){const n={x:Object(i.a)(e,"x","selu")};return a.a.runKernel(o.yc,n)}})},b43b:function(e,n,r){"use strict";var a=r("1385"),o=r("b778"),i=r("ae13"),s=r("dc75").sorterAsc,l=r("371e");n.containerArrayMatch=r("a7de");var c=n.isAddVal=function isAddVal(e){return"add"===e||a(e)},u=n.isRemoveVal=function isRemoveVal(e){return null===e||"remove"===e};n.applyContainerArrayChanges=function applyContainerArrayChanges(e,n,r,a,d){var p=n.astr,f=l.getComponentMethod(p,"supplyLayoutDefaults"),h=l.getComponentMethod(p,"draw"),m=l.getComponentMethod(p,"drawOne"),g=a.replot||a.recalc||f===o||h===o,y=e.layout,b=e._fullLayout;if(r[""]){Object.keys(r).length>1&&i.warn("Full array edits are incompatible with other edits",p);var x=r[""][""];if(u(x))n.set(null);else{if(!Array.isArray(x))return i.warn("Unrecognized full array edit value",p,x),!0;n.set(x)}return!g&&(f(y,b),h(e),!0)}var _,w,k,T,S,O,C,A,I=Object.keys(r).map(Number).sort(s),N=n.get(),M=N||[],E=d(b,p).get(),D=[],j=-1,R=M.length;for(_=0;_<I.length;_++)if(T=r[k=I[_]],S=Object.keys(T),O=T[""],C=c(O),k<0||k>M.length-(C?0:1))i.warn("index out of range",p,k);else if(void 0!==O)S.length>1&&i.warn("Insertion & removal are incompatible with edits to the same index.",p,k),u(O)?D.push(k):C?("add"===O&&(O={}),M.splice(k,0,O),E&&E.splice(k,0,{})):i.warn("Unrecognized full object edit value",p,k,O),-1===j&&(j=k);else for(w=0;w<S.length;w++)A=p+"["+k+"].",d(M[k],S[w],A).set(T[S[w]]);for(_=D.length-1;_>=0;_--)M.splice(D[_],1),E&&E.splice(D[_],1);if(M.length?N||n.set(M):n.set(null),g)return!1;if(f(y,b),m!==o){var L;if(-1===j)L=I;else{for(R=Math.max(M.length,R),L=[],_=0;_<I.length&&!((k=I[_])>=j);_++)L.push(k);for(_=j;_<R;_++)L.push(_)}for(_=0;_<L.length;_++)m(e,L[_])}else h(e);return!0}},b500:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({reciprocal_:function reciprocal_(e){const n={x:Object(i.a)(e,"x","reciprocal")};return a.a.runKernel(o.kc,n)}})},b575:function(e,n,r){var a,o,i,s,l,c,u,d,p=r("da84"),f=r("06cf").f,h=r("2cf4").set,m=r("1cdc"),g=r("a4b4"),y=r("605d"),b=p.MutationObserver||p.WebKitMutationObserver,x=p.document,_=p.process,w=p.Promise,k=f(p,"queueMicrotask"),T=k&&k.value;T||(a=function(){var e,n;for(y&&(e=_.domain)&&e.exit();o;){n=o.fn,o=o.next;try{n()}catch(r){throw o?s():i=void 0,r}}i=void 0,e&&e.enter()},m||y||g||!b||!x?w&&w.resolve?(u=w.resolve(void 0),d=u.then,s=function(){d.call(u,a)}):s=y?function(){_.nextTick(a)}:function(){h.call(p,a)}:(l=!0,c=x.createTextNode(""),new b(a).observe(c,{characterData:!0}),s=function(){c.data=l=!l})),e.exports=T||function(e){var n={fn:e,next:void 0};i&&(i.next=n),o||(o=n,s()),i=n}},b5e2:function(e,n,r){"use strict";var a=r("371e").traceIs,o=r("0b77");function getBoxPosLetter(e){return{v:"x",h:"y"}[e.orientation||"v"]}function isBoxWithoutPositionCoords(e,n){var r=getBoxPosLetter(e),o=a(e,"box-violin"),i=a(e._fullInput||{},"candlestick");return o&&!i&&n===r&&void 0===e[r]&&void 0===e[r+"0"]}e.exports=function handleTypeDefaults(e,n,r,i){r("autotypenumbers",i.autotypenumbersDflt),"-"===r("type",(i.splomStash||{}).type)&&(!function setAutoType(e,n){if("-"!==e.type)return;var r,i=e._id,s=i.charAt(0);-1!==i.indexOf("scene")&&(i=s);var l=function getFirstNonEmptyTrace(e,n,r){for(var a=0;a<e.length;a++){var o=e[a];if("splom"===o.type&&o._length>0&&(o["_"+r+"axes"]||{})[n])return o;if((o[r+"axis"]||r)===n){if(isBoxWithoutPositionCoords(o,r))return o;if((o[r]||[]).length||o[r+"0"])return o}}}(n,i,s);if(!l)return;if("histogram"===l.type&&s==={v:"y",h:"x"}[l.orientation||"v"])return void(e.type="linear");var c=s+"calendar",u=l[c],d={noMultiCategory:!a(l,"cartesian")||a(l,"noMultiCategory")};"box"===l.type&&l._hasPreCompStats&&s==={h:"x",v:"y"}[l.orientation||"v"]&&(d.noMultiCategory=!0);if(d.autotypenumbers=e.autotypenumbers,isBoxWithoutPositionCoords(l,s)){var p=getBoxPosLetter(l),f=[];for(r=0;r<n.length;r++){var h=n[r];a(h,"box-violin")&&(h[s+"axis"]||s)===i&&(void 0!==h[p]?f.push(h[p][0]):void 0!==h.name?f.push(h.name):f.push("text"),h[c]!==u&&(u=void 0))}e.type=o(f,u,d)}else if("splom"===l.type){var m=l.dimensions[l._axesDim[i]];m.visible&&(e.type=o(m.values,u,d))}else e.type=o(l[s]||[l[s+"0"]],u,d)}(n,i.data),"-"===n.type?n.type="linear":e.type=n.type)}},b5e3:function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("2c8d"),s=r("fc26"),l=s.nestedProperty,c=r("8741"),u=r("c6b6b"),d=r("371e"),p=r("6921"),f=r("bb71"),h=r("5506"),m=r("0642"),g=r("83d1"),y=r("d115"),b=r("1aea").initInteractions,x=r("73c9"),_=r("0379"),w=r("1876").clearSelect,k=r("3ff5").dfltConfig,T=r("b43b"),S=r("c497"),O=r("a392"),C=r("cb34"),A=r("d301").AX_NAME_PATTERN,I=0;function emitAfterPlot(e){var n=e._fullLayout;n._redrawFromAutoMarginCount?n._redrawFromAutoMarginCount--:e.emit("plotly_afterplot")}function setBackground(e,n){try{e._fullLayout._paper.style("background",n)}catch(r){s.error(r)}}function opaqueSetBackground(e,n){setBackground(e,y.combine(n,"white"))}function setPlotContext(e,n){if(!e._context){e._context=s.extendDeep({},k);var r=a.select("base");e._context._baseUrl=r.size()&&r.attr("href")?window.location.href.split("#")[0]:""}var o,l,c,u=e._context;if(n){for(l=Object.keys(n),o=0;o<l.length;o++)"editable"!==(c=l[o])&&"edits"!==c&&c in u&&("setBackground"===c&&"opaque"===n[c]?u[c]=opaqueSetBackground:u[c]=n[c]);n.plot3dPixelRatio&&!u.plotGlPixelRatio&&(u.plotGlPixelRatio=u.plot3dPixelRatio);var d=n.editable;if(void 0!==d)for(u.editable=d,l=Object.keys(u.edits),o=0;o<l.length;o++)u.edits[l[o]]=d;if(n.edits)for(l=Object.keys(n.edits),o=0;o<l.length;o++)(c=l[o])in u.edits&&(u.edits[c]=n.edits[c]);u._exportedPlot=n._exportedPlot}u.staticPlot&&(u.editable=!1,u.edits={},u.autosizable=!1,u.scrollZoom=!1,u.doubleClick=!1,u.showTips=!1,u.showLink=!1,u.displayModeBar=!1),"hover"!==u.displayModeBar||i||(u.displayModeBar=!0),"transparent"!==u.setBackground&&"function"==typeof u.setBackground||(u.setBackground=setBackground),u._hasZeroHeight=u._hasZeroHeight||0===e.clientHeight,u._hasZeroWidth=u._hasZeroWidth||0===e.clientWidth;var p=u.scrollZoom,f=u._scrollZoom={};if(!0===p)f.cartesian=1,f.gl3d=1,f.geo=1,f.mapbox=1;else if("string"==typeof p){var h=p.split("+");for(o=0;o<h.length;o++)f[h[o]]=1}else!1!==p&&(f.gl3d=1,f.geo=1,f.mapbox=1)}function positivifyIndices(e,n){var r,a,o=n+1,i=[];for(r=0;r<e.length;r++)(a=e[r])<0?i.push(o+a):i.push(a);return i}function assertIndexArray(e,n,r){var a,o;for(a=0;a<n.length;a++){if((o=n[a])!==parseInt(o,10))throw new Error("all values in "+r+" must be integers");if(o>=e.data.length||o<-e.data.length)throw new Error(r+" must be valid indices for gd.data.");if(n.indexOf(o,a+1)>-1||o>=0&&n.indexOf(-e.data.length+o)>-1||o<0&&n.indexOf(e.data.length+o)>-1)throw new Error("each index in "+r+" must be unique.")}}function checkMoveTracesArgs(e,n,r){if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===n)throw new Error("currentIndices is a required argument.");if(Array.isArray(n)||(n=[n]),assertIndexArray(e,n,"currentIndices"),void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&assertIndexArray(e,r,"newIndices"),void 0!==r&&n.length!==r.length)throw new Error("current and new indices must be of equal length.")}function spliceTraces(e,n,r,a,i){!function assertExtendTracesArgs(e,n,r,a){var o=s.isPlainObject(a);if(!Array.isArray(e.data))throw new Error("gd.data must be an array");if(!s.isPlainObject(n))throw new Error("update must be a key:value object");if(void 0===r)throw new Error("indices must be an integer or array of integers");for(var i in assertIndexArray(e,r,"indices"),n){if(!Array.isArray(n[i])||n[i].length!==r.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(o&&(!(i in a)||!Array.isArray(a[i])||a[i].length!==n[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}(e,n,r,a);for(var c=function getExtendProperties(e,n,r,a){var i,c,u,d,p,f=s.isPlainObject(a),h=[];for(var m in Array.isArray(r)||(r=[r]),r=positivifyIndices(r,e.data.length-1),n)for(var g=0;g<r.length;g++){if(i=e.data[r[g]],c=(u=l(i,m)).get(),d=n[m][g],!s.isArrayOrTypedArray(d))throw new Error("attribute: "+m+" index: "+g+" must be an array");if(!s.isArrayOrTypedArray(c))throw new Error("cannot extend missing or non-array attribute: "+m);if(c.constructor!==d.constructor)throw new Error("cannot extend array with an array of a different type: "+m);p=f?a[m][g]:a,o(p)||(p=-1),h.push({prop:u,target:c,insert:d,maxp:Math.floor(p)})}return h}(e,n,r,a),u={},d={},p=0;p<c.length;p++){var f=c[p].prop,h=c[p].maxp,m=i(c[p].target,c[p].insert,h);f.set(m[0]),Array.isArray(u[f.astr])||(u[f.astr]=[]),u[f.astr].push(m[1]),Array.isArray(d[f.astr])||(d[f.astr]=[]),d[f.astr].push(c[p].target.length)}return{update:u,maxPoints:d}}function concatTypedArray(e,n){var r=new e.constructor(e.length+n.length);return r.set(e),r.set(n,e.length),r}function restyle(e,r,a,o){e=s.getGraphDiv(e),S.clearPromiseQueue(e);var i={};if("string"==typeof r)i[r]=a;else{if(!s.isPlainObject(r))return s.warn("Restyle fail.",r,a,o),Promise.reject();i=s.extendFlat({},r),void 0===o&&(o=a)}Object.keys(i).length&&(e.changed=!0);var l=S.coerceTraceIndices(e,o),c=_restyle(e,i,l),d=c.flags;d.calc&&(e.calcdata=void 0),d.clearAxisTypes&&S.clearAxisTypes(e,l,{});var p=[];d.fullReplot?p.push(n.plot):(p.push(f.previousPromises),f.supplyDefaults(e),d.markerSize&&(f.doCalcdata(e),addAxRangeSequence(p)),d.style&&p.push(O.doTraceStyle),d.colorbars&&p.push(O.doColorBars),p.push(emitAfterPlot)),p.push(f.rehover,f.redrag),u.add(e,restyle,[e,c.undoit,c.traces],restyle,[e,c.redoit,c.traces]);var h=s.syncOrAsync(p,e);return h&&h.then||(h=Promise.resolve()),h.then((function(){return e.emit("plotly_restyle",c.eventData),e}))}function undefinedToNull(e){return void 0===e?null:e}function makeNP(e,n){return n?function(n,r,a){var o=l(n,r),i=o.set;return o.set=function(n){storeCurrent((a||"")+r,o.get(),n,e),i(n)},o}:l}function storeCurrent(e,n,r,a){if(Array.isArray(n)||Array.isArray(r))for(var o=Array.isArray(n)?n:[],i=Array.isArray(r)?r:[],l=Math.max(o.length,i.length),c=0;c<l;c++)storeCurrent(e+"["+c+"]",o[c],i[c],a);else if(s.isPlainObject(n)||s.isPlainObject(r)){var u=s.isPlainObject(n)?n:{},d=s.isPlainObject(r)?r:{},p=s.extendFlat({},u,d);for(var f in p)storeCurrent(e+"."+f,u[f],d[f],a)}else void 0===a[e]&&(a[e]=undefinedToNull(n))}function _restyle(e,n,r){var a,o=e._fullLayout,i=e._fullData,c=e.data,u=o._guiEditing,h=makeNP(o._preGUI,u),g=s.extendDeepAll({},n);cleanDeprecatedAttributeKeys(n);var y,b=C.traceFlags(),x={},_={};function a0(){return r.map((function(){}))}function addToAxlist(e){var n=m.id2name(e);-1===y.indexOf(n)&&y.push(n)}function autorangeAttr(e){return"LAYOUT"+e+".autorange"}function rangeAttr(e){return"LAYOUT"+e+".range"}function getFullTrace(e){for(var n=e;n<i.length;n++)if(i[n]._input===c[e])return i[n]}function doextra(a,i,s){if(Array.isArray(a))a.forEach((function(e){doextra(e,i,s)}));else if(!(a in n)&&!S.hasParent(n,a)){var l;if("LAYOUT"===a.substr(0,6))l=h(e.layout,a.replace("LAYOUT",""));else{var d=r[s];l=makeNP(o._tracePreGUI[getFullTrace(d)._fullInput.uid],u)(c[d],a)}a in _||(_[a]=a0()),void 0===_[a][s]&&(_[a][s]=undefinedToNull(l.get())),void 0!==i&&l.set(i)}}function allBins(e){return function(n){return i[n][e]}}function arrayBins(e){return function(n,a){return!1===n?i[r[a]][e]:null}}for(var w in n){if(S.hasParent(n,w))throw new Error("cannot set "+w+" and a parent attribute simultaneously");var k,T,O,A,I,N,M=n[w];if("autobinx"!==w&&"autobiny"!==w||(w=w.charAt(w.length-1)+"bins",M=Array.isArray(M)?M.map(arrayBins(w)):!1===M?r.map(allBins(w)):null),x[w]=M,"LAYOUT"!==w.substr(0,6)){for(_[w]=a0(),a=0;a<r.length;a++){if(k=c[r[a]],T=getFullTrace(r[a]),A=(O=makeNP(o._tracePreGUI[T._fullInput.uid],u)(k,w)).get(),void 0!==(I=Array.isArray(M)?M[a%M.length]:M)){var E=O.parts[O.parts.length-1],D=w.substr(0,w.length-E.length-1),j=D?D+".":"",R=D?l(T,D).get():T;if((N=p.getTraceValObject(T,O.parts))&&N.impliedEdits&&null!==I)for(var L in N.impliedEdits)doextra(s.relativeAttr(w,L),N.impliedEdits[L],a);else if("thicknessmode"!==E&&"lenmode"!==E||A===I||"fraction"!==I&&"pixels"!==I||!R){if("type"===w&&("pie"===I!=("pie"===A)||"funnelarea"===I!=("funnelarea"===A))){var z="x",$="y";"bar"!==I&&"bar"!==A||"h"!==k.orientation||(z="y",$="x"),s.swapAttrs(k,["?","?src"],"labels",z),s.swapAttrs(k,["d?","?0"],"label",z),s.swapAttrs(k,["?","?src"],"values",$),"pie"===A||"funnelarea"===A?(l(k,"marker.color").set(l(k,"marker.colors").get()),o._pielayer.selectAll("g.trace").remove()):d.traceIs(k,"cartesian")&&l(k,"marker.colors").set(l(k,"marker.color").get())}}else{var B=o._size,V=R.orient,U="top"===V||"bottom"===V;if("thicknessmode"===E){var W=U?B.h:B.w;doextra(j+"thickness",R.thickness*("fraction"===I?1/W:W),a)}else{var H=U?B.w:B.h;doextra(j+"len",R.len*("fraction"===I?1/H:H),a)}}_[w][a]=undefinedToNull(A);if(-1!==["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(w)){if("orientation"===w){O.set(I);var G=k.x&&!k.y?"h":"v";if((O.get()||G)===T.orientation)continue}else"orientationaxes"===w&&(k.orientation={v:"h",h:"v"}[T.orientation]);S.swapXYData(k),b.calc=b.clearAxisTypes=!0}else-1!==f.dataArrayContainers.indexOf(O.parts[0])?(S.manageArrayContainers(O,I,_),b.calc=!0):(N?N.arrayOk&&!d.traceIs(T,"regl")&&(s.isArrayOrTypedArray(I)||s.isArrayOrTypedArray(A))?b.calc=!0:C.update(b,N):b.calc=!0,O.set(I))}}if(-1!==["swapxyaxes","orientationaxes"].indexOf(w)&&m.swap(e,r),"orientationaxes"===w){var q=l(e.layout,"hovermode"),K=q.get();"x"===K?q.set("y"):"y"===K?q.set("x"):"x unified"===K?q.set("y unified"):"y unified"===K&&q.set("x unified")}if(-1!==["orientation","type"].indexOf(w)){for(y=[],a=0;a<r.length;a++){var X=c[r[a]];d.traceIs(X,"cartesian")&&(addToAxlist(X.xaxis||"x"),addToAxlist(X.yaxis||"y"))}doextra(y.map(autorangeAttr),!0,0),doextra(y.map(rangeAttr),[0,1],0)}}else O=h(e.layout,w.replace("LAYOUT","")),_[w]=[undefinedToNull(O.get())],O.set(Array.isArray(M)?M[0]:M),b.calc=!0}return(b.calc||b.plot)&&(b.fullReplot=!0),{flags:b,undoit:_,redoit:x,traces:r,eventData:s.extendDeepNoArrays([],[g,r])}}function cleanDeprecatedAttributeKeys(e){var n,r,a,o=s.counterRegex("axis",".title",!1,!1),i=/colorbar\.title$/,l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],a=e[r],"title"!==r&&!o.test(r)&&!i.test(r)||"string"!=typeof a&&"number"!=typeof a?r.indexOf("titlefont")>-1?replace(r,r.replace("titlefont","title.font")):r.indexOf("titleposition")>-1?replace(r,r.replace("titleposition","title.position")):r.indexOf("titleside")>-1?replace(r,r.replace("titleside","title.side")):r.indexOf("titleoffset")>-1&&replace(r,r.replace("titleoffset","title.offset")):replace(r,r.replace("title","title.text"));function replace(n,r){e[r]=e[n],delete e[n]}}function relayout(e,n,r){if(e=s.getGraphDiv(e),S.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var a={};if("string"==typeof n)a[n]=r;else{if(!s.isPlainObject(n))return s.warn("Relayout fail.",n,r),Promise.reject();a=s.extendFlat({},n)}Object.keys(a).length&&(e.changed=!0);var o=_relayout(e,a),i=o.flags;i.calc&&(e.calcdata=void 0);var l=[f.previousPromises];i.layoutReplot?l.push(O.layoutReplot):Object.keys(a).length&&(axRangeSupplyDefaultsByPass(e,i,o)||f.supplyDefaults(e),i.legend&&l.push(O.doLegend),i.layoutstyle&&l.push(O.layoutStyles),i.axrange&&addAxRangeSequence(l,o.rangesAltered),i.ticks&&l.push(O.doTicksRelayout),i.modebar&&l.push(O.doModeBar),i.camera&&l.push(O.doCamera),i.colorbars&&l.push(O.doColorBars),l.push(emitAfterPlot)),l.push(f.rehover,f.redrag),u.add(e,relayout,[e,o.undoit],relayout,[e,o.redoit]);var c=s.syncOrAsync(l,e);return c&&c.then||(c=Promise.resolve(e)),c.then((function(){return e.emit("plotly_relayout",o.eventData),e}))}function axRangeSupplyDefaultsByPass(e,n,r){var a=e._fullLayout;if(!n.axrange)return!1;for(var o in n)if("axrange"!==o&&n[o])return!1;for(var i in r.rangesAltered){var s=m.id2name(i),l=e.layout[s],c=a[s];if(c.autorange=l.autorange,l.range&&(c.range=l.range.slice()),c.cleanRange(),c._matchGroup)for(var u in c._matchGroup)if(u!==i){var d=a[m.id2name(u)];d.autorange=c.autorange,d.range=c.range.slice(),d._input.range=c.range.slice()}}return!0}function addAxRangeSequence(e,n){var r=n?function(e){var r=[],a=!0;for(var o in n){var i=m.getFromId(e,o);if(r.push(o),-1!==(i.ticklabelposition||"").indexOf("inside")&&i._anchorAxis&&r.push(i._anchorAxis._id),i._matchGroup)for(var s in i._matchGroup)n[s]||r.push(s);i.automargin&&(a=!1)}return m.draw(e,r,{skipTitle:a})}:function(e){return m.draw(e,"redraw")};e.push(w,O.doAutoRangeAndConstraints,r,O.drawData,O.finalDraw)}var N=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,M=/^[xyz]axis[0-9]*\.autorange$/,E=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function _relayout(e,n){var r,a,o,i=e.layout,c=e._fullLayout,u=c._guiEditing,f=makeNP(c._preGUI,u),h=Object.keys(n),g=m.list(e),y=s.extendDeepAll({},n),b={};for(cleanDeprecatedAttributeKeys(n),h=Object.keys(n),a=0;a<h.length;a++)if(0===h[a].indexOf("allaxes")){for(o=0;o<g.length;o++){var x=g[o]._id.substr(1),_=-1!==x.indexOf("scene")?x+".":"",w=h[a].replace("allaxes",_+g[o]._name);n[w]||(n[w]=n[h[a]])}delete n[h[a]]}var k=C.layoutFlags(),O={},I={};function doextra(e,r){if(Array.isArray(e))e.forEach((function(e){doextra(e,r)}));else if(!(e in n)&&!S.hasParent(n,e)){var a=f(i,e);e in I||(I[e]=undefinedToNull(a.get())),void 0!==r&&a.set(r)}}var D,j={};function recordAlteredAxis(e){var n=m.name2id(e.split(".")[0]);return j[n]=1,n}for(var R in n){if(S.hasParent(n,R))throw new Error("cannot set "+R+" and a parent attribute simultaneously");for(var L=f(i,R),z=n[R],$=L.parts.length-1;$>0&&"string"!=typeof L.parts[$];)$--;var B=L.parts[$],V=L.parts[$-1]+"."+B,U=L.parts.slice(0,$).join("."),W=l(e.layout,U).get(),H=l(c,U).get(),G=L.get();if(void 0!==z){O[R]=z,I[R]="reverse"===B?z:undefinedToNull(G);var q=p.getLayoutValObject(c,L.parts);if(q&&q.impliedEdits&&null!==z)for(var K in q.impliedEdits)doextra(s.relativeAttr(R,K),q.impliedEdits[K]);if(-1!==["width","height"].indexOf(R))if(z){doextra("autosize",null);var X="height"===R?"width":"height";doextra(X,c[X])}else c[R]=e._initialAutoSize[R];else if("autosize"===R)doextra("width",z?null:c.width),doextra("height",z?null:c.height);else if(V.match(N))recordAlteredAxis(V),l(c,U+"._inputRange").set(null);else if(V.match(M)){recordAlteredAxis(V),l(c,U+"._inputRange").set(null);var Y=l(c,U).get();Y._inputDomain&&(Y._input.domain=Y._inputDomain.slice())}else V.match(E)&&l(c,U+"._inputDomain").set(null);if("type"===B){D=W;var Z="linear"===H.type&&"log"===z,J="log"===H.type&&"linear"===z;if(Z||J){if(D&&D.range)if(H.autorange)Z&&(D.range=D.range[1]>D.range[0]?[1,2]:[2,1]);else{var Q=D.range[0],ee=D.range[1];Z?(Q<=0&&ee<=0&&doextra(U+".autorange",!0),Q<=0?Q=ee/1e6:ee<=0&&(ee=Q/1e6),doextra(U+".range[0]",Math.log(Q)/Math.LN10),doextra(U+".range[1]",Math.log(ee)/Math.LN10)):(doextra(U+".range[0]",Math.pow(10,Q)),doextra(U+".range[1]",Math.pow(10,ee)))}else doextra(U+".autorange",!0);Array.isArray(c._subplots.polar)&&c._subplots.polar.length&&c[L.parts[0]]&&"radialaxis"===L.parts[1]&&delete c[L.parts[0]]._subplot.viewInitial["radialaxis.range"],d.getComponentMethod("annotations","convertCoords")(e,H,z,doextra),d.getComponentMethod("images","convertCoords")(e,H,z,doextra)}else doextra(U+".autorange",!0),doextra(U+".range",null);l(c,U+"._inputRange").set(null)}else if(B.match(A)){var te=l(c,R).get(),ne=(z||{}).type;ne&&"-"!==ne||(ne="linear"),d.getComponentMethod("annotations","convertCoords")(e,te,ne,doextra),d.getComponentMethod("images","convertCoords")(e,te,ne,doextra)}var re=T.containerArrayMatch(R);if(re){r=re.array,a=re.index;var ae=re.property,oe=q||{editType:"calc"};""!==a&&""===ae&&(T.isAddVal(z)?I[R]=null:T.isRemoveVal(z)?I[R]=(l(i,r).get()||[])[a]:s.warn("unrecognized full object value",n)),C.update(k,oe),b[r]||(b[r]={});var ie=b[r][a];ie||(ie=b[r][a]={}),ie[ae]=z,delete n[R]}else"reverse"===B?(W.range?W.range.reverse():(doextra(U+".autorange",!0),W.range=[1,0]),H.autorange?k.calc=!0:k.plot=!0):(c._has("scatter-like")&&c._has("regl")&&"dragmode"===R&&("lasso"===z||"select"===z)&&"lasso"!==G&&"select"!==G||c._has("gl2d")?k.plot=!0:q?C.update(k,q):k.calc=!0,L.set(z))}}for(r in b){T.applyContainerArrayChanges(e,f(i,r),b[r],k,f)||(k.plot=!0)}for(var se in j){var le=(D=m.getFromId(e,se))&&D._constraintGroup;if(le)for(var ce in k.calc=!0,le)j[ce]||(m.getFromId(e,ce)._constraintShrinkable=!0)}return(updateAutosize(e)||n.height||n.width)&&(k.plot=!0),(k.plot||k.calc)&&(k.layoutReplot=!0),{flags:k,rangesAltered:j,undoit:I,redoit:O,eventData:y}}function updateAutosize(e){var n=e._fullLayout,r=n.width,a=n.height;return e.layout.autosize&&f.plotAutoSize(e,e.layout,n),n.width!==r||n.height!==a}function update(e,r,a,o){if(e=s.getGraphDiv(e),S.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);s.isPlainObject(r)||(r={}),s.isPlainObject(a)||(a={}),Object.keys(r).length&&(e.changed=!0),Object.keys(a).length&&(e.changed=!0);var i=S.coerceTraceIndices(e,o),l=_restyle(e,s.extendFlat({},r),i),c=l.flags,d=_relayout(e,s.extendFlat({},a)),p=d.flags;(c.calc||p.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&S.clearAxisTypes(e,i,a);var h=[];p.layoutReplot?h.push(O.layoutReplot):c.fullReplot?h.push(n.plot):(h.push(f.previousPromises),axRangeSupplyDefaultsByPass(e,p,d)||f.supplyDefaults(e),c.style&&h.push(O.doTraceStyle),(c.colorbars||p.colorbars)&&h.push(O.doColorBars),p.legend&&h.push(O.doLegend),p.layoutstyle&&h.push(O.layoutStyles),p.axrange&&addAxRangeSequence(h,d.rangesAltered),p.ticks&&h.push(O.doTicksRelayout),p.modebar&&h.push(O.doModeBar),p.camera&&h.push(O.doCamera),h.push(emitAfterPlot)),h.push(f.rehover,f.redrag),u.add(e,update,[e,l.undoit,d.undoit,l.traces],update,[e,l.redoit,d.redoit,l.traces]);var m=s.syncOrAsync(h,e);return m&&m.then||(m=Promise.resolve(e)),m.then((function(){return e.emit("plotly_update",{data:l.eventData,layout:d.eventData}),e}))}function guiEdit(e){return function wrappedEdit(n){n._fullLayout._guiEditing=!0;var r=e.apply(null,arguments);return n._fullLayout._guiEditing=!1,r}}var D=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],j=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function findUIPattern(e,n){for(var r=0;r<n.length;r++){var a=n[r],o=e.match(a.pattern);if(o)return{head:o[1],attr:a.attr}}}function getNewRev(e,n){var r=l(n,e).get();if(void 0!==r)return r;var a=e.split(".");for(a.pop();a.length>1;)if(a.pop(),void 0!==(r=l(n,a.join(".")+".uirevision").get()))return r;return n.uirevision}function getFullTraceIndexFromUid(e,n){for(var r=0;r<n.length;r++)if(n[r]._fullInput.uid===e)return r;return-1}function getTraceIndexFromUid(e,n,r){for(var a=0;a<n.length;a++)if(n[a].uid===e)return a;return!n[r]||n[r].uid?-1:r}function valsMatch(e,n){var r=s.isPlainObject(e),a=Array.isArray(e);return r||a?(r&&s.isPlainObject(n)||a&&Array.isArray(n))&&JSON.stringify(e)===JSON.stringify(n):e===n}function getDiffFlags(e,n,r,a){var o,i,c,u=a.getValObject,d=a.flags,p=a.immutable,f=a.inArray,h=a.arrayIndex;function changed(){var e=o.editType;f&&-1!==e.indexOf("arraydraw")?s.pushUnique(d.arrays[f],h):(C.update(d,o),"none"!==e&&d.nChanges++,a.transition&&o.anim&&d.nChangesAnim++,(N.test(c)||M.test(c))&&(d.rangesAltered[r[0]]=1),E.test(c)&&l(n,"_inputDomain").set(null),"datarevision"===i&&(d.newDataRevision=1))}function valObjectCanBeDataArray(e){return"data_array"===e.valType||e.arrayOk}for(i in e){if(d.calc&&!a.transition)return;var m=e[i],g=n[i],y=r.concat(i);if(c=y.join("."),"_"!==i.charAt(0)&&"function"!=typeof m&&m!==g){if(("tick0"===i||"dtick"===i)&&"geo"!==r[0]){var b=n.tickmode;if("auto"===b||"array"===b||!b)continue}if(("range"!==i||!n.autorange)&&("zmin"!==i&&"zmax"!==i||"contourcarpet"!==n.type)&&(o=u(y))&&(!o._compareAsJSON||JSON.stringify(m)!==JSON.stringify(g))){var x,_=o.valType,w=valObjectCanBeDataArray(o),k=Array.isArray(m),T=Array.isArray(g);if(k&&T){var S="_input_"+i,O=e[S],A=n[S];if(Array.isArray(O)&&O===A)continue}if(void 0===g)w&&k?d.calc=!0:changed();else if(o._isLinkedToArray){var I=[],D=!1;f||(d.arrays[i]=I);var j=Math.min(m.length,g.length),R=Math.max(m.length,g.length);if(j!==R){if("arraydraw"!==o.editType){changed();continue}D=!0}for(x=0;x<j;x++)getDiffFlags(m[x],g[x],y.concat(x),s.extendFlat({inArray:i,arrayIndex:x},a));if(D)for(x=j;x<R;x++)I.push(x)}else!_&&s.isPlainObject(m)?getDiffFlags(m,g,y,a):w?k&&T?(p&&(d.calc=!0),(p||a.newDataRevision)&&changed()):k!==T?d.calc=!0:changed():k&&T&&m.length===g.length&&String(m)===String(g)||changed()}}}for(i in n)if(!(i in e)&&"_"!==i.charAt(0)&&"function"!=typeof n[i]){if(valObjectCanBeDataArray(o=u(r.concat(i)))&&Array.isArray(n[i]))return void(d.calc=!0);changed()}}function diffConfig(e,n){var r;for(r in e)if("_"!==r.charAt(0)){var a=e[r],o=n[r];if(a!==o)if(s.isPlainObject(a)&&s.isPlainObject(o)){if(diffConfig(a,o))return!0}else{if(!Array.isArray(a)||!Array.isArray(o))return!0;if(a.length!==o.length)return!0;for(var i=0;i<a.length;i++)if(a[i]!==o[i]){if(!s.isPlainObject(a[i])||!s.isPlainObject(o[i]))return!0;if(diffConfig(a[i],o[i]))return!0}}}}function calcInverseTransform(e){var n=e._fullLayout,r=e.getBoundingClientRect();if(!s.equalDomRects(r,n._lastBBox)){var a=n._invTransform=s.inverseTransformMatrix(s.getFullTransformMatrix(e));n._invScaleX=Math.sqrt(a[0][0]*a[0][0]+a[0][1]*a[0][1]+a[0][2]*a[0][2]),n._invScaleY=Math.sqrt(a[1][0]*a[1][0]+a[1][1]*a[1][1]+a[1][2]*a[1][2]),n._lastBBox=r}}function makePlotFramework(e){var n=a.select(e),r=e._fullLayout;if(r._calcInverseTransform=calcInverseTransform,r._calcInverseTransform(e),r._container=n.selectAll(".plot-container").data([0]),r._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),r._paperdiv=r._container.selectAll(".svg-container").data([0]),r._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),r._glcontainer=r._paperdiv.selectAll(".gl-container").data([{}]),r._glcontainer.enter().append("div").classed("gl-container",!0),r._paperdiv.selectAll(".main-svg").remove(),r._paperdiv.select(".modebar-container").remove(),r._paper=r._paperdiv.insert("svg",":first-child").classed("main-svg",!0),r._toppaper=r._paperdiv.append("svg").classed("main-svg",!0),r._modebardiv=r._paperdiv.append("div"),delete r._modeBar,r._hoverpaper=r._paperdiv.append("svg").classed("main-svg",!0),!r._uid){var o={};a.selectAll("defs").each((function(){this.id&&(o[this.id.split("-")[1]]=1)})),r._uid=s.randstr(o)}r._paperdiv.selectAll(".main-svg").attr(x.svgAttrs),r._defs=r._paper.append("defs").attr("id","defs-"+r._uid),r._clips=r._defs.append("g").classed("clips",!0),r._topdefs=r._toppaper.append("defs").attr("id","topdefs-"+r._uid),r._topclips=r._topdefs.append("g").classed("clips",!0),r._bgLayer=r._paper.append("g").classed("bglayer",!0),r._draggers=r._paper.append("g").classed("draglayer",!0);var i=r._paper.append("g").classed("layer-below",!0);r._imageLowerLayer=i.append("g").classed("imagelayer",!0),r._shapeLowerLayer=i.append("g").classed("shapelayer",!0),r._cartesianlayer=r._paper.append("g").classed("cartesianlayer",!0),r._polarlayer=r._paper.append("g").classed("polarlayer",!0),r._ternarylayer=r._paper.append("g").classed("ternarylayer",!0),r._geolayer=r._paper.append("g").classed("geolayer",!0),r._funnelarealayer=r._paper.append("g").classed("funnelarealayer",!0),r._pielayer=r._paper.append("g").classed("pielayer",!0),r._treemaplayer=r._paper.append("g").classed("treemaplayer",!0),r._sunburstlayer=r._paper.append("g").classed("sunburstlayer",!0),r._indicatorlayer=r._toppaper.append("g").classed("indicatorlayer",!0),r._glimages=r._paper.append("g").classed("glimages",!0);var l=r._toppaper.append("g").classed("layer-above",!0);r._imageUpperLayer=l.append("g").classed("imagelayer",!0),r._shapeUpperLayer=l.append("g").classed("shapelayer",!0),r._infolayer=r._toppaper.append("g").classed("infolayer",!0),r._menulayer=r._toppaper.append("g").classed("menulayer",!0),r._zoomlayer=r._toppaper.append("g").classed("zoomlayer",!0),r._hoverlayer=r._hoverpaper.append("g").classed("hoverlayer",!0),r._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),e.emit("plotly_framework")}n.animate=function animate(e,n,r){if(e=s.getGraphDiv(e),!s.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var a=e._transitionData;a._frameQueue||(a._frameQueue=[]);var o=(r=f.supplyAnimationDefaults(r)).transition,i=r.frame;function getTransitionOpts(e){return Array.isArray(o)?e>=o.length?o[0]:o[e]:o}function getFrameOpts(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function callbackOnNthTime(e,n){var r=0;return function(){if(e&&++r===n)return e()}}return void 0===a._frameWaitingCnt&&(a._frameWaitingCnt=0),new Promise((function(i,l){function nextFrame(){a._currentFrame&&a._currentFrame.onComplete&&a._currentFrame.onComplete();var n=a._currentFrame=a._frameQueue.shift();if(n){var r=n.name?n.name.toString():null;e._fullLayout._currentFrame=r,a._lastFrameAt=Date.now(),a._timeToNext=n.frameOpts.duration,f.transition(e,n.frame.data,n.frame.layout,S.coerceTraceIndices(e,n.frame.traces),n.frameOpts,n.transitionOpts).then((function(){n.onComplete&&n.onComplete()})),e.emit("plotly_animatingframe",{name:r,frame:n.frame,animation:{frame:n.frameOpts,transition:n.transitionOpts}})}else!function stopAnimationLoop(){e.emit("plotly_animated"),window.cancelAnimationFrame(a._animationRaf),a._animationRaf=null}()}function beginAnimationLoop(){e.emit("plotly_animating"),a._lastFrameAt=-1/0,a._timeToNext=0,a._runningTransitions=0,a._currentFrame=null;var doFrame=function(){a._animationRaf=window.requestAnimationFrame(doFrame),Date.now()-a._lastFrameAt>a._timeToNext&&nextFrame()};doFrame()}var c,u,d=0;function setTransitionConfig(e){return Array.isArray(o)?d>=o.length?e.transitionOpts=o[d]:e.transitionOpts=o[0]:e.transitionOpts=o,d++,e}var p=[],h=null==n,m=Array.isArray(n);if(!h&&!m&&s.isPlainObject(n))p.push({type:"object",data:setTransitionConfig(s.extendFlat({},n))});else if(h||-1!==["string","number"].indexOf(typeof n))for(c=0;c<a._frames.length;c++)(u=a._frames[c])&&(h||String(u.group)===String(n))&&p.push({type:"byname",name:String(u.name),data:setTransitionConfig({name:u.name})});else if(m)for(c=0;c<n.length;c++){var g=n[c];-1!==["number","string"].indexOf(typeof g)?(g=String(g),p.push({type:"byname",name:g,data:setTransitionConfig({name:g})})):s.isPlainObject(g)&&p.push({type:"object",data:setTransitionConfig(s.extendFlat({},g))})}for(c=0;c<p.length;c++)if("byname"===(u=p[c]).type&&!a._frameHash[u.data.name])return s.warn('animate failure: frame not found: "'+u.data.name+'"'),void l();-1!==["next","immediate"].indexOf(r.mode)&&function discardExistingFrames(){if(0!==a._frameQueue.length){for(;a._frameQueue.length;){var n=a._frameQueue.pop();n.onInterrupt&&n.onInterrupt()}e.emit("plotly_animationinterrupted",[])}}(),"reverse"===r.direction&&p.reverse();var y=e._fullLayout._currentFrame;if(y&&r.fromcurrent){var b=-1;for(c=0;c<p.length;c++)if("byname"===(u=p[c]).type&&u.name===y){b=c;break}if(b>0&&b<p.length-1){var x=[];for(c=0;c<p.length;c++)u=p[c],("byname"!==p[c].type||c>b)&&x.push(u);p=x}}p.length>0?function queueFrames(n){if(0!==n.length){for(var o=0;o<n.length;o++){var s;s="byname"===n[o].type?f.computeFrame(e,n[o].name):n[o].data;var c=getFrameOpts(o),u=getTransitionOpts(o);u.duration=Math.min(u.duration,c.duration);var d={frame:s,name:n[o].name,frameOpts:c,transitionOpts:u};o===n.length-1&&(d.onComplete=callbackOnNthTime(i,2),d.onInterrupt=l),a._frameQueue.push(d)}"immediate"===r.mode&&(a._lastFrameAt=-1/0),a._animationRaf||beginAnimationLoop()}}(p):(e.emit("plotly_animated"),i())}))},n.addFrames=function addFrames(e,n,r){if(e=s.getGraphDiv(e),null==n)return Promise.resolve();if(!s.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var a,o,i,l,c=e._transitionData._frames,d=e._transitionData._frameHash;if(!Array.isArray(n))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+n);var p=c.length+2*n.length,h=[],m={};for(a=n.length-1;a>=0;a--)if(s.isPlainObject(n[a])){var g=n[a].name,y=(d[g]||m[g]||{}).name,b=n[a].name,x=d[y]||m[y];y&&b&&"number"==typeof b&&x&&I<5&&(I++,s.warn('addFrames: overwriting frame "'+(d[y]||m[y]).name+'" with a frame whose name of type "number" also equates to "'+y+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),5===I&&s.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),m[g]={name:g},h.push({frame:f.supplyFrameDefaults(n[a]),index:r&&void 0!==r[a]&&null!==r[a]?r[a]:p+a})}h.sort((function(e,n){return e.index>n.index?-1:e.index<n.index?1:0}));var _=[],w=[],k=c.length;for(a=h.length-1;a>=0;a--){if("number"==typeof(o=h[a].frame).name&&s.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!o.name)for(;d[o.name="frame "+e._transitionData._counter++];);if(d[o.name]){for(i=0;i<c.length&&(c[i]||{}).name!==o.name;i++);_.push({type:"replace",index:i,value:o}),w.unshift({type:"replace",index:i,value:c[i]})}else l=Math.max(0,Math.min(h[a].index,k)),_.push({type:"insert",index:l,value:o}),w.unshift({type:"delete",index:l}),k++}var T=f.modifyFrames,S=f.modifyFrames,O=[e,w],C=[e,_];return u&&u.add(e,T,O,S,C),f.modifyFrames(e,_)},n.deleteFrames=function deleteFrames(e,n){if(e=s.getGraphDiv(e),!s.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);var r,a,o=e._transitionData._frames,i=[],l=[];if(!n)for(n=[],r=0;r<o.length;r++)n.push(r);for((n=n.slice()).sort(),r=n.length-1;r>=0;r--)a=n[r],i.push({type:"delete",index:a}),l.unshift({type:"insert",index:a,value:o[a]});var c=f.modifyFrames,d=f.modifyFrames,p=[e,l],h=[e,i];return u&&u.add(e,c,p,d,h),f.modifyFrames(e,i)},n.addTraces=function addTraces(e,r,a){e=s.getGraphDiv(e);var o,i,l=[],c=n.deleteTraces,d=addTraces,p=[e,l],f=[e,r];for(function checkAddTracesArgs(e,n,r){var a,o;if(!Array.isArray(e.data))throw new Error("gd.data must be an array.");if(void 0===n)throw new Error("traces must be defined.");for(Array.isArray(n)||(n=[n]),a=0;a<n.length;a++)if("object"!=typeof(o=n[a])||Array.isArray(o)||null===o)throw new Error("all values in traces array must be non-array objects");if(void 0===r||Array.isArray(r)||(r=[r]),void 0!==r&&r.length!==n.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(e,r,a),Array.isArray(r)||(r=[r]),r=r.map((function(e){return s.extendFlat({},e)})),S.cleanData(r),o=0;o<r.length;o++)e.data.push(r[o]);for(o=0;o<r.length;o++)l.push(-r.length+o);if(void 0===a)return i=n.redraw(e),u.add(e,c,p,d,f),i;Array.isArray(a)||(a=[a]);try{checkMoveTracesArgs(e,l,a)}catch(h){throw e.data.splice(e.data.length-r.length,r.length),h}return u.startSequence(e),u.add(e,c,p,d,f),i=n.moveTraces(e,l,a),u.stopSequence(e),i},n.deleteTraces=function deleteTraces(e,r){e=s.getGraphDiv(e);var a,o,i=[],l=n.addTraces,c=deleteTraces,d=[e,i,r],p=[e,r];if(void 0===r)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(r)||(r=[r]),assertIndexArray(e,r,"indices"),(r=positivifyIndices(r,e.data.length-1)).sort(s.sorterDes),a=0;a<r.length;a+=1)o=e.data.splice(r[a],1)[0],i.push(o);var f=n.redraw(e);return u.add(e,l,d,c,p),f},n.extendTraces=function extendTraces(e,r,a,o){function updateArray(e,n,r){var a,o;if(s.isTypedArray(e))if(r<0){var i=new e.constructor(0),l=concatTypedArray(e,n);r<0?(a=l,o=i):(a=i,o=l)}else if(a=new e.constructor(r),o=new e.constructor(e.length+n.length-r),r===n.length)a.set(n),o.set(e);else if(r<n.length){var c=n.length-r;a.set(n.subarray(c)),o.set(e),o.set(n.subarray(0,c),e.length)}else{var u=r-n.length,d=e.length-u;a.set(e.subarray(d)),a.set(n,u),o.set(e.subarray(0,d))}else a=e.concat(n),o=r>=0&&r<a.length?a.splice(0,a.length-r):[];return[a,o]}var i=spliceTraces(e=s.getGraphDiv(e),r,a,o,updateArray),l=n.redraw(e),c=[e,i.update,a,i.maxPoints];return u.add(e,n.prependTraces,c,extendTraces,arguments),l},n.moveTraces=function moveTraces(e,r,a){var o,i=[],l=[],c=moveTraces,d=moveTraces,p=[e=s.getGraphDiv(e),a,r],f=[e,r,a];if(checkMoveTracesArgs(e,r,a),r=Array.isArray(r)?r:[r],void 0===a)for(a=[],o=0;o<r.length;o++)a.push(-r.length+o);for(a=Array.isArray(a)?a:[a],r=positivifyIndices(r,e.data.length-1),a=positivifyIndices(a,e.data.length-1),o=0;o<e.data.length;o++)-1===r.indexOf(o)&&i.push(e.data[o]);for(o=0;o<r.length;o++)l.push({newIndex:a[o],trace:e.data[r[o]]});for(l.sort((function(e,n){return e.newIndex-n.newIndex})),o=0;o<l.length;o+=1)i.splice(l[o].newIndex,0,l[o].trace);e.data=i;var h=n.redraw(e);return u.add(e,c,p,d,f),h},n.prependTraces=function prependTraces(e,r,a,o){function updateArray(e,n,r){var a,o;if(s.isTypedArray(e))if(r<=0){var i=new e.constructor(0),l=concatTypedArray(n,e);r<0?(a=l,o=i):(a=i,o=l)}else if(a=new e.constructor(r),o=new e.constructor(e.length+n.length-r),r===n.length)a.set(n),o.set(e);else if(r<n.length){var c=n.length-r;a.set(n.subarray(0,c)),o.set(n.subarray(c)),o.set(e,c)}else{var u=r-n.length;a.set(n),a.set(e.subarray(0,u),n.length),o.set(e.subarray(u))}else a=n.concat(e),o=r>=0&&r<a.length?a.splice(r,a.length):[];return[a,o]}var i=spliceTraces(e=s.getGraphDiv(e),r,a,o,updateArray),l=n.redraw(e),c=[e,i.update,a,i.maxPoints];return u.add(e,n.extendTraces,c,prependTraces,arguments),l},n.newPlot=function newPlot(e,r,a,o){return e=s.getGraphDiv(e),f.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),f.purge(e),n.plot(e,r,a,o)},n.plot=function plot(e,r,o,i){var l;if(e=s.getGraphDiv(e),c.init(e),s.isPlainObject(r)){var u=r;r=u.data,o=u.layout,i=u.config,l=u.frames}if(!1===c.triggerHandler(e,"plotly_beforeplot",[r,o,i]))return Promise.reject();r||o||s.isPlotDiv(e)||s.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",e),setPlotContext(e,i),o||(o={}),a.select(e).classed("js-plotly-plot",!0),g.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var p=0===(e.data||[]).length&&Array.isArray(r);Array.isArray(r)&&(S.cleanData(r),p?e.data=r:e.data.push.apply(e.data,r),e.empty=!1),e.layout&&!p||(e.layout=S.cleanLayout(o)),f.supplyDefaults(e);var y=e._fullLayout,x=y._has("cartesian");if(!y._has("polar")&&r&&r[0]&&r[0].r)return s.log("Legacy polar charts are deprecated!"),function plotLegacyPolar(e,n,r){var o=a.select(e).selectAll(".plot-container").data([0]);o.enter().insert("div",":first-child").classed("plot-container plotly",!0);var i=o.selectAll(".svg-container").data([0]);i.enter().append("div").classed("svg-container",!0).style("position","relative"),i.html(""),n&&(e.data=n);r&&(e.layout=r);h.manager.fillLayout(e),i.style({width:e._fullLayout.width+"px",height:e._fullLayout.height+"px"}),e.framework=h.manager.framework(e),e.framework({data:e.data,layout:e.layout},i.node()),e.framework.setUndoPoint();var l=e.framework.svg(),c=1,u=e._fullLayout.title?e._fullLayout.title.text:"";""!==u&&u||(c=0);var titleLayout=function(){this.call(_.convertToTspans,e)},d=l.select(".title-group text").call(titleLayout);if(e._context.edits.titleText){var p=s._(e,"Click to enter Plot title");u&&u!==p||(c=.2,d.attr({"data-unformatted":p}).text(p).style({opacity:c}).on("mouseover.opacity",(function(){a.select(this).transition().duration(100).style("opacity",1)})).on("mouseout.opacity",(function(){a.select(this).transition().duration(1e3).style("opacity",0)})));var setContenteditable=function(){this.call(_.makeEditable,{gd:e}).on("edit",(function(n){e.framework({layout:{title:{text:n}}}),this.text(n).call(titleLayout),this.call(setContenteditable)})).on("cancel",(function(){var e=this.attr("data-unformatted");this.text(e).call(titleLayout)}))};d.call(setContenteditable)}return e._context.setBackground(e,e._fullLayout.paper_bgcolor),f.addLinks(e),Promise.resolve()}(e,r,o);y._replotting=!0,(p||y._shouldCreateBgLayer)&&(makePlotFramework(e),y._shouldCreateBgLayer&&delete y._shouldCreateBgLayer),e.framework!==makePlotFramework&&(e.framework=makePlotFramework,makePlotFramework(e)),g.initGradients(e),p&&m.saveShowSpikeInitial(e);var w=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;w&&f.doCalcdata(e);for(var k=0;k<e.calcdata.length;k++)e.calcdata[k][0].trace=e._fullData[k];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){s.isHidden(e)||f.resize(e)},window.addEventListener("resize",e._responsiveChartHandler)):s.clearResponsive(e);var T=s.extendFlat({},y._size),C=0;function marginPushers(){if(f.clearAutoMarginIds(e),O.drawMarginPushers(e),m.allowAutoMargin(e),y._has("pie"))for(var n=e._fullData,r=0;r<n.length;r++){var a=n[r];"pie"===a.type&&a.automargin&&f.allowAutoMargin(e,"pie."+a.uid+".automargin")}return f.doAutoMargin(e),f.previousPromises(e)}function doAutoRangeAndConstraints(){e._transitioning||(O.doAutoRangeAndConstraints(e),p&&m.saveRangeInitial(e),d.getComponentMethod("rangeslider","calcAutorange")(e))}var A=[f.previousPromises,function addFrames(){if(l)return n.addFrames(e,l)},function drawFramework(){for(var n=y._basePlotModules,r=0;r<n.length;r++)n[r].drawFramework&&n[r].drawFramework(e);if(!y._glcanvas&&y._has("gl")&&(y._glcanvas=y._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],(function(e){return e.key})),y._glcanvas.enter().append("canvas").attr("class",(function(e){return"gl-canvas gl-canvas-"+e.key.replace("Layer","")})).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"})),y._glcanvas){y._glcanvas.attr("width",y.width).attr("height",y.height);var a=y._glcanvas.data()[0].regl;if(a&&(Math.floor(y.width)!==a._gl.drawingBufferWidth||Math.floor(y.height)!==a._gl.drawingBufferHeight)){var o="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!C)return s.log(o+" Clearing graph and plotting again."),f.cleanPlot([],{},e._fullData,y),f.supplyDefaults(e),y=e._fullLayout,f.doCalcdata(e),C++,drawFramework();s.error(o)}}return"h"===y.modebar.orientation?y._modebardiv.style("height",null).style("width","100%"):y._modebardiv.style("width",null).style("height",y.height+"px"),f.previousPromises(e)},marginPushers,function marginPushersAgain(){if(f.didMarginChange(T,y._size))return s.syncOrAsync([marginPushers,O.layoutStyles],e)}];x&&A.push((function positionAndAutorange(){if(w)return s.syncOrAsync([d.getComponentMethod("shapes","calcAutorange"),d.getComponentMethod("annotations","calcAutorange"),doAutoRangeAndConstraints],e);doAutoRangeAndConstraints()})),A.push(O.layoutStyles),x&&A.push((function drawAxes(){return m.draw(e,p?"":"redraw")}),(function insideTickLabelsAutorange(e){e._fullLayout._insideTickLabelsAutorange&&relayout(e,e._fullLayout._insideTickLabelsAutorange).then((function(){e._fullLayout._insideTickLabelsAutorange=void 0}))})),A.push(O.drawData,O.finalDraw,b,f.addLinks,f.rehover,f.redrag,f.doAutoMargin,(function saveRangeInitialForInsideTickLabels(e){e._fullLayout._insideTickLabelsAutorange&&p&&m.saveRangeInitial(e,!0)}),f.previousPromises);var I=s.syncOrAsync(A,e);return I&&I.then||(I=Promise.resolve()),I.then((function(){return emitAfterPlot(e),e}))},n.purge=function purge(e){var n=(e=s.getGraphDiv(e))._fullLayout||{},r=e._fullData||[];return f.cleanPlot([],{},r,n),f.purge(e),c.purge(e),n._container&&n._container.remove(),delete e._context,e},n.react=function react(e,r,a,o){var i,c;e=s.getGraphDiv(e),S.clearPromiseQueue(e);var u=e._fullData,h=e._fullLayout;if(s.isPlotDiv(e)&&u&&h){if(s.isPlainObject(r)){var m=r;r=m.data,a=m.layout,o=m.config,i=m.frames}var g=!1;if(o){var y=s.extendDeep({},e._context);e._context=void 0,setPlotContext(e,o),g=diffConfig(y,e._context)}e.data=r||[],S.cleanData(e.data),e.layout=a||{},S.cleanLayout(e.layout),function applyUIRevisions(e,n,r,a){var o,i,c,u,d,p,f,h,m=a._preGUI,g=[],y={};for(o in m){if(d=findUIPattern(o,D)){if(i=d.attr||d.head+".uirevision",(u=(c=l(a,i).get())&&getNewRev(i,n))&&u===c&&(null===(p=m[o])&&(p=void 0),valsMatch(h=(f=l(n,o)).get(),p))){void 0===h&&"autorange"===o.substr(o.length-9)&&g.push(o.substr(0,o.length-10)),f.set(undefinedToNull(l(a,o).get()));continue}}else s.warn("unrecognized GUI edit: "+o);delete m[o],"range["===o.substr(o.length-8,6)&&(y[o.substr(0,o.length-9)]=1)}for(var b=0;b<g.length;b++){var x=g[b];if(y[x]){var _=l(n,x).get();_&&delete _.autorange}}var w=a._tracePreGUI;for(var k in w){var T,S=w[k],O=null;for(o in S){if(!O){var C=getFullTraceIndexFromUid(k,r);if(C<0){delete w[k];break}var A=getTraceIndexFromUid(k,e,(T=r[C]._fullInput).index);if(A<0){delete w[k];break}O=e[A]}if(d=findUIPattern(o,j)){if(d.attr?u=(c=l(a,d.attr).get())&&getNewRev(d.attr,n):(c=T.uirevision,void 0===(u=O.uirevision)&&(u=n.uirevision)),u&&u===c&&(null===(p=S[o])&&(p=void 0),valsMatch(h=(f=l(O,o)).get(),p))){f.set(undefinedToNull(l(T,o).get()));continue}}else s.warn("unrecognized GUI edit: "+o+" in trace uid "+k);delete S[o]}}}(e.data,e.layout,u,h),f.supplyDefaults(e,{skipUpdateCalc:!0});var b=e._fullData,x=e._fullLayout,_=void 0===x.datarevision,w=x.transition,k=function diffLayout(e,n,r,a,o){var i=C.layoutFlags();function getLayoutValObject(e){return p.getLayoutValObject(r,e)}i.arrays={},i.rangesAltered={},i.nChanges=0,i.nChangesAnim=0,getDiffFlags(n,r,[],{getValObject:getLayoutValObject,flags:i,immutable:a,transition:o,gd:e}),(i.plot||i.calc)&&(i.layoutReplot=!0);o&&i.nChanges&&i.nChangesAnim&&(i.anim=i.nChanges===i.nChangesAnim?"all":"some");return i}(e,h,x,_,w),T=k.newDataRevision,A=function diffData(e,n,r,a,o,i){var s=n.length===r.length;if(!o&&!s)return{fullReplot:!0,calc:!0};var l,c,u=C.traceFlags();function getTraceValObject(e){var n=p.getTraceValObject(c,e);return!c._module.animatable&&n.anim&&(n.anim=!1),n}u.arrays={},u.nChanges=0,u.nChangesAnim=0;var d={getValObject:getTraceValObject,flags:u,immutable:a,transition:o,newDataRevision:i,gd:e},h={};for(l=0;l<n.length;l++)if(r[l]){if(c=r[l]._fullInput,f.hasMakesDataTransform(c)&&(c=r[l]),h[c.uid])continue;h[c.uid]=1,getDiffFlags(n[l]._fullInput,c,[],d)}(u.calc||u.plot)&&(u.fullReplot=!0);o&&u.nChanges&&u.nChangesAnim&&(u.anim=u.nChanges===u.nChangesAnim&&s?"all":"some");return u}(e,u,b,_,w,T);if(updateAutosize(e)&&(k.layoutReplot=!0),A.calc||k.calc){e.calcdata=void 0;for(var I=Object.getOwnPropertyNames(x),N=0;N<I.length;N++){var M=I[N],E=M.substring(0,5);if("xaxis"===E||"yaxis"===E){var R=x[M]._emptyCategories;R&&R()}}}else f.supplyDefaultsUpdateCalc(e.calcdata,b);var L=[];if(i&&(e._transitionData={},f.createTransitionData(e),L.push((function addFrames(){return n.addFrames(e,i)}))),x.transition&&!g&&(A.anim||k.anim))k.ticks&&L.push(O.doTicksRelayout),f.doCalcdata(e),O.doAutoRangeAndConstraints(e),L.push((function(){return f.transitionFromReact(e,A,k,h)}));else if(A.fullReplot||k.layoutReplot||g)e._fullLayout._skipDefaults=!0,L.push(n.plot);else{for(var z in k.arrays){var $=k.arrays[z];if($.length){var B=d.getComponentMethod(z,"drawOne");if(B!==s.noop)for(var V=0;V<$.length;V++)B(e,$[V]);else{var U=d.getComponentMethod(z,"draw");if(U===s.noop)throw new Error("cannot draw components: "+z);U(e)}}}L.push(f.previousPromises),A.style&&L.push(O.doTraceStyle),(A.colorbars||k.colorbars)&&L.push(O.doColorBars),k.legend&&L.push(O.doLegend),k.layoutstyle&&L.push(O.layoutStyles),k.axrange&&addAxRangeSequence(L),k.ticks&&L.push(O.doTicksRelayout),k.modebar&&L.push(O.doModeBar),k.camera&&L.push(O.doCamera),L.push(emitAfterPlot)}L.push(f.rehover,f.redrag),(c=s.syncOrAsync(L,e))&&c.then||(c=Promise.resolve(e))}else c=n.newPlot(e,r,a,o);return c.then((function(){return e.emit("plotly_react",{data:r,layout:a}),e}))},n.redraw=function redraw(e){if(e=s.getGraphDiv(e),!s.isPlotDiv(e))throw new Error("This element is not a Plotly plot: "+e);return S.cleanData(e.data),S.cleanLayout(e.layout),e.calcdata=void 0,n.plot(e).then((function(){return e.emit("plotly_redraw"),e}))},n.relayout=relayout,n.restyle=restyle,n.setPlotConfig=function setPlotConfig(e){return s.extendFlat(k,e)},n.update=update,n._guiRelayout=guiEdit(relayout),n._guiRestyle=guiEdit(restyle),n._guiUpdate=guiEdit(update),n._storeDirectGUIEdit=function _storeDirectGUIEdit(e,n,r){for(var a in r){storeCurrent(a,l(e,a).get(),r[a],n)}}},b61d:function(e,n,r){"use strict";r.d(n,"a",(function(){return g}));var a=r("6ad5"),o=r("0777"),i=r("649e"),s=r("24b0"),l=r("54ef"),c=r("d7b0"),u=r("35c9"),d=r("6d3c"),p=r("45bb"),f=r("5a2c"),h=r("a09b"),m=r("1ab7");const g=Object(l.a)({rfft_:function rfft_(e,n){Object(a.b)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let r=e.shape[e.shape.length-1];const l=e.size/r;let g;if(null!=n&&n<r){const a=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=n,g=Object(d.a)(e,a,o),r=n}else if(null!=n&&n>r){const a=e.shape.map((e=>e));a[e.shape.length-1]=n-r,g=Object(i.a)([e,Object(f.a)(a)],e.shape.length-1),r=n}else g=e;const y=Object(h.a)(g),b=Object(u.a)(Object(o.a)(g,y),[l,r]),x=Object(m.a)(b),_=Math.floor(r/2)+1,w=Object(c.a)(x),k=Object(s.a)(x),T=Object(p.a)(w,[_,r-_],w.shape.length-1),S=Object(p.a)(k,[_,r-_],k.shape.length-1),O=g.shape.slice();return O[g.shape.length-1]=_,Object(u.a)(Object(o.a)(T[0],S[0]),O)}})},b622:function(e,n,r){var a=r("da84"),o=r("5692"),i=r("5135"),s=r("90e3"),l=r("4930"),c=r("fdbf"),u=o("wks"),d=a.Symbol,p=c?d:d&&d.withoutSetter||s;e.exports=function(e){return i(u,e)&&(l||"string"==typeof u[e])||(l&&i(d,e)?u[e]=d[e]:u[e]=p("Symbol."+e)),u[e]}},b639:function(e,n,r){"use strict";(function(e){var a=r("1fb5"),o=r("9152"),i=r("2335");function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(e,n){if(kMaxLength()<n)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=Buffer.prototype:(null===e&&(e=new Buffer(n)),e.length=n),e}function Buffer(e,n,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,e)}return from(this,e,n,r)}function from(e,n,r,a){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function fromArrayBuffer(e,n,r,a){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(a||0))throw new RangeError("'length' is out of bounds");n=void 0===r&&void 0===a?new Uint8Array(n):void 0===a?new Uint8Array(n,r):new Uint8Array(n,r,a);Buffer.TYPED_ARRAY_SUPPORT?(e=n).__proto__=Buffer.prototype:e=fromArrayLike(e,n);return e}(e,n,r,a):"string"==typeof n?function fromString(e,n,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var a=0|byteLength(n,r),o=(e=createBuffer(e,a)).write(n,r);o!==a&&(e=e.slice(0,o));return e}(e,n,r):function fromObject(e,n){if(Buffer.isBuffer(n)){var r=0|checked(n.length);return 0===(e=createBuffer(e,r)).length||n.copy(e,0,0,r),e}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||function isnan(e){return e!=e}(n.length)?createBuffer(e,0):fromArrayLike(e,n);if("Buffer"===n.type&&i(n.data))return fromArrayLike(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,n)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(e,n){if(assertSize(n),e=createBuffer(e,n<0?0:0|checked(n)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function fromArrayLike(e,n){var r=n.length<0?0:0|checked(n.length);e=createBuffer(e,r);for(var a=0;a<r;a+=1)e[a]=255&n[a];return e}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function byteLength(e,n){if(Buffer.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var a=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(a)return utf8ToBytes(e).length;n=(""+n).toLowerCase(),a=!0}}function slowToString(e,n,r){var a=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(n>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,n,r);case"utf8":case"utf-8":return utf8Slice(this,n,r);case"ascii":return asciiSlice(this,n,r);case"latin1":case"binary":return latin1Slice(this,n,r);case"base64":return base64Slice(this,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,n,r);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function swap(e,n,r){var a=e[n];e[n]=e[r],e[r]=a}function bidirectionalIndexOf(e,n,r,a,o){if(0===e.length)return-1;if("string"==typeof r?(a=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=Buffer.from(n,a)),Buffer.isBuffer(n))return 0===n.length?-1:arrayIndexOf(e,n,r,a,o);if("number"==typeof n)return n&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):arrayIndexOf(e,[n],r,a,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,n,r,a,o){var i,s=1,l=e.length,c=n.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||n.length<2)return-1;s=2,l/=2,c/=2,r/=2}function read(e,n){return 1===s?e[n]:e.readUInt16BE(n*s)}if(o){var u=-1;for(i=r;i<l;i++)if(read(e,i)===read(n,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===c)return u*s}else-1!==u&&(i-=i-u),u=-1}else for(r+c>l&&(r=l-c),i=r;i>=0;i--){for(var d=!0,p=0;p<c;p++)if(read(e,i+p)!==read(n,p)){d=!1;break}if(d)return i}return-1}function hexWrite(e,n,r,a){r=Number(r)||0;var o=e.length-r;a?(a=Number(a))>o&&(a=o):a=o;var i=n.length;if(i%2!=0)throw new TypeError("Invalid hex string");a>i/2&&(a=i/2);for(var s=0;s<a;++s){var l=parseInt(n.substr(2*s,2),16);if(isNaN(l))return s;e[r+s]=l}return s}function utf8Write(e,n,r,a){return blitBuffer(utf8ToBytes(n,e.length-r),e,r,a)}function asciiWrite(e,n,r,a){return blitBuffer(function asciiToBytes(e){for(var n=[],r=0;r<e.length;++r)n.push(255&e.charCodeAt(r));return n}(n),e,r,a)}function latin1Write(e,n,r,a){return asciiWrite(e,n,r,a)}function base64Write(e,n,r,a){return blitBuffer(base64ToBytes(n),e,r,a)}function ucs2Write(e,n,r,a){return blitBuffer(function utf16leToBytes(e,n){for(var r,a,o,i=[],s=0;s<e.length&&!((n-=2)<0);++s)a=(r=e.charCodeAt(s))>>8,o=r%256,i.push(o),i.push(a);return i}(n,e.length-r),e,r,a)}function base64Slice(e,n,r){return 0===n&&r===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(n,r))}function utf8Slice(e,n,r){r=Math.min(e.length,r);for(var a=[],o=n;o<r;){var i,l,c,u,d=e[o],p=null,f=d>239?4:d>223?3:d>191?2:1;if(o+f<=r)switch(f){case 1:d<128&&(p=d);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&d)<<6|63&i)>127&&(p=u);break;case 3:i=e[o+1],l=e[o+2],128==(192&i)&&128==(192&l)&&(u=(15&d)<<12|(63&i)<<6|63&l)>2047&&(u<55296||u>57343)&&(p=u);break;case 4:i=e[o+1],l=e[o+2],c=e[o+3],128==(192&i)&&128==(192&l)&&128==(192&c)&&(u=(15&d)<<18|(63&i)<<12|(63&l)<<6|63&c)>65535&&u<1114112&&(p=u)}null===p?(p=65533,f=1):p>65535&&(p-=65536,a.push(p>>>10&1023|55296),p=56320|1023&p),a.push(p),o+=f}return function decodeCodePointsArray(e){var n=e.length;if(n<=s)return String.fromCharCode.apply(String,e);var r="",a=0;for(;a<n;)r+=String.fromCharCode.apply(String,e.slice(a,a+=s));return r}(a)}n.Buffer=Buffer,n.SlowBuffer=function SlowBuffer(e){+e!=e&&(e=0);return Buffer.alloc(+e)},n.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(n){return!1}}(),n.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(e){return e.__proto__=Buffer.prototype,e},Buffer.from=function(e,n,r){return from(null,e,n,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(e,n,r){return function alloc(e,n,r,a){return assertSize(n),n<=0?createBuffer(e,n):void 0!==r?"string"==typeof a?createBuffer(e,n).fill(r,a):createBuffer(e,n).fill(r):createBuffer(e,n)}(null,e,n,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(null,e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},Buffer.isBuffer=function isBuffer(e){return!(null==e||!e._isBuffer)},Buffer.compare=function compare(e,n){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,a=n.length,o=0,i=Math.min(r,a);o<i;++o)if(e[o]!==n[o]){r=e[o],a=n[o];break}return r<a?-1:a<r?1:0},Buffer.isEncoding=function isEncoding(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(e,n){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var a=Buffer.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var s=e[r];if(!Buffer.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(a,o),o+=s.length}return a},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<e;n+=2)swap(this,n,n+1);return this},Buffer.prototype.swap32=function swap32(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<e;n+=4)swap(this,n,n+3),swap(this,n+1,n+2);return this},Buffer.prototype.swap64=function swap64(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<e;n+=8)swap(this,n,n+7),swap(this,n+1,n+6),swap(this,n+2,n+5),swap(this,n+3,n+4);return this},Buffer.prototype.toString=function toString(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function inspect(){var e="",r=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function compare(e,n,r,a,o){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===a&&(a=0),void 0===o&&(o=this.length),n<0||r>e.length||a<0||o>this.length)throw new RangeError("out of range index");if(a>=o&&n>=r)return 0;if(a>=o)return-1;if(n>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(a>>>=0),s=(r>>>=0)-(n>>>=0),l=Math.min(i,s),c=this.slice(a,o),u=e.slice(n,r),d=0;d<l;++d)if(c[d]!==u[d]){i=c[d],s=u[d];break}return i<s?-1:s<i?1:0},Buffer.prototype.includes=function includes(e,n,r){return-1!==this.indexOf(e,n,r)},Buffer.prototype.indexOf=function indexOf(e,n,r){return bidirectionalIndexOf(this,e,n,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(e,n,r){return bidirectionalIndexOf(this,e,n,r,!1)},Buffer.prototype.write=function write(e,n,r,a){if(void 0===n)a="utf8",r=this.length,n=0;else if(void 0===r&&"string"==typeof n)a=n,r=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(r)?(r|=0,void 0===a&&(a="utf8")):(a=r,r=void 0)}var o=this.length-n;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var i=!1;;)switch(a){case"hex":return hexWrite(this,e,n,r);case"utf8":case"utf-8":return utf8Write(this,e,n,r);case"ascii":return asciiWrite(this,e,n,r);case"latin1":case"binary":return latin1Write(this,e,n,r);case"base64":return base64Write(this,e,n,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,n,r);default:if(i)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var s=4096;function asciiSlice(e,n,r){var a="";r=Math.min(e.length,r);for(var o=n;o<r;++o)a+=String.fromCharCode(127&e[o]);return a}function latin1Slice(e,n,r){var a="";r=Math.min(e.length,r);for(var o=n;o<r;++o)a+=String.fromCharCode(e[o]);return a}function hexSlice(e,n,r){var a=e.length;(!n||n<0)&&(n=0),(!r||r<0||r>a)&&(r=a);for(var o="",i=n;i<r;++i)o+=toHex(e[i]);return o}function utf16leSlice(e,n,r){for(var a=e.slice(n,r),o="",i=0;i<a.length;i+=2)o+=String.fromCharCode(a[i]+256*a[i+1]);return o}function checkOffset(e,n,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+n>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,n,r,a,o,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<i)throw new RangeError('"value" argument is out of bounds');if(r+a>e.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,n,r,a){n<0&&(n=65535+n+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(n&255<<8*(a?o:1-o))>>>8*(a?o:1-o)}function objectWriteUInt32(e,n,r,a){n<0&&(n=4294967295+n+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=n>>>8*(a?o:3-o)&255}function checkIEEE754(e,n,r,a,o,i){if(r+a>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,n,r,a,i){return i||checkIEEE754(e,0,r,4),o.write(e,n,r,a,23,4),r+4}function writeDouble(e,n,r,a,i){return i||checkIEEE754(e,0,r,8),o.write(e,n,r,a,52,8),r+8}Buffer.prototype.slice=function slice(e,n){var r,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(n=void 0===n?a:~~n)<0?(n+=a)<0&&(n=0):n>a&&(n=a),n<e&&(n=e),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,n)).__proto__=Buffer.prototype;else{var o=n-e;r=new Buffer(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},Buffer.prototype.readUIntLE=function readUIntLE(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var a=this[e],o=1,i=0;++i<n&&(o*=256);)a+=this[e+i]*o;return a},Buffer.prototype.readUIntBE=function readUIntBE(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var a=this[e+--n],o=1;n>0&&(o*=256);)a+=this[e+--n]*o;return a},Buffer.prototype.readUInt8=function readUInt8(e,n){return n||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function readUInt16LE(e,n){return n||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(e,n){return n||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(e,n){return n||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(e,n){return n||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function readIntLE(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var a=this[e],o=1,i=0;++i<n&&(o*=256);)a+=this[e+i]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*n)),a},Buffer.prototype.readIntBE=function readIntBE(e,n,r){e|=0,n|=0,r||checkOffset(e,n,this.length);for(var a=n,o=1,i=this[e+--a];a>0&&(o*=256);)i+=this[e+--a]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},Buffer.prototype.readInt8=function readInt8(e,n){return n||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function readInt16LE(e,n){n||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(e,n){n||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(e,n){return n||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(e,n){return n||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function readFloatLE(e,n){return n||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(e,n){return n||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(e,n){return n||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(e,n){return n||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(e,n,r,a){(e=+e,n|=0,r|=0,a)||checkInt(this,e,n,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[n]=255&e;++i<r&&(o*=256);)this[n+i]=e/o&255;return n+r},Buffer.prototype.writeUIntBE=function writeUIntBE(e,n,r,a){(e=+e,n|=0,r|=0,a)||checkInt(this,e,n,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[n+o]=255&e;--o>=0&&(i*=256);)this[n+o]=e/i&255;return n+r},Buffer.prototype.writeUInt8=function writeUInt8(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):objectWriteUInt32(this,e,n,!0),n+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},Buffer.prototype.writeIntLE=function writeIntLE(e,n,r,a){if(e=+e,n|=0,!a){var o=Math.pow(2,8*r-1);checkInt(this,e,n,r,o-1,-o)}var i=0,s=1,l=0;for(this[n]=255&e;++i<r&&(s*=256);)e<0&&0===l&&0!==this[n+i-1]&&(l=1),this[n+i]=(e/s>>0)-l&255;return n+r},Buffer.prototype.writeIntBE=function writeIntBE(e,n,r,a){if(e=+e,n|=0,!a){var o=Math.pow(2,8*r-1);checkInt(this,e,n,r,o-1,-o)}var i=r-1,s=1,l=0;for(this[n+i]=255&e;--i>=0&&(s*=256);)e<0&&0===l&&0!==this[n+i+1]&&(l=1),this[n+i]=(e/s>>0)-l&255;return n+r},Buffer.prototype.writeInt8=function writeInt8(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},Buffer.prototype.writeInt16LE=function writeInt16LE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):objectWriteUInt16(this,e,n,!0),n+2},Buffer.prototype.writeInt16BE=function writeInt16BE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):objectWriteUInt16(this,e,n,!1),n+2},Buffer.prototype.writeInt32LE=function writeInt32LE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):objectWriteUInt32(this,e,n,!0),n+4},Buffer.prototype.writeInt32BE=function writeInt32BE(e,n,r){return e=+e,n|=0,r||checkInt(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):objectWriteUInt32(this,e,n,!1),n+4},Buffer.prototype.writeFloatLE=function writeFloatLE(e,n,r){return writeFloat(this,e,n,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(e,n,r){return writeFloat(this,e,n,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(e,n,r){return writeDouble(this,e,n,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(e,n,r){return writeDouble(this,e,n,!1,r)},Buffer.prototype.copy=function copy(e,n,r,a){if(r||(r=0),a||0===a||(a=this.length),n>=e.length&&(n=e.length),n||(n=0),a>0&&a<r&&(a=r),a===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-n<a-r&&(a=e.length-n+r);var o,i=a-r;if(this===e&&r<n&&n<a)for(o=i-1;o>=0;--o)e[o+n]=this[o+r];else if(i<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),n);return i},Buffer.prototype.fill=function fill(e,n,r,a){if("string"==typeof e){if("string"==typeof n?(a=n,n=0,r=this.length):"string"==typeof r&&(a=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!Buffer.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;var i;if(n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=n;i<r;++i)this[i]=e;else{var s=Buffer.isBuffer(e)?e:utf8ToBytes(new Buffer(e,a).toString()),l=s.length;for(i=0;i<r-n;++i)this[i+n]=s[i%l]}return this};var l=/[^+\/0-9A-Za-z-_]/g;function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,n){var r;n=n||1/0;for(var a=e.length,o=null,i=[],s=0;s<a;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(s+1===a){(n-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(n-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((n-=1)<0)break;i.push(r)}else if(r<2048){if((n-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((n-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function base64ToBytes(e){return a.toByteArray(function base64clean(e){if((e=function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(l,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,n,r,a){for(var o=0;o<a&&!(o+r>=n.length||o>=e.length);++o)n[o+r]=e[o];return o}}).call(this,r("c8ba"))},b64b:function(e,n,r){var a=r("23e7"),o=r("7b0b"),i=r("df75");a({target:"Object",stat:!0,forced:r("d039")((function(){i(1)}))},{keys:function keys(e){return i(o(e))}})},b680:function(e,n,r){"use strict";var a=r("23e7"),o=r("a691"),i=r("408a"),s=r("1148"),l=r("d039"),c=1..toFixed,u=Math.floor,pow=function(e,n,r){return 0===n?r:n%2==1?pow(e,n-1,r*e):pow(e*e,n/2,r)},multiply=function(e,n,r){for(var a=-1,o=r;++a<6;)o+=n*e[a],e[a]=o%1e7,o=u(o/1e7)},divide=function(e,n){for(var r=6,a=0;--r>=0;)a+=e[r],e[r]=u(a/n),a=a%n*1e7},dataToString=function(e){for(var n=6,r="";--n>=0;)if(""!==r||0===n||0!==e[n]){var a=String(e[n]);r=""===r?a:r+s.call("0",7-a.length)+a}return r};a({target:"Number",proto:!0,forced:c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){c.call({})}))},{toFixed:function toFixed(e){var n,r,a,l,c=i(this),u=o(e),d=[0,0,0,0,0,0],p="",f="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(p="-",c=-c),c>1e-21)if(r=(n=function(e){for(var n=0,r=e;r>=4096;)n+=12,r/=4096;for(;r>=2;)n+=1,r/=2;return n}(c*pow(2,69,1))-69)<0?c*pow(2,-n,1):c/pow(2,n,1),r*=4503599627370496,(n=52-n)>0){for(multiply(d,0,r),a=u;a>=7;)multiply(d,1e7,0),a-=7;for(multiply(d,pow(10,a,1),0),a=n-1;a>=23;)divide(d,1<<23),a-=23;divide(d,1<<a),multiply(d,1,1),divide(d,2),f=dataToString(d)}else multiply(d,0,r),multiply(d,1<<-n,0),f=dataToString(d)+s.call("0",u);return f=u>0?p+((l=f.length)<=u?"0."+s.call("0",u-l)+f:f.slice(0,l-u)+"."+f.slice(l-u)):p+f}})},b68b:function(e,n,r){"use strict";var a=r("ec20").dot,o=r("e806").BADNUM,i=e.exports={};i.tester=function tester(e){var n,r=e.slice(),a=r[0][0],i=a,s=r[0][1],l=s;for(r.push(r[0]),n=1;n<r.length;n++)a=Math.min(a,r[n][0]),i=Math.max(i,r[n][0]),s=Math.min(s,r[n][1]),l=Math.max(l,r[n][1]);var c,u=!1;5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(u=!0,c=function(e){return e[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(u=!0,c=function(e){return e[1]===r[0][1]}));var d=!0,p=r[0];for(n=1;n<r.length;n++)if(p[0]!==r[n][0]||p[1]!==r[n][1]){d=!1;break}return{xmin:a,xmax:i,ymin:s,ymax:l,pts:r,contains:u?function rectContains(e,n){var r=e[0],u=e[1];return!(r===o||r<a||r>i||u===o||u<s||u>l)&&(!n||!c(e))}:function contains(e,n){var c=e[0],u=e[1];if(c===o||c<a||c>i||u===o||u<s||u>l)return!1;var d,p,f,h,m,g=r.length,y=r[0][0],b=r[0][1],x=0;for(d=1;d<g;d++)if(p=y,f=b,y=r[d][0],b=r[d][1],!(c<(h=Math.min(p,y))||c>Math.max(p,y)||u>Math.max(f,b)))if(u<Math.min(f,b))c!==h&&x++;else{if(u===(m=y===p?u:f+(c-p)*(b-f)/(y-p)))return 1!==d||!n;u<=m&&c!==h&&x++}return x%2==1},isRect:u,degenerate:d}},i.isSegmentBent=function isSegmentBent(e,n,r,o){var i,s,l,c=e[n],u=[e[r][0]-c[0],e[r][1]-c[1]],d=a(u,u),p=Math.sqrt(d),f=[-u[1]/p,u[0]/p];for(i=n+1;i<r;i++)if(s=[e[i][0]-c[0],e[i][1]-c[1]],(l=a(s,u))<0||l>d||Math.abs(a(s,f))>o)return!0;return!1},i.filter=function filter(e,n){var r=[e[0]],a=0,o=0;function addPt(s){e.push(s);var l=r.length,c=a;r.splice(o+1);for(var u=c+1;u<e.length;u++)(u===e.length-1||i.isSegmentBent(e,c,u+1,n))&&(r.push(e[u]),r.length<l-2&&(a=u,o=r.length-1),c=u)}e.length>1&&addPt(e.pop());return{addPt:addPt,raw:e,filtered:r}}},b727:function(e,n,r){var a=r("0366"),o=r("44ad"),i=r("7b0b"),s=r("50c4"),l=r("65f0"),c=[].push,createMethod=function(e){var n=1==e,r=2==e,u=3==e,d=4==e,p=6==e,f=7==e,h=5==e||p;return function(m,g,y,b){for(var x,_,w=i(m),k=o(w),T=a(g,y,3),S=s(k.length),O=0,C=b||l,A=n?C(m,S):r||f?C(m,0):void 0;S>O;O++)if((h||O in k)&&(_=T(x=k[O],O,w),e))if(n)A[O]=_;else if(_)switch(e){case 3:return!0;case 5:return x;case 6:return O;case 2:c.call(A,x)}else switch(e){case 4:return!1;case 7:c.call(A,x)}return p?-1:u||d?d:A}};e.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterOut:createMethod(7)}},b778:function(e,n,r){"use strict";e.exports=function noop(){}},b7b8:function(e,n,r){"use strict";var a=r("d798"),o=r("9092").extendFlat,i=r("cb34").overrideAll,s=["Legacy polar charts are deprecated!","Please switch to *polar* subplots."].join(" "),l=o({},a.domain,{description:["Polar chart subplots are not supported yet.","This key has currently no effect."].join(" ")});function mergeAttrs(e,n){var r={showline:{valType:"boolean",role:"style",description:[s,"Determines whether or not the line bounding this",e,"axis","will be shown on the figure."].join(" ")},showticklabels:{valType:"boolean",role:"style",description:[s,"Determines whether or not the",e,"axis ticks","will feature tick labels."].join(" ")},tickorientation:{valType:"enumerated",values:["horizontal","vertical"],role:"style",description:[s,"Sets the orientation (from the paper perspective)","of the",e,"axis tick labels."].join(" ")},ticklen:{valType:"number",min:0,role:"style",description:[s,"Sets the length of the tick lines on this",e,"axis."].join(" ")},tickcolor:{valType:"color",role:"style",description:[s,"Sets the color of the tick lines on this",e,"axis."].join(" ")},ticksuffix:{valType:"string",role:"style",description:[s,"Sets the length of the tick lines on this",e,"axis."].join(" ")},endpadding:{valType:"number",role:"style",description:s},visible:{valType:"boolean",role:"info",description:[s,"Determines whether or not this axis will be visible."].join(" ")}};return o({},n,r)}e.exports=i({radialaxis:mergeAttrs("radial",{range:{valType:"info_array",role:"info",items:[{valType:"number"},{valType:"number"}],description:[s,"Defines the start and end point of this radial axis."].join(" ")},domain:l,orientation:{valType:"number",role:"style",description:[s,"Sets the orientation (an angle with respect to the origin)","of the radial axis."].join(" ")}}),angularaxis:mergeAttrs("angular",{range:{valType:"info_array",role:"info",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}],description:[s,"Defines the start and end point of this angular axis."].join(" ")},domain:l}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"],role:"info",description:[s,"Sets the direction corresponding to positive angles","in legacy polar charts."].join(" ")},orientation:{valType:"angle",role:"info",description:[s,"Rotates the entire polar by the given angle","in legacy polar charts."].join(" ")}}},"plot","nested")},b818:function(e,n,r){"use strict";function computeDilation2DInfo(e,n,r,a,o="NHWC",i){return computeConv2DInfo(e,[...n,e[3]],r,i,a,null,null,convertConv2DDataFormat(o))}function computePool2DInfo(e,n,r,a,o,i,s="channelsLast"){const[l,c]=parseTupleParam(n);let u;if("channelsLast"===s)u=[l,c,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);u=[l,c,e[1],e[1]]}return computeConv2DInfo(e,u,r,a,o,i,!1,s)}function computePool3DInfo(e,n,r,a,o,i,s="NDHWC"){const[l,c,u]=parse3TupleParam(n);let d,p;if("NDHWC"===s)p="channelsLast",d=[l,c,u,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);p="channelsFirst",d=[l,c,u,e[1],e[1]]}return computeConv3DInfo(e,d,r,a,o,!1,p,i)}function computeConv2DInfo(e,n,r,a,o,i,s=!1,l="channelsLast"){let[c,u,d,p]=[-1,-1,-1,-1];if("channelsLast"===l)[c,u,d,p]=e;else{if("channelsFirst"!==l)throw new Error(`Unknown dataFormat ${l}`);[c,p,u,d]=e}const[f,h,,m]=n,[g,y]=parseTupleParam(r),[b,x]=parseTupleParam(a),_=getEffectiveFilterSize(f,b),w=getEffectiveFilterSize(h,x),{padInfo:k,outHeight:T,outWidth:S}=function getPadAndOutInfo(e,n,r,a,o,i,s,l,c){let u,d,p;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function computeOutputShape2D(e,n,r,a,o){null==a&&(a=computeDefaultPad(e,n,r));const i=e[0],s=e[1],l=round((i-n+2*a)/r+1,o),c=round((s-n+2*a)/r+1,o);return[l,c]}([n,r],i,a,e,l);d=o[0],p=o[1]}else if("same"===e){d=Math.ceil(n/a),p=Math.ceil(r/o);const e=Math.max(0,(d-1)*a+i-n),l=Math.max(0,(p-1)*o+s-r),c=Math.floor(e/2),f=e-c,h=Math.floor(l/2);u={top:c,bottom:f,left:h,right:l-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((n-i+1)/a),p=Math.ceil((r-s+1)/o);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const f="channelsLast"===c?e[1][0]:e[2][0],h="channelsLast"===c?e[1][1]:e[2][1],m="channelsLast"===c?e[2][0]:e[3][0],g="channelsLast"===c?e[2][1]:e[3][1];u={top:f,bottom:h,left:m,right:g,type:0===f&&0===h&&0===m&&0===g?"VALID":"EXPLICIT"},d=round((n-i+f+h)/a+1,l),p=round((r-s+m+g)/o+1,l)}}return{padInfo:u,outHeight:d,outWidth:p}}(o,u,d,g,y,_,w,i,l),O=s?m*p:m;let C;return"channelsFirst"===l?C=[c,O,T,S]:"channelsLast"===l&&(C=[c,T,S,O]),{batchSize:c,dataFormat:l,inHeight:u,inWidth:d,inChannels:p,outHeight:T,outWidth:S,outChannels:O,padInfo:k,strideHeight:g,strideWidth:y,filterHeight:f,filterWidth:h,effectiveFilterHeight:_,effectiveFilterWidth:w,dilationHeight:b,dilationWidth:x,inShape:e,outShape:C,filterShape:n}}function computeConv3DInfo(e,n,r,a,o,i=!1,s="channelsLast",l){let[c,u,d,p,f]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[c,u,d,p,f]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[c,f,u,d,p]=e}const[h,m,g,,y]=n,[b,x,_]=parse3TupleParam(r),[w,k,T]=parse3TupleParam(a),S=getEffectiveFilterSize(h,w),O=getEffectiveFilterSize(m,k),C=getEffectiveFilterSize(g,T),{padInfo:A,outDepth:I,outHeight:N,outWidth:M}=function get3DPadAndOutInfo(e,n,r,a,o,i,s,l,c,u,d){let p,f,h,m;if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const i=function computeOutputShape4D(e,n,r,a,o,i){null==o&&(o=computeDefaultPad(e,n,a));const s=e[0],l=e[1],c=e[2],u=round((s-n+2*o)/a+1,i),d=round((l-n+2*o)/a+1,i),p=round((c-n+2*o)/a+1,i);return[u,d,p,r]}([n,r,a,1],l,1,o,e,d);f=i[0],h=i[1],m=i[2]}else if("same"===e){f=Math.ceil(n/o),h=Math.ceil(r/i),m=Math.ceil(a/s);const e=(f-1)*o+l-n,d=(h-1)*i+c-r,g=(m-1)*s+u-a,y=Math.floor(e/2),b=e-y,x=Math.floor(d/2),_=d-x,w=Math.floor(g/2);p={top:x,bottom:_,left:w,right:g-w,front:y,back:b,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},f=Math.ceil((n-l+1)/o),h=Math.ceil((r-c+1)/i),m=Math.ceil((a-u+1)/s)}return{padInfo:p,outDepth:f,outHeight:h,outWidth:m}}(o,u,d,p,b,x,_,S,O,C,l),E=i?y*f:y;let D;return"channelsFirst"===s?D=[c,E,I,N,M]:"channelsLast"===s&&(D=[c,I,N,M,E]),{batchSize:c,dataFormat:s,inDepth:u,inHeight:d,inWidth:p,inChannels:f,outDepth:I,outHeight:N,outWidth:M,outChannels:E,padInfo:A,strideDepth:b,strideHeight:x,strideWidth:_,filterDepth:h,filterHeight:m,filterWidth:g,effectiveFilterDepth:S,effectiveFilterHeight:O,effectiveFilterWidth:C,dilationDepth:w,dilationHeight:k,dilationWidth:T,inShape:e,outShape:D,filterShape:n}}function computeDefaultPad(e,n,r,a=1){const o=getEffectiveFilterSize(n,a);return Math.floor((e[0]*(r-1)-r+o)/2)}function parseTupleParam(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function parse3TupleParam(e){return"number"==typeof e?[e,e,e]:e}function getEffectiveFilterSize(e,n){return n<=1?e:e+(e-1)*(n-1)}function round(e,n){if(!n)return Math.trunc(e);switch(n){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${n}`)}}function tupleValuesAreOne(e){const[n,r,a]=parseTupleParam(e);return 1===n&&1===r&&1===a}function eitherStridesOrDilationsAreOne(e,n){return tupleValuesAreOne(e)||tupleValuesAreOne(n)}function convertConv2DDataFormat(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}r.d(n,"d",(function(){return computeDilation2DInfo})),r.d(n,"e",(function(){return computePool2DInfo})),r.d(n,"f",(function(){return computePool3DInfo})),r.d(n,"a",(function(){return computeConv2DInfo})),r.d(n,"b",(function(){return computeConv3DInfo})),r.d(n,"c",(function(){return computeDefaultPad})),r.d(n,"i",(function(){return tupleValuesAreOne})),r.d(n,"h",(function(){return eitherStridesOrDilationsAreOne})),r.d(n,"g",(function(){return convertConv2DDataFormat}))},b838:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.x=0,n.y=0,n.z=0,n.w=0,n.next=function(){var e=n.x^n.x<<11;return n.x=n.y,n.y=n.z,n.z=n.w,n.w^=n.w>>>19^e^e>>>8},e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor128=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},b924:function(e,n){function select(e,n,r){var a=[];return e.forEach((function(e){var o=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);0!==n[o]&&a.push({id:r?r.segmentId():-1,start:e.start,end:e.end,myFill:{above:1===n[o],below:2===n[o]},otherFill:null})})),r&&r.selected(a),a}var r={union:function(e,n){return select(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return select(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return select(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return select(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return select(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}};e.exports=r},b9b9:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({equal_:function equal_(e,n){let r=Object(s.a)(e,"a","equal"),c=Object(s.a)(n,"b","equal");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.X,u)}})},ba40:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({gatherND_:function gatherND_(e,n){const r=Object(i.a)(n,"indices","gatherND","int32"),s={params:Object(i.a)(e,"x","gatherND"),indices:r};return a.a.runKernel(o.lb,s)}})},ba53:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("deb3"),c=r("54ef"),u=r("35c9");const d=Object(c.a)({avgPool3d_:function avgPool3d_(e,n,r,c,d,p="NDHWC"){const f=Object(i.a)(e,"x","avgPool3d","float32");let h=f,m=!1;4===f.rank&&(m=!0,h=Object(u.a)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),s.b(5===h.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${h.rank}.`)),s.b("NDHWC"===p,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${p}`)),null!=d&&s.b(s.v(c),(()=>`Error in avgPool3d: pad must be an integer when using, dimRoundingMode ${d} but got pad ${c}.`));const g={x:h},y={filterSize:n,strides:r,pad:c,dimRoundingMode:d,dataFormat:p};let b=a.a.runKernel(o.p,g,y);return b=Object(l.a)(b,h.dtype),m?Object(u.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},baf5:function(e,n,r){"use strict";e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},bb2d:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({greaterEqual_:function greaterEqual_(e,n){let r=Object(s.a)(e,"a","greaterEqual"),c=Object(s.a)(n,"b","greaterEqual");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.ob,u)}})},bb4a:function(e,n,r){"use strict";var a=r("a935"),o=r("9845"),i=r("d301"),s=r("a651").templatedArray,l=r("445c");function arrowAxisRefDescription(e){return["In order for absolute positioning of the arrow to work, *a"+e+"ref* must be exactly the same as *"+e+"ref*, otherwise *a"+e+"ref* will revert to *pixel* (explained next).","For relative positioning, *a"+e+"ref* can be set to *pixel*,","in which case the *a"+e+"* value is specified in pixels","relative to *"+e+"*.","Absolute positioning is useful","for trendline annotations which should continue to indicate","the correct trend when zoomed. Relative positioning is useful","for specifying the text offset for an annotated point."].join(" ")}function arrowCoordinateDescription(e,n,r){return["Sets the",e,"component of the arrow tail about the arrow head.","If `a"+e+"ref` is `pixel`, a positive (negative)","component corresponds to an arrow pointing","from",r,"to",n,"("+n,"to",r+").","If `a"+e+"ref` is not `pixel` and is exactly the same as `"+e+"ref`,","this is an absolute value on that axis,","like `"+e+"`, specified in the same coordinates as `"+e+"ref`."].join(" ")}e.exports=s("annotation",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"calc+arraydraw",description:["Determines whether or not this annotation is visible."].join(" ")},text:{valType:"string",role:"info",editType:"calc+arraydraw",description:["Sets the text associated with this annotation.","Plotly uses a subset of HTML tags to do things like","newline (<br>), bold (<b></b>), italics (<i></i>),","hyperlinks (<a href='...'></a>). Tags <em>, <sup>, <sub>","<span> are also supported."].join(" ")},textangle:{valType:"angle",dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets the angle at which the `text` is drawn","with respect to the horizontal."].join(" ")},font:o({editType:"calc+arraydraw",colorEditType:"arraydraw",description:"Sets the annotation text font."}),width:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit width for the text box. null (default) lets the","text set the box width. Wider text will be clipped.","There is no automatic wrapping; use <br> to start a new line."].join(" ")},height:{valType:"number",min:1,dflt:null,role:"style",editType:"calc+arraydraw",description:["Sets an explicit height for the text box. null (default) lets the","text set the box height. Taller text will be clipped."].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,role:"style",editType:"arraydraw",description:"Sets the opacity of the annotation (text + arrow)."},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",role:"style",editType:"arraydraw",description:["Sets the horizontal alignment of the `text` within the box.","Has an effect only if `text` spans two or more lines","(i.e. `text` contains one or more <br> HTML tags) or if an","explicit width is set to override the text width."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"arraydraw",description:["Sets the vertical alignment of the `text` within the box.","Has an effect only if an explicit height is set to override","the text height."].join(" ")},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:"Sets the background color of the annotation."},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",role:"style",editType:"arraydraw",description:["Sets the color of the border enclosing the annotation `text`."].join(" ")},borderpad:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the padding (in px) between the `text`","and the enclosing border."].join(" ")},borderwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the width (in px) of the border enclosing","the annotation `text`."].join(" ")},showarrow:{valType:"boolean",dflt:!0,role:"style",editType:"calc+arraydraw",description:["Determines whether or not the annotation is drawn with an arrow.","If *true*, `text` is placed near the arrow's tail.","If *false*, `text` lines up with the `x` and `y` provided."].join(" ")},arrowcolor:{valType:"color",role:"style",editType:"arraydraw",description:"Sets the color of the annotation arrow."},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the end annotation arrow head style."},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,role:"style",editType:"arraydraw",description:"Sets the start annotation arrow head style."},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",role:"style",editType:"arraydraw",description:"Sets the annotation arrow head position."},arrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the end annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},startarrowsize:{valType:"number",min:.3,dflt:1,role:"style",editType:"calc+arraydraw",description:["Sets the size of the start annotation arrow head, relative to `arrowwidth`.","A value of 1 (default) gives a head about 3x as wide as the line."].join(" ")},arrowwidth:{valType:"number",min:.1,role:"style",editType:"calc+arraydraw",description:"Sets the width (in px) of annotation arrow line."},standoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the end arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},startstandoff:{valType:"number",min:0,dflt:0,role:"style",editType:"calc+arraydraw",description:["Sets a distance, in pixels, to move the start arrowhead away from the","position it is pointing at, for example to point at the edge of","a marker independent of zoom. Note that this shortens the arrow","from the `ax` / `ay` vector, in contrast to `xshift` / `yshift`","which moves everything by this amount."].join(" ")},ax:{valType:"any",role:"info",editType:"calc+arraydraw",description:[arrowCoordinateDescription("x","left","right")].join(" ")},ay:{valType:"any",role:"info",editType:"calc+arraydraw",description:[arrowCoordinateDescription("y","top","bottom")].join(" ")},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",l.axisRefDescription("ax","left","right"),arrowAxisRefDescription("x")].join(" ")},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Indicates in what coordinates the tail of the","annotation (ax,ay) is specified.",l.axisRefDescription("ay","bottom","top"),arrowAxisRefDescription("y")].join(" ")},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],role:"info",editType:"calc",description:["Sets the annotation's x coordinate axis.",l.axisRefDescription("x","left","right")].join(" ")},x:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's x position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's horizontal position anchor","This anchor binds the `x` position to the *left*, *center*","or *right* of the annotation.","For example, if `x` is set to 1, `xref` to *paper* and","`xanchor` to *right* then the right-most portion of the","annotation lines up with the right-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *center* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},xshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow to the","right (positive) or left (negative) by this many pixels."].join(" ")},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],role:"info",editType:"calc",description:["Sets the annotation's y coordinate axis.",l.axisRefDescription("y","bottom","top")].join(" ")},y:{valType:"any",role:"info",editType:"calc+arraydraw",description:["Sets the annotation's y position.","If the axis `type` is *log*, then you must take the","log of your desired range.","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",role:"info",editType:"calc+arraydraw",description:["Sets the text box's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the annotation.","For example, if `y` is set to 1, `yref` to *paper* and","`yanchor` to *top* then the top-most portion of the","annotation lines up with the top-most edge of the","plotting area.","If *auto*, the anchor is equivalent to *middle* for","data-referenced annotations or if there is an arrow,","whereas for paper-referenced with no arrow, the anchor picked","corresponds to the closest side."].join(" ")},yshift:{valType:"number",dflt:0,role:"style",editType:"calc+arraydraw",description:["Shifts the position of the whole annotation and arrow up","(positive) or down (negative) by this many pixels."].join(" ")},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,role:"style",editType:"arraydraw",description:["Makes this annotation respond to clicks on the plot.","If you click a data point that exactly matches the `x` and `y`","values of this annotation, and it is hidden (visible: false),","it will appear. In *onoff* mode, you must click the same point","again to make it disappear, so if you click multiple points,","you can show multiple annotations. In *onout* mode, a click","anywhere else in the plot (on another data point or not) will","hide this annotation.","If you need to show/hide this annotation in response to different","`x` or `y` values, you can set `xclick` and/or `yclick`. This is","useful for example to label the side of a bar. To label markers","though, `standoff` is preferred over `xclick` and `yclick`."].join(" ")},xclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `x` value","is `xclick` rather than the annotation's `x` value."].join(" ")},yclick:{valType:"any",role:"info",editType:"arraydraw",description:["Toggle this annotation when clicking a data point whose `y` value","is `yclick` rather than the annotation's `y` value."].join(" ")},hovertext:{valType:"string",role:"info",editType:"arraydraw",description:["Sets text to appear when hovering over this annotation.","If omitted or blank, no hover label will appear."].join(" ")},hoverlabel:{bgcolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the background color of the hover label.","By default uses the annotation's `bgcolor` made opaque,","or white if it was transparent."].join(" ")},bordercolor:{valType:"color",role:"style",editType:"arraydraw",description:["Sets the border color of the hover label.","By default uses either dark grey or white, for maximum","contrast with `hoverlabel.bgcolor`."].join(" ")},font:o({editType:"arraydraw",description:["Sets the hover label text font.","By default uses the global hover font and size,","with color from `hoverlabel.bordercolor`."].join(" ")}),editType:"arraydraw"},captureevents:{valType:"boolean",role:"info",editType:"arraydraw",description:["Determines whether the annotation text box captures mouse move","and click events, or allows those events to pass through to data","points in the plot that may be behind the annotation. By default","`captureevents` is *false* unless `hovertext` is provided.","If you use the event `plotly_clickannotation` without `hovertext`","you must explicitly enable `captureevents`."].join(" ")},editType:"calc",_deprecated:{ref:{valType:"string",role:"info",editType:"calc",description:["Obsolete. Set `xref` and `yref` separately instead."].join(" ")}}})},bb5b:function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("e5ac"),s=r("1729"),l=r("bb4a");function handleAnnotationDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,l,r,o)}var i=coerce("visible"),c=coerce("clicktoshow");if(i||c){s(e,n,r,coerce);for(var u=n.showarrow,d=["x","y"],p=[-10,-30],f={_fullLayout:r},h=0;h<2;h++){var m=d[h],g=o.coerceRef(e,n,f,m,"","paper");if("paper"!==g)o.getFromId(f,g)._annIndices.push(n._index);if(o.coercePosition(n,f,coerce,g,m,.5),u){var y="a"+m,b=o.coerceRef(e,n,f,y,"pixel",["pixel","paper"]);"pixel"!==b&&b!==g&&(b=n[y]="pixel");var x="pixel"===b?p[h]:.4;o.coercePosition(n,f,coerce,b,y,x)}coerce(m+"anchor"),coerce(m+"shift")}if(a.noneOrAll(e,n,["x","y"]),u&&a.noneOrAll(e,n,["ax","ay"]),c){var _=coerce("xclick"),w=coerce("yclick");n._xclick=void 0===_?n.x:o.cleanPosition(_,f,n.xref),n._yclick=void 0===w?n.y:o.cleanPosition(w,f,n.yref)}}}e.exports=function supplyLayoutDefaults(e,n){i(e,n,{name:"annotations",handleItemDefaults:handleAnnotationDefaults})}},bb71:function(e,n,r){"use strict";var a=r("6e58"),o=r("70e1").timeFormatLocale,i=r("19b2"),s=r("371e"),l=r("6921"),c=r("a651"),u=r("fc26"),d=r("d115"),p=r("e806").BADNUM,f=r("3c1c"),h=r("e947").clearSelect,m=r("5b68"),g=r("a9cb"),y=r("ad62").getModuleCalcData,b=u.relinkPrivateKeys,x=u._,_=e.exports={};u.extendFlat(_,s),_.attributes=r("a876"),_.attributes.type.values=_.allTypes,_.fontAttrs=r("9845"),_.layoutAttributes=r("a685"),_.fontWeight="normal";var w=_.transformsRegistry,k=r("469b");_.executeAPICommand=k.executeAPICommand,_.computeAPICommandBindings=k.computeAPICommandBindings,_.manageCommandObserver=k.manageCommandObserver,_.hasSimpleAPICommandBindings=k.hasSimpleAPICommandBindings,_.redrawText=function(e){var n=(e=u.getGraphDiv(e))._fullLayout||{};if(!(!(n._has&&n._has("polar"))&&e.data&&e.data[0]&&e.data[0].r))return new Promise((function(n){setTimeout((function(){s.getComponentMethod("annotations","draw")(e),s.getComponentMethod("legend","draw")(e),s.getComponentMethod("colorbar","draw")(e),n(_.previousPromises(e))}),300)}))},_.resize=function(e){var n;e=u.getGraphDiv(e);var r=new Promise((function(r,a){e&&!u.isHidden(e)||a(new Error("Resize must be passed a displayed plot div element.")),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(n=e._resolveResize),e._resolveResize=r,e._redrawTimer=setTimeout((function(){if(!e.layout||e.layout.width&&e.layout.height||u.isHidden(e))r(e);else{delete e.layout.width,delete e.layout.height;var n=e.changed;e.autoplay=!0,s.call("relayout",e,{autosize:!0}).then((function(){e.changed=n,e._resolveResize===r&&(delete e._resolveResize,r(e))}))}}),100)}));return n&&n(r),r},_.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then((function(){e._promises=[]}))},_.addLinks=function(e){if(e._context.showLink||e._context.showSources){var n=e._fullLayout,r=u.ensureSingle(n._paper,"text","js-plot-link-container",(function(e){e.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:d.defaultLine,"pointer-events":"all"}).each((function(){var e=a.select(this);e.append("tspan").classed("js-link-to-tool",!0),e.append("tspan").classed("js-link-spacer",!0),e.append("tspan").classed("js-sourcelinks",!0)}))})),o=r.node(),i={y:n._paper.attr("height")-9};document.body.contains(o)&&o.getComputedTextLength()>=n.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=n._paper.attr("width")-7),r.attr(i);var s=r.select(".js-link-to-tool"),l=r.select(".js-link-spacer"),c=r.select(".js-sourcelinks");e._context.showSources&&e._context.showSources(e),e._context.showLink&&function positionPlayWithData(e,n){n.text("");var r=n.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(e._context.linkText+" "+String.fromCharCode(187));if(e._context.sendData)r.on("click",(function(){_.sendDataToCloud(e)}));else{var a=window.location.pathname.split("/"),o=window.location.search;r.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+a[2].split(".")[0]+"/"+a[1]+o})}}(e,s),l.text(s.text()&&c.text()?" - ":"")}},_.sendDataToCloud=function(e){var n=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(n){e.emit("plotly_beforeexport");var r=a.select(e).append("div").attr("id","hiddenform").style("display","none"),o=r.append("form").attr({action:n+"/external",method:"post",target:"_blank"});return o.append("input").attr({type:"text",name:"data"}).node().value=_.graphJson(e,!1,"keepdata"),o.node().submit(),r.remove(),e.emit("plotly_afterexport"),!1}};var T=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];function getFormatObj(e,n){var r=e._context.locale;r||(r="en-US");var a=!1,o={};function includeFormat(e){for(var r=!0,i=0;i<n.length;i++){var s=n[i];o[s]||(e[s]?o[s]=e[s]:r=!1)}r&&(a=!0)}for(var i=0;i<2;i++){for(var l=e._context.locales,c=0;c<2;c++){var u=(l[r]||{}).format;if(u&&(includeFormat(u),a))break;l=s.localeRegistry}var d=r.split("-")[0];if(a||d===r)break;r=d}return a||includeFormat(s.localeRegistry.en.format),o}function findMainSubplot(e,n){var r={_fullLayout:n},a="x"===e._id.charAt(0),o=e._mainAxis._anchorAxis,i="",s="",l="";if(o&&(l=o._mainAxis._id,i=a?e._id+l:l+e._id),!i||!n._plots[i]){i="";for(var c=e._counterAxes,u=0;u<c.length;u++){var d=c[u],p=a?e._id+d:d+e._id;s||(s=p);var h=f.getFromId(r,d);if(l&&h.overlaying===l){i=p;break}}}return i||s}function hasMakesDataTransform(e){var n=e.transforms;if(Array.isArray(n)&&n.length)for(var r=0;r<n.length;r++){var a=n[r],o=a._module||w[a.type];if(o&&o.makesData)return!0}return!1}function applyTransforms(e,n,r,a){for(var o=e.transforms,i=[e],s=0;s<o.length;s++){var l=o[s],c=w[l.type];c&&c.transform&&(i=c.transform(i,{transform:l,fullTrace:e,fullData:n,layout:r,fullLayout:a,transformIndex:s}))}return i}function getComputedSize(e){return"string"==typeof e&&"px"===e.substr(e.length-2)&&parseFloat(e)}function initMargins(e){var n=e.margin;if(!e._size){var r=e._size={l:Math.round(n.l),r:Math.round(n.r),t:Math.round(n.t),b:Math.round(n.b),p:Math.round(n.pad)};r.w=Math.round(e.width)-r.l-r.r,r.h=Math.round(e.height)-r.t-r.b}e._pushmargin||(e._pushmargin={}),e._pushmarginIds||(e._pushmarginIds={})}_.supplyDefaults=function(e,n){var r=n&&n.skipUpdateCalc,i=e._fullLayout||{};if(i._skipDefaults)delete i._skipDefaults;else{var l,c=e._fullLayout={},d=e.layout||{},p=e._fullData||[],f=e._fullData=[],m=e.data||[],g=e.calcdata||[],y=e._context||{};e._transitionData||_.createTransitionData(e),c._dfltTitle={plot:x(e,"Click to enter Plot title"),x:x(e,"Click to enter X axis title"),y:x(e,"Click to enter Y axis title"),colorbar:x(e,"Click to enter Colorscale title"),annotation:x(e,"new text")},c._traceWord=x(e,"trace");var w=getFormatObj(e,T);if(c._mapboxAccessToken=y.mapboxAccessToken,i._initialAutoSizeIsDone){var k=i.width,O=i.height;_.supplyLayoutGlobalDefaults(d,c,w),d.width||(c.width=k),d.height||(c.height=O),_.sanitizeMargins(c)}else{_.supplyLayoutGlobalDefaults(d,c,w);var C=!d.width||!d.height,A=c.autosize,I=y.autosizable;C&&(A||I)?_.plotAutoSize(e,d,c):C&&_.sanitizeMargins(c),!A&&C&&(d.width=c.width,d.height=c.height)}c._d3locale=function getFormatter(e,n){return e.decimal=n.charAt(0),e.thousands=n.charAt(1),{numberFormat:a.locale(e).numberFormat,timeFormat:o(e).utcFormat}}(w,c.separators),c._extraFormat=getFormatObj(e,S),c._initialAutoSizeIsDone=!0,c._dataLength=m.length,c._modules=[],c._visibleModules=[],c._basePlotModules=[];var N=c._subplots=function emptySubplotLists(){var e,n,r=s.collectableSubplotTypes,a={};if(!r){r=[];var o=s.subplotsRegistry;for(var i in o){var l=o[i].attr;if(l&&(r.push(i),Array.isArray(l)))for(n=0;n<l.length;n++)u.pushUnique(r,l[n])}}for(e=0;e<r.length;e++)a[r[e]]=[];return a}(),M=c._splomAxes={x:{},y:{}},E=c._splomSubplots={};c._splomGridDflt={},c._scatterStackOpts={},c._firstScatter={},c._alignmentOpts={},c._colorAxes={},c._requestRangeslider={},c._traceUids=function getTraceUids(e,n){var r,a,o=n.length,i=[];for(r=0;r<e.length;r++){var s=e[r]._fullInput;s!==a&&i.push(s),a=s}var l=i.length,c=new Array(o),d={};function setUid(e,n){c[n]=e,d[e]=1}function tryUid(e,n){if(e&&"string"==typeof e&&!d[e])return setUid(e,n),!0}for(r=0;r<o;r++){var p=n[r].uid;"number"==typeof p&&(p=String(p)),tryUid(p,r)||(r<l&&tryUid(i[r].uid,r)||setUid(u.randstr(d),r))}return c}(p,m),c._globalTransforms=(e._context||{}).globalTransforms,_.supplyDataDefaults(m,f,d,c);var D=Object.keys(M.x),j=Object.keys(M.y);if(D.length>1&&j.length>1){for(s.getComponentMethod("grid","sizeDefaults")(d,c),l=0;l<D.length;l++)u.pushUnique(N.xaxis,D[l]);for(l=0;l<j.length;l++)u.pushUnique(N.yaxis,j[l]);for(var R in E)u.pushUnique(N.cartesian,R)}if(c._has=_._hasPlotType.bind(c),p.length===f.length)for(l=0;l<f.length;l++)b(f[l],p[l]);_.supplyLayoutModuleDefaults(d,c,f,e._transitionData);var L=c._visibleModules,z=[];for(l=0;l<L.length;l++){var $=L[l].crossTraceDefaults;$&&u.pushUnique(z,$)}for(l=0;l<z.length;l++)z[l](f,c);c._hasOnlyLargeSploms=1===c._basePlotModules.length&&"splom"===c._basePlotModules[0].name&&D.length>15&&j.length>15&&0===c.shapes.length&&0===c.images.length,c._hasCartesian=c._has("cartesian"),c._hasGeo=c._has("geo"),c._hasGL3D=c._has("gl3d"),c._hasGL2D=c._has("gl2d"),c._hasTernary=c._has("ternary"),c._hasPie=c._has("pie"),_.linkSubplots(f,c,p,i),_.cleanPlot(f,c,p,i);var B=!(!i._has||!i._has("gl2d")),V=!(!c._has||!c._has("gl2d")),U=!(!i._has||!i._has("cartesian"))||B,W=!(!c._has||!c._has("cartesian"))||V;U&&!W?i._bgLayer.remove():W&&!U&&(c._shouldCreateBgLayer=!0),i._zoomlayer&&!e._dragging&&h({_fullLayout:i}),function fillMetaTextHelpers(e,n){var r,a=[];n.meta&&(r=n._meta={meta:n.meta,layout:{meta:n.meta}});for(var o=0;o<e.length;o++){var i=e[o];i.meta?a[i.index]=i._meta={meta:i.meta}:n.meta&&(i._meta={meta:n.meta}),n.meta&&(i._meta.layout={meta:n.meta})}a.length&&(r||(r=n._meta={}),r.data=a)}(f,c),b(c,i),s.getComponentMethod("colorscale","crossTraceDefaults")(f,c),c._preGUI||(c._preGUI={}),c._tracePreGUI||(c._tracePreGUI={});var H,G=c._tracePreGUI,q={};for(H in G)q[H]="old";for(l=0;l<f.length;l++)q[H=f[l]._fullInput.uid]||(G[H]={}),q[H]="new";for(H in q)"old"===q[H]&&delete G[H];initMargins(c),s.getComponentMethod("rangeslider","makeData")(c),r||g.length!==f.length||_.supplyDefaultsUpdateCalc(g,f)}},_.supplyDefaultsUpdateCalc=function(e,n){for(var r=0;r<n.length;r++){var a=n[r],o=(e[r]||[])[0];if(o&&o.trace){var i=o.trace;if(i._hasCalcTransform){var s,l,c,d=i._arrayAttrs;for(s=0;s<d.length;s++)l=d[s],c=u.nestedProperty(i,l).get().slice(),u.nestedProperty(a,l).set(c)}o.trace=a}}},_.createTransitionData=function(e){e._transitionData||(e._transitionData={}),e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},_._hasPlotType=function(e){var n,r=this._basePlotModules||[];for(n=0;n<r.length;n++)if(r[n].name===e)return!0;var a=this._modules||[];for(n=0;n<a.length;n++){var o=a[n].name;if(o===e)return!0;var i=s.modules[o];if(i&&i.categories[e])return!0}return!1},_.cleanPlot=function(e,n,r,a){var o,i,s=a._basePlotModules||[];for(o=0;o<s.length;o++){var l=s[o];l.clean&&l.clean(e,n,r,a)}var c=a._has&&a._has("gl"),u=n._has&&n._has("gl");c&&!u&&void 0!==a._glcontainer&&(a._glcontainer.selectAll(".gl-canvas").remove(),a._glcontainer.selectAll(".no-webgl").remove(),a._glcanvas=null);var d=!!a._infolayer;e:for(o=0;o<r.length;o++){var p=r[o].uid;for(i=0;i<e.length;i++){if(p===e[i].uid)continue e}d&&a._infolayer.select(".cb"+p).remove()}},_.linkSubplots=function(e,n,r,a){var o,i,l=a._plots||{},c=n._plots={},d=n._subplots,p={_fullData:e,_fullLayout:n},h=d.cartesian.concat(d.gl2d||[]);for(o=0;o<h.length;o++){var m,g=h[o],y=l[g],b=f.getFromId(p,g,"x"),x=f.getFromId(p,g,"y");for(y?m=c[g]=y:(m=c[g]={}).id=g,b._counterAxes.push(x._id),x._counterAxes.push(b._id),b._subplotsWith.push(g),x._subplotsWith.push(g),m.xaxis=b,m.yaxis=x,m._hasClipOnAxisFalse=!1,i=0;i<e.length;i++){var _=e[i];if(_.xaxis===m.xaxis._id&&_.yaxis===m.yaxis._id&&!1===_.cliponaxis){m._hasClipOnAxisFalse=!0;break}}}var w,k=f.list(p,null,!0);for(o=0;o<k.length;o++){var T=null;(w=k[o]).overlaying&&(T=f.getFromId(p,w.overlaying))&&T.overlaying&&(w.overlaying=!1,T=null),w._mainAxis=T||w,T&&(w.domain=T.domain.slice()),w._anchorAxis="free"===w.anchor?null:f.getFromId(p,w.anchor)}for(o=0;o<k.length;o++)if((w=k[o])._counterAxes.sort(f.idSort),w._subplotsWith.sort(u.subplotSort),w._mainSubplot=findMainSubplot(w,n),w._counterAxes.length&&(w.spikemode&&-1!==w.spikemode.indexOf("across")||w.automargin&&w.mirror&&"free"!==w.anchor||s.getComponentMethod("rangeslider","isVisible")(w))){var S=1,O=0;for(i=0;i<w._counterAxes.length;i++){var C=f.getFromId(p,w._counterAxes[i]);S=Math.min(S,C.domain[0]),O=Math.max(O,C.domain[1])}S<O&&(w._counterDomainMin=S,w._counterDomainMax=O)}},_.clearExpandedTraceDefaultColors=function(e){var n,r,a;for(r=[],(n=e._module._colorAttrs)||(e._module._colorAttrs=n=[],l.crawl(e._module.attributes,(function locateColorAttrs(e,a,o,i){r[i]=a,r.length=i+1,"color"===e.valType&&void 0===e.dflt&&n.push(r.join("."))}))),a=0;a<n.length;a++){u.nestedProperty(e,"_input."+n[a]).get()||u.nestedProperty(e,n[a]).set(null)}},_.supplyDataDefaults=function(e,n,r,a){var o,i,l,d=a._modules,p=a._visibleModules,f=a._basePlotModules,h=0,m=0;function pushModule(e){n.push(e);var r=e._module;r&&(u.pushUnique(d,r),!0===e.visible&&u.pushUnique(p,r),u.pushUnique(f,e._module.basePlotModule),h++,!1!==e._input.visible&&m++)}a._transformModules=[];var g={},y=[],x=(r.template||{}).data||{},w=c.traceTemplater(x);for(o=0;o<e.length;o++){if(l=e[o],(i=w.newTrace(l)).uid=a._traceUids[o],_.supplyTraceDefaults(l,i,m,a,o),i.index=o,i._input=l,i._expandedIndex=h,i.transforms&&i.transforms.length)for(var k=!1!==l.visible&&!1===i.visible,T=applyTransforms(i,n,r,a),S=0;S<T.length;S++){var O=T[S],C={_template:i._template,type:i.type,uid:i.uid+S};k&&!1===O.visible&&delete O.visible,_.supplyTraceDefaults(O,C,h,a,o),b(C,O),C.index=o,C._input=l,C._fullInput=i,C._expandedIndex=h,C._expandedInput=O,pushModule(C)}else i._fullInput=i,i._expandedInput=i,pushModule(i);s.traceIs(i,"carpetAxis")&&(g[i.carpet]=i),s.traceIs(i,"carpetDependent")&&y.push(o)}for(o=0;o<y.length;o++)if((i=n[y[o]]).visible){var A=g[i.carpet];i._carpet=A,A&&A.visible?(i.xaxis=A.xaxis,i.yaxis=A.yaxis):i.visible=!1}},_.supplyAnimationDefaults=function(e){var n;e=e||{};var r={};function coerce(n,a){return u.coerce(e||{},r,m,n,a)}if(coerce("mode"),coerce("direction"),coerce("fromcurrent"),Array.isArray(e.frame))for(r.frame=[],n=0;n<e.frame.length;n++)r.frame[n]=_.supplyAnimationFrameDefaults(e.frame[n]||{});else r.frame=_.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(r.transition=[],n=0;n<e.transition.length;n++)r.transition[n]=_.supplyAnimationTransitionDefaults(e.transition[n]||{});else r.transition=_.supplyAnimationTransitionDefaults(e.transition||{});return r},_.supplyAnimationFrameDefaults=function(e){var n={};function coerce(r,a){return u.coerce(e||{},n,m.frame,r,a)}return coerce("duration"),coerce("redraw"),n},_.supplyAnimationTransitionDefaults=function(e){var n={};function coerce(r,a){return u.coerce(e||{},n,m.transition,r,a)}return coerce("duration"),coerce("easing"),n},_.supplyFrameDefaults=function(e){var n={};function coerce(r,a){return u.coerce(e,n,g,r,a)}return coerce("group"),coerce("name"),coerce("traces"),coerce("baseframe"),coerce("data"),coerce("layout"),n},_.supplyTraceDefaults=function(e,n,r,a,o){var i,l=a.colorway||d.defaults,c=l[r%l.length];function coerce(r,a){return u.coerce(e,n,_.attributes,r,a)}var p=coerce("visible");coerce("type"),coerce("name",a._traceWord+" "+o),coerce("uirevision",a.uirevision);var f=_.getModule(n);if(n._module=f,f){var h=f.basePlotModule,m=h.attr,g=h.attributes;if(m&&g){var y=a._subplots,b="";if(p||"gl2d"!==h.name){if(Array.isArray(m))for(i=0;i<m.length;i++){var x=m[i],w=u.coerce(e,n,g,x);y[x]&&u.pushUnique(y[x],w),b+=w}else b=u.coerce(e,n,g,m);y[h.name]&&u.pushUnique(y[h.name],b)}}}return p&&(coerce("customdata"),coerce("ids"),coerce("meta"),s.traceIs(n,"showLegend")?(u.coerce(e,n,f.attributes.showlegend?f.attributes:_.attributes,"showlegend"),coerce("legendgroup"),n._dfltShowLegend=!0):n._dfltShowLegend=!1,f&&f.supplyDefaults(e,n,c,a),s.traceIs(n,"noOpacity")||coerce("opacity"),s.traceIs(n,"notLegendIsolatable")&&(n.visible=!!n.visible),s.traceIs(n,"noHover")||(n.hovertemplate||u.coerceHoverinfo(e,n,a),"parcats"!==n.type&&s.getComponentMethod("fx","supplyDefaults")(e,n,c,a)),f&&f.selectPoints&&coerce("selectedpoints"),_.supplyTransformDefaults(e,n,a)),n},_.hasMakesDataTransform=hasMakesDataTransform,_.supplyTransformDefaults=function(e,n,r){if(n._length||hasMakesDataTransform(e)){var a=r._globalTransforms||[],o=r._transformModules||[];if(Array.isArray(e.transforms)||0!==a.length)for(var i=e.transforms||[],s=a.concat(i),l=n.transforms=[],c=0;c<s.length;c++){var d,p=s[c],f=p.type,h=w[f],m=!(p._module&&p._module===h),g=h&&"function"==typeof h.transform;h||u.warn("Unrecognized transform type "+f+"."),h&&h.supplyDefaults&&(m||g)?((d=h.supplyDefaults(p,n,r,e)).type=f,d._module=h,u.pushUnique(o,h)):d=u.extendFlat({},p),l.push(d)}}},_.supplyLayoutGlobalDefaults=function(e,n,r){function coerce(r,a){return u.coerce(e,n,_.layoutAttributes,r,a)}var a=e.template;u.isPlainObject(a)&&(n.template=a,n._template=a.layout,n._dataTemplate=a.data),coerce("autotypenumbers");var o=u.coerceFont(coerce,"font");coerce("title.text",n._dfltTitle.plot),u.coerceFont(coerce,"title.font",{family:o.family,size:Math.round(1.4*o.size),color:o.color}),coerce("title.xref"),coerce("title.yref"),coerce("title.x"),coerce("title.y"),coerce("title.xanchor"),coerce("title.yanchor"),coerce("title.pad.t"),coerce("title.pad.r"),coerce("title.pad.b"),coerce("title.pad.l"),coerce("uniformtext.mode")&&coerce("uniformtext.minsize"),coerce("autosize",!(e.width&&e.height)),coerce("width"),coerce("height"),coerce("margin.l"),coerce("margin.r"),coerce("margin.t"),coerce("margin.b"),coerce("margin.pad"),coerce("margin.autoexpand"),e.width&&e.height&&_.sanitizeMargins(n),s.getComponentMethod("grid","sizeDefaults")(e,n),coerce("paper_bgcolor"),coerce("separators",r.decimal+r.thousands),coerce("hidesources"),coerce("colorway"),coerce("datarevision");var i=coerce("uirevision");coerce("editrevision",i),coerce("selectionrevision",i),coerce("modebar.orientation"),coerce("modebar.bgcolor",d.addOpacity(n.paper_bgcolor,.5));var l=d.contrast(d.rgb(n.modebar.bgcolor));coerce("modebar.color",d.addOpacity(l,.3)),coerce("modebar.activecolor",d.addOpacity(l,.7)),coerce("modebar.uirevision",i),s.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(e,n,coerce),coerce("meta"),u.isPlainObject(e.transition)&&(coerce("transition.duration"),coerce("transition.easing"),coerce("transition.ordering")),s.getComponentMethod("calendars","handleDefaults")(e,n,"calendar"),s.getComponentMethod("fx","supplyLayoutGlobalDefaults")(e,n,coerce)},_.plotAutoSize=function plotAutoSize(e,n,r){var a,o,s=e._context||{},l=s.frameMargins,c=u.isPlotDiv(e);if(c&&e.emit("plotly_autosize"),s.fillFrame)a=window.innerWidth,o=window.innerHeight,document.body.style.overflow="hidden";else{var d=c?window.getComputedStyle(e):{};if(a=getComputedSize(d.width)||getComputedSize(d.maxWidth)||r.width,o=getComputedSize(d.height)||getComputedSize(d.maxHeight)||r.height,i(l)&&l>0){var p=1-2*l;a=Math.round(p*a),o=Math.round(p*o)}}var f=_.layoutAttributes.width.min,h=_.layoutAttributes.height.min;a<f&&(a=f),o<h&&(o=h);var m=!n.width&&Math.abs(r.width-a)>1,g=!n.height&&Math.abs(r.height-o)>1;(g||m)&&(m&&(r.width=a),g&&(r.height=o)),e._initialAutoSize||(e._initialAutoSize={width:a,height:o}),_.sanitizeMargins(r)},_.supplyLayoutModuleDefaults=function(e,n,r,a){var o,i,l,c=s.componentsRegistry,d=n._basePlotModules,p=s.subplotsRegistry.cartesian;for(o in c)(l=c[o]).includeBasePlot&&l.includeBasePlot(e,n);for(var f in d.length||d.push(p),n._has("cartesian")&&(s.getComponentMethod("grid","contentDefaults")(e,n),p.finalizeSubplots(e,n)),n._subplots)n._subplots[f].sort(u.subplotSort);for(i=0;i<d.length;i++)(l=d[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,n,r);var h=n._modules;for(i=0;i<h.length;i++)(l=h[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,n,r);var m=n._transformModules;for(i=0;i<m.length;i++)(l=m[i]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,n,r,a);for(o in c)(l=c[o]).supplyLayoutDefaults&&l.supplyLayoutDefaults(e,n,r)},_.purge=function(e){var n=e._fullLayout||{};void 0!==n._glcontainer&&(n._glcontainer.selectAll(".gl-canvas").remove(),n._glcontainer.remove(),n._glcanvas=null),n._modeBar&&n._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.framework,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},_.style=function(e){var n,r=e._fullLayout._visibleModules,a=[];for(n=0;n<r.length;n++){var o=r[n];o.style&&u.pushUnique(a,o.style)}for(n=0;n<a.length;n++)a[n](e)},_.sanitizeMargins=function(e){if(e&&e.margin){var n,r=e.width,a=e.height,o=e.margin,i=r-(o.l+o.r),s=a-(o.t+o.b);i<0&&(n=(r-1)/(o.l+o.r),o.l=Math.floor(n*o.l),o.r=Math.floor(n*o.r)),s<0&&(n=(a-1)/(o.t+o.b),o.t=Math.floor(n*o.t),o.b=Math.floor(n*o.b))}},_.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},_.allowAutoMargin=function(e,n){e._fullLayout._pushmarginIds[n]=1};_.autoMargin=function(e,n,r){var a=e._fullLayout,o=a.width,i=a.height,s=a.margin,l=u.constrain(o-s.l-s.r,2,64),c=u.constrain(i-s.t-s.b,2,64),d=Math.max(0,o-l),p=Math.max(0,i-c),f=a._pushmargin,h=a._pushmarginIds;if(!1!==s.autoexpand){if(r){var m=r.pad;if(void 0===m&&(m=Math.min(12,s.l,s.r,s.t,s.b)),d){var g=(r.l+r.r)/d;g>1&&(r.l/=g,r.r/=g)}if(p){var y=(r.t+r.b)/p;y>1&&(r.t/=y,r.b/=y)}var b=void 0!==r.xl?r.xl:r.x,x=void 0!==r.xr?r.xr:r.x,w=void 0!==r.yt?r.yt:r.y,k=void 0!==r.yb?r.yb:r.y;f[n]={l:{val:b,size:r.l+m},r:{val:x,size:r.r+m},b:{val:k,size:r.b+m},t:{val:w,size:r.t+m}},h[n]=1}else delete f[n],delete h[n];if(!a._replotting)return _.doAutoMargin(e)}},_.doAutoMargin=function(e){var n=e._fullLayout,r=n.width,a=n.height;n._size||(n._size={}),initMargins(n);var o=n._size,l=n.margin,c=u.extendFlat({},o),d=l.l,p=l.r,h=l.t,m=l.b,g=n._pushmargin,y=n._pushmarginIds;if(!1!==n.margin.autoexpand){for(var b in g)y[b]||delete g[b];for(var x in g.base={l:{val:0,size:d},r:{val:1,size:p},t:{val:1,size:h},b:{val:0,size:m}},g){var w=g[x].l||{},k=g[x].b||{},T=w.val,S=w.size,O=k.val,C=k.size;for(var A in g){if(i(S)&&g[A].r){var I=g[A].r.val,N=g[A].r.size;if(I>T){var M=(S*I+(N-r)*T)/(I-T),E=(N*(1-T)+(S-r)*(1-I))/(I-T);M+E>d+p&&(d=M,p=E)}}if(i(C)&&g[A].t){var D=g[A].t.val,j=g[A].t.size;if(D>O){var R=(C*D+(j-a)*O)/(D-O),L=(j*(1-O)+(C-a)*(1-D))/(D-O);R+L>m+h&&(m=R,h=L)}}}}}var z=u.constrain(r-l.l-l.r,2,64),$=u.constrain(a-l.t-l.b,2,64),B=Math.max(0,r-z),V=Math.max(0,a-$);if(B){var U=(d+p)/B;U>1&&(d/=U,p/=U)}if(V){var W=(m+h)/V;W>1&&(m/=W,h/=W)}if(o.l=Math.round(d),o.r=Math.round(p),o.t=Math.round(h),o.b=Math.round(m),o.p=Math.round(l.pad),o.w=Math.round(r)-o.l-o.r,o.h=Math.round(a)-o.t-o.b,!n._replotting&&_.didMarginChange(c,o)){"_redrawFromAutoMarginCount"in n?n._redrawFromAutoMarginCount++:n._redrawFromAutoMarginCount=1;var H=3*(1+Object.keys(y).length);if(n._redrawFromAutoMarginCount<H)return s.call("plot",e);n._size=c,u.warn("Too many auto-margin redraws.")}!function hideOutOfRangeInsideTickLabels(e){for(var n=f.list(e,"",!0),r=0;r<n.length;r++){var a=n[r]._hideOutOfRangeInsideTickLabels;a&&a()}}(e)};var O=["l","r","t","b","p","w","h"];function _transition(e,n,r){var a=!1;var o=[_.previousPromises,function interruptPreviousTransitions(){if(e._transitionData)return e._transitioning=!1,function executeCallbacks(e){var n=Promise.resolve();if(!e)return n;for(;e.length;)n=n.then(e.shift());return n}(e._transitionData._interruptCallbacks)},r.prepareFn,_.rehover,function executeTransitions(){return e.emit("plotly_transitioning",[]),new Promise((function(o){e._transitioning=!0,n.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push((function(){a=!0})),r.redraw&&e._transitionData._interruptCallbacks.push((function(){return s.call("redraw",e)})),e._transitionData._interruptCallbacks.push((function(){e.emit("plotly_transitioninterrupted",[])}));var i=0,l=0;function makeCallback(){return i++,function(){l++,a||l!==i||function completeTransition(n){if(!e._transitionData)return;return function flushCallbacks(e){if(e)for(;e.length;)e.shift()}(e._transitionData._interruptCallbacks),Promise.resolve().then((function(){if(r.redraw)return s.call("redraw",e)})).then((function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit("plotly_transitioned",[])})).then(n)}(o)}}r.runFn(makeCallback),setTimeout(makeCallback())}))}],i=u.syncOrAsync(o,e);return i&&i.then||(i=Promise.resolve()),i.then((function(){return e}))}_.didMarginChange=function(e,n){for(var r=0;r<O.length;r++){var a=O[r],o=e[a],s=n[a];if(!i(o)||Math.abs(s-o)>1)return!0}return!1},_.graphJson=function(e,n,r,a,o,i){(o&&n&&!e._fullData||o&&!n&&!e._fullLayout)&&_.supplyDefaults(e);var s=o?e._fullData:e.data,l=o?e._fullLayout:e.layout,c=(e._transitionData||{})._frames;function stripObj(e,n){if("function"==typeof e)return n?"_function_":null;if(u.isPlainObject(e)){var a,o={};return Object.keys(e).sort().forEach((function(i){if(-1===["_","["].indexOf(i.charAt(0)))if("function"!=typeof e[i]){if("keepdata"===r){if("src"===i.substr(i.length-3))return}else if("keepstream"===r){if("string"==typeof(a=e[i+"src"])&&a.indexOf(":")>0&&!u.isPlainObject(e.stream))return}else if("keepall"!==r&&"string"==typeof(a=e[i+"src"])&&a.indexOf(":")>0)return;o[i]=stripObj(e[i],n)}else n&&(o[i]="_function")})),o}return Array.isArray(e)?e.map((function(e){return stripObj(e,n)})):u.isTypedArray(e)?u.simpleMap(e,u.identity):u.isJSDate(e)?u.ms2DateTimeLocal(+e):e}var d={data:(s||[]).map((function(e){var r=stripObj(e);return n&&delete r.fit,r}))};if(!n&&(d.layout=stripObj(l),o)){var p=l._size;d.layout.computed={margin:{b:p.b,l:p.l,r:p.r,t:p.t}}}return e.framework&&e.framework.isPolar&&(d=e.framework.getConfig()),c&&(d.frames=stripObj(c)),i&&(d.config=stripObj(e._context,!0)),"object"===a?d:JSON.stringify(d)},_.modifyFrames=function(e,n){var r,a,o,i=e._transitionData._frames,s=e._transitionData._frameHash;for(r=0;r<n.length;r++)switch((a=n[r]).type){case"replace":o=a.value;var l=(i[a.index]||{}).name,c=o.name;i[a.index]=s[c]=o,c!==l&&(delete s[l],s[c]=o);break;case"insert":s[(o=a.value).name]=o,i.splice(a.index,0,o);break;case"delete":delete s[(o=i[a.index]).name],i.splice(a.index,1)}return Promise.resolve()},_.computeFrame=function(e,n){var r,a,o,i,s=e._transitionData._frameHash;if(!n)throw new Error("computeFrame must be given a string frame name");var l=s[n.toString()];if(!l)return!1;for(var c=[l],u=[l.name];l.baseframe&&(l=s[l.baseframe.toString()])&&-1===u.indexOf(l.name);)c.push(l),u.push(l.name);for(var d={};l=c.pop();)if(l.layout&&(d.layout=_.extendLayout(d.layout,l.layout)),l.data){if(d.data||(d.data=[]),!(a=l.traces))for(a=[],r=0;r<l.data.length;r++)a[r]=r;for(d.traces||(d.traces=[]),r=0;r<l.data.length;r++)null!=(o=a[r])&&(-1===(i=d.traces.indexOf(o))&&(i=d.data.length,d.traces[i]=o),d.data[i]=_.extendTrace(d.data[i],l.data[r]))}return d},_.recomputeFrameHash=function(e){for(var n=e._transitionData._frameHash={},r=e._transitionData._frames,a=0;a<r.length;a++){var o=r[a];o&&o.name&&(n[o.name]=o)}},_.extendObjectWithContainers=function(e,n,r){var a,o,i,s,l,c,d,p=u.extendDeepNoArrays({},n||{}),f=u.expandObjectPaths(p),h={};if(r&&r.length)for(i=0;i<r.length;i++)void 0===(o=(a=u.nestedProperty(f,r[i])).get())?u.nestedProperty(h,r[i]).set(null):(a.set(null),u.nestedProperty(h,r[i]).set(o));if(e=u.extendDeepNoArrays(e||{},f),r&&r.length)for(i=0;i<r.length;i++)if(c=u.nestedProperty(h,r[i]).get()){for(d=(l=u.nestedProperty(e,r[i])).get(),Array.isArray(d)||(d=[],l.set(d)),s=0;s<c.length;s++){var m=c[s];d[s]=null===m?null:_.extendObjectWithContainers(d[s],m)}l.set(d)}return e},_.dataArrayContainers=["transforms","dimensions"],_.layoutArrayContainers=s.layoutArrayContainers,_.extendTrace=function(e,n){return _.extendObjectWithContainers(e,n,_.dataArrayContainers)},_.extendLayout=function(e,n){return _.extendObjectWithContainers(e,n,_.layoutArrayContainers)},_.transition=function(e,n,r,a,o,i){var s={redraw:o.redraw},l={},c=[];return s.prepareFn=function(){for(var o=Array.isArray(n)?n.length:0,i=a.slice(0,o),s=0;s<i.length;s++){var d=i[s],p=e._fullData[d]._module;if(p){if(p.animatable){var f=p.basePlotModule.name;l[f]||(l[f]=[]),l[f].push(d)}e.data[i[s]]=_.extendTrace(e.data[i[s]],n[s])}}var h=u.expandObjectPaths(u.extendDeepNoArrays({},r)),m=/^[xy]axis[0-9]*$/;for(var g in h)m.test(g)&&delete h[g].range;_.extendLayout(e.layout,h),delete e.calcdata,_.supplyDefaults(e),_.doCalcdata(e);var y=u.expandObjectPaths(r);if(y){var b=e._fullLayout._plots;for(var x in b){var w=b[x],k=w.xaxis,T=w.yaxis,S=k.range.slice(),O=T.range.slice(),C=null,A=null,I=null,N=null;Array.isArray(y[k._name+".range"])?C=y[k._name+".range"].slice():Array.isArray((y[k._name]||{}).range)&&(C=y[k._name].range.slice()),Array.isArray(y[T._name+".range"])?A=y[T._name+".range"].slice():Array.isArray((y[T._name]||{}).range)&&(A=y[T._name].range.slice()),S&&C&&(k.r2l(S[0])!==k.r2l(C[0])||k.r2l(S[1])!==k.r2l(C[1]))&&(I={xr0:S,xr1:C}),O&&A&&(T.r2l(O[0])!==T.r2l(A[0])||T.r2l(O[1])!==T.r2l(A[1]))&&(N={yr0:O,yr1:A}),(I||N)&&c.push(u.extendFlat({plotinfo:w},I,N))}}return Promise.resolve()},s.runFn=function(n){var a,o,s=e._fullLayout._basePlotModules,d=c.length;if(r)for(o=0;o<s.length;o++)s[o].transitionAxes&&s[o].transitionAxes(e,c,i,n);for(var p in d?((a=u.extendFlat({},i)).duration=0,delete l.cartesian):a=i,l){var f=l[p];e._fullData[f[0]]._module.basePlotModule.plot(e,f,a,n)}},_transition(e,i,s)},_.transitionFromReact=function(e,n,r,a){var o=e._fullLayout,i=o.transition,s={},l=[];return s.prepareFn=function(){var e=o._plots;for(var i in s.redraw=!1,"some"===n.anim&&(s.redraw=!0),"some"===r.anim&&(s.redraw=!0),e){var c=e[i],d=c.xaxis,p=c.yaxis,f=a[d._name].range.slice(),h=a[p._name].range.slice(),m=d.range.slice(),g=p.range.slice();d.setScale(),p.setScale();var y=null,b=null;d.r2l(f[0])===d.r2l(m[0])&&d.r2l(f[1])===d.r2l(m[1])||(y={xr0:f,xr1:m}),p.r2l(h[0])===p.r2l(g[0])&&p.r2l(h[1])===p.r2l(g[1])||(b={yr0:h,yr1:g}),(y||b)&&l.push(u.extendFlat({plotinfo:c},y,b))}return Promise.resolve()},s.runFn=function(r){for(var a,o,s,c=e._fullData,d=e._fullLayout._basePlotModules,p=[],f=0;f<c.length;f++)p.push(f);function transitionAxes(){for(var n=0;n<d.length;n++)d[n].transitionAxes&&d[n].transitionAxes(e,l,a,r)}function transitionTraces(){for(var n=0;n<d.length;n++)d[n].plot(e,s,o,r)}l.length&&n.anim?"traces first"===i.ordering?(a=u.extendFlat({},i,{duration:0}),s=p,o=i,setTimeout(transitionAxes,i.duration),transitionTraces()):(a=i,s=null,o=u.extendFlat({},i,{duration:0}),setTimeout(transitionTraces,a.duration),transitionAxes()):l.length?(a=i,transitionAxes()):n.anim&&(s=p,o=i,transitionTraces())},_transition(e,i,s)},_.doCalcdata=function(e,n){var r,a,o,i,c=f.list(e),d=e._fullData,h=e._fullLayout,m=new Array(d.length),g=(e.calcdata||[]).slice();for(e.calcdata=m,h._numBoxes=0,h._numViolins=0,h._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,h._piecolormap={},h._sunburstcolormap={},h._treemapcolormap={},h._funnelareacolormap={},o=0;o<d.length;o++)Array.isArray(n)&&-1===n.indexOf(o)&&(m[o]=g[o]);for(o=0;o<d.length;o++)(r=d[o])._arrayAttrs=l.findArrayAttributes(r),r._extremes={};var y=h._subplots.polar||[];for(o=0;o<y.length;o++)c.push(h[y[o]].radialaxis,h[y[o]].angularaxis);for(var b in h._colorAxes){var x=h[b];!1!==x.cauto&&(delete x.cmin,delete x.cmax)}var _=!1;function transformCalci(n){if(r=d[n],a=r._module,!0===r.visible&&r.transforms){if(a&&a.calc){var o=a.calc(e,r);o[0]&&o[0].t&&o[0].t._scene&&delete o[0].t._scene.dirty}for(i=0;i<r.transforms.length;i++){var s=r.transforms[i];(a=w[s.type])&&a.calcTransform&&(r._hasCalcTransform=!0,_=!0,a.calcTransform(e,r,s))}}}function calci(n,o){if(r=d[n],!!(a=r._module).isContainer===o){var s=[];if(!0===r.visible&&0!==r._length){delete r._indexToPoints;var l=r.transforms||[];for(i=l.length-1;i>=0;i--)if(l[i].enabled){r._indexToPoints=l[i]._indexToPoints;break}a&&a.calc&&(s=a.calc(e,r))}Array.isArray(s)&&s[0]||(s=[{x:p,y:p}]),s[0].t||(s[0].t={}),s[0].trace=r,m[n]=s}}for(setupAxisCategories(c,d,h),o=0;o<d.length;o++)calci(o,!0);for(o=0;o<d.length;o++)transformCalci(o);for(_&&setupAxisCategories(c,d,h),o=0;o<d.length;o++)calci(o,!0);for(o=0;o<d.length;o++)calci(o,!1);doCrossTraceCalc(e);var k=function sortAxisCategoriesByValue(e,n){var r,a,o,i,l,c=[];function zMapCategory(e,r,a){var o=r._id.charAt(0);if("histogram2dcontour"===e){var i=r._counterAxes[0],s=f.getFromId(n,i),l="x"===o||"x"===i&&"category"===s.type,c="y"===o||"y"===i&&"category"===s.type;return function(e,n){return 0===e||0===n||l&&e===a[n].length-1||c&&n===a.length-1?-1:("y"===o?n:e)-1}}return function(e,n){return"y"===o?n:e}}var d={min:function(e){return u.aggNums(Math.min,null,e)},max:function(e){return u.aggNums(Math.max,null,e)},sum:function(e){return u.aggNums((function(e,n){return e+n}),null,e)},total:function(e){return u.aggNums((function(e,n){return e+n}),null,e)},mean:function(e){return u.mean(e)},median:function(e){return u.median(e)}};for(r=0;r<e.length;r++){var p=e[r];if("category"===p.type){var h=p.categoryorder.match(C);if(h){var m=h[1],g=h[2],y=p._id.charAt(0),b="x"===y,x=[];for(a=0;a<p._categories.length;a++)x.push([p._categories[a],[]]);for(a=0;a<p._traceIndices.length;a++){var _=p._traceIndices[a],w=n._fullData[_];if(!0===w.visible){var k=w.type;s.traceIs(w,"histogram")&&(delete w._xautoBinFinished,delete w._yautoBinFinished);var T="splom"===k,S="scattergl"===k,O=n.calcdata[_];for(o=0;o<O.length;o++){var A,I,N=O[o];if(T){var M=w._axesDim[p._id];if(!b){var E=w._diag[M][0];E&&(p=n._fullLayout[f.id2name(E)])}var D=N.trace.dimensions[M].values;for(i=0;i<D.length;i++)for(A=p._categoriesMap[D[i]],l=0;l<N.trace.dimensions.length;l++)if(l!==M){var j=N.trace.dimensions[l];x[A][1].push(j.values[i])}}else if(S){for(i=0;i<N.t.x.length;i++)b?(A=N.t.x[i],I=N.t.y[i]):(A=N.t.y[i],I=N.t.x[i]),x[A][1].push(I);N.t&&N.t._scene&&delete N.t._scene.dirty}else if(N.hasOwnProperty("z")){I=N.z;var R=zMapCategory(w.type,p,I);for(i=0;i<I.length;i++)for(l=0;l<I[i].length;l++)(A=R(l,i))+1&&x[A][1].push(I[i][l])}else for(void 0===(A=N.p)&&(A=N[y]),void 0===(I=N.s)&&(I=N.v),void 0===I&&(I=b?N.y:N.x),Array.isArray(I)||(I=void 0===I?[]:[I]),i=0;i<I.length;i++)x[A][1].push(I[i])}}}p._categoriesValue=x;var L=[];for(a=0;a<x.length;a++)L.push([x[a][0],d[m](x[a][1])]);L.sort((function(e,n){return e[1]-n[1]})),p._categoriesAggregatedValue=L,p._initialCategories=L.map((function(e){return e[0]})),"descending"===g&&p._initialCategories.reverse(),c=c.concat(p.sortByInitialCategories())}}}return c}(c,e);if(k.length){for(h._numBoxes=0,h._numViolins=0,o=0;o<k.length;o++)calci(k[o],!0);for(o=0;o<k.length;o++)calci(k[o],!1);doCrossTraceCalc(e)}s.getComponentMethod("fx","calc")(e),s.getComponentMethod("errorbars","calc")(e)};var C=/(total|sum|min|max|mean|median) (ascending|descending)/;function setupAxisCategories(e,n,r){var a={};function setupOne(e){e.clearCalc(),"multicategory"===e.type&&e.setupMultiCategory(n),a[e._id]=1}u.simpleMap(e,setupOne);for(var o=r._axisMatchGroups||[],i=0;i<o.length;i++)for(var s in o[i])a[s]||setupOne(r[f.id2name(s)])}function doCrossTraceCalc(e){var n,r,a,o=e._fullLayout,i=o._visibleModules,s={};for(r=0;r<i.length;r++){var l=i[r],c=l.crossTraceCalc;if(c){var d=l.basePlotModule.name;s[d]?u.pushUnique(s[d],c):s[d]=[c]}}for(a in s){var p=s[a],f=o._subplots[a];if(Array.isArray(f))for(n=0;n<f.length;n++){var h=f[n],m="cartesian"===a?o._plots[h]:o[h];for(r=0;r<p.length;r++)p[r](e,m,h)}else for(r=0;r<p.length;r++)p[r](e)}}_.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},_.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},_.generalUpdatePerTraceModule=function(e,n,r,a){var o,i=n.traceHash,s={};for(o=0;o<r.length;o++){var l=r[o],c=l[0].trace;c.visible&&(s[c.type]=s[c.type]||[],s[c.type].push(l))}for(var d in i)if(!s[d]){var p=i[d][0];p[0].trace.visible=!1,s[d]=[p]}for(var f in s){var h=s[f];h[0][0].trace._module.plot(e,n,u.filterVisible(h),a)}n.traceHash=s},_.plotBasePlot=function(e,n,r,a,o){var i=s.getModule(e),l=y(n.calcdata,i)[0];i.plot(n,l,a,o)},_.cleanBasePlot=function(e,n,r,a,o){var i=o._has&&o._has(e),s=r._has&&r._has(e);i&&!s&&o["_"+e+"layer"].selectAll("g.trace").remove()}},bb86:function(e,n,r){"use strict";var a=r("fc26"),o=r("2093"),i=r("927d");e.exports=function supplyLayoutGlobalDefaults(e,n){o(e,n,(function coerce(r,o){return a.coerce(e,n,i,r,o)}))}},bc62:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b");var i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sparseToDense_:function sparseToDense_(e,n,r,s=0){const l=Object(i.a)(e,"sparseIndices","sparseToDense","int32"),c=Object(i.a)(n,"sparseValues","sparseToDense"),u=Object(i.a)(s,"defaultValue","sparseToDense",c.dtype);!function validateInput(e,n,r,a){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const o=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(r.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${r.length}, should be: ${i}.`);const s=n.size;if(0!==n.rank&&(1!==n.rank||s!==o))throw new Error(`sparseValues has incorrect shape ${n.shape}, should be [] or [${o}]`);if(n.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(l,c,r,u);const d={sparseIndices:l,sparseValues:c,defaultValue:u},p={outputShape:r};return a.a.runKernel(o.Hc,d,p)}})},bdcf:function(e,n,r){"use strict";r.d(n,"b",(function(){return deepMap})),r.d(n,"d",(function(){return deepZip})),r.d(n,"f",(function(){return zipToList})),r.d(n,"c",(function(){return deepMapAndAwaitAll})),r.d(n,"e",(function(){return isIterable})),r.d(n,"a",(function(){return canTensorify}));var a=r("fa11");function deepMap(e,n){return deepMapInternal(e,n)}function deepMapInternal(e,n,r=new Map,a=new Set){if(null==e)return null;if(a.has(e))throw new Error("Circular references are not supported.");if(r.has(e))return r.get(e);const o=n(e);if(o.recurse&&null!==o.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(o.recurse){if(isIterable(e)){const o=Array.isArray(e)?[]:{};a.add(e);for(const i in e){const s=deepMapInternal(e[i],n,r,a);o[i]=s}return a.delete(e),o}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return r.set(e,o.value),o.value}function deepZip(e,n=zipToList){return deepZipInternal(e,n)}function deepZipInternal(e,n,r=new Set){const a=e[0];if(r.has(a))throw new Error("Circular references are not supported.");const o=n(e);if(o.recurse&&null!==o.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(o.recurse){if(isIterable(a)){const o=Array.isArray(a)?[]:{};r.add(a);for(const i in a){const a=deepZipInternal(e.map((e=>e[i])),n,r);o[i]=a}return r.delete(a),o}throw new Error(`Can't recurse into non-iterable type: ${a}`)}return o.value}function zipToList(e){return null===e?null:isIterable(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}async function deepMapAndAwaitAll(e,n){const r=new Map;deepMapInternal(e,n,r);for(const o of Array.from(r.keys())){const e=r.get(o);if(a.of.isPromise(e)){const n=await e;r.set(o,n)}}return deepMapInternal(e,n,r)}function isIterable(e){return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof a.Tc))}function canTensorify(e){return null==e||function isPrimitive(e){return null===e||"object"!=typeof e&&"function"!=typeof e}(e)||Array.isArray(e)||"object"==typeof e&&e instanceof a.Tc||a.of.isTypedArray(e)}},c005:function(e,n,r){"use strict";e.exports={percent:function(e,n){for(var r=e.length,a=100/n,o=0;o<r;o++)e[o]*=a},probability:function(e,n){for(var r=e.length,a=0;a<r;a++)e[a]/=n},density:function(e,n,r,a){var o=e.length;a=a||1;for(var i=0;i<o;i++)e[i]*=r[i]*a},"probability density":function(e,n,r,a){var o=e.length;a&&(n/=a);for(var i=0;i<o;i++)e[i]*=r[i]/n}}},c021:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({max_:function max_(e,n=null,r=!1){const s={x:Object(i.a)(e,"x","max")},l={reductionIndices:n,keepDims:r};return a.a.runKernel(o.Hb,s,l)}})},c04e:function(e,n,r){"use strict";r.d(n,"c",(function(){return engine})),r.d(n,"e",(function(){return memory})),r.d(n,"h",(function(){return tidy})),r.d(n,"b",(function(){return dispose})),r.d(n,"d",(function(){return keep})),r.d(n,"g",(function(){return setBackend})),r.d(n,"f",(function(){return registerBackend})),r.d(n,"a",(function(){return backend}));var a=r("6ae2"),o=r("b333"),i=r("34d7"),s=r("76c2");function engine(){return a.a}function memory(){return a.a.memory()}function tidy(e,n){return a.a.tidy(e,n)}function dispose(e){Object(s.getTensorsInContainer)(e).forEach((e=>e.dispose()))}function keep(e){return a.a.keep(e)}function setBackend(e){return a.a.setBackend(e)}function registerBackend(e,n,r=1){return a.a.registerBackend(e,n,r)}function backend(){return a.a.backend}Object(i.e)((function deprecationWarn(e){Object(o.b)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}))},c04ea:function(e,n,r){var a=r("861d");e.exports=function(e,n){if(!a(e))return e;var r,o;if(n&&"function"==typeof(r=e.toString)&&!a(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!a(o=r.call(e)))return o;if(!n&&"function"==typeof(r=e.toString)&&!a(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},c05b:function(e,n,r){"use strict";r.d(n,"a",(function(){return a})),r.d(n,"b",(function(){return o})),r.d(n,"c",(function(){return i})),r.d(n,"d",(function(){return s})),r.d(n,"e",(function(){return l})),r.d(n,"f",(function(){return c})),r.d(n,"g",(function(){return u})),r.d(n,"h",(function(){return d})),r.d(n,"i",(function(){return p})),r.d(n,"j",(function(){return f})),r.d(n,"k",(function(){return h})),r.d(n,"l",(function(){return m})),r.d(n,"n",(function(){return g})),r.d(n,"m",(function(){return y})),r.d(n,"o",(function(){return b})),r.d(n,"r",(function(){return x})),r.d(n,"p",(function(){return _})),r.d(n,"q",(function(){return w})),r.d(n,"s",(function(){return k})),r.d(n,"t",(function(){return T})),r.d(n,"u",(function(){return S})),r.d(n,"v",(function(){return O})),r.d(n,"w",(function(){return C})),r.d(n,"x",(function(){return A})),r.d(n,"y",(function(){return I})),r.d(n,"z",(function(){return N})),r.d(n,"A",(function(){return M})),r.d(n,"B",(function(){return E})),r.d(n,"C",(function(){return D})),r.d(n,"D",(function(){return j})),r.d(n,"E",(function(){return R})),r.d(n,"F",(function(){return L})),r.d(n,"G",(function(){return z})),r.d(n,"H",(function(){return $})),r.d(n,"I",(function(){return B})),r.d(n,"J",(function(){return V})),r.d(n,"L",(function(){return U})),r.d(n,"K",(function(){return W})),r.d(n,"M",(function(){return H})),r.d(n,"N",(function(){return G})),r.d(n,"O",(function(){return q})),r.d(n,"P",(function(){return K})),r.d(n,"Q",(function(){return X})),r.d(n,"R",(function(){return Y})),r.d(n,"S",(function(){return Z})),r.d(n,"U",(function(){return J})),r.d(n,"T",(function(){return Q})),r.d(n,"jc",(function(){return ee})),r.d(n,"V",(function(){return te})),r.d(n,"W",(function(){return ne})),r.d(n,"Y",(function(){return re})),r.d(n,"X",(function(){return ae})),r.d(n,"Z",(function(){return oe})),r.d(n,"ab",(function(){return ie})),r.d(n,"bb",(function(){return se})),r.d(n,"cb",(function(){return le})),r.d(n,"db",(function(){return ce})),r.d(n,"eb",(function(){return ue})),r.d(n,"fb",(function(){return de})),r.d(n,"gb",(function(){return pe})),r.d(n,"ib",(function(){return fe})),r.d(n,"mb",(function(){return he})),r.d(n,"lb",(function(){return me})),r.d(n,"nb",(function(){return ge})),r.d(n,"ob",(function(){return ye})),r.d(n,"qb",(function(){return be})),r.d(n,"pb",(function(){return ve})),r.d(n,"rb",(function(){return xe})),r.d(n,"sb",(function(){return _e})),r.d(n,"tb",(function(){return we})),r.d(n,"ub",(function(){return ke})),r.d(n,"xb",(function(){return Te})),r.d(n,"yb",(function(){return Se})),r.d(n,"zb",(function(){return Oe})),r.d(n,"Ab",(function(){return Ce})),r.d(n,"Bb",(function(){return Ae})),r.d(n,"Cb",(function(){return Ie})),r.d(n,"Eb",(function(){return Ne})),r.d(n,"Fb",(function(){return Me})),r.d(n,"Gb",(function(){return Ee})),r.d(n,"Db",(function(){return De})),r.d(n,"vb",(function(){return je})),r.d(n,"wb",(function(){return Re})),r.d(n,"Hb",(function(){return Le})),r.d(n,"Nb",(function(){return Pe})),r.d(n,"Ib",(function(){return Fe})),r.d(n,"Lb",(function(){return ze})),r.d(n,"Jb",(function(){return $e})),r.d(n,"Kb",(function(){return Be})),r.d(n,"Mb",(function(){return Ve})),r.d(n,"Ob",(function(){return Ue})),r.d(n,"Pb",(function(){return We})),r.d(n,"Qb",(function(){return He})),r.d(n,"Rb",(function(){return Ge})),r.d(n,"Sb",(function(){return qe})),r.d(n,"Tb",(function(){return Ke})),r.d(n,"Ub",(function(){return Xe})),r.d(n,"Vb",(function(){return Ye})),r.d(n,"Zb",(function(){return Ze})),r.d(n,"Wb",(function(){return Je})),r.d(n,"Xb",(function(){return Qe})),r.d(n,"Yb",(function(){return et})),r.d(n,"bc",(function(){return tt})),r.d(n,"ac",(function(){return nt})),r.d(n,"cc",(function(){return rt})),r.d(n,"dc",(function(){return at})),r.d(n,"ec",(function(){return ot})),r.d(n,"fc",(function(){return it})),r.d(n,"gc",(function(){return st})),r.d(n,"hc",(function(){return lt})),r.d(n,"ic",(function(){return ct})),r.d(n,"kc",(function(){return ut})),r.d(n,"lc",(function(){return dt})),r.d(n,"nc",(function(){return ft})),r.d(n,"qc",(function(){return ht})),r.d(n,"rc",(function(){return mt})),r.d(n,"oc",(function(){return gt})),r.d(n,"pc",(function(){return yt})),r.d(n,"mc",(function(){return bt})),r.d(n,"sc",(function(){return vt})),r.d(n,"uc",(function(){return xt})),r.d(n,"vc",(function(){return _t})),r.d(n,"wc",(function(){return wt})),r.d(n,"xc",(function(){return kt})),r.d(n,"yc",(function(){return Tt})),r.d(n,"Dc",(function(){return St})),r.d(n,"Bc",(function(){return Ot})),r.d(n,"Cc",(function(){return Ct})),r.d(n,"Ac",(function(){return At})),r.d(n,"zc",(function(){return It})),r.d(n,"Fc",(function(){return Nt})),r.d(n,"Jc",(function(){return Mt})),r.d(n,"Pc",(function(){return Et})),r.d(n,"Gc",(function(){return Dt})),r.d(n,"Ic",(function(){return jt})),r.d(n,"Ec",(function(){return Rt})),r.d(n,"Lc",(function(){return Lt})),r.d(n,"Kc",(function(){return Pt})),r.d(n,"Oc",(function(){return Ft})),r.d(n,"Hc",(function(){return zt})),r.d(n,"Nc",(function(){return $t})),r.d(n,"Qc",(function(){return Bt})),r.d(n,"Rc",(function(){return Vt})),r.d(n,"Sc",(function(){return Ut})),r.d(n,"Tc",(function(){return Wt})),r.d(n,"Uc",(function(){return Ht})),r.d(n,"Vc",(function(){return Gt})),r.d(n,"Wc",(function(){return qt})),r.d(n,"Xc",(function(){return Kt})),r.d(n,"Yc",(function(){return Xt})),r.d(n,"Zc",(function(){return Yt})),r.d(n,"Mc",(function(){return Zt})),r.d(n,"hb",(function(){return Jt})),r.d(n,"tc",(function(){return Qt})),r.d(n,"ad",(function(){return en})),r.d(n,"jb",(function(){return tn})),r.d(n,"kb",(function(){return nn}));const a="Abs",o="Acos",i="Acosh",s="Add",l="AddN",c="All",u="Any",d="ArgMax",p="ArgMin",f="Asin",h="Asinh",m="Atan",g="Atanh",y="Atan2",b="AvgPool",x="AvgPoolGrad",_="AvgPool3D",w="AvgPool3DGrad",k="BatchMatMul",T="BatchToSpaceND",S="Bincount",O="BroadcastTo",C="Cast",A="Ceil",I="ClipByValue",N="Complex",M="ComplexAbs",E="Concat",D="Conv2D",j="Conv2DBackpropFilter",R="Conv2DBackpropInput",L="Conv3D",z="Conv3DBackpropFilterV2",$="Conv3DBackpropInputV2",B="Cos",V="Cosh",U="Cumsum",W="CropAndResize",H="DenseBincount",G="DepthToSpace",q="DepthwiseConv2dNative",K="DepthwiseConv2dNativeBackpropFilter",X="DepthwiseConv2dNativeBackpropInput",Y="Diag",Z="Dilation2D",J="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",ee="RealDiv",te="Elu",ne="EluGrad",re="Erf",ae="Equal",oe="Exp",ie="ExpandDims",se="Expm1",le="FFT",ce="Fill",ue="FlipLeftRight",de="Floor",pe="FloorDiv",fe="FusedBatchNorm",he="GatherV2",me="GatherNd",ge="Greater",ye="GreaterEqual",be="Identity",ve="IFFT",xe="Imag",_e="IsFinite",we="IsInf",ke="IsNan",Te="LeakyRelu",Se="Less",Oe="LessEqual",Ce="LinSpace",Ae="Log",Ie="Log1p",Ne="LogicalAnd",Me="LogicalNot",Ee="LogicalOr",De="LogSoftmax",je="LRN",Re="LRNGrad",Le="Max",Pe="Maximum",Fe="MaxPool",ze="MaxPoolGrad",$e="MaxPool3D",Be="MaxPool3DGrad",Ve="MaxPoolWithArgmax",Ue="Mean",We="Min",He="Minimum",Ge="MirrorPad",qe="Mod",Ke="Multinomial",Xe="Multiply",Ye="Neg",Ze="NotEqual",Je="NonMaxSuppressionV3",Qe="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",at="PadV2",ot="Pow",it="Prelu",st="Prod",lt="Range",ct="Real",ut="Reciprocal",dt="Relu",ft="Reshape",ht="ResizeNearestNeighbor",mt="ResizeNearestNeighborGrad",gt="ResizeBilinear",yt="ResizeBilinearGrad",bt="Relu6",vt="Reverse",xt="Round",_t="Rsqrt",wt="ScatterNd",kt="Select",Tt="Selu",St="Slice",Ot="Sin",Ct="Sinh",At="Sign",It="Sigmoid",Nt="Softplus",Mt="Sqrt",Et="Sum",Dt="SpaceToBatchND",jt="SplitV",Rt="Softmax",Lt="SquaredDifference",Pt="Square",Ft="Sub",zt="SparseToDense",$t="StridedSlice",Bt="Tan",Vt="Tanh",Ut="Tile",Wt="TopK",Ht="Transform",Gt="Transpose",qt="Unique",Kt="Unpack",Xt="UnsortedSegmentSum",Yt="ZerosLike",Zt="Step",Jt="FromPixels",Qt="RotateWithOffset",en="_FusedMatMul",tn="FusedConv2D",nn="FusedDepthwiseConv2D"},c074:function(e,n,r){"use strict";r.d(n,"a",(function(){return a})),r.d(n,"b",(function(){return o})),r.d(n,"c",(function(){return i})),r.d(n,"d",(function(){return s})),r.d(n,"e",(function(){return l}));var a={prefix:"fas",iconName:"info-circle",icon:[512,512,[],"f05a","M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"]},o={prefix:"fas",iconName:"pause",icon:[448,512,[],"f04c","M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"]},i={prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},s={prefix:"fas",iconName:"redo-alt",icon:[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"]},l={prefix:"fas",iconName:"step-forward",icon:[448,512,[],"f051","M384 44v424c0 6.6-5.4 12-12 12h-48c-6.6 0-12-5.4-12-12V291.6l-195.5 181C95.9 489.7 64 475.4 64 448V64c0-27.4 31.9-41.7 52.5-24.6L312 219.3V44c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12z"]}},c08f:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({clipByValue_:function clipByValue_(e,n,r){const l=Object(i.a)(e,"x","clipByValue");s.b(n<=r,(()=>`Error in clip: min (${n}) must be less than or equal to max (${r}).`));const c={x:l},u={clipValueMin:n,clipValueMax:r};return a.a.runKernel(o.y,c,u)}})},c14d:function(e,n){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(n){return null!==n&&n!==e.root},isEmpty:function(){return null===e.root.next},getHead:function(){return e.root.next},insertBefore:function(n,r){for(var a=e.root,o=e.root.next;null!==o;){if(r(o))return n.prev=o.prev,n.next=o,o.prev.next=n,void(o.prev=n);a=o,o=o.next}a.next=n,n.prev=a,n.next=null},findTransition:function(n){for(var r=e.root,a=e.root.next;null!==a&&!n(a);)r=a,a=a.next;return{before:r===e.root?null:r,after:a,insert:function(e){return e.prev=r,e.next=a,r.next=e,null!==a&&(a.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}},c170:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({dilation2d_:function dilation2d_(e,n,r,l,u=[1,1],d="NHWC"){const p=Object(i.a)(e,"x","dilation2d"),f=Object(i.a)(n,"filter","dilation2d");s.b(3===p.rank||4===p.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${p.rank}.`)),s.b(3===f.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${f.rank}.`)),s.b("NHWC"===d,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${d}`));let h=p,m=!1;3===p.rank&&(h=Object(c.a)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),m=!0);const g={x:h,filter:f},y={strides:r,pad:l,dilations:u},b=a.a.runKernel(o.S,g,y);return m?Object(c.a)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},c17d:function(e,n,r){"use strict";e.exports=r("c4e0")},c1a2:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({cosh_:function cosh_(e){const n={x:Object(i.a)(e,"x","cosh")};return a.a.runKernel(o.J,n)}})},c22a:function(e,n,r){"use strict";r.d(n,"a",(function(){return ones}));var a=r("6ae2"),o=r("6ad5"),i=r("0777"),s=r("5a2c");function ones(e,n="float32"){if("complex64"===n){const n=ones(e,"float32"),r=Object(s.a)(e,"float32");return Object(i.a)(n,r)}const r=Object(o.D)(Object(o.O)(e),n);return a.a.makeTensor(r,e,n)}},c258:function(e,n,r){"use strict";var a=r("4852"),o=r("215c");e.exports={moduleType:"component",name:"colorscale",attributes:r("f4e9"),layoutAttributes:r("0dd7"),supplyLayoutDefaults:r("739b"),handleDefaults:r("4183"),crossTraceDefaults:r("1db7"),calc:r("3aa8"),scales:a.scales,defaultScale:a.defaultScale,getScale:a.get,isValidScale:a.isValid,hasColorscale:o.hasColorscale,extractOpts:o.extractOpts,extractScale:o.extractScale,flipScale:o.flipScale,makeColorScaleFunc:o.makeColorScaleFunc,makeColorScaleFuncFromTrace:o.makeColorScaleFuncFromTrace}},c29b:function(e,n,r){var a;!function(o,i){var s,l=this,c=256,u=i.pow(c,6),d=i.pow(2,52),p=2*d,f=255;function seedrandom(e,n,r){var a=[],f=mixkey(flatten((n=1==n?{entropy:!0}:n||{}).entropy?[e,tostring(o)]:null==e?function autoseed(){try{var e;return s&&(e=s.randomBytes)?e=e(c):(e=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(e)),tostring(e)}catch(a){var n=l.navigator,r=n&&n.plugins;return[+new Date,l,r,l.screen,tostring(o)]}}():e,3),a),h=new ARC4(a),prng=function(){for(var e=h.g(6),n=u,r=0;e<d;)e=(e+r)*c,n*=c,r=h.g(1);for(;e>=p;)e/=2,n/=2,r>>>=1;return(e+r)/n};return prng.int32=function(){return 0|h.g(4)},prng.quick=function(){return h.g(4)/4294967296},prng.double=prng,mixkey(tostring(h.S),o),(n.pass||r||function(e,n,r,a){return a&&(a.S&&copy(a,h),e.state=function(){return copy(h,{})}),r?(i.random=e,n):e})(prng,f,"global"in n?n.global:this==i,n.state)}function ARC4(e){var n,r=e.length,a=this,o=0,i=a.i=a.j=0,s=a.S=[];for(r||(e=[r++]);o<c;)s[o]=o++;for(o=0;o<c;o++)s[o]=s[i=f&i+e[o%r]+(n=s[o])],s[i]=n;(a.g=function(e){for(var n,r=0,o=a.i,i=a.j,s=a.S;e--;)n=s[o=f&o+1],r=r*c+s[f&(s[o]=s[i=f&i+n])+(s[i]=n)];return a.i=o,a.j=i,r})(c)}function copy(e,n){return n.i=e.i,n.j=e.j,n.S=e.S.slice(),n}function flatten(e,n){var r,a=[],o=typeof e;if(n&&"object"==o)for(r in e)try{a.push(flatten(e[r],n-1))}catch(i){}return a.length?a:"string"==o?e:e+"\0"}function mixkey(e,n){for(var r,a=e+"",o=0;o<a.length;)n[f&o]=f&(r^=19*n[f&o])+a.charCodeAt(o++);return tostring(n)}function tostring(e){return String.fromCharCode.apply(0,e)}if(i.seedrandom=seedrandom,mixkey(i.random(),o),e.exports){e.exports=seedrandom;try{s=r(7)}catch(h){}}else void 0===(a=function(){return seedrandom}.call(n,r,n,e))||(e.exports=a)}([],Math)},c314:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("538e"),o=r("a3f7"),i=r("a5aa"),s=r("3bb7"),l=r("54ef"),c=r("ffb3"),u=r("9ffd");const d=Object(l.a)({logSigmoid_:function logSigmoid_(e){const n=Object(o.a)(e,"x","logSigmoid");return Object(a.a)((e=>({value:Object(s.a)(Object(u.a)(Object(s.a)(e))),gradFunc:n=>Object(i.a)(n,Object(c.a)(Object(s.a)(e)))})))(n)}})},c388:function(e,n,r){"use strict";r.d(n,"f",(function(){return iteratorFromItems})),r.d(n,"e",(function(){return iteratorFromFunction})),r.d(n,"d",(function(){return iteratorFromConcatenated})),r.d(n,"g",(function(){return iteratorFromZipped})),r.d(n,"a",(function(){return lazy_iterator_LazyIterator})),r.d(n,"b",(function(){return lazy_iterator_OneToManyIterator})),r.d(n,"c",(function(){return a}));var a,o=r("fa11"),i=r("6125"),s=r("bdcf");function cloneIfTensor(e){return e instanceof o.Tc?{value:e.clone(),recurse:!1}:Object(s.e)(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class RingBuffer{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,n){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=n}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const n of e)this.push(n)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const n=this.wrap(this.begin+e),r=this.get(n);return this.set(n,this.pop()),r}}class growing_ring_buffer_GrowingRingBuffer extends RingBuffer{constructor(){super(growing_ring_buffer_GrowingRingBuffer.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,n=new Array(e),r=this.length();for(let a=0;a<r;a++)n[a]=this.get(this.wrap(this.begin+a));this.data=n,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=r}}function iteratorFromItems(e){return new lazy_iterator_ArrayIterator(e)}function iteratorFromFunction(e){return new FunctionCallIterator(e)}function iteratorFromConcatenated(e,n){return new ChainedIterator(e,n)}function iteratorFromZipped(e,n=a.FAIL){return new lazy_iterator_ZipIterator(e,n)}growing_ring_buffer_GrowingRingBuffer.INITIAL_CAPACITY=32;class lazy_iterator_LazyIterator{async toArray(){const e=[];let n=await this.next();for(;!n.done;)e.push(n.value),n=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),n=[];let r=await e.next();for(;!r.done;)n.push(r.value),r=await e.next();return n}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let n=await this.next(),r=e(n.value);for(;!n.done&&r;)n=await this.next(),r=e(n.value)}handleErrors(e){return new ErrorHandlingLazyIterator(this,e)}filter(e){return new lazy_iterator_FilterIterator(this,e)}map(e){return new lazy_iterator_MapIterator(this,e)}mapAsync(e){return new lazy_iterator_AsyncMapIterator(this,e)}serialMapAsync(e){return new lazy_iterator_AsyncMapIterator(this,e).serial()}flatmap(e){return new lazy_iterator_FlatmapIterator(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,n=!0){return new RowMajorBatchIterator(this,e,n)}columnMajorBatch(e,n=!0,r=s.f){return this.rowMajorBatch(e,n).map((e=>Object(s.d)(e,r)))}concatenate(e,n){return new ChainedIterator(iteratorFromItems([this,e]),n)}take(e){return e<0||null==e?this:new TakeIterator(this,e)}skip(e){return e<0||null==e?this:new lazy_iterator_SkipIterator(this,e)}prefetch(e){return new lazy_iterator_PrefetchIterator(this,e)}shuffle(e,n){return new lazy_iterator_ShuffleIterator(this,e,n)}serial(){return new SerialIterator(this)}}class lazy_iterator_ArrayIterator extends lazy_iterator_LazyIterator{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:(n=e,Object(s.b)(n,cloneIfTensor)),done:!1};var n}}class FunctionCallIterator extends lazy_iterator_LazyIterator{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class SerialIterator extends lazy_iterator_LazyIterator{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class lazy_iterator_SkipIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;o.Gd(e.value)}return this.upstream.next()}}class TakeIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.maxCount=n,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class RowMajorBatchIterator extends lazy_iterator_LazyIterator{constructor(e,n,r=!0){super(),this.upstream=e,this.batchSize=n,this.enableSmallLastBatch=r,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const n=await this.upstream.next();if(n.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(n.value)}return{value:e,done:!1}}}class lazy_iterator_FilterIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.predicate=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;o.Gd(e.value)}}}class lazy_iterator_MapIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=o.gf.getTensorsInContainer(e.value),r=this.transform(e.value),a=o.gf.getTensorsInContainer(r);for(const i of n)o.gf.isTensorInList(i,a)||i.dispose();return{value:r,done:!1}}}class ErrorHandlingLazyIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.handler=n,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class lazy_iterator_AsyncMapIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const n=o.gf.getTensorsInContainer(e.value),r=await this.transform(e.value),a=o.gf.getTensorsInContainer(r);for(const i of n)o.gf.isTensorInList(i,a)||i.dispose();return{value:r,done:!1}}}class lazy_iterator_OneToManyIterator extends lazy_iterator_LazyIterator{constructor(){super(),this.outputQueue=new growing_ring_buffer_GrowingRingBuffer,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class lazy_iterator_FlatmapIterator extends lazy_iterator_OneToManyIterator{constructor(e,n){super(),this.upstream=e,this.transform=n}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const n=o.gf.getTensorsInContainer(e.value),r=this.transform(e.value),a=o.gf.getTensorsInContainer(r);this.outputQueue.pushAll(r);for(const i of n)o.gf.isTensorInList(i,a)||i.dispose();return!0}}class ChainedIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.baseErrorHandler=n,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const n=await this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}}!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(a||(a={}));class lazy_iterator_ZipIterator extends lazy_iterator_LazyIterator{constructor(e,n=a.FAIL){super(),this.iterators=e,this.mismatchMode=n,this.count=0,this.currentPromise=null}summary(){return"{TODO: fill in upstream of zip summaries} -> Zip"}async nextState(e){await e;let n=0,r=0;const o=await Object(s.c)(this.iterators,(function getNext(e){if(e instanceof lazy_iterator_LazyIterator){return{value:e.next().then((e=>(n++,e.done&&r++,e.value))),recurse:!1}}return{value:null,recurse:!0}}));if(n===r)return{value:null,done:!0};if(r>0)switch(this.mismatchMode){case a.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case a.SHORTEST:return{value:null,done:!0};case a.LONGEST:}return this.count++,{value:o,done:!1}}async next(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}}class lazy_iterator_PrefetchIterator extends lazy_iterator_LazyIterator{constructor(e,n){super(),this.upstream=e,this.bufferSize=n,this.buffer=new RingBuffer(n)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class lazy_iterator_ShuffleIterator extends lazy_iterator_PrefetchIterator{constructor(e,n,r){super(e,n),this.upstream=e,this.windowSize=n,this.upstreamExhausted=!1,this.random=i.alea(r||o.of.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),n=await this.buffer.shuffleExcise(e);if(!n.done)return this.refill(),n;this.upstreamExhausted=!0}return{value:null,done:!0}}}},c430:function(e,n){e.exports=!1},c497:function(e,n,r){"use strict";var a=r("19b2"),o=r("5928"),i=r("371e"),s=r("fc26"),l=r("bb71"),c=r("3c1c"),u=r("d115"),d=c.cleanId,p=c.getFromTrace,f=i.traceIs;function cleanAxRef(e,n){var r=e[n],a=n.charAt(0);r&&"paper"!==r&&(e[n]=d(r,a,!0))}function cleanTitle(e){function rewireAttr(n,r){var a=e[n],o=e.title&&e.title[r];a&&!o&&(e.title||(e.title={}),e.title[r]=e[n],delete e[n])}e&&("string"!=typeof e.title&&"number"!=typeof e.title||(e.title={text:e.title}),rewireAttr("titlefont","font"),rewireAttr("titleposition","position"),rewireAttr("titleside","side"),rewireAttr("titleoffset","offset"))}function cleanFinanceDir(e){if(!s.isPlainObject(e))return!1;var n=e.name;return delete e.name,delete e.showlegend,("string"==typeof n||"number"==typeof n)&&String(n)}function commonPrefix(e,n,r,a){if(r&&!a)return e;if(a&&!r)return n;if(!e.trim())return n;if(!n.trim())return e;var o,i=Math.min(e.length,n.length);for(o=0;o<i&&e.charAt(o)===n.charAt(o);o++);return e.substr(0,o).trim()}function cleanTextPosition(e){var n="middle",r="center";return"string"==typeof e&&(-1!==e.indexOf("top")?n="top":-1!==e.indexOf("bottom")&&(n="bottom"),-1!==e.indexOf("left")?r="left":-1!==e.indexOf("right")&&(r="right")),n+" "+r}function emptyContainer(e,n){return n in e&&"object"==typeof e[n]&&0===Object.keys(e[n]).length}n.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&s.log("Clearing previous rejected promises from queue."),e._promises=[]},n.cleanLayout=function(e){var r,a;e||(e={}),e.xaxis1&&(e.xaxis||(e.xaxis=e.xaxis1),delete e.xaxis1),e.yaxis1&&(e.yaxis||(e.yaxis=e.yaxis1),delete e.yaxis1),e.scene1&&(e.scene||(e.scene=e.scene1),delete e.scene1);var i=(l.subplotsRegistry.cartesian||{}).attrRegex,c=(l.subplotsRegistry.polar||{}).attrRegex,p=(l.subplotsRegistry.ternary||{}).attrRegex,f=(l.subplotsRegistry.gl3d||{}).attrRegex,h=Object.keys(e);for(r=0;r<h.length;r++){var m=h[r];if(i&&i.test(m)){var g=e[m];g.anchor&&"free"!==g.anchor&&(g.anchor=d(g.anchor)),g.overlaying&&(g.overlaying=d(g.overlaying)),g.type||(g.isdate?g.type="date":g.islog?g.type="log":!1===g.isdate&&!1===g.islog&&(g.type="linear")),"withzero"!==g.autorange&&"tozero"!==g.autorange||(g.autorange=!0,g.rangemode="tozero"),delete g.islog,delete g.isdate,delete g.categories,emptyContainer(g,"domain")&&delete g.domain,void 0!==g.autotick&&(void 0===g.tickmode&&(g.tickmode=g.autotick?"auto":"linear"),delete g.autotick),cleanTitle(g)}else if(c&&c.test(m)){cleanTitle(e[m].radialaxis)}else if(p&&p.test(m)){var y=e[m];cleanTitle(y.aaxis),cleanTitle(y.baxis),cleanTitle(y.caxis)}else if(f&&f.test(m)){var b=e[m],x=b.cameraposition;if(Array.isArray(x)&&4===x[0].length){var _=x[0],w=x[1],k=x[2],T=o([],_),S=[];for(a=0;a<3;++a)S[a]=w[a]+k*T[2+4*a];b.camera={eye:{x:S[0],y:S[1],z:S[2]},center:{x:w[0],y:w[1],z:w[2]},up:{x:0,y:0,z:1}},delete b.cameraposition}cleanTitle(b.xaxis),cleanTitle(b.yaxis),cleanTitle(b.zaxis)}}var O=Array.isArray(e.annotations)?e.annotations.length:0;for(r=0;r<O;r++){var C=e.annotations[r];s.isPlainObject(C)&&(C.ref&&("paper"===C.ref?(C.xref="paper",C.yref="paper"):"data"===C.ref&&(C.xref="x",C.yref="y"),delete C.ref),cleanAxRef(C,"xref"),cleanAxRef(C,"yref"))}var A=Array.isArray(e.shapes)?e.shapes.length:0;for(r=0;r<A;r++){var I=e.shapes[r];s.isPlainObject(I)&&(cleanAxRef(I,"xref"),cleanAxRef(I,"yref"))}var N=Array.isArray(e.images)?e.images.length:0;for(r=0;r<N;r++){var M=e.images[r];s.isPlainObject(M)&&(cleanAxRef(M,"xref"),cleanAxRef(M,"yref"))}var E=e.legend;return E&&(E.x>3?(E.x=1.02,E.xanchor="left"):E.x<-2&&(E.x=-.02,E.xanchor="right"),E.y>3?(E.y=1.02,E.yanchor="bottom"):E.y<-2&&(E.y=-.02,E.yanchor="top")),cleanTitle(e),"rotate"===e.dragmode&&(e.dragmode="orbit"),u.clean(e),e.template&&e.template.layout&&n.cleanLayout(e.template.layout),e},n.cleanData=function(e){for(var r=0;r<e.length;r++){var a,o=e[r];if("histogramy"===o.type&&"xbins"in o&&!("ybins"in o)&&(o.ybins=o.xbins,delete o.xbins),o.error_y&&"opacity"in o.error_y){var c=u.defaults,p=o.error_y.color||(f(o,"bar")?u.defaultLine:c[r%c.length]);o.error_y.color=u.addOpacity(u.rgb(p),u.opacity(p)*o.error_y.opacity),delete o.error_y.opacity}if("bardir"in o&&("h"!==o.bardir||!f(o,"bar")&&"histogram"!==o.type.substr(0,9)||(o.orientation="h",n.swapXYData(o)),delete o.bardir),"histogramy"===o.type&&n.swapXYData(o),"histogramx"!==o.type&&"histogramy"!==o.type||(o.type="histogram"),"scl"in o&&!("colorscale"in o)&&(o.colorscale=o.scl,delete o.scl),"reversescl"in o&&!("reversescale"in o)&&(o.reversescale=o.reversescl,delete o.reversescl),o.xaxis&&(o.xaxis=d(o.xaxis,"x")),o.yaxis&&(o.yaxis=d(o.yaxis,"y")),f(o,"gl3d")&&o.scene&&(o.scene=l.subplotsRegistry.gl3d.cleanId(o.scene)),!f(o,"pie-like")&&!f(o,"bar-like"))if(Array.isArray(o.textposition))for(a=0;a<o.textposition.length;a++)o.textposition[a]=cleanTextPosition(o.textposition[a]);else o.textposition&&(o.textposition=cleanTextPosition(o.textposition));var h=i.getModule(o);if(h&&h.colorbar){var m=h.colorbar.container,g=m?o[m]:o;g&&g.colorscale&&("YIGnBu"===g.colorscale&&(g.colorscale="YlGnBu"),"YIOrRd"===g.colorscale&&(g.colorscale="YlOrRd"))}if("surface"===o.type&&s.isPlainObject(o.contours)){var y=["x","y","z"];for(a=0;a<y.length;a++){var b=o.contours[y[a]];s.isPlainObject(b)&&(b.highlightColor&&(b.highlightcolor=b.highlightColor,delete b.highlightColor),b.highlightWidth&&(b.highlightwidth=b.highlightWidth,delete b.highlightWidth))}}if("candlestick"===o.type||"ohlc"===o.type){var x=!1!==(o.increasing||{}).showlegend,_=!1!==(o.decreasing||{}).showlegend,w=cleanFinanceDir(o.increasing),k=cleanFinanceDir(o.decreasing);if(!1!==w&&!1!==k){var T=commonPrefix(w,k,x,_);T&&(o.name=T)}else!w&&!k||o.name||(o.name=w||k)}if(Array.isArray(o.transforms)){var S=o.transforms;for(a=0;a<S.length;a++){var O=S[a];if(s.isPlainObject(O))switch(O.type){case"filter":O.filtersrc&&(O.target=O.filtersrc,delete O.filtersrc),O.calendar&&(O.valuecalendar||(O.valuecalendar=O.calendar),delete O.calendar);break;case"groupby":if(O.styles=O.styles||O.style,O.styles&&!Array.isArray(O.styles)){var C=O.styles,A=Object.keys(C);O.styles=[];for(var I=0;I<A.length;I++)O.styles.push({target:A[I],value:C[A[I]]})}}}}emptyContainer(o,"line")&&delete o.line,"marker"in o&&(emptyContainer(o.marker,"line")&&delete o.marker.line,emptyContainer(o,"marker")&&delete o.marker),u.clean(o),o.autobinx&&(delete o.autobinx,delete o.xbins),o.autobiny&&(delete o.autobiny,delete o.ybins),cleanTitle(o),o.colorbar&&cleanTitle(o.colorbar),o.marker&&o.marker.colorbar&&cleanTitle(o.marker.colorbar),o.line&&o.line.colorbar&&cleanTitle(o.line.colorbar),o.aaxis&&cleanTitle(o.aaxis),o.baxis&&cleanTitle(o.baxis)}},n.swapXYData=function(e){var n;if(s.swapAttrs(e,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var r=e.error_y,a="copy_ystyle"in r?r.copy_ystyle:!(r.color||r.thickness||r.width);s.swapAttrs(e,["error_?.copy_ystyle"]),a&&s.swapAttrs(e,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof e.hoverinfo){var o=e.hoverinfo.split("+");for(n=0;n<o.length;n++)"x"===o[n]?o[n]="y":"y"===o[n]&&(o[n]="x");e.hoverinfo=o.join("+")}},n.coerceTraceIndices=function(e,n){if(a(n))return[n];if(!Array.isArray(n)||!n.length)return e.data.map((function(e,n){return n}));if(Array.isArray(n)){for(var r=[],o=0;o<n.length;o++)s.isIndex(n[o],e.data.length)?r.push(n[o]):s.warn("trace index (",n[o],") is not a number or is out of bounds");return r}return n},n.manageArrayContainers=function(e,n,r){var o=e.obj,i=e.parts,l=i.length,c=i[l-1],u=a(c);if(u&&null===n){var d=i.slice(0,l-1).join(".");s.nestedProperty(o,d).get().splice(c,1)}else u&&void 0===e.get()?(void 0===e.get()&&(r[e.astr]=null),e.set(n)):e.set(n)};var h=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function getParent(e){var n=e.search(h);if(n>0)return e.substr(0,n)}n.hasParent=function(e,n){for(var r=getParent(n);r;){if(r in e)return!0;r=getParent(r)}return!1};var m=["x","y","z"];n.clearAxisTypes=function(e,n,r){for(var a=0;a<n.length;a++)for(var o=e._fullData[a],i=0;i<3;i++){var l=p(e,o,m[i]);if(l&&"log"!==l.type){var c=l._name,u=l._id.substr(1);if("scene"===u.substr(0,5)){if(void 0!==r[u])continue;c=u+"."+c}var d=c+".type";void 0===r[c]&&void 0===r[d]&&s.nestedProperty(e.layout,d).set(null)}}}},c4c7:function(e,n,r){"use strict";var a=r("fc26");n.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},n.isTraceInSubplots=function(e,r){if("splom"===e.type){for(var a=e.xaxes||[],o=e.yaxes||[],i=0;i<a.length;i++)for(var s=0;s<o.length;s++)if(-1!==r.indexOf(a[i]+o[s]))return!0;return!1}return-1!==r.indexOf(n.getSubplot(e))},n.flat=function(e,n){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=n;return r},n.p2c=function(e,n){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=e[a].p2c(n);return r},n.getDistanceFunction=function(e,r,a,o){return"closest"===e?o||n.quadrature(r,a):"x"===e.charAt(0)?r:a},n.getClosest=function(e,n,r){if(!1!==r.index)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var a=0;a<e.length;a++){var o=n(e[a]);o<=r.distance&&(r.index=a,r.distance=o)}return r},n.inbox=function(e,n,r){return e*n<0||0===e?r:1/0},n.quadrature=function(e,n){return function(r){var a=e(r),o=n(r);return Math.sqrt(a*a+o*o)}},n.makeEventData=function(e,r,a){var o="index"in e?e.index:e.pointNumber,i={data:r._input,fullData:r,curveNumber:r.index,pointNumber:o};if(r._indexToPoints){var s=r._indexToPoints[o];1===s.length?i.pointIndex=s[0]:i.pointIndices=s}else i.pointIndex=o;return r._module.eventData?i=r._module.eventData(i,e,r,a,o):("xVal"in e?i.x=e.xVal:"x"in e&&(i.x=e.x),"yVal"in e?i.y=e.yVal:"y"in e&&(i.y=e.y),e.xa&&(i.xaxis=e.xa),e.ya&&(i.yaxis=e.ya),void 0!==e.zLabelVal&&(i.z=e.zLabelVal)),n.appendArrayPointValue(i,r,o),i},n.appendArrayPointValue=function(e,n,r){var o=n._arrayAttrs;if(o)for(var i=0;i<o.length;i++){var s=o[i],l=getPointKey(s);if(void 0===e[l]){var c=getPointData(a.nestedProperty(n,s).get(),r);void 0!==c&&(e[l]=c)}}},n.appendArrayMultiPointValues=function(e,n,r){var o=n._arrayAttrs;if(o)for(var i=0;i<o.length;i++){var s=o[i],l=getPointKey(s);if(void 0===e[l]){for(var c=a.nestedProperty(n,s).get(),u=new Array(r.length),d=0;d<r.length;d++)u[d]=getPointData(c,r[d]);e[l]=u}}};var o={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function getPointKey(e){return o[e]||e}function getPointData(e,n){return Array.isArray(n)?Array.isArray(e)&&Array.isArray(e[n[0]])?e[n[0]][n[1]]:void 0:e[n]}var i={x:!0,y:!0},s={"x unified":!0,"y unified":!0};n.isUnifiedHover=function(e){return"string"==typeof e&&!!s[e]},n.isXYhover=function(e){return"string"==typeof e&&!!i[e]}},c4e0:function(e,n,r){"use strict";n.version=r("5b41").version,r("1368").polyfill(),r("046b"),r("76b2")();for(var a=r("371e"),o=n.register=a.register,i=r("442f"),s=Object.keys(i),l=0;l<s.length;l++){var c=s[l];"_"!==c.charAt(0)&&(n[c]=i[c]),o({moduleType:"apiMethod",name:c,fn:i[c]})}o(r("5e8f")),o([r("9778"),r("a5c4"),r("70f9"),r("c9bc"),r("3273"),r("7c9f"),r("cd19"),r("eeb3"),r("1c0b8"),r("04ad"),r("7974"),r("7eee"),r("c258"),r("fcb2")]),o([r("1ea6"),r("1e03")]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(o(window.PlotlyLocales),delete window.PlotlyLocales),n.Icons=r("7559"),n.Plots=r("bb71"),n.Fx=r("a5c4"),n.Snapshot=r("ca67"),n.PlotSchema=r("6921"),n.Queue=r("c6b6b"),n.d3=r("6e58")},c4f4:function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("e5ac"),s=r("1729"),l=r("14b6");function handleAnnotationDefaults(e,n,r,i){function coerce(r,o){return a.coerce(e,n,l,r,o)}function coercePosition(e){var a=e+"axis",i={_fullLayout:{}};return i._fullLayout[a]=r[a],o.coercePosition(n,i,coerce,e,e,.5)}coerce("visible")&&(s(e,n,i.fullLayout,coerce),coercePosition("x"),coercePosition("y"),coercePosition("z"),a.noneOrAll(e,n,["x","y","z"]),n.xref="x",n.yref="y",n.zref="z",coerce("xanchor"),coerce("yanchor"),coerce("xshift"),coerce("yshift"),n.showarrow&&(n.axref="pixel",n.ayref="pixel",coerce("ax",-10),coerce("ay",-30),a.noneOrAll(e,n,["ax","ay"])))}e.exports=function handleDefaults(e,n,r){i(e,n,{name:"annotations",handleItemDefaults:handleAnnotationDefaults,fullLayout:r.fullLayout})}},c6b6:function(e,n){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},c6b6b:function(e,n,r){"use strict";var a=r("fc26"),o=r("3ff5").dfltConfig;var i={add:function(e,n,r,a,i){var s,l;e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},l=e.undoQueue.index,e.autoplay?e.undoQueue.inSequence||(e.autoplay=!1):(!e.undoQueue.sequence||e.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(l,e.undoQueue.queue.length-l,s),e.undoQueue.index+=1):s=e.undoQueue.queue[l-1],e.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(n),s.undo.args.unshift(r),s.redo.calls.push(a),s.redo.args.push(i)),e.undoQueue.queue.length>o.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--))},startSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},stopSequence:function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},undo:function undo(e){var n,r;if(e.framework&&e.framework.isPolar)e.framework.undo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<n.undo.calls.length;r++)i.plotDo(e,n.undo.calls[r],n.undo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1}},redo:function redo(e){var n,r;if(e.framework&&e.framework.isPolar)e.framework.redo();else if(!(void 0===e.undoQueue||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(n=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,r=0;r<n.redo.calls.length;r++)i.plotDo(e,n.redo.calls[r],n.redo.args[r]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}}};i.plotDo=function(e,n,r){e.autoplay=!0,r=function copyArgArray(e,n){for(var r,o=[],i=0;i<n.length;i++)r=n[i],o[i]=r===e?r:"object"==typeof r?Array.isArray(r)?a.extendDeep([],r):a.extendDeepAll({},r):r;return o}(e,r),n.apply(null,r)},e.exports=i},c6cd:function(e,n,r){var a=r("da84"),o=r("ce4e"),i="__core-js_shared__",s=a[i]||o(i,{});e.exports=s},c77c:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("508f"),c=r("54ef");const u=Object(c.a)({div_:function div_(e,n){let r=Object(s.a)(e,"a","div"),c=Object(s.a)(n,"b","div");if([r,c]=Object(i.makeTypesMatch)(r,c),"int32"===r.dtype&&"int32"===c.dtype)return Object(l.a)(r,c);const u={a:r,b:c};return a.a.runKernel(o.jc,u,{})}})},c791:function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("fc26"),s=r("0379"),l=r("d115"),c=r("83d1"),u=r("371e"),d=r("0642").tickText,p=r("93a6"),f=p.recordMinTextSize,h=p.clearMinTextSize,m=r("2df3"),g=r("6833"),y=r("1a5e"),b=r("fb5a"),x=b.text,_=b.textposition,w=r("c4c7").appendArrayPointValue,k=y.TEXTPAD;function keyFunc(e){return e.id}function getKeyFunc(e){if(e.ids)return keyFunc}function dirSign(e,n){return e<n?1:-1}function transition(e,n,r,a){var o;return!n.uniformtext.mode&&hasTransition(r)?(a&&(o=a()),e.transition().duration(r.duration).ease(r.easing).each("end",(function(){o&&o()})).each("interrupt",(function(){o&&o()}))):e}function hasTransition(e){return e&&e.duration>0}function getRotateFromAngle(e){return"auto"===e?0:e}function getRotatedTextSize(e,n){var r=Math.PI/180*n,a=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));return{x:e.width*o+e.height*a,y:e.width*a+e.height*o}}function toMoveInsideBar(e,n,r,a,o,i){var s=!!i.isHorizontal,l=!!i.constrained,c=i.angle||0,u=i.anchor||"end",d="end"===u,p="start"===u,f=((i.leftToRight||0)+1)/2,h=1-f,m=o.width,g=o.height,y=Math.abs(n-e),b=Math.abs(a-r),x=y>2*k&&b>2*k?k:0;y-=2*x,b-=2*x;var _=getRotateFromAngle(c);"auto"!==c||m<=y&&g<=b||!(m>y||g>b)||(m>b||g>y)&&m<g==y<b||(_+=90);var w=getRotatedTextSize(o,_),T=1;l&&(T=Math.min(1,y/w.x,b/w.y));var S=o.left*h+o.right*f,O=(o.top+o.bottom)/2,C=(e+k)*h+(n-k)*f,A=(r+a)/2,I=0,N=0;if(p||d){var M=(s?w.x:w.y)/2,E=s?dirSign(e,n):dirSign(r,a);s?p?(C=e+E*x,I=-E*M):(C=n-E*x,I=E*M):p?(A=r+E*x,N=-E*M):(A=a-E*x,N=E*M)}return{textX:S,textY:O,targetX:C,targetY:A,anchorX:I,anchorY:N,scale:T,rotate:_}}e.exports={plot:function plot(e,n,r,p,y,b){var T=n.xaxis,S=n.yaxis,O=e._fullLayout;y||(y={mode:O.barmode,norm:O.barmode,gap:O.bargap,groupgap:O.bargroupgap},h("bar",O));var C=i.makeTraceGroups(p,r,"trace bars").each((function(r){var u=a.select(this),p=r[0].trace,h="waterfall"===p.type,C="funnel"===p.type,A="bar"===p.type||C,I=0;h&&p.connector.visible&&"between"===p.connector.mode&&(I=p.connector.line.width/2);var N="h"===p.orientation,M=hasTransition(y),E=i.ensureSingle(u,"g","points"),D=getKeyFunc(p),j=E.selectAll("g.point").data(i.identity,D);j.enter().append("g").classed("point",!0),j.exit().remove(),j.each((function(u,h){var C,E,D=a.select(this),j=function getXY(e,n,r,a){var o=[],i=[],s=a?n:r,l=a?r:n;return o[0]=s.c2p(e.s0,!0),i[0]=l.c2p(e.p0,!0),o[1]=s.c2p(e.s1,!0),i[1]=l.c2p(e.p1,!0),a?[o,i]:[i,o]}(u,T,S,N),R=j[0][0],L=j[0][1],z=j[1][0],$=j[1][1],B=0==(N?L-R:$-z);if(B&&A&&g.getLineWidth(p,u)&&(B=!1),B||(B=!(o(R)&&o(L)&&o(z)&&o($))),u.isBlank=B,B&&(N?L=R:$=z),I&&!B&&(N?(R-=dirSign(R,L)*I,L+=dirSign(R,L)*I):(z-=dirSign(z,$)*I,$+=dirSign(z,$)*I)),"waterfall"===p.type){if(!B){var V=p[u.dir].marker;C=V.line.width,E=V.color}}else C=g.getLineWidth(p,u),E=u.mc||p.marker.color;function roundWithLine(e){var n=a.round(C/2%1,2);return 0===y.gap&&0===y.groupgap?a.round(Math.round(e)-n,2):e}if(!e._context.staticPlot){var U=l.opacity(E)<1||C>.01?roundWithLine:function expandToVisible(e,n,r){return r&&e===n?e:Math.abs(e-n)>=2?roundWithLine(e):e>n?Math.ceil(e):Math.floor(e)};R=U(R,L,N),L=U(L,R,N),z=U(z,$,!N),$=U($,z,!N)}var W=transition(i.ensureSingle(D,"path"),O,y,b);if(W.style("vector-effect","non-scaling-stroke").attr("d",isNaN((L-R)*($-z))||B&&e._context.staticPlot?"M0,0Z":"M"+R+","+z+"V"+$+"H"+L+"V"+z+"Z").call(c.setClipUrl,n.layerClipId,e),!O.uniformtext.mode&&M){var H=c.makePointStyleFns(p);c.singlePointStyle(u,W,p,H,e)}!function appendBarText(e,n,r,a,o,l,u,p,h,y,b){var T,S=n.xaxis,O=n.yaxis,C=e._fullLayout;function appendTextNode(n,r,a){return i.ensureSingle(n,"text").text(r).attr({class:"bartext bartext-"+T,"text-anchor":"middle","data-notex":1}).call(c.font,a).call(s.convertToTspans,e)}var A=a[0].trace,I="h"===A.orientation,N=function getText(e,n,r,a,o){var s,l=n[0].trace;s=l.texttemplate?function calcTexttemplate(e,n,r,a,o){var s=n[0].trace,l=i.castOption(s,r,"texttemplate");if(!l)return"";var c,u,p,f,h="waterfall"===s.type,m="funnel"===s.type;"h"===s.orientation?(c="y",u=o,p="x",f=a):(c="x",u=a,p="y",f=o);function formatLabel(e){return d(u,e,!0).text}function formatNumber(e){return d(f,+e,!0).text}var g=n[r],y={};y.label=g.p,y.labelLabel=y[c+"Label"]=formatLabel(g.p);var b=i.castOption(s,g.i,"text");(0===b||b)&&(y.text=b);y.value=g.s,y.valueLabel=y[p+"Label"]=formatNumber(g.s);var x={};w(x,s,g.i),h&&(y.delta=+g.rawS||g.s,y.deltaLabel=formatNumber(y.delta),y.final=g.v,y.finalLabel=formatNumber(y.final),y.initial=y.final-y.delta,y.initialLabel=formatNumber(y.initial));m&&(y.value=g.s,y.valueLabel=formatNumber(y.value),y.percentInitial=g.begR,y.percentInitialLabel=i.formatPercent(g.begR),y.percentPrevious=g.difR,y.percentPreviousLabel=i.formatPercent(g.difR),y.percentTotal=g.sumR,y.percenTotalLabel=i.formatPercent(g.sumR));var _=i.castOption(s,g.i,"customdata");_&&(y.customdata=_);return i.texttemplateString(l,y,e._d3locale,x,y,s._meta||{})}(e,n,r,a,o):l.textinfo?function calcTextinfo(e,n,r,a){var o=e[0].trace,s="h"===o.orientation,l="waterfall"===o.type,c="funnel"===o.type;function formatLabel(e){return d(s?a:r,e,!0).text}function formatNumber(e){return d(s?r:a,+e,!0).text}var u,p=o.textinfo,f=e[n],h=p.split("+"),m=[],hasFlag=function(e){return-1!==h.indexOf(e)};hasFlag("label")&&m.push(formatLabel(e[n].p));hasFlag("text")&&(0===(u=i.castOption(o,f.i,"text"))||u)&&m.push(u);if(l){var g=+f.rawS||f.s,y=f.v,b=y-g;hasFlag("initial")&&m.push(formatNumber(b)),hasFlag("delta")&&m.push(formatNumber(g)),hasFlag("final")&&m.push(formatNumber(y))}if(c){hasFlag("value")&&m.push(formatNumber(f.s));var x=0;hasFlag("percent initial")&&x++,hasFlag("percent previous")&&x++,hasFlag("percent total")&&x++;var _=x>1;hasFlag("percent initial")&&(u=i.formatPercent(f.begR),_&&(u+=" of initial"),m.push(u)),hasFlag("percent previous")&&(u=i.formatPercent(f.difR),_&&(u+=" of previous"),m.push(u)),hasFlag("percent total")&&(u=i.formatPercent(f.sumR),_&&(u+=" of total"),m.push(u))}return m.join("<br>")}(n,r,a,o):g.getValue(l.text,r);return g.coerceString(x,s)}(C,a,o,S,O);T=function getTextPosition(e,n){var r=g.getValue(e.textposition,n);return g.coerceEnumerated(_,r)}(A,o);var M="stack"===y.mode||"relative"===y.mode,E=a[o],D=!M||E._outmost;if(!N||"none"===T||(E.isBlank||l===u||p===h)&&("auto"===T||"inside"===T))return void r.select("text").remove();var j=C.font,R=m.getBarColor(a[o],A),L=m.getInsideTextFont(A,o,j,R),z=m.getOutsideTextFont(A,o,j),$=r.datum();I?"log"===S.type&&$.s0<=0&&(l=S.range[0]<S.range[1]?0:S._length):"log"===O.type&&$.s0<=0&&(p=O.range[0]<O.range[1]?O._length:0);var B,V,U,W,H,G=Math.abs(u-l)-2*k,q=Math.abs(h-p)-2*k;"outside"===T&&(D||E.hasB||(T="inside"));if("auto"===T){if(D)T="inside",B=appendTextNode(r,N,H=i.ensureUniformFontSize(e,L)),U=(V=c.bBox(B.node())).width,W=V.height,U>0&&W>0&&(U<=G&&W<=q||U<=q&&W<=G||(I?G>=U*(q/W):q>=W*(G/U)))?T="inside":(T="outside",B.remove(),B=null);else T="inside"}if(!B){var K=(B=appendTextNode(r,N,H=i.ensureUniformFontSize(e,"outside"===T?z:L))).attr("transform");if(B.attr("transform",""),U=(V=c.bBox(B.node())).width,W=V.height,B.attr("transform",K),U<=0||W<=0)return void B.remove()}var X,Y=A.textangle;X="outside"===T?function toMoveOutsideBar(e,n,r,a,o,i){var s,l=!!i.isHorizontal,c=!!i.constrained,u=i.angle||0,d=o.width,p=o.height,f=Math.abs(n-e),h=Math.abs(a-r);s=l?h>2*k?k:0:f>2*k?k:0;var m=1;c&&(m=l?Math.min(1,h/p):Math.min(1,f/d));var g=getRotateFromAngle(u),y=getRotatedTextSize(o,g),b=(l?y.x:y.y)/2,x=(o.left+o.right)/2,_=(o.top+o.bottom)/2,w=(e+n)/2,T=(r+a)/2,S=0,O=0,C=l?dirSign(n,e):dirSign(r,a);l?(w=n-C*s,S=C*b):(T=a+C*s,O=-C*b);return{textX:x,textY:_,targetX:w,targetY:T,anchorX:S,anchorY:O,scale:m,rotate:g}}(l,u,p,h,V,{isHorizontal:I,constrained:"both"===A.constraintext||"outside"===A.constraintext,angle:Y}):toMoveInsideBar(l,u,p,h,V,{isHorizontal:I,constrained:"both"===A.constraintext||"inside"===A.constraintext,angle:Y,anchor:A.insidetextanchor});X.fontSize=H.size,f(A.type,X,C),E.transform=X,transition(B,C,y,b).attr("transform",i.getTextTransform(X))}(e,n,D,r,h,R,L,z,$,y,b),n.layerClipId&&c.hideOutsideRangePoint(u,D.select("text"),T,S,p.xcalendar,p.ycalendar)}));var R=!1===p.cliponaxis;c.setClipUrl(u,R?null:n.layerClipId,e)}));u.getComponentMethod("errorbars","plot")(e,C,n,y)},toMoveInsideBar:toMoveInsideBar}},c8ad:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},c8ba:function(e,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(a){"object"==typeof window&&(r=window)}e.exports=r},c912:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({transpose_:function transpose_(e,n){const r=Object(i.a)(e,"x","transpose");if(null==n&&(n=r.shape.map(((e,n)=>n)).reverse()),s.b(r.rank===n.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${n}.`)),n.forEach((e=>{s.b(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${n}`))})),r.rank<=1)return r.clone();const l={x:r},c={perm:n};return a.a.runKernel(o.Vc,l,c)}})},c953:function(e,n,r){"use strict";var a=r("0f37"),o="data-savedcursor";e.exports=function overrideCursor(e,n){var r=e.attr(o);if(n){if(!r){for(var i=(e.attr("class")||"").split(" "),s=0;s<i.length;s++){var l=i[s];0===l.indexOf("cursor-")&&e.attr(o,l.substr(7)).classed(l,!1)}e.attr(o)||e.attr(o,"!!")}a(e,n)}else r&&(e.attr(o,null),"!!"===r?a(e):a(e,r))}},c9bc:function(e,n,r){"use strict";var a=r("371e"),o=r("fc26");e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:r("14b6")}}},layoutAttributes:r("14b6"),handleDefaults:r("c4f4"),includeBasePlot:function includeGL3D(e,n){var r=a.subplotsRegistry.gl3d;if(!r)return;for(var i=r.attrRegex,s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];i.test(c)&&(e[c].annotations||[]).length&&(o.pushUnique(n._basePlotModules,r),o.pushUnique(n._subplots.gl3d,c))}},convert:r("de22"),draw:r("f422")}},c9f1:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("54ef");const c=Object(l.a)({pow_:function pow_(e,n){let r=Object(s.a)(e,"base","pow"),l=Object(s.a)(n,"exp","pow");[r,l]=Object(i.makeTypesMatch)(r,l);const c={a:r,b:l};return a.a.runKernel(o.ec,c)}})},ca64:function(e,n,r){"use strict";var a=r("4efe"),o=r("e21b").drawMode,i=r("371e"),s=r("52d8"),l=s.i000,c=s.i090,u=s.i180,d=s.i270,p=r("e947").clearOutlineControllers,f=r("b34d"),h=f.pointsShapeRectangle,m=f.pointsShapeEllipse,g=f.writePaths,y=r("3b24");e.exports=function displayOutlines(e,n,r,s){s||(s=0);var f=r.gd;function redraw(){displayOutlines(e,n,r,s++),m(e[0])&&update({redrawing:!0})}function update(e){r.isActiveShape=!1;var a=y(n,r);Object.keys(a).length&&i.call((e||{}).redrawing?"relayout":"_guiRelayout",f,a)}var b,x,_,w,k,T=r.isActiveShape,S=f._fullLayout._zoomlayer,O=r.dragmode;(o(O)?f._fullLayout._drawing=!0:f._fullLayout._activeShapeIndex>=0&&p(f),n.attr("d",g(e)),T&&!s)&&(k=function recordPositions(e,n){for(var r=0;r<n.length;r++){var a=n[r];e[r]=[];for(var o=0;o<a.length;o++){e[r][o]=[];for(var i=0;i<a[o].length;i++)e[r][o][i]=a[o][i]}}return e}([],e),function addVertexControllers(n){b=[];for(var r=0;r<e.length;r++){var o=e[r],i=!h(o)&&m(o);b[r]=[];for(var s=0;s<o.length;s++)if("Z"!==o[s][0]&&(!i||s===l||s===c||s===u||s===d)){var p=o[s][1],g=o[s][2],y=n.append("circle").classed("cursor-grab",!0).attr("data-i",r).attr("data-j",s).attr("cx",p).attr("cy",g).attr("r",4).style({"mix-blend-mode":"luminosity",fill:"black",stroke:"white","stroke-width":1});b[r][s]={element:y.node(),gd:f,prepFn:startDragVertex,doneFn:endDragVertexController,clickFn:clickVertexController},a.init(b[r][s])}}}(S.append("g").attr("class","outline-controllers")),function addShapeControllers(){if(x=[],!e.length)return;var r=0;x[r]={element:n[0][0],gd:f,prepFn:startDragShapeController,doneFn:endDragShapeController},a.init(x[r])}());function startDragVertex(e){_=+e.srcElement.getAttribute("data-i"),w=+e.srcElement.getAttribute("data-j"),b[_][w].moveFn=moveVertexController}function moveVertexController(n,r){if(e.length){var a=k[_][w][1],o=k[_][w][2],i=e[_],s=i.length;if(h(i)){for(var l=0;l<s;l++)if(l!==w){var c=i[l];c[1]===i[w][1]&&(c[1]=a+n),c[2]===i[w][2]&&(c[2]=o+r)}if(i[w][1]=a+n,i[w][2]=o+r,!h(i))for(var u=0;u<s;u++)for(var d=0;d<i[u].length;d++)i[u][d]=k[_][u][d]}else i[w][1]=a+n,i[w][2]=o+r;redraw()}}function endDragVertexController(){update()}function clickVertexController(n,r){if(2===n){_=+r.srcElement.getAttribute("data-i"),w=+r.srcElement.getAttribute("data-j");var a=e[_];h(a)||m(a)||function removeVertex(){if(e.length&&e[_]&&e[_].length){for(var n=[],r=0;r<e[_].length;r++)r!==w&&n.push(e[_][r]);n.length>1&&(2!==n.length||"Z"!==n[1][0])&&(0===w&&(n[0][0]="M"),e[_]=n,redraw(),update())}}()}}function moveShapeController(n,r){!function moveShape(n,r){if(e.length)for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)for(var i=0;i+2<e[a][o].length;i+=2)e[a][o][i+1]=k[a][o][i+1]+n,e[a][o][i+2]=k[a][o][i+2]+r}(n,r),redraw()}function startDragShapeController(e){(_=+e.srcElement.getAttribute("data-i"))||(_=0),x[_].moveFn=moveShapeController}function endDragShapeController(){update()}}},ca67:function(e,n,r){"use strict";var a=r("4248"),o={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:r("d18e"),toSVG:r("cb04"),svgToImg:r("4ebd"),toImage:r("ee92"),downloadImage:r("ad91")};e.exports=o},ca84:function(e,n,r){var a=r("5135"),o=r("fc6a"),i=r("4d64").indexOf,s=r("d012");e.exports=function(e,n){var r,l=o(e),c=0,u=[];for(r in l)!a(s,r)&&a(l,r)&&u.push(r);for(;n.length>c;)a(l,r=n[c++])&&(~i(u,r)||u.push(r));return u}},cae0:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.x,o=n.i;return e=a[o],r=(e^=e>>>7)^e<<24,r^=(e=a[o+1&7])^e>>>10,r^=(e=a[o+3&7])^e>>>3,r^=(e=a[o+4&7])^e<<7,e=a[o+7&7],r^=(e^=e<<13)^e<<9,a[o]=r,n.i=o+1&7,r},function init(e,n){var r,a=[];if(n===(0|n))a[0]=n;else for(n=""+n,r=0;r<n.length;++r)a[7&r]=a[7&r]<<15^n.charCodeAt(r)+a[r+1&7]<<13;for(;a.length<8;)a.push(0);for(r=0;r<8&&0===a[r];++r);for(8==r?a[7]=-1:a[r],e.x=a,e.i=0,r=256;r>0;--r)e.next()}(n,e)}function copy(e,n){return n.x=e.x.slice(),n.i=e.i,n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.x&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorshift7=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},cb04:function(e,n,r){"use strict";var a=r("6e58"),o=r("fc26"),i=r("83d1"),s=r("d115"),l=r("73c9"),c=/"/g,u="TOBESTRIPPED",d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function toSVG(e,n,r){var p,f=e._fullLayout,h=f._paper,m=f._toppaper,g=f.width,y=f.height;h.insert("rect",":first-child").call(i.setRect,0,0,g,y).call(s.fill,f.paper_bgcolor);var b=f._basePlotModules||[];for(p=0;p<b.length;p++){var x=b[p];x.toSVG&&x.toSVG(e)}if(m){var _=m.node().childNodes,w=Array.prototype.slice.call(_);for(p=0;p<w.length;p++){var k=w[p];k.childNodes.length&&h.node().appendChild(k)}}if(f._draggers&&f._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each((function(){var e=a.select(this);if("hidden"!==this.style.visibility&&"none"!==this.style.display){e.style({visibility:null,display:null});var n=this.style.fontFamily;n&&-1!==n.indexOf('"')&&e.style("font-family",n.replace(c,u))}else e.remove()})),f._gradientUrlQueryParts){var T=[];for(var S in f._gradientUrlQueryParts)T.push(S);T.length&&h.selectAll(T.join(",")).each((function(){var e=a.select(this),n=this.style.fill;n&&-1!==n.indexOf("url(")&&e.style("fill",n.replace(c,u));var r=this.style.stroke;r&&-1!==r.indexOf("url(")&&e.style("stroke",r.replace(c,u))}))}"pdf"!==n&&"eps"!==n||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(l.xmlns,"xmlns",l.svg),h.node().setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),"svg"===n&&r&&(h.attr("width",r*g),h.attr("height",r*y),h.attr("viewBox","0 0 "+g+" "+y));var O=(new window.XMLSerializer).serializeToString(h.node());return O=(O=function xmlEntityEncode(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}(O=function htmlEntityDecode(e){var n=a.select("body").append("div").style({display:"none"}).html(""),r=e.replace(/(&[^;]*;)/gi,(function(e){return"&lt;"===e?"&#60;":"&rt;"===e?"&#62;":-1!==e.indexOf("<")||-1!==e.indexOf(">")?"":n.html(e).text()}));return n.remove(),r}(O))).replace(d,"'"),o.isIE()&&(O=(O=(O=O.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),O}},cb34:function(e,n,r){"use strict";var a=r("fc26"),o=a.extendFlat,i=a.isPlainObject,s={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"],description:["trace attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*clearAxisTypes* resets the types of the axes this trace is on, because new data could","cause the automatic axis type detection to change. Log type will not be cleared, as that","is never automatically chosen so must have been user-specified.","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*style* only calls `module.style` (or module.editStyle) for all trace modules and redraws the legend.","*markerSize* is like *style*, but propagate axis-range changes due to scatter `marker.size`","*colorbars* only redraws colorbars."].join(" ")},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"],description:["layout attributes should include an `editType` string matching this flaglist.","*calc* is the most extensive: a full `Plotly.plot` starting by clearing `gd.calcdata`","to force it to be regenerated","*plot* calls `Plotly.plot` but without first clearing `gd.calcdata`.","*legend* only redraws the legend.","*ticks* only redraws axis ticks, labels, and gridlines.","*axrange* minimal sequence when updating axis ranges.","*layoutstyle* reapplies global and SVG cartesian axis styles.","*modebar* just updates the modebar.","*camera* just updates the camera settings for gl3d scenes.","*arraydraw* allows component arrays to invoke the redraw routines just for the","component(s) that changed.","*colorbars* only redraws colorbars."].join(" ")},c=s.flags.slice().concat(["fullReplot"]),u=l.flags.slice().concat("layoutReplot");function falseObj(e){for(var n={},r=0;r<e.length;r++)n[e[r]]=!1;return n}function overrideAll(e,n,r){var a=o({},e);for(var s in a){var l=a[s];i(l)&&(a[s]=overrideOne(l,n,r,s))}return"from-root"===r&&(a.editType=n),a}function overrideOne(e,n,r,a){if(e.valType){var i=o({},e);if(i.editType=n,Array.isArray(e.items)){i.items=new Array(e.items.length);for(var s=0;s<e.items.length;s++)i.items[s]=overrideOne(e.items[s],n,"from-root")}return i}return overrideAll(e,n,"_"===a.charAt(0)?"nested":"from-root")}e.exports={traces:s,layout:l,traceFlags:function(){return falseObj(c)},layoutFlags:function(){return falseObj(u)},update:function(e,n){var r=n.editType;if(r&&"none"!==r)for(var a=r.split("+"),o=0;o<a.length;o++)e[a[o]]=!0},overrideAll:overrideAll}},cbd4:function(e,n,r){"use strict";var a=r("fc26"),o=r("a462"),i=r("2093");e.exports=function supplyDefaults(e,n,r,s){var l=a.extendFlat({},s.hoverlabel);n.hovertemplate&&(l.namelength=-1),i(e,n,(function coerce(r,i){return a.coerce(e,n,o,r,i)}),l)}},cc12:function(e,n,r){var a=r("da84"),o=r("861d"),i=a.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},cca6:function(e,n,r){var a=r("23e7"),o=r("60da");a({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},cd19:function(e,n,r){"use strict";var a=r("3d2e");e.exports={moduleType:"component",name:a.name,layoutAttributes:r("42dc"),supplyLayoutDefaults:r("dcc2"),draw:r("fd80")}},cd1f:function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var a=r("a3f7"),o=r("73d3"),i=r("54ef");const s=Object(i.a)({conv2dTranspose_:function conv2dTranspose_(e,n,r,i,s,l){const c=Object(a.a)(e,"x","conv2dTranspose"),u=Object(a.a)(n,"filter","conv2dTranspose");return Object(o.a)(r,c,u,i,s,"NHWC",l)}})},cd84:function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("2595").draw;function annAutorange(e){var n=e._fullLayout;a.filterVisible(n.annotations).forEach((function(n){var r=o.getFromId(e,n.xref),a=o.getFromId(e,n.yref),i=o.getRefType(n.xref),s=o.getRefType(n.yref);n._extremes={},"range"===i&&calcAxisExpansion(n,r),"range"===s&&calcAxisExpansion(n,a)}))}function calcAxisExpansion(e,n){var r,a=n._id,i=a.charAt(0),s=e[i],l=e["a"+i],c=e[i+"ref"],u=e["a"+i+"ref"],d=e["_"+i+"padplus"],p=e["_"+i+"padminus"],f={x:1,y:-1}[i]*e[i+"shift"],h=3*e.arrowsize*e.arrowwidth||0,m=h+f,g=h-f,y=3*e.startarrowsize*e.arrowwidth||0,b=y+f,x=y-f;if(u===c){var _=o.findExtremes(n,[n.r2c(s)],{ppadplus:m,ppadminus:g}),w=o.findExtremes(n,[n.r2c(l)],{ppadplus:Math.max(d,b),ppadminus:Math.max(p,x)});r={min:[_.min[0],w.min[0]],max:[_.max[0],w.max[0]]}}else b=l?b+l:b,x=l?x-l:x,r=o.findExtremes(n,[n.r2c(s)],{ppadplus:Math.max(d,m,b),ppadminus:Math.max(p,g,x)});e._extremes[a]=r}e.exports=function calcAutorange(e){var n=e._fullLayout;if(a.filterVisible(n.annotations).length&&e._fullData.length)return a.syncOrAsync([i,annAutorange],e)}},cdf9:function(e,n,r){var a=r("825a"),o=r("861d"),i=r("f069");e.exports=function(e,n){if(a(e),o(n)&&n.constructor===e)return n;var r=i.f(e);return(0,r.resolve)(n),r.promise}},ce1a:function(e,n,r){"use strict";r.d(n,"a",(function(){return i.Tc})),r.d(n,"b",(function(){return i.fd})),r.d(n,"c",(function(){return i.sd})),r.d(n,"d",(function(){return i.vd})),r.d(n,"e",(function(){return i.Hd})),r.d(n,"f",(function(){return i.Nd})),r.d(n,"g",(function(){return i.Td})),r.d(n,"i",(function(){return i.ce})),r.d(n,"j",(function(){return i.je})),r.d(n,"k",(function(){return i.oe})),r.d(n,"l",(function(){return i.we})),r.d(n,"m",(function(){return i.Ae})),r.d(n,"n",(function(){return i.Ee})),r.d(n,"p",(function(){return i.Me})),r.d(n,"q",(function(){return i.Ve})),r.d(n,"r",(function(){return i.We})),r.d(n,"s",(function(){return i.Ze})),r.d(n,"u",(function(){return i.if})),r.d(n,"v",(function(){return i.jf})),r.d(n,"t",(function(){return i.hf})),r.d(n,"w",(function(){return i.of})),r.d(n,"o",(function(){return sequential})),r.d(n,"h",(function(){return a}));var a={};r.r(a),r.d(a,"inputLayer",(function(){return exports_layers_inputLayer})),r.d(a,"elu",(function(){return exports_layers_elu})),r.d(a,"reLU",(function(){return reLU})),r.d(a,"leakyReLU",(function(){return leakyReLU})),r.d(a,"prelu",(function(){return exports_layers_prelu})),r.d(a,"softmax",(function(){return exports_layers_softmax})),r.d(a,"thresholdedReLU",(function(){return thresholdedReLU})),r.d(a,"conv1d",(function(){return exports_layers_conv1d})),r.d(a,"conv2d",(function(){return exports_layers_conv2d})),r.d(a,"conv2dTranspose",(function(){return conv2dTranspose})),r.d(a,"conv3d",(function(){return exports_layers_conv3d})),r.d(a,"separableConv2d",(function(){return separableConv2d})),r.d(a,"cropping2D",(function(){return cropping2D})),r.d(a,"upSampling2d",(function(){return upSampling2d})),r.d(a,"depthwiseConv2d",(function(){return exports_layers_depthwiseConv2d})),r.d(a,"activation",(function(){return exports_layers_activation})),r.d(a,"dense",(function(){return dense})),r.d(a,"dropout",(function(){return exports_layers_dropout})),r.d(a,"spatialDropout1d",(function(){return spatialDropout1d})),r.d(a,"flatten",(function(){return exports_layers_flatten})),r.d(a,"repeatVector",(function(){return repeatVector})),r.d(a,"reshape",(function(){return exports_layers_reshape})),r.d(a,"permute",(function(){return permute})),r.d(a,"embedding",(function(){return embedding})),r.d(a,"add",(function(){return exports_layers_add})),r.d(a,"average",(function(){return exports_layers_average})),r.d(a,"concatenate",(function(){return exports_layers_concatenate})),r.d(a,"maximum",(function(){return exports_layers_maximum})),r.d(a,"minimum",(function(){return exports_layers_minimum})),r.d(a,"multiply",(function(){return exports_layers_multiply})),r.d(a,"dot",(function(){return exports_layers_dot})),r.d(a,"batchNormalization",(function(){return exports_layers_batchNormalization})),r.d(a,"layerNormalization",(function(){return layerNormalization})),r.d(a,"zeroPadding2d",(function(){return zeroPadding2d})),r.d(a,"averagePooling1d",(function(){return averagePooling1d})),r.d(a,"avgPool1d",(function(){return avgPool1d})),r.d(a,"avgPooling1d",(function(){return avgPooling1d})),r.d(a,"averagePooling2d",(function(){return averagePooling2d})),r.d(a,"avgPool2d",(function(){return avgPool2d})),r.d(a,"avgPooling2d",(function(){return avgPooling2d})),r.d(a,"averagePooling3d",(function(){return averagePooling3d})),r.d(a,"avgPool3d",(function(){return avgPool3d})),r.d(a,"avgPooling3d",(function(){return avgPooling3d})),r.d(a,"globalAveragePooling1d",(function(){return globalAveragePooling1d})),r.d(a,"globalAveragePooling2d",(function(){return globalAveragePooling2d})),r.d(a,"globalMaxPooling1d",(function(){return globalMaxPooling1d})),r.d(a,"globalMaxPooling2d",(function(){return globalMaxPooling2d})),r.d(a,"maxPooling1d",(function(){return maxPooling1d})),r.d(a,"maxPooling2d",(function(){return maxPooling2d})),r.d(a,"maxPooling3d",(function(){return maxPooling3d})),r.d(a,"gru",(function(){return gru})),r.d(a,"gruCell",(function(){return gruCell})),r.d(a,"lstm",(function(){return lstm})),r.d(a,"lstmCell",(function(){return lstmCell})),r.d(a,"simpleRNN",(function(){return simpleRNN})),r.d(a,"simpleRNNCell",(function(){return simpleRNNCell})),r.d(a,"convLstm2d",(function(){return convLstm2d})),r.d(a,"convLstm2dCell",(function(){return convLstm2dCell})),r.d(a,"rnn",(function(){return exports_layers_rnn})),r.d(a,"stackedRNNCells",(function(){return stackedRNNCells})),r.d(a,"bidirectional",(function(){return bidirectional})),r.d(a,"timeDistributed",(function(){return timeDistributed})),r.d(a,"globalMaxPool1d",(function(){return _a})),r.d(a,"globalMaxPool2d",(function(){return wa})),r.d(a,"maxPool1d",(function(){return ka})),r.d(a,"maxPool2d",(function(){return Ta})),r.d(a,"Layer",(function(){return topology_Layer})),r.d(a,"RNN",(function(){return recurrent_RNN})),r.d(a,"RNNCell",(function(){return recurrent_RNNCell})),r.d(a,"input",(function(){return exports_input})),r.d(a,"gaussianNoise",(function(){return gaussianNoise})),r.d(a,"gaussianDropout",(function(){return gaussianDropout})),r.d(a,"alphaDropout",(function(){return alphaDropout})),r.d(a,"masking",(function(){return masking}));var o={};r.r(o),r.d(o,"simpleAbsImpl",(function(){return simpleAbsImpl})),r.d(o,"addImpl",(function(){return Ua})),r.d(o,"bincountImpl",(function(){return bincountImpl})),r.d(o,"bincountReduceImpl",(function(){return bincountReduceImpl})),r.d(o,"ceilImpl",(function(){return Ao})),r.d(o,"concatImpl",(function(){return concatImpl})),r.d(o,"expImpl",(function(){return mi})),r.d(o,"expm1Impl",(function(){return vi})),r.d(o,"floorImpl",(function(){return Li})),r.d(o,"gatherV2Impl",(function(){return gatherV2Impl})),r.d(o,"greaterImpl",(function(){return Gi})),r.d(o,"lessImpl",(function(){return os})),r.d(o,"linSpaceImpl",(function(){return linSpaceImpl})),r.d(o,"logImpl",(function(){return ps})),r.d(o,"maxImpl",(function(){return maxImpl})),r.d(o,"maximumImpl",(function(){return As})),r.d(o,"minimumImpl",(function(){return zs})),r.d(o,"multiplyImpl",(function(){return wi})),r.d(o,"negImpl",(function(){return negImpl})),r.d(o,"notEqualImpl",(function(){return nl})),r.d(o,"prodImpl",(function(){return prodImpl})),r.d(o,"rangeImpl",(function(){return rangeImpl})),r.d(o,"rsqrtImpl",(function(){return Sl})),r.d(o,"sliceImpl",(function(){return sliceImpl})),r.d(o,"squaredDifferenceImpl",(function(){return Zl})),r.d(o,"stridedSliceImpl",(function(){return stridedSliceImpl})),r.d(o,"subImpl",(function(){return Ii})),r.d(o,"tileImpl",(function(){return tileImpl})),r.d(o,"topKImpl",(function(){return topKImpl})),r.d(o,"transposeImpl",(function(){return transposeImpl})),r.d(o,"uniqueImpl",(function(){return uniqueImpl}));var i=r("fa11"),s=r("c05b"),l=r("deb3"),c=r("a5aa"),u=r("2fb1");const d={kernelName:s.a,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(u.a)(Object(l.a)(r,"float32"),-1))}}};var p=r("c77c"),f=r("3bb7"),h=r("015f"),m=r("163a"),g=r("93b2"),y=r("a009");const b={kernelName:s.b,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>{const n=Object(g.a)(Object(l.a)(r,"float32")),a=Object(m.a)(Object(y.a)(Object(h.a)(1),n));return Object(f.a)(Object(p.a)(e,a))}}}},x={kernelName:s.c,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>{const n=Object(m.a)(Object(y.a)(Object(g.a)(Object(l.a)(r,"float32")),1));return Object(p.a)(e,n)}}}};var _=r("526f"),w=r("35c9"),k=r("e053");const T={kernelName:s.d,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=_.a(r.shape,a.shape);return{a:()=>{let n=e;const a=_.c(r.shape,o);return a.length>0&&(n=Object(k.a)(n,a)),Object(w.a)(n,r.shape)},b:()=>{let n=e;const r=_.c(a.shape,o);return r.length>0&&(n=Object(k.a)(n,r)),Object(w.a)(n,a.shape)}}}},S={kernelName:s.e,saveAllInputs:!0,gradFunc:(e,n)=>{const r={};return n.forEach(((n,a)=>{r[a]=()=>e.clone()})),r}};var O=r("a09b");const C={kernelName:s.h,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(O.a)(r)}}},A={kernelName:s.i,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(O.a)(r)}}},I={kernelName:s.j,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(m.a)(Object(y.a)(Object(h.a)(1),Object(g.a)(Object(l.a)(r,"float32")))))}}};var N=r("9117");const M={kernelName:s.k,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>{const n=Object(m.a)(Object(N.a)(Object(h.a)(1),Object(g.a)(Object(l.a)(r,"float32"))));return Object(p.a)(e,n)}}}},E={kernelName:s.m,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(_.a)(r.shape,a.shape);return{a:()=>{const n=Object(N.a)(Object(g.a)(r),Object(g.a)(a));let i=Object(c.a)(e,Object(p.a)(a,n));const s=Object(_.c)(r.shape,o);return s.length>0&&(i=Object(k.a)(i,s)),Object(w.a)(i,r.shape)},b:()=>{const n=Object(N.a)(Object(g.a)(r),Object(g.a)(a));let i=Object(f.a)(Object(c.a)(e,Object(p.a)(r,n)));const s=Object(_.c)(a.shape,o);return s.length>0&&(i=Object(k.a)(i,s)),Object(w.a)(i,a.shape)}}}},D={kernelName:s.l,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(N.a)(Object(g.a)(Object(l.a)(r,"float32")),1))}}},j={kernelName:s.n,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(y.a)(Object(h.a)(1),Object(g.a)(Object(l.a)(r,"float32"))))}}};var R=r("6ae2"),L=r("a3f7"),z=r("6ad5"),$=r("54ef");const B=Object($.a)({avgPool3dGrad_:function avgPool3dGrad_(e,n,r,a,o,i){const l=Object(L.a)(e,"dy","avgPool3dGrad"),c=Object(L.a)(n,"input","avgPool3dGrad");let u=l,d=c,p=!1;4===c.rank&&(p=!0,u=Object(w.a)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),d=Object(w.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),z.b(5===u.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`)),z.b(5===d.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${d.rank}.`)),null!=i&&z.b(z.v(o),(()=>`Error in avgPool3dGrad: pad must be an integer when using, dimRoundingMode ${i} but got pad ${o}.`));const f={dy:u,input:d},h={filterSize:r,strides:a,pad:o,dimRoundingMode:i},m=R.a.runKernel(s.q,f,h);return p?Object(w.a)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),V={kernelName:s.p,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{filterSize:o,strides:i,pad:s,dimRoundingMode:l}=r;return{x:()=>B(e,a,o,i,s,l)}}};const U=Object($.a)({avgPoolGrad_:function avgPoolGrad_(e,n,r,a,o){const i=Object(L.a)(e,"dy","avgPoolGrad"),l=Object(L.a)(n,"input","avgPoolGrad");z.b(l.rank===i.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${i.rank})`));let c=l,u=i,d=!1;3===l.rank&&(d=!0,c=Object(w.a)(l,[1,l.shape[0],l.shape[1],l.shape[2]]),u=Object(w.a)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),z.b(4===u.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${u.rank}.`)),z.b(4===c.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${c.rank}.`));const p={dy:u,input:c},f={filterSize:r,strides:a,pad:o},h=R.a.runKernel(s.r,p,f);return d?Object(w.a)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),W={kernelName:s.o,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{filterSize:o,strides:i,pad:s}=r;return{x:()=>U(e,a,o,i,s)}}};var H=r("487b");const G={kernelName:s.s,inputsToSave:["a","b"],gradFunc:(e,n,r)=>{const[a,o]=n,{transposeA:i,transposeB:s}=r;return i||s?!i&&s?{a:()=>Object(H.a)(e,o,!1,!1),b:()=>Object(H.a)(e,a,!0,!1)}:i&&!s?{a:()=>Object(H.a)(o,e,!1,!0),b:()=>Object(H.a)(a,e,!1,!1)}:{a:()=>Object(H.a)(o,e,!0,!0),b:()=>Object(H.a)(e,a,!0,!0)}:{a:()=>Object(H.a)(e,o,!1,!0),b:()=>Object(H.a)(a,e,!0,!1)}}};var q=r("7580");const K={kernelName:s.t,gradFunc:(e,n,r)=>{const{blockShape:a,crops:o}=r;return{x:()=>Object(q.a)(e,a,o)}}},X={kernelName:s.v,gradFunc:(e,n,r)=>{const a=r,o=a.inputShape,i=a.shape,s=Array.from(i);for(let c=o.length-1;c>=0;c--)if(o[c]===i[c])s[c]=1;else if(1!==o[c])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${i}].`);const l=[];for(let c=0;c<s.length;c++)s[c]>1&&l.push(c);return{x:()=>Object(k.a)(e,l,!0)}}},Y={kernelName:s.w,gradFunc:e=>({x:()=>e.clone()})},Z={kernelName:s.x,gradFunc:e=>({x:()=>Object(O.a)(e)})};var J=r("bb2d"),Q=r("b21c"),ee=r("e333"),te=r("6791");const ne={kernelName:s.y,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{clipValueMin:o,clipValueMax:i}=r;return{x:()=>Object(te.a)(Object(ee.a)(Object(J.a)(a,o),Object(Q.a)(a,i)),e,Object(O.a)(e))}}},re={kernelName:s.A,inputsToSave:["x"],gradFunc:d.gradFunc};var ae=r("45bb");const oe={kernelName:s.B,saveAllInputs:!0,gradFunc:(e,n,r)=>{const a=n.map((e=>e.shape)),{axis:o}=r,i=Object(z.I)(o,n[0].shape)[0],s=a.map((e=>e[i]));return Object(ae.a)(e,s,i).map((e=>()=>e))}};var ie=r("0f6f"),se=r("73d3"),le=r("b818");const ce={kernelName:s.C,inputsToSave:["x","filter"],gradFunc:(e,n,r)=>{const[a,o]=n,{dilations:i,strides:s,pad:l,dataFormat:c}=r;return z.b(le.i(i),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`)),{x:()=>Object(se.a)(a.shape,e,o,s,l,c),filter:()=>Object(ie.a)(a,e,o.shape,s,l,c)}}};var ue=r("dd7e");const de={kernelName:s.E,inputsToSave:["dy","filter"],gradFunc:(e,n,r)=>{const[a,o]=n,{strides:i,pad:s,dataFormat:l,dimRoundingMode:c}=r;return{dy:()=>Object(ue.a)(e,o,i,s,l,1,c),filter:()=>Object(ie.a)(e,a,o.shape,i,s,l,c)}}};const pe=Object($.a)({conv3DBackpropFilter_:function conv3DBackpropFilter_(e,n,r,a,o){let i=e;4===e.rank&&(i=Object(w.a)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let l=n;4===l.rank&&(l=Object(w.a)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]])),z.b(5===i.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`)),z.b(5===l.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${l.shape}.`)),z.b(5===r.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${r}.`)),z.b(i.shape[4]===r[3],(()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${r[3]}.`)),z.b(l.shape[4]===r[4],(()=>`Error in conv3dDerFilter: depth of dy (${l.shape[4]}) must match output depth for filter (${r[4]}).`));const c={x:i,dy:l},u={strides:a,pad:o,filterShape:r};return R.a.runKernel(s.G,c,u)}});const fe=Object($.a)({conv3DBackpropInput_:function conv3DBackpropInput_(e,n,r,a,o){z.b(e.length===n.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${n.rank}) must match`));let i=e,l=n,c=!1;4===n.rank&&(c=!0,l=Object(w.a)(n,[1,n.shape[0],n.shape[1],n.shape[2],n.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const u=i[4],d=l.shape[4];z.b(5===i.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`)),z.b(5===l.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${l.rank}`)),z.b(5===r.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${r.rank}`)),z.b(u===r.shape[3],(()=>`Error in conv3dDerInput: depth of input (${u}) must match input depth for filter ${r.shape[3]}.`)),z.b(d===r.shape[4],(()=>`Error in conv3dDerInput: depth of output (${d}) must match output depth for filter ${r.shape[4]}.`));const p={dy:l,filter:r},f={pad:o,strides:a,inputShape:i},h=R.a.runKernel(s.H,p,f);return c?Object(w.a)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),he={kernelName:s.F,inputsToSave:["x","filter"],gradFunc:(e,n,r)=>{const{dilations:a,strides:o,pad:i}=r;z.b(Object(le.i)(a),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const[s,l]=n;return{x:()=>fe(s.shape,e,l,o,i),filter:()=>pe(s,e,l.shape,o,i)}}};var me=r("6932");const ge={kernelName:s.I,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(Object(f.a)(Object(me.a)(Object(l.a)(r,"float32"))),e)}}};var ye=r("5dc4");const be={kernelName:s.J,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(Object(ye.a)(Object(l.a)(r,"float32")),e)}}};var ve=r("36e5"),xe=r("1e68"),_e=r("c912");const we={kernelName:s.L,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{axis:o,exclusive:i,reverse:s}=r;return{x:()=>{const n=Object(ve.f)([o],a.rank);let r=Object(xe.a)(e,o,i,!s);return null!=n&&(r=Object(_e.a)(r,n)),r}}}};var ke=r("6926"),Te=r("8cb0");const Se={kernelName:s.O,inputsToSave:["x","filter"],gradFunc:(e,n,r)=>{const{dilations:a,strides:o,pad:i,dimRoundingMode:s}=r,l=null==a?[1,1]:a;z.b(le.i(l),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${l}'`));const[c,u]=n;return z.b(4===c.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${c.rank}.`)),z.b(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),z.b(c.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${c.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),z.b(le.h(o,l),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${o} and dilations '${l}'.`)),null!=s&&z.b(z.v(i),(()=>`Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode ${s} but got pad ${i}.`)),{x:()=>Object(Te.a)(c.shape,e,u,o,i,a,s),filter:()=>Object(ke.a)(c,e,u.shape,o,i,a,s)}}},Oe={kernelName:s.S,inputsToSave:["x","filter"],gradFunc:(e,n,r)=>{const[a,o]=n,i={x:a,filter:o,dy:e},l={x:a,filter:o,dy:e};return{x:()=>R.a.runKernel(s.U,i,r),filter:()=>R.a.runKernel(s.T,l,r)}}},Ce={kernelName:s.V,outputsToSave:[!0],gradFunc:(e,n)=>{const[r]=n,a={dy:e,y:r};return{x:()=>R.a.runKernel(s.W,a)}}};var Ae=r("4f20");const Ie={kernelName:s.Y,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n,a=Object(c.a)(Object(Ae.a)(Object(f.a)(Object(g.a)(r))),2/Math.sqrt(Math.PI));return{x:()=>Object(c.a)(e,a)}}},Ne={kernelName:s.Z,outputsToSave:[!0],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,r)}}},Me={kernelName:s.ab,inputsToSave:["input"],gradFunc:(e,n)=>{const[r]=n;return{input:()=>Object(w.a)(e,r.shape)}}},Ee={kernelName:s.bb,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(Ae.a)(r))}}},De={kernelName:s.fb,gradFunc:e=>({x:()=>Object(O.a)(e)})},je={kernelName:s.gb,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(_.a)(r.shape,a.shape);return{a:()=>{const n=Object(p.a)(e,Object(l.a)(a,"float32")),i=Object(_.c)(r.shape,o);return i.length>0?Object(w.a)(Object(k.a)(n,i),r.shape):n},b:()=>{let n=Object(c.a)(e,Object(l.a)(r,"float32"));const i=Object(_.c)(a.shape,o);i.length>0&&(n=Object(w.a)(Object(k.a)(n,i),a.shape));const s=Object(g.a)(a);return Object(f.a)(Object(p.a)(n,Object(l.a)(s,"float32")))}}}};var Re=r("5f2a"),Le=r("8d71");const Pe={kernelName:s.ib,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,n,r)=>{const{varianceEpsilon:a}=r,[o,i,s,l]=n,u=null==l?Object(h.a)(1):l,d=Object(_.c)(i.shape,o.shape),p=[];if(1===i.rank){for(let e=0;e<o.shape.length-1;++e)p.push(o.shape[e]);p.push(1)}const f=Object(y.a)(o,i),m=Object(c.a)(e,u),g=Object(Re.a)(Object(N.a)(s,Object(h.a)(a))),b=Object(c.a)(Object(c.a)(Object(c.a)(g,g),g),Object(h.a)(-.5));return{x:()=>1===i.rank?Object(w.a)(Object(c.a)(Object(c.a)(e,Object(Le.a)(Object(w.a)(g,[1,1,1,i.shape[0]]),p)),u),o.shape):Object(w.a)(Object(c.a)(Object(c.a)(e,g),u),o.shape),mean:()=>{let e=Object(c.a)(Object(c.a)(g,Object(h.a)(-1)),m);return 1===i.rank&&(e=Object(k.a)(e,d)),Object(w.a)(e,i.shape)},variance:()=>{let e=Object(c.a)(Object(c.a)(b,f),m);return 1===i.rank&&(e=Object(k.a)(e,d)),Object(w.a)(e,i.shape)},scale:()=>{const n=Object(c.a)(f,g);let r=Object(c.a)(e,n);return 1===i.rank&&(r=Object(k.a)(r,d)),Object(w.a)(r,i.shape)},offset:()=>{let n=e;return 1===i.rank&&(n=Object(k.a)(n,d)),Object(w.a)(n,i.shape)}}}};var Fe=r("53f2");const ze={kernelName:s.mb,inputsToSave:["x","indices"],gradFunc:(e,n,r)=>{const[a,o]=n,{axis:i}=r,s=Object(z.I)(i,a.shape)[0];return{x:()=>{const n=a.shape,r=o.size,l=n.slice(0,s),c=l.length,u=n.slice(i,n.length).slice(1),d=u.length,p=arrayRange(0,c),f=arrayRange(c+1,c+1+d),h=arrayConcat([l,[r],u]),m=Object(w.a)(e,h),g=Object(w.a)(o,[r]),y=arrayConcat([[c],p,f]),b=Object(_e.a)(m,y);let x=Object(Fe.a)(b,g,a.shape[s]);const _=Object(ve.h)(y);return x=Object(_e.a)(x,_),x},indices:()=>o}}};function arrayRange(e,n){const r=[];for(let a=e;a<n;++a)r.push(a);return r}function arrayConcat(e){const n=[];for(let r=0;r<e.length;++r)for(let a=0;a<e[r].length;++a)n.push(e[r][a]);return n}const $e={kernelName:s.ob,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n;return{a:()=>Object(O.a)(r),b:()=>Object(O.a)(a)}}},Be={kernelName:s.qb,gradFunc:e=>({x:()=>Object(l.a)(e,"float32")})},Ve={kernelName:s.sb,gradFunc:e=>({x:()=>Object(O.a)(e)})},Ue={kernelName:s.tb,gradFunc:e=>({x:()=>Object(O.a)(e)})},We={kernelName:s.ub,gradFunc:e=>({x:()=>Object(O.a)(e)})};var He=r("cef0");const Ge={kernelName:s.xb,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{alpha:o}=r,i=Object(He.a)(a,0);return{x:()=>Object(te.a)(i,e,Object(c.a)(e,o))}}},qe={kernelName:s.Cb,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(N.a)(r,1))}}},Ke={kernelName:s.Bb,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(l.a)(r,"float32"))}}},Xe={kernelName:s.Db,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,n,r)=>{const[a]=n,{axis:o}=r;return{logits:()=>{const n=Object(Ae.a)(a);return Object(y.a)(e,Object(c.a)(Object(k.a)(e,o,!0),n))}}}};const Ye=Object($.a)({localResponseNormalizationBackprop_:function localResponseNormalizationBackprop_(e,n,r,a=5,o=1,i=1,l=.5){const c={x:e,y:n,dy:r},u={depthRadius:a,bias:o,alpha:i,beta:l};return R.a.runKernel(s.wb,c,u)}}),Ze={kernelName:s.vb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,n,r)=>{const[a,o]=n,{depthRadius:i,bias:s,alpha:l,beta:c}=r;return{x:()=>Ye(a,o,e,i,s,l,c)}}};var Je=r("b9b9");function gradForMinAndMax(e,n,r,a){return n.rank<r.rank&&(n=Object(w.a)(n,ve.e(n.shape,a))),e.rank<r.rank&&(e=Object(w.a)(e,ve.e(e.shape,a))),{x:()=>Object(c.a)(e,Object(l.a)(Object(Je.a)(r,n),e.dtype))}}const Qe={kernelName:s.Hb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,n,r)=>{const a=r,{reductionIndices:o}=a,i=n[0],s=gradForMinAndMax(e,n[1],i,z.I(o,i.shape));return{x:()=>s.x()}}};var et=r("e1fd");const tt={kernelName:s.Nb,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n;return{a:()=>Object(c.a)(e,Object(l.a)(Object(J.a)(r,a),"float32")),b:()=>Object(c.a)(e,Object(l.a)(Object(et.a)(r,a),"float32"))}}};const nt=Object($.a)({maxPool3dGrad_:function maxPool3dGrad_(e,n,r,a,o,i,l){const c=Object(L.a)(e,"dy","maxPool3dGrad"),u=Object(L.a)(n,"input","maxPool3dGrad"),d=Object(L.a)(r,"output","maxPool3dGrad");let p=c,f=u,h=d,m=!1;4===u.rank&&(m=!0,p=Object(w.a)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),f=Object(w.a)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),h=Object(w.a)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),z.b(5===p.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${p.rank}.`)),z.b(5===f.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${f.rank}.`)),z.b(5===h.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`)),null!=l&&z.b(z.v(i),(()=>`Error in maxPool3dGrad: pad must be an integer when using, dimRoundingMode ${l} but got pad ${i}.`));const g={dy:p,input:f,output:h},y={filterSize:a,strides:o,pad:i,dimRoundingMode:l},b=R.a.runKernel(s.Kb,g,y);return m?Object(w.a)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}}),rt={kernelName:s.Jb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,n,r)=>{const[a,o]=n,{filterSize:i,strides:s,pad:l,dimRoundingMode:c}=r;return{x:()=>nt(e,a,o,i,s,l,c)}}};const at=Object($.a)({maxPoolGrad_:function maxPoolGrad_(e,n,r,a,o,i,l){const c=Object(L.a)(e,"dy","maxPoolGrad"),u=Object(L.a)(n,"input","maxPoolGrad"),d=Object(L.a)(r,"output","maxPoolGrad");z.b(u.rank===c.rank,(()=>`Rank of input (${u.rank}) does not match rank of dy (${c.rank})`)),z.b(4===c.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${c.rank}.`)),z.b(4===u.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${u.rank}.`)),null!=l&&z.b(z.v(i),(()=>`Error in maxPoolGrad: pad must be an integer when using, dimRoundingMode ${l} but got pad ${i}.`));const p={dy:c,input:u,output:d},f={filterSize:a,strides:o,pad:i,dimRoundingMode:l};return R.a.runKernel(s.Lb,p,f)}}),ot={kernelName:s.Ib,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,n,r)=>{const[a,o]=n,{filterSize:i,strides:s,pad:l}=r;return{x:()=>at(e,a,o,i,s,l)}}};var it=r("c22a");const st={kernelName:s.Ob,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{axis:o}=r,i=z.I(o,a.shape),s=Object(ve.d)(a.shape,i)[1],l=z.O(s);return{x:()=>{const n=a.shape.slice();i.forEach((e=>{n[e]=1}));const r=Object(w.a)(e,n);return Object(p.a)(Object(c.a)(r,Object(it.a)(a.shape,"float32")),l)}}}},lt={kernelName:s.Pb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,n,r)=>{const a=r,{axis:o}=a,[i,s]=n,l=gradForMinAndMax(e,s,i,z.I(o,i.shape));return{x:()=>l.x()}}},ct={kernelName:s.Qb,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n;return{a:()=>Object(c.a)(e,Object(l.a)(Object(Q.a)(r,a),"float32")),b:()=>Object(c.a)(e,Object(l.a)(Object(He.a)(r,a),"float32"))}}};var ut=r("6d3c");const dt={kernelName:s.Rb,inputsToSave:["x"],gradFunc:(e,n,r)=>{const a=n[0],{paddings:o}=r,i=o.map((e=>e[0]));return{x:()=>Object(ut.a)(e,i,a.shape)}}};var ft=r("d369");const ht={kernelName:s.Sb,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(_.a)(r.shape,a.shape);return{a:()=>{const n=Object(_.c)(r.shape,o);return n.length>0?Object(w.a)(Object(k.a)(e,n),r.shape):e},b:()=>{const n=Object(c.a)(e,Object(f.a)(Object(ft.a)(Object(p.a)(r,a)))),i=Object(_.c)(a.shape,o);return i.length>0?Object(w.a)(Object(k.a)(n,i),a.shape):n}}}},mt={kernelName:s.Ub,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(_.a)(r.shape,a.shape);return{a:()=>{const n=Object(c.a)(e,Object(l.a)(a,"float32")),i=Object(_.c)(r.shape,o);return i.length>0?Object(w.a)(Object(k.a)(n,i),r.shape):n},b:()=>{const n=Object(c.a)(e,Object(l.a)(r,"float32")),i=Object(_.c)(a.shape,o);return i.length>0?Object(w.a)(Object(k.a)(n,i),a.shape):n}}}},gt={kernelName:s.Vb,gradFunc:e=>({x:()=>Object(f.a)(e)})};var yt=r("5a2c");const bt={kernelName:s.ac,inputsToSave:["indices"],gradFunc:(e,n)=>{const r=n[0];return{indices:()=>Object(yt.a)(r.shape,"float32")}}},vt={kernelName:s.bc,gradFunc:e=>({x:()=>Object(O.a)(e)})};var xt=r("3a44");const _t={kernelName:s.cc,saveAllInputs:!0,gradFunc:(e,n,r)=>{const{axis:a}=r;return Object(xt.a)(e,a).map((e=>()=>e))}},wt={kernelName:s.dc,inputsToSave:["x"],gradFunc:(e,n,r)=>{const a=n[0],{paddings:o}=r,i=o.map((e=>e[0]));return{x:()=>Object(ut.a)(e,i,a.shape)}}};var kt=r("1359"),Tt=r("c9f1");const St={kernelName:s.ec,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,n)=>{const[r,a,o]=n,i=r,s=a,u=_.a(i.shape,s.shape);return{a:()=>{const n=Object(l.a)(s,"float32");let r=Object(c.a)(e,Object(c.a)(n,Object(Tt.a)(i,Object(y.a)(n,Object(h.a)(1)))));const a=_.c(i.shape,u);return a.length>0&&(r=Object(k.a)(r,a)),Object(w.a)(r,i.shape)},b:()=>{const n=Object(He.a)(i,0),r=Object(te.a)(n,Object(kt.a)(i),Object(O.a)(i));let a=Object(c.a)(e,Object(c.a)(o,r));const l=_.c(s.shape,u);return l.length>0&&(a=Object(k.a)(a,l)),Object(w.a)(a,s.shape)}}}},Ot={kernelName:s.fc,inputsToSave:["x","alpha"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(He.a)(r,0);return{x:()=>Object(te.a)(o,e,Object(c.a)(e,a)),alpha:()=>{let n=Object(te.a)(o,Object(O.a)(e),Object(c.a)(e,r));const i=Object(_.c)(a.shape,e.shape);return i.length>0&&(n=Object(k.a)(n,i)),Object(w.a)(n,a.shape)}}}},Ct={kernelName:s.jc,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=_.a(r.shape,a.shape);return{a:()=>{const n=Object(p.a)(e,Object(l.a)(a,"float32")),i=_.c(r.shape,o);return i.length>0?Object(w.a)(Object(k.a)(n,i),r.shape):n},b:()=>{let n=Object(c.a)(e,Object(l.a)(r,"float32"));const i=_.c(a.shape,o);i.length>0&&(n=Object(w.a)(Object(k.a)(n,i),a.shape));const s=Object(g.a)(a);return Object(f.a)(Object(p.a)(n,Object(l.a)(s,"float32")))}}}},At={kernelName:s.kc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(f.a)(Object(g.a)(r)))}}},It={kernelName:s.mc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n,a=Object(c.a)(Object(Q.a)(r,6),Object(u.a)(r));return{x:()=>Object(c.a)(e,Object(l.a)(a,"float32"))}}},Nt={kernelName:s.lc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(l.a)(Object(u.a)(r),"float32"))}}},Mt={kernelName:s.nc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(w.a)(e,r.shape)}}},Et={kernelName:s.oc,inputsToSave:["images"],gradFunc:(e,n,r)=>{const[a]=n,o={dy:e,images:a};return{images:()=>R.a.runKernel(s.pc,o,r)}}},Dt={kernelName:s.qc,inputsToSave:["images"],gradFunc:(e,n,r)=>{const[a]=n,o={dy:e,images:a};return{images:()=>R.a.runKernel(s.rc,o,r)}}};var jt=r("d08e");const Rt={kernelName:s.sc,gradFunc:(e,n,r)=>{const{dims:a}=r,o=Object(z.I)(a,e.shape);return{x:()=>Object(jt.a)(e,o)}}},Lt={kernelName:s.uc,gradFunc:e=>({x:()=>Object(O.a)(e)})},Pt={kernelName:s.vc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(f.a)(Object(p.a)(e,Object(c.a)(Object(Tt.a)(r,1.5),2)))}}};var Ft=r("ef00");const zt={kernelName:s.xc,inputsToSave:["condition"],gradFunc:(e,n)=>{const[r]=n;return{condition:()=>Object(l.a)(Object(O.a)(r),"float32"),t:()=>Object(c.a)(e,Object(l.a)(r,e.dtype)),e:()=>Object(c.a)(e,Object(l.a)(Object(Ft.a)(r),e.dtype))}}};var $t=r("7cde");const Bt={kernelName:s.yc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>{const n=Object(He.a)(r,Object(h.a)(0)),a=Object(h.a)($t.b),o=Object(h.a)($t.a),i=Object(c.a)(e,o),s=Object(c.a)(Object(c.a)(e,a),Object(Ae.a)(Object(l.a)(r,"float32")));return Object(te.a)(n,i,s)}}}},Vt={kernelName:s.zc,outputsToSave:[!0],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(c.a)(r,Object(y.a)(Object(h.a)(1),r)))}}},Ut={kernelName:s.Ac,gradFunc:e=>({x:()=>Object(O.a)(e)})};var Wt=r("eff7");const Ht={kernelName:s.Bc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(Object(Wt.a)(Object(l.a)(r,"float32")),e)}}};var Gt=r("c1a2");const qt={kernelName:s.Cc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(Object(Gt.a)(Object(l.a)(r,"float32")),e)}}};var Kt=r("0eb5"),Xt=r("5ebd");const Yt={kernelName:s.Dc,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{begin:o,size:i}=r,s=a.shape,[l,c]=Object(Xt.parseSliceParams)(a,o,i),u=[];for(let d=0;d<e.rank;d++)u.push([l[d],s[d]-l[d]-c[d]]);return{x:()=>Object(Kt.a)(e,u)}}},Zt={kernelName:s.Ec,outputsToSave:[!0],gradFunc:(e,n,r)=>{const[a]=n,{dim:o}=r,i=Object(c.a)(e,a);return{logits:()=>Object(y.a)(i,Object(c.a)(Object(k.a)(i,[o],true),a))}}};var Jt=r("ffb3");const Qt={kernelName:s.Fc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(Jt.a)(r))}}};var en=r("3b28");const tn={kernelName:s.Gc,gradFunc:(e,n,r)=>{const{blockShape:a,paddings:o}=r;return{x:()=>Object(en.a)(e,a,o)}}};var nn=r("649e");const rn={kernelName:s.Ic,gradFunc:(e,n,r)=>{const{axis:a}=r;return{x:()=>Object(nn.a)(e,a)}}},an={kernelName:s.Jc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(c.a)(Object(m.a)(Object(l.a)(r,"float32")),2))}}},sn={kernelName:s.Kc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(e,Object(c.a)(Object(l.a)(r,"float32"),2))}}},ln={kernelName:s.Lc,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=Object(h.a)(2);return{a:()=>Object(c.a)(e,Object(c.a)(o,Object(y.a)(r,a))),b:()=>Object(c.a)(e,Object(c.a)(o,Object(y.a)(a,r)))}}},cn={kernelName:s.Mc,gradFunc:e=>({x:()=>Object(O.a)(e)})},un={kernelName:s.Oc,inputsToSave:["a","b"],gradFunc:(e,n)=>{const[r,a]=n,o=_.a(r.shape,a.shape);return{a:()=>{let n=e;const a=_.c(r.shape,o);return a.length>0&&(n=Object(k.a)(n,a)),Object(w.a)(n,r.shape)},b:()=>{let n=e;const r=_.c(a.shape,o);return r.length>0&&(n=Object(k.a)(n,r)),Object(w.a)(Object(f.a)(n),a.shape)}}}},dn={kernelName:s.Pc,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,o=a.shape.slice(),{axis:i}=r;Object(z.I)(i,a.shape).forEach((e=>{o[e]=1}));const s=Object(w.a)(e,o),l=Object(c.a)(s,Object(it.a)(a.shape,"float32"));return{x:()=>l}}},pn={kernelName:s.Qc,inputsToSave:["x"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(p.a)(e,Object(g.a)(Object(Wt.a)(r)))}}},fn={kernelName:s.Rc,outputsToSave:[!0],gradFunc:(e,n)=>{const[r]=n;return{x:()=>Object(c.a)(Object(y.a)(Object(h.a)(1),Object(g.a)(r)),e)}}},hn={kernelName:s.Sc,inputsToSave:["x"],gradFunc:(e,n,r)=>{const[a]=n,{reps:o}=r;return{x:()=>{let n=Object(O.a)(a);if(1===a.rank)for(let r=0;r<o[0];++r)n=Object(N.a)(n,Object(ut.a)(e,[r*a.shape[0]],[a.shape[0]]));else if(2===a.rank)for(let r=0;r<o[0];++r)for(let i=0;i<o[1];++i)n=Object(N.a)(n,Object(ut.a)(e,[r*a.shape[0],i*a.shape[1]],[a.shape[0],a.shape[1]]));else if(3===a.rank)for(let r=0;r<o[0];++r)for(let i=0;i<o[1];++i)for(let s=0;s<o[2];++s)n=Object(N.a)(n,Object(ut.a)(e,[r*a.shape[0],i*a.shape[1],s*a.shape[2]],[a.shape[0],a.shape[1],a.shape[2]]));else{if(4!==a.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${a.rank} tensors yet.`);for(let r=0;r<o[0];++r)for(let i=0;i<o[1];++i)for(let s=0;s<o[2];++s)for(let l=0;l<o[3];++l)n=Object(N.a)(n,Object(ut.a)(e,[r*a.shape[0],i*a.shape[1],s*a.shape[2],l*a.shape[3]],[a.shape[0],a.shape[1],a.shape[2],a.shape[3]]))}return n}}}},mn={kernelName:s.Vc,gradFunc:(e,n,r)=>{const a=r,{perm:o}=a,i=ve.h(o);return{x:()=>Object(_e.a)(e,i)}}};var gn=r("d54d");const yn={kernelName:s.Xc,gradFunc:(e,n,r)=>{const a=r,{axis:o}=a;return{value:()=>Object(gn.a)(e,o)}}};var bn=r("dae8"),vn=r("91a3"),xn=r("09f4");const _n={kernelName:s.Yc,inputsToSave:["segmentIds"],gradFunc:(e,n)=>{const[r]=n;return{x:()=>function gatherDropNegatives(e,n){const r=Object(xn.a)(n,Object(O.a)(n)),a=Object(vn.a)(e,r);let o=Object(J.a)(n,Object(h.a)(0,"int32"));const i=a.rank-o.rank;for(let l=0;l<i;++l)o=Object(bn.a)(o,l+1);o=Object(ee.a)(o,Object(it.a)(a.shape,"bool"));const s=Object(O.a)(a);return Object(te.a)(o,a,s)}(e,r)}}};const wn={kernelName:s.Zc,gradFunc:e=>({x:()=>Object(O.a)(e)})};var kn=r("73b8");const Tn=[d,b,x,T,S,C,A,I,M,E,D,j,V,W,G,K,X,Y,Z,ne,re,oe,de,ce,he,ge,be,we,Se,Oe,Ct,Ce,Ie,Ne,Me,Ee,je,De,Pe,ze,$e,Be,Ve,Ue,We,Ge,qe,Ke,Xe,Ze,Qe,Qe,tt,rt,ot,st,lt,ct,dt,ht,mt,gt,bt,vt,_t,wt,wt,St,Ot,At,It,Nt,Mt,Et,Dt,Rt,Lt,Pt,zt,Bt,Vt,Ut,Ht,qt,Yt,Zt,Qt,tn,tn,rn,rn,an,ln,sn,cn,un,dn,pn,fn,hn,mn,yn,_n,wn];for(const _h of Tn)Object(kn.d)(_h);var Sn=r("8ae0"),On=r("34d7");Object(On.d)().prototype.abs=function(){return this.throwIfDisposed(),Object(Sn.a)(this)};var Cn=r("a374");Object(On.d)().prototype.acos=function(){return this.throwIfDisposed(),Object(Cn.a)(this)};var An=r("4615");Object(On.d)().prototype.acosh=function(){return this.throwIfDisposed(),Object(An.a)(this)},Object(On.d)().prototype.add=function(e){return this.throwIfDisposed(),Object(N.a)(this,e)};var In=r("df81");Object(On.d)().prototype.all=function(e,n){return this.throwIfDisposed(),Object(In.a)(this,e,n)};var Nn=r("4516");Object(On.d)().prototype.any=function(e,n){return this.throwIfDisposed(),Object(Nn.a)(this,e,n)};var Mn=r("e89f");Object(On.d)().prototype.argMax=function(e){return this.throwIfDisposed(),Object(Mn.a)(this,e)};var En=r("db49");Object(On.d)().prototype.argMin=function(e){return this.throwIfDisposed(),Object(En.a)(this,e)},Object(On.d)().prototype.asScalar=function(){return this.throwIfDisposed(),Object(z.b)(1===this.size,(()=>"The array must have only 1 element.")),Object(w.a)(this,[])},Object(On.d)().prototype.asType=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)},Object(On.d)().prototype.as1D=function(){return this.throwIfDisposed(),Object(w.a)(this,[this.size])},Object(On.d)().prototype.as2D=function(e,n){return this.throwIfDisposed(),Object(w.a)(this,[e,n])},Object(On.d)().prototype.as3D=function(e,n,r){return this.throwIfDisposed(),Object(w.a)(this,[e,n,r])},Object(On.d)().prototype.as4D=function(e,n,r,a){return this.throwIfDisposed(),Object(w.a)(this,[e,n,r,a])},Object(On.d)().prototype.as5D=function(e,n,r,a,o){return this.throwIfDisposed(),Object(w.a)(this,[e,n,r,a,o])};var Dn=r("220f");Object(On.d)().prototype.asin=function(){return this.throwIfDisposed(),Object(Dn.a)(this)};var jn=r("dc59");Object(On.d)().prototype.asinh=function(){return this.throwIfDisposed(),Object(jn.a)(this)};var Rn=r("7e36");Object(On.d)().prototype.atan=function(){return this.throwIfDisposed(),Object(Rn.a)(this)};var Ln=r("6002");Object(On.d)().prototype.atan2=function(e){return this.throwIfDisposed(),Object(Ln.a)(this,e)};var Pn=r("d1a8");Object(On.d)().prototype.atanh=function(){return this.throwIfDisposed(),Object(Pn.a)(this)};var Fn=r("9748");Object(On.d)().prototype.avgPool=function(e,n,r,a){return this.throwIfDisposed(),Object(Fn.a)(this,e,n,r,a)},Object(On.d)().prototype.batchToSpaceND=function(e,n){return this.throwIfDisposed(),Object(en.a)(this,e,n)};var zn=r("71db");Object(On.d)().prototype.batchNorm=function(e,n,r,a,o){return this.throwIfDisposed(),Object(zn.a)(this,e,n,r,a,o)};var $n=r("48db");Object(On.d)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),Object($n.a)(this,e)},Object(On.d)().prototype.cast=function(e){return this.throwIfDisposed(),Object(l.a)(this,e)};var Bn=r("5960");Object(On.d)().prototype.ceil=function(){return this.throwIfDisposed(),Object(Bn.a)(this)};var Vn=r("c08f");Object(On.d)().prototype.clipByValue=function(e,n){return this.throwIfDisposed(),Object(Vn.a)(this,e,n)},Object(On.d)().prototype.concat=function(e,n){return this.throwIfDisposed(),e instanceof On.a&&(e=[e]),Object(nn.a)([this,...e],n)};var Un=r("7675");Object(On.d)().prototype.conv1d=function(e,n,r,a,o,i){return this.throwIfDisposed(),Object(Un.a)(this,e,n,r,a,o,i)};var Wn=r("cd1f");Object(On.d)().prototype.conv2dTranspose=function(e,n,r,a,o){return this.throwIfDisposed(),Object(Wn.a)(this,e,n,r,a,o)},Object(On.d)().prototype.conv2d=function(e,n,r,a,o,i){return this.throwIfDisposed(),Object(ue.a)(this,e,n,r,a,o,i)},Object(On.d)().prototype.cos=function(){return this.throwIfDisposed(),Object(Wt.a)(this)},Object(On.d)().prototype.cosh=function(){return this.throwIfDisposed(),Object(Gt.a)(this)},Object(On.d)().prototype.cumsum=function(e,n,r){return this.throwIfDisposed(),Object(xe.a)(this,e,n,r)};var Hn=r("364e");Object(On.d)().prototype.depthToSpace=function(e,n){return this.throwIfDisposed(),Object(Hn.a)(this,e,n)};var Gn=r("838f");Object(On.d)().prototype.depthwiseConv2d=function(e,n,r,a,o,i){return this.throwIfDisposed(),Object(Gn.a)(this,e,n,r,a,o,i)};var qn=r("c170");Object(On.d)().prototype.dilation2d=function(e,n,r,a,o){return this.throwIfDisposed(),Object(qn.a)(this,e,n,r,a,o)};var Kn=r("011b");Object(On.d)().prototype.divNoNan=function(e){return this.throwIfDisposed(),Object(Kn.a)(this,e)},Object(On.d)().prototype.div=function(e){return this.throwIfDisposed(),Object(p.a)(this,e)};var Xn=r("29fc");Object(On.d)().prototype.dot=function(e){return this.throwIfDisposed(),Object(Xn.a)(this,e)};var Yn=r("9e38");Object(On.d)().prototype.elu=function(){return this.throwIfDisposed(),Object(Yn.a)(this)},Object(On.d)().prototype.equal=function(e){return this.throwIfDisposed(),Object(Je.a)(this,e)};var Zn=r("8e05");Object(On.d)().prototype.erf=function(){return this.throwIfDisposed(),Object(Zn.a)(this)},Object(On.d)().prototype.exp=function(){return this.throwIfDisposed(),Object(Ae.a)(this)},Object(On.d)().prototype.expandDims=function(e){return this.throwIfDisposed(),Object(bn.a)(this,e)};var Jn=r("1ba2");Object(On.d)().prototype.expm1=function(){return this.throwIfDisposed(),Object(Jn.a)(this)};var Qn=r("1ab7");Object(On.d)().prototype.fft=function(){return this.throwIfDisposed(),Object(Qn.a)(this)},Object(On.d)().prototype.flatten=function(){return this.throwIfDisposed(),Object(w.a)(this,[this.size])},Object(On.d)().prototype.floor=function(){return this.throwIfDisposed(),Object(ft.a)(this)};var er=r("508f");Object(On.d)().prototype.floorDiv=function(e){return this.throwIfDisposed(),Object(er.a)(this,e)},Object(On.d)().prototype.gather=function(e,n){return this.throwIfDisposed(),Object(vn.a)(this,e,n)},Object(On.d)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),Object(J.a)(this,e)},Object(On.d)().prototype.greater=function(e){return this.throwIfDisposed(),Object(He.a)(this,e)};var tr=r("4c7a");Object(On.d)().prototype.ifft=function(){return this.throwIfDisposed(),Object(tr.a)(this)};var nr=r("69dc");Object(On.d)().prototype.irfft=function(){return this.throwIfDisposed(),Object(nr.a)(this)};var rr=r("fc0b");Object(On.d)().prototype.isFinite=function(){return this.throwIfDisposed(),Object(rr.a)(this)};var ar=r("5980");Object(On.d)().prototype.isInf=function(){return this.throwIfDisposed(),Object(ar.a)(this)};var or=r("6fef");Object(On.d)().prototype.isNaN=function(){return this.throwIfDisposed(),Object(or.a)(this)};var ir=r("6f37");Object(On.d)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),Object(ir.a)(this,e)},Object(On.d)().prototype.lessEqual=function(e){return this.throwIfDisposed(),Object(Q.a)(this,e)},Object(On.d)().prototype.less=function(e){return this.throwIfDisposed(),Object(et.a)(this,e)};var sr=r("e101");Object(On.d)().prototype.localResponseNormalization=function(e,n,r,a){return this.throwIfDisposed(),Object(sr.a)(this,e,n,r,a)};var lr=r("c314");Object(On.d)().prototype.logSigmoid=function(){return this.throwIfDisposed(),Object(lr.a)(this)};var cr=r("804a");Object(On.d)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),Object(cr.a)(this,e)};var ur=r("afda");Object(On.d)().prototype.logSumExp=function(e,n){return this.throwIfDisposed(),Object(ur.a)(this,e,n)},Object(On.d)().prototype.log=function(){return this.throwIfDisposed(),Object(kt.a)(this)};var dr=r("46b1");Object(On.d)().prototype.log1p=function(){return this.throwIfDisposed(),Object(dr.a)(this)},Object(On.d)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),Object(ee.a)(this,e)},Object(On.d)().prototype.logicalNot=function(){return this.throwIfDisposed(),Object(Ft.a)(this)};var pr=r("f183");Object(On.d)().prototype.logicalOr=function(e){return this.throwIfDisposed(),Object(pr.a)(this,e)};var fr=r("d25f");Object(On.d)().prototype.logicalXor=function(e){return this.throwIfDisposed(),Object(fr.a)(this,e)},Object(On.d)().prototype.matMul=function(e,n,r){return this.throwIfDisposed(),Object(H.a)(this,e,n,r)};var hr=r("9fe6");Object(On.d)().prototype.maxPool=function(e,n,r,a){return this.throwIfDisposed(),Object(hr.a)(this,e,n,r,a)};var mr=r("c021");Object(On.d)().prototype.max=function(e,n){return this.throwIfDisposed(),Object(mr.a)(this,e,n)},Object(On.d)().prototype.maximum=function(e){return this.throwIfDisposed(),Object(xn.a)(this,e)};var gr=r("122e");Object(On.d)().prototype.mean=function(e,n){return this.throwIfDisposed(),Object(gr.a)(this,e,n)};var yr=r("ae6d");Object(On.d)().prototype.min=function(e,n){return this.throwIfDisposed(),Object(yr.a)(this,e,n)};var br=r("f0e5");Object(On.d)().prototype.minimum=function(e){return this.throwIfDisposed(),Object(br.a)(this,e)};var vr=r("93db");Object(On.d)().prototype.mirrorPad=function(e,n){return this.throwIfDisposed(),Object(vr.a)(this,e,n)};var xr=r("4611");Object(On.d)().prototype.mod=function(e){return this.throwIfDisposed(),Object(xr.a)(this,e)},Object(On.d)().prototype.mul=function(e){return this.throwIfDisposed(),Object(c.a)(this,e)},Object(On.d)().prototype.neg=function(){return this.throwIfDisposed(),Object(f.a)(this)};var _r=r("f757");Object(On.d)().prototype.norm=function(e,n,r){return this.throwIfDisposed(),Object(_r.a)(this,e,n,r)};var wr=r("d4de");Object(On.d)().prototype.notEqual=function(e){return this.throwIfDisposed(),Object(wr.a)(this,e)};var kr=r("e22c");Object(On.d)().prototype.oneHot=function(e,n=1,r=0){return this.throwIfDisposed(),Object(kr.a)(this,e,n,r)};var Tr=r("0db5");Object(On.d)().prototype.onesLike=function(){return this.throwIfDisposed(),Object(Tr.a)(this)},Object(On.d)().prototype.pad=function(e,n){return this.throwIfDisposed(),Object(Kt.a)(this,e,n)};var Sr=r("eaf4");Object(On.d)().prototype.pool=function(e,n,r,a,o){return this.throwIfDisposed(),Object(Sr.a)(this,e,n,r,a,o)},Object(On.d)().prototype.pow=function(e){return this.throwIfDisposed(),Object(Tt.a)(this,e)};var Or=r("520f");Object(On.d)().prototype.prelu=function(e){return this.throwIfDisposed(),Object(Or.a)(this,e)};var Cr=r("f3ae");Object(On.d)().prototype.prod=function(e,n){return this.throwIfDisposed(),Object(Cr.a)(this,e,n)};var Ar=r("b500");Object(On.d)().prototype.reciprocal=function(){return this.throwIfDisposed(),Object(Ar.a)(this)};var Ir=r("917a");Object(On.d)().prototype.relu=function(){return this.throwIfDisposed(),Object(Ir.a)(this)};var Nr=r("46a8");Object(On.d)().prototype.relu6=function(){return this.throwIfDisposed(),Object(Nr.a)(this)},Object(On.d)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),Object(w.a)(this,e.shape)},Object(On.d)().prototype.reshape=function(e){return this.throwIfDisposed(),Object(w.a)(this,e)};var Mr=r("73f8");Object(On.d)().prototype.resizeBilinear=function(e,n,r){return this.throwIfDisposed(),Object(Mr.a)(this,e,n,r)};var Er=r("0f86");Object(On.d)().prototype.resizeNearestNeighbor=function(e,n,r){return this.throwIfDisposed(),Object(Er.a)(this,e,n,r)},Object(On.d)().prototype.reverse=function(e){return this.throwIfDisposed(),Object(jt.a)(this,e)};var Dr=r("b61d");Object(On.d)().prototype.rfft=function(){return this.throwIfDisposed(),Object(Dr.a)(this)};var jr=r("08a9");Object(On.d)().prototype.round=function(){return this.throwIfDisposed(),Object(jr.a)(this)},Object(On.d)().prototype.rsqrt=function(){return this.throwIfDisposed(),Object(Re.a)(this)};var Rr=r("b39e");Object(On.d)().prototype.selu=function(){return this.throwIfDisposed(),Object(Rr.a)(this)};var Lr=r("116b");Object(On.d)().prototype.separableConv2d=function(e,n,r,a,o,i){return this.throwIfDisposed(),Object(Lr.a)(this,e,n,r,a,o,i)},Object(On.d)().prototype.sigmoid=function(){return this.throwIfDisposed(),Object(Jt.a)(this)};var Pr=r("1df6");Object(On.d)().prototype.sign=function(){return this.throwIfDisposed(),Object(Pr.a)(this)},Object(On.d)().prototype.sin=function(){return this.throwIfDisposed(),Object(me.a)(this)},Object(On.d)().prototype.sinh=function(){return this.throwIfDisposed(),Object(ye.a)(this)},Object(On.d)().prototype.slice=function(e,n){return this.throwIfDisposed(),Object(ut.a)(this,e,n)};var Fr=r("5f87");Object(On.d)().prototype.softmax=function(e){return this.throwIfDisposed(),Object(Fr.a)(this,e)};var zr=r("9ffd");Object(On.d)().prototype.softplus=function(){return this.throwIfDisposed(),Object(zr.a)(this)},Object(On.d)().prototype.spaceToBatchND=function(e,n){return this.throwIfDisposed(),Object(q.a)(this,e,n)},Object(On.d)().prototype.split=function(e,n){return this.throwIfDisposed(),Object(ae.a)(this,e,n)},Object(On.d)().prototype.sqrt=function(){return this.throwIfDisposed(),Object(m.a)(this)},Object(On.d)().prototype.square=function(){return this.throwIfDisposed(),Object(g.a)(this)};var $r=r("4184");Object(On.d)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),Object($r.a)(this,e)};var Br=r("d1f4");Object(On.d)().prototype.squeeze=function(e){return this.throwIfDisposed(),Object(Br.a)(this,e)},Object(On.d)().prototype.stack=function(e,n){this.throwIfDisposed();const r=e instanceof On.a?[this,e]:[this,...e];return Object(gn.a)(r,n)},Object(On.d)().prototype.step=function(e){return this.throwIfDisposed(),Object(u.a)(this,e)};var Vr=r("de1a");Object(On.d)().prototype.stridedSlice=function(e,n,r,a,o,i,s,l){return this.throwIfDisposed(),Object(Vr.a)(this,e,n,r,a,o,i,s,l)},Object(On.d)().prototype.sub=function(e){return this.throwIfDisposed(),Object(y.a)(this,e)},Object(On.d)().prototype.sum=function(e,n){return this.throwIfDisposed(),Object(k.a)(this,e,n)};var Ur=r("d30a");Object(On.d)().prototype.tan=function(){return this.throwIfDisposed(),Object(Ur.a)(this)};var Wr=r("8888");Object(On.d)().prototype.tanh=function(){return this.throwIfDisposed(),Object(Wr.a)(this)},Object(On.d)().prototype.tile=function(e){return this.throwIfDisposed(),Object(Le.a)(this,e)},Object(On.d)().prototype.toBool=function(){return this.throwIfDisposed(),Object(l.a)(this,"bool")},Object(On.d)().prototype.toFloat=function(){return this.throwIfDisposed(),Object(l.a)(this,"float32")},Object(On.d)().prototype.toInt=function(){return this.throwIfDisposed(),Object(l.a)(this,"int32")};var Hr=r("5616");Object(On.d)().prototype.topk=function(e,n){return this.throwIfDisposed(),Object(Hr.a)(this,e,n)},Object(On.d)().prototype.transpose=function(e){return this.throwIfDisposed(),Object(_e.a)(this,e)};var Gr=r("853e");let qr;function common_epsilon(){return null==qr&&(qr=Object(i.ld)().epsilon()),qr}Object(On.d)().prototype.unique=function(e){return this.throwIfDisposed(),Object(Gr.a)(this,e)},Object(On.d)().prototype.unsortedSegmentSum=function(e,n){return this.throwIfDisposed(),Object(Fe.a)(this,e,n)},Object(On.d)().prototype.unstack=function(e){return this.throwIfDisposed(),Object(xt.a)(this,e)},Object(On.d)().prototype.where=function(e,n){return this.throwIfDisposed(),Object(te.a)(e,this,n)},Object(On.d)().prototype.zerosLike=function(){return this.throwIfDisposed(),Object(O.a)(this)};class AttributeError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,AttributeError.prototype)}}class RuntimeError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,RuntimeError.prototype)}}class ValueError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ValueError.prototype)}}class NotImplementedError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,NotImplementedError.prototype)}}class AssertionError extends Error{constructor(e){super(e),Object.setPrototypeOf(this,AssertionError.prototype)}}Error;function pyListRepeat(e,n){if(Array.isArray(e)){let r=[];for(let a=0;a<n;a++)r=r.concat(e);return r}{const r=new Array(n);return r.fill(e),r}}function assert(e,n){if(!e)throw new AssertionError(n)}function generic_utils_count(e,n){let r=0;for(const a of e)a===n&&r++;return r}function singletonOrArray(e){return 1===e.length?e[0]:e}function toList(e){return Array.isArray(e)?e:[e]}function toSnakeCase(e){const n=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==n[0]?n:"private"+n}function toCamelCase(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,n)=>n.toUpperCase()))}let Kr={};function serializeKerasObject(e){if(null==e)return null;const n={};return n.className=e.getClassName(),n.config=e.getConfig(),n}function convertNDArrayScalarsInConfig(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>convertNDArrayScalarsInConfig(e)));else{const n=Object.keys(e);for(const r of n){const n=e[r];null!=n&&"object"==typeof n&&(Array.isArray(n)||"ndarray"!==n.type||"number"!=typeof n.value?convertNDArrayScalarsInConfig(n):e[r]=n.value)}}}function deserializeKerasObject(e,n={},r={},a="object",o=!1){if("string"==typeof e){const o=e;let i;if(o in r)i=r[o];else if(o in Kr)i=Kr[o];else if(i=n[o],null==i)throw new ValueError(`Unknown ${a}: ${e}. This may be due to one of the following reasons:\n1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}{const i=e;if(null==i.className||null==i.config)throw new ValueError(`${a}: Improper config format: ${JSON.stringify(i)}.\n'className' and 'config' must set.`);const s=i.className;let l,c;if(s in r?[l,c]=r[s]:s in Kr?[l,c]=Kr.className:s in n&&([l,c]=n[s]),null==l)throw new ValueError(`Unknown ${a}: ${s}. This may be due to one of the following reasons:\n1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=c){const e={};for(const r of Object.keys(Kr))e[r]=Kr[r];for(const o of Object.keys(r))e[o]=r[o];i.config.customObjects=e;const n=Object.assign({},Kr);for(const o of Object.keys(r))Kr[o]=r[o];convertNDArrayScalarsInConfig(i.config);const a=c(l,i.config,r,o);return Kr=Object.assign({},n),a}{const e=Object.assign({},Kr);for(const a of Object.keys(r))Kr[a]=r[a];const n=new l(i.config);return Kr=Object.assign({},e),n}}}function reverseNumberCompare(e,n){return-1*function numberCompare(e,n){return e<n?-1:e>n?1:0}(e,n)}function generic_utils_unique(e){if(null==e)return e;const n=[];for(const r of e)-1===n.indexOf(r)&&n.push(r);return n}function isObjectEmpty(e){if(null==e)throw new ValueError(`Invalid value in obj: ${JSON.stringify(e)}`);for(const n in e)if(e.hasOwnProperty(n))return!1;return!0}function checkStringTypeUnionValue(e,n,r){if(null!=r&&e.indexOf(r)<0)throw new ValueError(`${r} is not a valid ${n}.  Valid values are ${e} or null/undefined.`)}function checkArrayTypeAndLength(e,n,r=0,a=1/0){return assert(r>=0),assert(a>=r),Array.isArray(e)&&e.length>=r&&e.length<=a&&e.every((e=>typeof e===n))}function assertPositiveInteger(e,n){Array.isArray(e)?(i.of.assert(e.length>0,(()=>`${n} is unexpectedly an empty array.`)),e.forEach(((e,r)=>assertPositiveInteger(e,`element ${r+1} of ${n}`)))):i.of.assert(Number.isInteger(e)&&e>0,(()=>`Expected ${n} to be a positive integer, but got ${formatAsFriendlyString(e)}.`))}function formatAsFriendlyString(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>formatAsFriendlyString(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function mapActivationToFusedKernel(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}function calcL2Norms(e,n){return Object(i.hf)((()=>i.Ve(i.af(i.oe(e,e),n,!0))))}class constraints_Constraint extends i.Je.Serializable{getConfig(){return{}}}class constraints_MaxNorm extends constraints_Constraint{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(i.hf)((()=>{const n=calcL2Norms(e,this.axis),r=i.td(n,0,this.maxValue);return i.oe(e,i.Hd(r,i.fd(common_epsilon(),n)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}constraints_MaxNorm.className="MaxNorm",i.Je.registerClass(constraints_MaxNorm);class constraints_UnitNorm extends constraints_Constraint{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(i.hf)((()=>i.Hd(e,i.fd(common_epsilon(),calcL2Norms(e,this.axis)))))}getConfig(){return{axis:this.axis}}}constraints_UnitNorm.className="UnitNorm",i.Je.registerClass(constraints_UnitNorm);class constraints_NonNeg extends constraints_Constraint{apply(e){return i.De(e)}}constraints_NonNeg.className="NonNeg",i.Je.registerClass(constraints_NonNeg);class constraints_MinMaxNorm extends constraints_Constraint{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return Object(i.hf)((()=>{const n=calcL2Norms(e,this.axis),r=i.fd(i.oe(this.rate,i.td(n,this.minValue,this.maxValue)),i.oe(1-this.rate,n));return i.oe(e,i.Hd(r,i.fd(common_epsilon(),n)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}constraints_MinMaxNorm.className="MinMaxNorm",i.Je.registerClass(constraints_MinMaxNorm);const Xr={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function serializeConstraint(e){return serializeKerasObject(e)}function deserializeConstraint(e,n={}){return deserializeKerasObject(e,i.Je.SerializationMap.getMap().classNameMap,n,"constraint")}function getConstraint(e){if(null==e)return null;if("string"==typeof e){return deserializeConstraint({className:e in Xr?Xr[e]:e,config:{}})}return e instanceof constraints_Constraint?e:deserializeConstraint(e)}const Yr=["channelsFirst","channelsLast"],Zr=["nearest","bilinear"],Jr=["valid","same","causal"],Qr=["max","avg"],ea=["sum","mul","concat","ave"],ta=new Map;function checkDataFormat(e){checkStringTypeUnionValue(Yr,"DataFormat",e)}function checkPaddingMode(e){checkStringTypeUnionValue(Jr,"PaddingMode",e)}function checkPoolMode(e){checkStringTypeUnionValue(Qr,"PoolMode",e)}const na=[];function nameScope(e,n){na.push(e);try{const e=n();return na.pop(),e}catch(r){throw na.pop(),r}}function getScopedTensorName(e){if(!isValidTensorName(e))throw new Error("Not a valid tensor name: '"+e+"'");return function currentNameScopePrefix(){return 0===na.length?"":na.join("/")+"/"}()+e}function getUniqueTensorName(e){if(!isValidTensorName(e))throw new Error("Not a valid tensor name: '"+e+"'");ta.has(e)||ta.set(e,0);const n=ta.get(e);if(ta.set(e,ta.get(e)+1),n>0){const r=`${e}_${n}`;return ta.set(r,1),r}return e}const ra=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function isValidTensorName(e){return!!e.match(ra)}function arrayProd(e,n,r){null==n&&(n=0),null==r&&(r=e.length);let a=1;for(let o=n;o<r;++o)a*=e[o];return a}function toArray1D(e){return e=Array.isArray(e)?new Float32Array(e):e,Object(i.ef)(e)}function math_utils_min(e){return i.le(toArray1D(e)).dataSync()[0]}function math_utils_max(e){return i.fe(toArray1D(e)).dataSync()[0]}function range(e,n){if(n<e)throw new ValueError(`end (${n}) < begin (${e}) is forbidden.`);const r=[];for(let a=e;a<n;++a)r.push(a);return r}function tfjs_backend_cast(e,n){return e.asType(n)}function expandDims(e,n=-1){const r=e.shape.slice();return n<0&&(n=r.length+n+1),r.splice(n,0,1),e.reshape(r)}function sliceAlongFirstAxis(e,n,r){return Object(i.hf)((()=>{switch(e.rank){case 1:return i.Ne(e,n,r);case 2:return i.Oe(e,[n,0],[r,e.shape[1]]);case 3:return i.Pe(e,[n,0,0],[r,e.shape[1],e.shape[2]]);case 4:return i.Qe(e,[n,0,0,0],[r,e.shape[1],e.shape[2],e.shape[3]]);case 5:return i.Me(e,[n,0,0,0,0],[r,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return i.Me(e,[n,0,0,0,0,0],[r,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ValueError(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function sliceAlongLastAxis(e,n,r){return Object(i.hf)((()=>{switch(e.rank){case 1:return i.Ne(e,n,r);case 2:return i.Oe(e,[0,n],[e.shape[0],r]);case 3:return i.Pe(e,[0,0,n],[e.shape[0],e.shape[1],r]);case 4:return i.Qe(e,[0,0,0,n],[e.shape[0],e.shape[1],e.shape[2],r]);default:throw new ValueError(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function sliceAlongAxis(e,n,r,a){return Object(i.hf)((()=>{switch(e.rank){case 1:return i.Ne(e,n,r);case 2:switch(a){case 1:return sliceAlongFirstAxis(e,n,r);case 2:return sliceAlongLastAxis(e,n,r);default:throw new ValueError(`The axis is not within the rank of the tensor ${a}`)}case 3:switch(a){case 1:return sliceAlongFirstAxis(e,n,r);case 2:return i.Pe(e,[0,n,0],[e.shape[0],r,e.shape[2]]);case 3:return sliceAlongLastAxis(e,n,r);default:throw new ValueError(`The axis is not within the rank of the tensor ${a}`)}case 4:switch(a){case 1:return sliceAlongFirstAxis(e,n,r);case 2:return i.Qe(e,[0,n,0,0],[e.shape[0],r,e.shape[2],e.shape[3]]);case 3:return i.Qe(e,[0,0,n,0],[e.shape[0],e.shape[1],r,e.shape[3]]);case 4:return sliceAlongLastAxis(e,n,r);default:throw new ValueError(`The axis is not within the rank of the tensor ${a}`)}default:throw new ValueError(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function concatenate(e,n=-1){let r;return n<0&&(r=e[0].rank,n=0!==r?r:0),n===e[0].rank&&(n=-1),i.vd(e,n)}function concatAlongFirstAxis(e,n){switch(e.rank){case 1:return i.wd([e,n]);case 2:return i.xd([e,n],0);case 3:return i.yd([e,n],0);case 4:return i.zd([e,n],0);default:throw new ValueError(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function tfjs_backend_tile(e,n){if(Array.isArray(n)||(n=[n]),e.rank!==n.length)throw new ValueError(`The length of input n (${n.length}) does not match the number of dimensions in input x (${e.rank})`);return i.if(e,n)}function randomNormal(e,n=0,r=1,a,o){return i.ye(e,n,r,a,o)}function tfjs_backend_dot(e,n,r,a){if(e.rank<2||n.rank<2)throw new NotImplementedError(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${n.shape}`);if(n.rank>=3){if(e.shape.slice(-1)[0]!==n.shape.slice(-2)[0])throw new NotImplementedError(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${n.shape}`)}if(2===e.rank&&2===n.rank){const o=!1,s=!1;return i.Sd.matMul({a:e,b:n,transposeA:o,transposeB:s,bias:a?reshapeBias(e.rank,a,"channelsLast"):null,activation:r})}{const o=e.shape.slice(),s=o.pop();e=e.reshape([-1,s]);const l=n.shape.slice(),c=l.pop(),u=l.pop(),d=[...l,c],p=Array.from({length:n.rank},((e,r)=>0===r?n.rank-2:r<=n.rank-2?r-1:r));n=n.transpose(p).reshape([u,-1]);const f=[...o,...d],h=!1,m=!1;return i.Sd.matMul({a:e,b:n,transposeA:h,transposeB:m,bias:a?reshapeBias(e.rank,a,"channelsLast"):null,activation:r}).reshape(f)}}function tfjs_backend_gather(e,n,r){return Object(i.hf)((()=>(n=Array.isArray(n)?Object(i.ef)(n,"int32"):n.toInt(),i.Td(e,n,r))))}function tfjs_backend_square(e){return i.oe(e,e)}function reshapeBias(e,n,r){const a=n.shape;if(1!==n.rank&&n.rank!==e)throw new ValueError(`Unexpected bias dimensions: ${n.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===r)return 1===a.length?n.reshape([1,a[0],1,1,1]):n.reshape([1,a[3],a[0],a[1],a[2]]);if("channelsLast"===r)return 1===a.length?n.reshape([1,1,1,1,a[0]]):n.reshape([1].concat(a))}else if(4===e){if("channelsFirst"===r)return 1===a.length?n.reshape([1,a[0],1,1]):n.reshape([1,a[2],a[0],a[1]]);if("channelsLast"===r)return 1===a.length?n.reshape([1,1,1,a[0]]):n.reshape([1].concat(a))}else if(3===e){if("channelsFirst"===r)return 1===a.length?n.reshape([1,a[0],1]):n.reshape([1,a[1],a[0]]);if("channelsLast"===r)return 1===a.length?n.reshape([1,1,a[0]]):n.reshape([1].concat(a))}else if(e<3)return n;throw new ValueError(`Unsupported input rank by biasAdd: ${n.rank}`)}function biasAdd(e,n,r){return Object(i.hf)((()=>(null==r&&(r="channelsLast"),checkDataFormat(r),e.add(reshapeBias(e.rank,n,r)))))}function dropout(e,n,r,a){return Object(i.hf)((()=>i.Id(e,n,r,a)))}function inTrainPhase(e,n,r=!1){return r?e():n()}const aa=["fanIn","fanOut","fanAvg"],oa=["normal","uniform","truncatedNormal"];class initializers_Initializer extends i.Je.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class initializers_Zeros extends initializers_Initializer{apply(e,n){return Object(i.tf)(e,n)}}initializers_Zeros.className="Zeros",i.Je.registerClass(initializers_Zeros);class initializers_Ones extends initializers_Initializer{apply(e,n){return Object(i.te)(e,n)}}initializers_Ones.className="Ones",i.Je.registerClass(initializers_Ones);class initializers_Constant extends initializers_Initializer{constructor(e){if(super(),"object"!=typeof e)throw new ValueError(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new ValueError(`config must have value set but got ${e}`);this.value=e.value}apply(e,n){return Object(i.hf)((()=>Object(i.oe)(Object(i.Ge)(this.value),Object(i.te)(e,n))))}getConfig(){return{value:this.value}}}initializers_Constant.className="Constant",i.Je.registerClass(initializers_Constant);class initializers_RandomUniform extends initializers_Initializer{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,n){return Object(i.ze)(e,this.minval,this.maxval,n)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}initializers_RandomUniform.className="RandomUniform",i.Je.registerClass(initializers_RandomUniform);class initializers_RandomNormal extends initializers_Initializer{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if("float32"!==(n=n||"float32")&&"int32"!==n)throw new NotImplementedError(`randomNormal does not support dType ${n}.`);return randomNormal(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}initializers_RandomNormal.className="RandomNormal",i.Je.registerClass(initializers_RandomNormal);class initializers_TruncatedNormal extends initializers_Initializer{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,n){if("float32"!==(n=n||"float32")&&"int32"!==n)throw new NotImplementedError(`truncatedNormal does not support dType ${n}.`);return Object(i.lf)(e,this.mean,this.stddev,n,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}initializers_TruncatedNormal.className="TruncatedNormal",i.Je.registerClass(initializers_TruncatedNormal);class initializers_Identity extends initializers_Initializer{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,n){return Object(i.hf)((()=>{if(2!==e.length||e[0]!==e[1])throw new ValueError("Identity matrix initializer can only be used for 2D square matrices.");return Object(i.oe)(this.gain,Object(i.Pd)(e[0]))}))}getConfig(){return{gain:this.gain}}}initializers_Identity.className="Identity",i.Je.registerClass(initializers_Identity);class initializers_VarianceScaling extends initializers_Initializer{constructor(e){if(super(),e.scale<0)throw new ValueError(`scale must be a positive float. Got: ${e.scale}`);this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,function checkFanMode(e){checkStringTypeUnionValue(aa,"FanMode",e)}(this.mode),this.distribution=null==e.distribution?"normal":e.distribution,function checkDistribution(e){checkStringTypeUnionValue(oa,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,n){const r=function computeFans(e,n="channelsLast"){let r,a;if(checkDataFormat(n),2===e.length)r=e[0],a=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===n){const n=arrayProd(e,2);r=e[1]*n,a=e[0]*n}else if("channelsLast"===n){const n=arrayProd(e,0,e.length-2);r=e[e.length-2]*n,a=e[e.length-1]*n}}else{const n=arrayProd(e);r=Math.sqrt(n),a=Math.sqrt(n)}return[r,a]}(e),a=r[0],o=r[1];let s=this.scale;if("fanIn"===this.mode?s/=Math.max(1,a):"fanOut"===this.mode?s/=Math.max(1,o):s/=Math.max(1,(a+o)/2),"normal"===this.distribution){const r=Math.sqrt(s);if("float32"!==(n=n||"float32")&&"int32"!==n)throw new NotImplementedError(`${this.getClassName()} does not support dType ${n}.`);return Object(i.lf)(e,0,r,n,this.seed)}{const r=Math.sqrt(3*s);return Object(i.ze)(e,-r,r,n)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}initializers_VarianceScaling.className="VarianceScaling",i.Je.registerClass(initializers_VarianceScaling);class GlorotUniform extends initializers_VarianceScaling{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}GlorotUniform.className="GlorotUniform",i.Je.registerClass(GlorotUniform);class GlorotNormal extends initializers_VarianceScaling{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}GlorotNormal.className="GlorotNormal",i.Je.registerClass(GlorotNormal);class HeNormal extends initializers_VarianceScaling{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}HeNormal.className="HeNormal",i.Je.registerClass(HeNormal);class HeUniform extends initializers_VarianceScaling{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}HeUniform.className="HeUniform",i.Je.registerClass(HeUniform);class LeCunNormal extends initializers_VarianceScaling{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}LeCunNormal.className="LeCunNormal",i.Je.registerClass(LeCunNormal);class LeCunUniform extends initializers_VarianceScaling{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return initializers_VarianceScaling.className}}LeCunUniform.className="LeCunNormal",i.Je.registerClass(LeCunUniform);class initializers_Orthogonal extends initializers_Initializer{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,null!=this.seed)throw new NotImplementedError("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,n){return Object(i.hf)((()=>{if(e.length<2)throw new NotImplementedError("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const n=randomNormal(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32");let r=i.be.gramSchmidt(n);return e[0]>e[1]&&(r=r.transpose()),Object(i.oe)(this.gain,r)}))}getConfig(){return{gain:this.gain,seed:this.seed}}}initializers_Orthogonal.className="Orthogonal",i.Je.registerClass(initializers_Orthogonal);const ia={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function deserializeInitializer(e,n={}){return deserializeKerasObject(e,i.Je.SerializationMap.getMap().classNameMap,n,"initializer")}function serializeInitializer(e){return serializeKerasObject(e)}function getInitializer(e){if("string"==typeof e){const n=e in ia?ia[e]:e;if("GlorotNormal"===n)return new GlorotNormal;if("GlorotUniform"===n)return new GlorotUniform;if("HeNormal"===n)return new HeNormal;if("HeUniform"===n)return new HeUniform;if("LeCunNormal"===n)return new LeCunNormal;if("LeCunUniform"===n)return new LeCunUniform;{const e={};return e.className=n,e.config={},deserializeInitializer(e)}}return e instanceof initializers_Initializer?e:deserializeInitializer(e)}let sa=0;function getNextUniqueTensorId(){return sa++}const la={};function getUid(e=""){return e in la||(la[e]=0),la[e]+=1,e+la[e].toString()}function isArrayOfShapes(e){return Array.isArray(e)&&Array.isArray(e[0])}function normalizeShapeList(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function getExactlyOneTensor(e){let n;if(Array.isArray(e)){if(1!==e.length)throw new ValueError(`Expected Tensor length to be 1; got ${e.length}`);n=e[0]}else n=e;return n}function getExactlyOneShape(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return(e=e)[0];throw new ValueError(`Expected exactly 1 Shape; got ${e.length}`)}return e}function countParamsInWeights(e){let n=0;for(const r of e)0===r.shape.length?n+=1:n+=r.shape.reduce(((e,n)=>e*n));return n}const ca="Variable";class variables_LayerVariable{constructor(e,n="float32",r="Variable",a=!0,o=null){this.dtype=null==n?"float32":n,this.shape=e.shape,this.id=getNextUniqueTensorId(),r=null==r?ca:r,this.originalName=getScopedTensorName(r),this.name=getUniqueTensorName(this.originalName),this.trainable_=a,this.constraint=o,this.val=i.pf(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function checkShapesMatch(e,n){if(e.shape.toString()!==n.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(n.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function batchGetValue(e){return e.map((e=>e.read()))}function batchSetValue(e){e.forEach((e=>{e[0].write(e[1])}))}class InputSpec{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class topology_SymbolicTensor{constructor(e,n,r,a,o,i,s){this.dtype=e,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=o,this.outputTensorIndex=s,this.id=getNextUniqueTensorId(),null!=i&&(this.originalName=getScopedTensorName(i),this.name=getUniqueTensorName(this.originalName)),this.rank=n.length}}let ua=0;class Node{constructor(e,n){this.callArgs=n,this.id=ua++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const r of e.inboundLayers)null!=r&&r.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const n of this.inboundLayers)null!=n?e.push(n.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let da=0;class topology_Layer extends i.Je.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=da++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let n=e.name;if(!n){const e=this.getClassName();n=toSnakeCase(e)+"_"+getUid(e)}if(this.name=n,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let n;if(null!=e.batchInputShape)n=e.batchInputShape;else if(null!=e.inputShape){let r=null;null!=e.batchSize&&(r=e.batchSize),n=[r].concat(e.inputShape)}this.batchInputShape=n;let r=e.dtype;null==r&&(r=e.inputDType),null==r&&(r="float32"),this.dtype=r}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,n){return e.name+"_ib-"+n.toString()}getNodeAtIndex(e,n){if(0===this.inboundNodes.length)throw new RuntimeError(`The layer has never been called and thus has no defined ${n}.`);if(this.inboundNodes.length<=e)throw new ValueError(`Asked to get ${n} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return singletonOrArray(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return singletonOrArray(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new AttributeError(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new AttributeError(`Layer ${this.name} is not connected, no input to return.`);return singletonOrArray(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new AttributeError(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new AttributeError(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return singletonOrArray(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((n=>n.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=toList(e),null==this.inputSpec||0===this.inputSpec.length)return;const n=toList(this.inputSpec);if(e.length!==n.length)throw new ValueError(`Layer ${this.name} expects ${n.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let r=0;r<e.length;r++){const a=e[r],o=n[r];if(null==o)continue;const i=a.rank;if(null!=o.ndim&&i!==o.ndim)throw new ValueError(`Input ${r} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${i}`);if(null!=o.maxNDim&&i>o.maxNDim)throw new ValueError(`Input ${r} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${i}`);if(null!=o.minNDim&&i<o.minNDim)throw new ValueError(`Input ${r} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${i}.`);if(null!=o.dtype&&a.dtype!==o.dtype)throw new ValueError(`Input ${r} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${a.dtype}.`);if(o.axes){const e=a.shape;for(const n in o.axes){const a=Number(n),i=o.axes[n],s=a>=0?e[a]:e[e.length+a];if(null!=i&&-1===[i,null].indexOf(s))throw new ValueError(`Input ${r} is incompatible with layer ${this.name}: expected axis ${a} of input shape to have value ${i} but got shape ${e}.`)}}if(null!=o.shape)for(let e=0;e<o.shape.length;++e){const n=o.shape[e],i=a.shape[e];if(null!=n&&null!=i&&n!==i)throw new ValueError(`Input ${r} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${a.shape}.`)}}}call(e,n){return e}invokeCallHook(e,n){null!=this._callHook&&this._callHook(e,n)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,n){n=n||{},this.assertNotDisposed();const r=toList(e);let a=!0;for(const i of r)if(!(i instanceof topology_SymbolicTensor)){a=!1;break}let o=!0;for(const i of r)if(i instanceof topology_SymbolicTensor){o=!1;break}if(a===o)throw new ValueError("Arguments to apply() must be all SymbolicTensors or all Tensors");return nameScope(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const n=[];for(const r of toList(e))n.push(r.shape);this.build(singletonOrArray(n)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let a=this.call(e,n);const o=toList(a),i=[];for(let e of o)-1!==r.indexOf(e)&&(e=e.clone()),i.push(e);if(a=singletonOrArray(i),null!=this.activityRegularizer)throw new NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}{const r=function collectInputShape(e){e=toList(e);const n=[];for(const r of e)n.push(r.shape);return singletonOrArray(n)}(e),a=this.computeOutputShape(r);let o;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?r[0]:r),o=null!=a&&a.length>0&&Array.isArray(a[0])?a.map(((r,a)=>new topology_SymbolicTensor(i,r,this,toList(e),n,this.name,a))):new topology_SymbolicTensor(i,a,this,toList(e),n,this.name),this.addInboundNode(e,o,null,null,r,a,n),this._refCount++,null!=this.activityRegularizer)throw new NotImplementedError("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let n=!1;this.batchInputShape.forEach(((r,a)=>{null!=r&&null!=e[a]&&e[a]!==r&&(n=!0)})),n&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new AttributeError(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const n of this.inboundNodes){const r=JSON.stringify(n.outputShapes);-1===e.indexOf(r)&&e.push(r)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new AttributeError(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new RuntimeError(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return countParamsInWeights(this.weights)}build(e){this.built=!0}getWeights(e=!1){return batchGetValue(e?this.trainableWeights:this.weights)}setWeights(e){Object(i.hf)((()=>{const n=this.weights;if(n.length!==e.length)throw new ValueError(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(0===n.length)return;const r=[],a=batchGetValue(n);for(let o=0;o<a.length;++o){const s=a[o],l=n[o],c=e[o];if(!i.of.arraysEqual(s.shape,c.shape))throw new ValueError(`Layer weight shape ${s.shape} not compatible with provided weight shape ${c.shape}`);r.push([l,c])}batchSetValue(r)}))}addWeight(e,n,r,a,o,i,s){if(-1!==this._addedWeightNames.indexOf(e))throw new ValueError(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==r&&(r="float32"),this.fastWeightInitDuringBuild&&(a=getInitializer("zeros"));const l=a.apply(n,r),c=new variables_LayerVariable(l,r,e,i,s);return l.dispose(),null!=o&&this.addLoss((()=>o.apply(c.read()))),null==i&&(i=!0),i?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=toList(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,n){if(!this.supportsMasking){if(null!=n){if(!Array.isArray(n))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);n.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return n}addInboundNode(e,n,r,a,o,i,s=null){const l=toList(e);n=toList(n),r=toList(r),a=toList(a),o=normalizeShapeList(o),i=normalizeShapeList(i);const c=[],u=[],d=[];for(const p of l)c.push(p.sourceLayer),u.push(p.nodeIndex),d.push(p.tensorIndex);new Node({outboundLayer:this,inboundLayers:c,nodeIndices:u,tensorIndices:d,inputTensors:l,outputTensors:n,inputMasks:r,outputMasks:a,inputShapes:o,outputShapes:i},s);for(let p=0;p<n.length;p++)n[p].sourceLayer=this,n[p].nodeIndex=this.inboundNodes.length-1,n[p].tensorIndex=p}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function getSourceInputs(e,n,r){if((null==n||null!=r&&r>0)&&(n=e.sourceLayer,r=e.nodeIndex),0===n.inboundNodes.length)return[e];{const e=n.inboundNodes[r];if(0===e.inboundLayers.length)return e.inputTensors;{const n=[];for(let r=0;r<e.inboundLayers.length;r++){const a=getSourceInputs(e.inputTensors[r],e.inboundLayers[r],e.nodeIndices[r]);for(const e of a)-1===n.indexOf(e)&&n.push(e)}return n}}}class input_layer_InputLayer extends topology_Layer{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:getUid("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new ValueError("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let n=e.batchInputShape;if(null==n){if(null==e.inputShape)throw new ValueError("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");n=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new ValueError("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const r=e.dtype||"float32";this.batchInputShape=n,this.dtype=r,this.inputSpec=[{shape:n}];const a=new topology_SymbolicTensor(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[n],outputShapes:[n]})}apply(e,n){throw new ValueError(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}function Input(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ValueError("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let n=e.batchShape;null!=e.shape&&null==n&&(n=[null].concat(e.shape));let r=e.dtype;null==r&&(r="float32");return new input_layer_InputLayer({batchInputShape:n,name:e.name,dtype:r,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}async function resolveScalarsInLogs(e){if(null==e)return;const n=[],r=[],a=[];for(const o in e){const i=e[o];if("number"!=typeof i){const e=i;n.push(e.data()),r.push(o),a.push(e)}}if(n.length>0){const o=await Promise.all(n);for(let n=0;n<o.length;++n)e[r[n]]=o[n][0];Object(i.Gd)(a)}}function disposeTensorsInLogs(e){if(null!=e)for(const n in e){const r=e[n];"number"!=typeof r&&r.dispose()}}var pa;input_layer_InputLayer.className="InputLayer",i.Je.registerClass(input_layer_InputLayer),function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(pa||(pa={}));class BaseCallback{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,n){}async onEpochEnd(e,n){}async onBatchBegin(e,n){}async onBatchEnd(e,n){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class CallbackList{constructor(e,n=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=n}append(e){this.callbacks.push(e)}setParams(e){for(const n of this.callbacks)n.setParams(e)}setModel(e){for(const n of this.callbacks)n.setModel(e)}async onEpochBegin(e,n){null==n&&(n={});for(const r of this.callbacks)await r.onEpochBegin(e,n)}async onEpochEnd(e,n){null==n&&(n={});for(const r of this.callbacks)await r.onEpochEnd(e,n)}async onBatchBegin(e,n){null==n&&(n={});for(const r of this.callbacks)await r.onBatchBegin(e,n)}async onBatchEnd(e,n){null==n&&(n={});for(const r of this.callbacks)await r.onBatchEnd(e,n)}async onTrainBegin(e){null==e&&(e={});for(const n of this.callbacks)await n.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const n of this.callbacks)await n.onTrainEnd(e)}}class base_callbacks_BaseLogger extends BaseCallback{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,n){null==n&&(n={});const r=null==n.size?0:n.size;this.seen+=r;for(const a in n){const e=n[a];if("number"==typeof e)this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+e*r;else{let n;a in this.totals?n=this.totals[a]:this.totals[a]=0;const o=Object(i.hf)((()=>Object(i.fd)(this.totals[a],Object(i.oe)(e,r))));this.totals[a]=o,null!=n&&n.dispose()}}}async onEpochEnd(e,n){if(null!=n)for(const r of this.params.metrics)null!=this.totals[r]&&("number"==typeof this.totals[r]?n[r]=this.totals[r]/this.seen:Object(i.hf)((()=>{const e=Object(i.oe)(Object(i.Hd)(1,this.seen),this.totals[r]);n[r]=e,this.totals[r].dispose(),Object(i.Yd)(n[r])})))}}class History extends BaseCallback{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,n){null==n&&(n={}),this.epoch.push(e);for(const r in n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r])}async syncData(){const e=[],n=[],r=[];for(const o in this.history){const a=this.history[o];for(let i=0;i<a.length;++i)if("number"!=typeof a[i]){const s=a[i];e.push(s.data()),n.push(o),r.push(i)}}const a=await Promise.all(e);for(let o=0;o<a.length;++o){this.history[n[o]][r[o]].dispose(),this.history[n[o]][r[o]]=a[o][0]}}}class base_callbacks_CustomCallback extends BaseCallback{constructor(e,n){if(super(),this.currentEpoch=0,this.yieldEvery=n||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");i.of.isNumber(this.yieldEvery)&&(this.maybeWait=function debounce(e,n){let r,a=i.of.now();return(...o)=>{const s=i.of.now();return s-a<n||(a=s,r=e(...o)),r}}(this.maybeWait.bind(this),this.yieldEvery)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,n,r){const a=[];null!=this.yield&&(await resolveScalarsInLogs(r),a.push(this.yield(e,n,r))),a.push(Object(i.qe)()),await Promise.all(a)}async onEpochBegin(e,n){this.currentEpoch=e,null!=this.epochBegin&&(await resolveScalarsInLogs(n),await this.epochBegin(e,n))}async onEpochEnd(e,n){const r=[];null!=this.epochEnd&&(await resolveScalarsInLogs(n),r.push(this.epochEnd(e,n))),"epoch"===this.yieldEvery&&r.push(Object(i.qe)()),await Promise.all(r)}async onBatchBegin(e,n){null!=this.batchBegin&&(await resolveScalarsInLogs(n),await this.batchBegin(e,n))}async onBatchEnd(e,n){const r=[];null!=this.batchEnd&&(await resolveScalarsInLogs(n),r.push(this.batchEnd(e,n))),"batch"===this.yieldEvery?r.push(Object(i.qe)()):i.of.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,e,n)),await Promise.all(r)}async onTrainBegin(e){null!=this.trainBegin&&(await resolveScalarsInLogs(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await resolveScalarsInLogs(e),await this.trainEnd(e))}}function standardizeCallbacks(e,n){if(null==e&&(e={}),e instanceof BaseCallback)return[e];if(Array.isArray(e)&&e[0]instanceof BaseCallback)return e;return toList(e).map((e=>new base_callbacks_CustomCallback(e,n)))}class base_callbacks_CallbackConstructorRegistry{constructor(){}static registerCallbackConstructor(e,n){i.of.assert(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),base_callbacks_CallbackConstructorRegistry.checkForDuplicate(n),null==base_callbacks_CallbackConstructorRegistry.constructors[e]&&(base_callbacks_CallbackConstructorRegistry.constructors[e]=[]),base_callbacks_CallbackConstructorRegistry.constructors[e].push(n)}static checkForDuplicate(e){for(const n in base_callbacks_CallbackConstructorRegistry.constructors){base_callbacks_CallbackConstructorRegistry.constructors[+n].forEach((n=>{if(n===e)throw new ValueError("Duplicate callback constructor.")}))}}static clear(){base_callbacks_CallbackConstructorRegistry.constructors={}}static createCallbacks(e){const n=[];for(const r in base_callbacks_CallbackConstructorRegistry.constructors){const a=+r;e>=a&&n.push(...base_callbacks_CallbackConstructorRegistry.constructors[a])}return n.map((e=>new e))}}function configureCallbacks(e,n,r,a,o,i,s,l,c){const u=new History,d=[new base_callbacks_BaseLogger,...base_callbacks_CallbackConstructorRegistry.createCallbacks(n)];null!=e&&d.push(...e),d.push(u);const p=new CallbackList(d);return p.setParams({epochs:r,initialEpoch:a,samples:o,steps:i,batchSize:s,verbose:n,doValidation:l,metrics:c}),{callbackList:p,history:u}}function deserialize(e,n={},r=!1){return deserializeKerasObject(e,i.Je.SerializationMap.getMap().classNameMap,n,"layer",r)}function l2Normalize(e,n){return Object(i.hf)((()=>{"float32"!==e.dtype&&(e=e.asType("float32"));const r=i.af(tfjs_backend_square(e),n,!0),a=i.Qd(r.shape,common_epsilon()),o=i.Ve(i.ie(r,a));return i.Hd(e,o)}))}function meanSquaredError(e,n){return Object(i.hf)((()=>i.je(tfjs_backend_square(i.Ze(n,e)),-1)))}function meanAbsoluteError(e,n){return Object(i.hf)((()=>i.je(i.ed(i.Ze(n,e)),-1)))}function meanAbsolutePercentageError(e,n){return Object(i.hf)((()=>{const r=i.Ze(e,n),a=i.td(i.ed(e),common_epsilon(),Number.MAX_VALUE),o=i.ed(i.Hd(r,a));return i.oe(100,i.je(o,-1))}))}function meanSquaredLogarithmicError(e,n){return Object(i.hf)((()=>{const r=i.td(n,common_epsilon(),Number.MAX_VALUE),a=i.ce(i.fd(1,r)),o=i.td(e,common_epsilon(),Number.MAX_VALUE),s=i.ce(i.fd(1,o));return i.je(tfjs_backend_square(i.Ze(a,s)),-1)}))}function categoricalCrossentropy(e,n,r=!1){return Object(i.hf)((()=>{if(r)n=i.Se(n);else{const e=i.af(n,n.shape.length-1,!0);n=i.Hd(n,e)}return n=i.td(n,common_epsilon(),1-common_epsilon()),i.pe(i.af(i.oe(e.toFloat(),i.ce(n)),n.shape.length-1))}))}function sparseCategoricalCrossentropy(e,n,r=!1){return Object(i.hf)((()=>{const a=i.Rd(function flatten(e){const n=[arrayProd(e.shape)];return e.reshape(n)}(e)).toInt(),o=(n=i.td(n,common_epsilon(),1-common_epsilon())).shape;return categoricalCrossentropy(i.se(a,o[o.length-1]).reshape(o),n,r)}))}function binaryCrossentropy(e,n){return Object(i.hf)((()=>{let r;return r=i.td(n,common_epsilon(),1-common_epsilon()),r=i.ce(i.Hd(r,i.Ze(1,r))),i.je(function sigmoidCrossEntropyWithLogits(e,n){if(!i.of.arraysEqual(e.shape,n.shape))throw new ValueError(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(n.shape)}`);return Object(i.hf)((()=>{const r=n.relu(),a=n.abs().neg();return r.sub(n.mul(e)).add(a.exp().log1p())}))}(e,r),-1)}))}function kullbackLeiblerDivergence(e,n){return Object(i.hf)((()=>{const r=i.td(e,common_epsilon(),1),a=i.td(n,common_epsilon(),1);return i.af(i.oe(e,i.ce(i.Hd(r,a))),-1)}))}function cosineProximity(e,n){return Object(i.hf)((()=>{const r=l2Normalize(e,-1),a=l2Normalize(n,-1),o=i.oe(r,a);return i.pe(i.af(o,-1))}))}base_callbacks_CallbackConstructorRegistry.constructors={};const fa={meanSquaredError:meanSquaredError,meanAbsoluteError:meanAbsoluteError,meanAbsolutePercentageError:meanAbsolutePercentageError,meanSquaredLogarithmicError:meanSquaredLogarithmicError,squaredHinge:function squaredHinge(e,n){return Object(i.hf)((()=>{const r=i.ie(0,i.Ze(1,i.oe(e,n)));return i.je(tfjs_backend_square(r),-1)}))},hinge:function hinge(e,n){return Object(i.hf)((()=>{const r=i.ie(0,i.Ze(1,i.oe(e,n)));return i.je(r,-1)}))},categoricalHinge:function categoricalHinge(e,n){return Object(i.hf)((()=>{const r=i.af(i.oe(e,n),-1),a=i.fe(i.oe(i.Ze(1,e),n),-1);return i.ie(0,i.fd(1,i.Ze(a,r)))}))},logcosh:function logcosh(e,n){return Object(i.hf)((()=>{const r=Math.log(2),a=i.Ze(n,e),o=i.Ze(i.fd(a,i.Te(i.oe(-2,a))),r);return i.je(o,-1)}))},categoricalCrossentropy:categoricalCrossentropy,sparseCategoricalCrossentropy:sparseCategoricalCrossentropy,binaryCrossentropy:binaryCrossentropy,kullbackLeiblerDivergence:kullbackLeiblerDivergence,poisson:function poisson(e,n){return Object(i.hf)((()=>{const r=i.ce(i.fd(common_epsilon(),n));return i.je(i.Ze(n,i.oe(e,r)),-1)}))},cosineProximity:cosineProximity};function get(e){if("string"==typeof e){if(e in fa)return fa[e];let n=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(n=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ValueError(n)}return e}function binaryAccuracy(e,n){return Object(i.hf)((()=>{const r=i.oe(.5,i.ue(n)),a=tfjs_backend_cast(i.Ud(n,r),e.dtype);return i.je(i.Md(e,a),-1)}))}function categoricalAccuracy(e,n){return Object(i.hf)((()=>tfjs_backend_cast(i.Md(i.id(e,-1),i.id(n,-1)),"float32")))}function truePositives(e,n){return Object(i.hf)((()=>i.ee(e.equal(1),n.equal(1)).sum().cast("float32")))}function precision(e,n){return Object(i.hf)((()=>{const r=truePositives(e,n),a=function falsePositives(e,n){return Object(i.hf)((()=>i.ee(e.equal(0),n.equal(1)).sum().cast("float32")))}(e,n),o=r.add(a);return i.sf(i.Ud(o,0),r.div(o),0).cast("float32")}))}function metrics_binaryCrossentropy(e,n){return binaryCrossentropy(e,n)}function sparseCategoricalAccuracy(e,n){return e.rank===n.rank&&(e=e.squeeze([e.rank-1])),(n=n.argMax(-1)).dtype!==e.dtype&&(n=n.asType(e.dtype)),i.Md(e,n).asType("float32")}const ha=categoricalCrossentropy,ma=sparseCategoricalCrossentropy,ga={binaryAccuracy:binaryAccuracy,categoricalAccuracy:categoricalAccuracy,precision:precision,categoricalCrossentropy:ha,sparseCategoricalCrossentropy:ma,mse:meanSquaredError,MSE:meanSquaredError,mae:meanAbsoluteError,MAE:meanAbsoluteError,mape:meanAbsolutePercentageError,MAPE:meanAbsolutePercentageError,cosine:cosineProximity};function metrics_get(e){if("string"==typeof e&&e in ga)return ga[e];if("string"!=typeof e&&null!=e)return e;throw new ValueError(`Unknown metric ${e}`)}function getLossOrMetricName(e){if(assert(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let n;for(const r of Object.keys(fa))if(fa[r]===e){n=r;break}if(void 0!==n)return n;for(const r of Object.keys(ga))if(ga[r]===e){n=r;break}return void 0!==n?n:e.name}}const ya=1048576;function checkUserDefinedMetadata(e,n,r=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!plainObjectCheck(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(r){const r=JSON.stringify(e);r.length>ya&&console.warn(`User-defined metadata of model "${n}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function plainObjectCheck(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);for(const r of n){if("string"!=typeof r)return!1;if(!plainObjectCheck(e[r]))return!1}return!0}if(Array.isArray(e)){for(const n of e)if(!plainObjectCheck(n))return!1;return!0}return!1}{const n=typeof e;return"string"===n||"number"===n||"boolean"===n}}function printSummary(e,n,r,a=console.log){const o=function isModelSequentialLike(e){let n=!0;const r=[],a=[];for(const o in e.nodesByDepth)r.push(e.nodesByDepth[o]);for(const o of r){if(o.length>1||1===o.length&&o[0].inboundLayers.length>1){n=!1;break}a.push(...o)}if(n)for(const o of e.layers){let e=!1;for(const r of o.inboundNodes)if(-1!==a.indexOf(r)){if(e){n=!1;break}e=!0}if(!n)break}return n}(e),i=["Layer (type)","Output shape","Param #"];let s;if(o?(n=n||65,r=r||[.45,.85,1]):(n=n||98,r=r||[.33,.55,.67,1]),r[r.length-1]<=1&&(r=r.map((e=>Math.floor(n*e)))),!o){i.push("Receives inputs"),s=[];for(const n in e.nodesByDepth)s.push(...e.nodesByDepth[n])}a("_".repeat(n)),printRow(i,r,a),a("=".repeat(n));const l=e.layers;for(let d=0;d<l.length;++d)o?printLayerSummary(l[d],r,a):printLayerSummaryWithConnections(l[d],r,s,a),a((d===l.length-1?"=":"_").repeat(n));e.checkTrainableWeightsConsistency();const c=function countTrainableParams(e){let n;n=null!=e.collectedTrainableWeights?countParamsInWeights(e.collectedTrainableWeights):countParamsInWeights(e.trainableWeights);return n}(e),u=countParamsInWeights(e.nonTrainableWeights);a(`Total params: ${c+u}`),a(`Trainable params: ${c}`),a(`Non-trainable params: ${u}`),a("_".repeat(n))}function printRow(e,n,r=console.log){let a="";for(let o=0;o<e.length;++o)o>0&&(a=a.slice(0,a.length-1)+" "),a+=e[o],a=a.slice(0,n[o]),a+=" ".repeat(n[o]-a.length);r(a)}function printLayerSummary(e,n,r){let a;try{a=JSON.stringify(e.outputShape)}catch(o){a="multiple"}printRow([`${e.name} (${e.getClassName()})`,a,e.countParams().toString()],n,r)}function printLayerSummaryWithConnections(e,n,r,a){let o;try{o=JSON.stringify(e.outputShape)}catch(u){o="multiple"}const i=[];for(const d of e.inboundNodes)if(!(null!=r&&r.length>0&&-1===r.indexOf(d)))for(let e=0;e<d.inboundLayers.length;++e){const n=d.inboundLayers[e].name,r=d.nodeIndices[e],a=d.tensorIndices[e];i.push(`${n}[${r}][${a}]`)}const s=e.name,l=e.getClassName(),c=0===i.length?"":i[0];printRow([`${s} (${l})`,o,e.countParams().toString(),c],n,a);for(let d=1;d<i.length;++d)printRow(["","","",i[d]],n,a)}function isArrayItemInputOrOutputName(e,n,r){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===n&&"string"==typeof r}function convertPythonicToTs(e,n){if(null===e)return null;if("string"==typeof e)return toCamelCase(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const r=[],a=e.length;for(let o=0;o<a;++o){const a=e[o];isArrayItemInputOrOutputName(n,o,a)?r.push(a):r.push(convertPythonicToTs(a,n))}return r}{const n={};for(const r of Object.keys(e)){const a=e[r];if("name"===r&&"string"==typeof a)n[r]=a;else{const e=toCamelCase(r);n[e]=convertPythonicToTs(a,e)}}return n}}function convertTsToPythonic(e,n){if(null==e)return null;if("string"==typeof e)return toSnakeCase(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const r=[],a=e.length;for(let o=0;o<a;++o){const a=e[o];isArrayItemInputOrOutputName(n,o,a)?r.push(a):r.push(convertTsToPythonic(a,n))}return r}{const n={};for(const r of Object.keys(e)){const a=e[r],o=toSnakeCase(r);n[o]="name"!==r&&"className"!==r||"string"!=typeof a?convertTsToPythonic(a,r):a}return n}}class executor_FeedDict{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof executor_FeedDict)for(const n in e.id2Value)this.id2Value[n]=e.id2Value[n],n in e.id2Mask&&(this.id2Mask[n]=e.id2Mask[n]);else{if(null==e)return;for(const n of e)this.add(n.key,n.value)}}add(e,n,r){if(null!=this.id2Value[e.id])throw new ValueError(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function assertFeedCompatibility(e,n){if(null==e.dtype||e.dtype===n.dtype)return n;try{return Object(i.sd)(n,e.dtype)}catch(r){throw new ValueError(`The dtype of the feed (${n.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,n),this.name2Id[e.name]=e.id,null!=r&&(this.id2Mask[e.id]=r),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof topology_SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const n=this.name2Id[e];if(null==n)throw new ValueError(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[n]}}getMask(e){if(e instanceof topology_SymbolicTensor){if(null==this.id2Value[e.id])throw new ValueError(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const n=this.name2Id[e];if(null==n)throw new ValueError(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[n]}}disposeMasks(){null!=this.id2Mask&&Object(i.Gd)(this.id2Mask)}}const ba={},va={};function execute(e,n,r,a){const o=null!=r&&r.training,s=Array.isArray(e),l=s?e:[e],c=l.map((e=>e.name)),u=[],d=n.names();for(const i of c)-1!==d.indexOf(i)?u.push(n.getValue(i)):u.push(null);null!=a&&(a.maxNumTensors=-1/0,a.minNumTensors=1/0);const p=c.join(",")+"|"+n.names().join(",");let f,h;if(null==ba[p]){const e=function getTopologicalSortAndRecipientCounts(e,n){i.of.assert(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let r=[],a={};if(1===e.length){const o=getTopologicalSortAndRecipientCountsForOneFetch(e[0],n);r=o.sorted,a=o.recipientMap}else{const o=new Set;for(const i of e){const{sorted:e,recipientMap:s}=getTopologicalSortAndRecipientCountsForOneFetch(i,n);for(const n of e)o.has(n.name)||(r.push(n),o.add(n.name));for(const n in s)null==a[n]&&(a[n]=new Set),s[n].forEach((e=>a[n].add(e)))}}return{sorted:r,recipientCounts:recipientMap2Counts(a)}}(l,n);f=e.sorted,h=e.recipientCounts,ba[p]=f,va[p]=h}f=ba[p],h={},o||Object.assign(h,va[p]);const m=new executor_FeedDict(n);for(let g=0;g<f.length;++g){if(null!=a){const e=Object(i.ke)().numTensors;e>a.maxNumTensors&&(a.maxNumTensors=e),e<a.minNumTensors&&(a.minNumTensors=e)}const e=f[g],s=e.sourceLayer;if(s instanceof input_layer_InputLayer)continue;const l=[],d=[],p=[];let y=!1;for(const r of e.inputs){const e=m.getValue(r),a=m.getMask(r);l.push(e),d.push(a),null!=a&&(y=!0),o||(h[r.name]--,0!==h[r.name]||n.hasKey(r)||-1!==c.indexOf(r.name)||e.isDisposed||!0===r.sourceLayer.stateful||p.push(e))}y&&((r=r||{}).mask=d[0]);const b=toList(s.apply(l,r));let x=null;s.supportsMasking&&(x=s.computeMask(l,d));const _=getNodeOutputs(e),w=Array.isArray(_)?_:[_];for(let n=0;n<w.length;++n){m.hasKey(w[n])||m.add(w[n],b[n],Array.isArray(x)?x[0]:x);const e=c.indexOf(w[n].name);-1!==e&&(u[e]=b[n])}o||Object(i.Gd)(p)}return m.disposeMasks(),s?u:u[0]}function recipientMap2Counts(e){const n={};for(const r in e)n[r]=e[r].size;return n}function getTopologicalSortAndRecipientCountsForOneFetch(e,n){const r=new Set,a=[],o={};for(const l of n.names())r.add(l);const i=[],s=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(r.has(e.name)){i.pop();continue}const n=s[s.length-1]===i.length-1;if(0===e.inputs.length||n)i.pop(),a.push(e),r.add(e.name),n&&s.pop();else{s.push(i.length-1);for(const n of e.inputs)null==o[n.name]&&(o[n.name]=new Set),o[n.name].add(e.name),r.has(n.name)||i.push(n)}}return{sorted:a,recipientMap:o}}function getNodeOutputs(e){let n;if(1===e.sourceLayer.inboundNodes.length)n=e.sourceLayer.output;else{let r=null;for(let n=0;n<e.sourceLayer.inboundNodes.length;++n)for(const a of e.sourceLayer.inboundNodes[n].outputTensors)if(a.id===e.id){r=n;break}n=e.sourceLayer.getOutputAt(r)}return n}class container_Container extends topology_Layer{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=getUid(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],generic_utils_unique(this.inputs).length!==this.inputs.length)throw new ValueError(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);generic_utils_unique(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,n=y.nodeIndex,r=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(r)}for(const y of this.inputs){const e=y.sourceLayer,n=y.nodeIndex,r=y.tensorIndex;assert(0===n,"input layer has >1 nodes"),assert(0===r,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(r)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const n=this.inputLayers[y];if(!(n instanceof input_layer_InputLayer))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${y} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const n={},r={},a={},o={},i={},s=[],buildMapOfGraph=(e,n,r,a,o,l)=>{null!=a&&null!=o&&null!=l||(a=e.sourceLayer,o=e.nodeIndex,l=e.tensorIndex);const c=a.inboundNodes[o];if(-1!==r.indexOf(c))throw new RuntimeError(`The tensor ${e.name} at layer "${a.name}" is part of a cycle.`);if(-1!==n.indexOf(c))return;this.containerNodes.add(container_Container.nodeKey(a,o)),a.id in i||(i[a.id]=Object.keys(i).length),-1===r.indexOf(c)&&r.push(c);const u=c.inboundLayers.length;for(let i=0;i<u;i++){const e=c.inputTensors[i],a=c.inboundLayers[i],o=c.nodeIndices[i],s=c.tensorIndices[i];buildMapOfGraph(e,n,r,a,o,s)}for(n.push(c);r.indexOf(c)>=0;)r.splice(r.indexOf(c),1);s.push(c)},l=[],c=[];for(const y of this.outputs)buildMapOfGraph(y,l,c);const u=s.slice().reverse();for(const y of u){r[y.id]=y,y.id in n||(n[y.id]=0);let e=n[y.id];const i=null==a[y.outboundLayer.id]?0:a[y.outboundLayer.id];e=Math.max(e,i),a[y.outboundLayer.id]=e,o[y.outboundLayer.id]=y.outboundLayer,n[y.id]=e;for(let a=0;a<y.inboundLayers.length;a++){const o=y.inboundLayers[a],i=y.nodeIndices[a],s=o.inboundNodes[i],l=null==n[s.id]?0:n[s.id];n[s.id]=Math.max(e+1,l),r[s.id]=s}}const d={};for(const y in n){const e=n[y];e in d||(d[e]=[]),d[e].push(r[y])}const p={};for(const y in a){const e=a[y];e in p||(p[e]=[]),p[e].push(o[y])}let f=Object.keys(p).map((e=>parseInt(e,10))).sort(reverseNumberCompare);this.layers=[];for(const y of f){const e=p[y];e.sort(((e,n)=>{const r=i[e.id],a=i[n.id];return r<a?-1:r>a?1:0}));for(const n of e)n instanceof container_Container&&this.internalContainerRefs.push(n),this.layers.push(n)}this.layersByDepth=p,f=Object.keys(d).map((e=>parseInt(e,10))).sort(reverseNumberCompare);const h=this.inputs.slice(),m=[];for(const y of f)for(const e of d[y]){const n=e.outboundLayer;if(null!=n){for(const r of e.inputTensors)if(-1===h.indexOf(r))throw new RuntimeError(`Graph disconnected: cannot obtain value for tensor ${r} at layer "${n.name}". The following previous layers were accessed without issue: ${m}`);for(const n of e.outputTensors)h.push(n);m.push(n.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new RuntimeError(`The name "${y}" is used ${e} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const n of this.layers)e.numDisposedVariables+=n.dispose().numDisposedVariables;for(const n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((n=>{n._trainableWeights.forEach((n=>n.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new ValueError("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const n of this.layers)e=e.concat(n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.layers)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const e of this.layers)n.push(...e.trainableWeights);return n.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,n=!0){const r={};let a=0;for(const i of this.layers)for(const e of i.weights){if(null!=r[e.originalName])throw new ValueError(`Duplicate weight name: ${e.originalName}`);r[e.originalName]=e,a++}const o=[];for(const i in e){let a=i;if(null==r[i]){const e=i.split("/");a=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=r[a])o.push([r[a],e[i]]);else if(n)throw new ValueError(`Provided weight data has no target variable: ${i}`);delete r[a]}if(n){const e=[];for(const n in r)e.push(n);if(e.length>0)throw new ValueError(`${e.length} of ${a} weights are not set: ${e}`)}batchSetValue(o)}updatedConfig(){const e=this.getConfig(),n={};return n.className=this.getClassName(),n.config=e,n.kerasVersion="tfjs-layers 3.3.0",n.backend="TensorFlow.js",n}toJSON(e,n=!0){const r=convertTsToPythonic(this.updatedConfig());return n?JSON.stringify(r):r}call(e,n){return Object(i.hf)((()=>{e=toList(e);const r=new executor_FeedDict;for(let n=0;n<this.inputs.length;++n)r.add(this.inputs[n],e[n]);return execute(this.outputs,r,n)}))}computeMask(e,n){return Object(i.hf)((()=>{let r;return e=toList(e),r=null==n?pyListRepeat(null,e.length):toList(n),this.runInternalGraph(e,r)[1]}))}computeOutputShape(e){const n=normalizeShapeList(e);if(n.length!==this.inputLayers.length)throw new ValueError(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const r={};for(let s=0;s<n.length;s++){const e=this.inputLayers[s],a=n[s];r[e.name+"_0_0"]=a}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(reverseNumberCompare);if(a.length>1)for(const s of a){const e=this.nodesByDepth[s];for(const n of e){const e=n.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const a=[];for(let s=0;s<n.inboundLayers.length;s++){const e=n.inboundLayers[s],o=n.nodeIndices[s],i=n.tensorIndices[s],l=r[`${e.name}_${o}_${i}`];a.push(l)}const o=normalizeShapeList(e.computeOutputShape(singletonOrArray(a))),i=e.inboundNodes.indexOf(n);for(let n=0;n<o.length;n++){r[`${e.name}_${i}_${n}`]=o[n]}}}const o=[],i=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],n=this.outputLayersNodeIndices[s],r=this.outputLayersTensorIndices[s],a=`${e.name}_${n}_${r}`;i.push(a)}for(let s=0;s<i.length;s++){const e=i[s];assert(e in r),o.push(r[e])}return singletonOrArray(o)}runInternalGraph(e,n){null==n&&(n=pyListRepeat(null,e.length));const r={};for(let l=0;l<this.inputs.length;++l){const a=this.inputs[l],o=e[l],i=n[l];r[a.id]=[o,i]}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(reverseNumberCompare);for(const l of a){const e=this.nodesByDepth[l];for(const n of e){const e=n.outboundLayer,a=n.inputTensors,o=n.outputTensors,i=new Array;for(const n of a)n.id in r&&i.push(r[n.id]);if(i.length===a.length){let a,s,l,c,u={};if(null!=n.callArgs&&(u=n.callArgs),1===i.length){const[n,r]=i[0];null==u.mask&&(u.mask=r),l=toList(e.call(n,u)),c=toList(e.computeMask(n,r)),a=[n],s=[r]}else a=i.map((e=>e[0])),s=i.map((e=>e[1])),null==u.mask&&(u.mask=s),l=toList(e.call(a,u)),c=toList(e.computeMask(a,s));if(e.activityRegularizer)throw new NotImplementedError("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<o.length;++e){const n=o[e],a=l[e],i=c[e];r[n.id]=[a,i]}}}}const o=[],i=[],s=[];for(const l of this.outputs){assert(l.id in r,`Could not compute output ${l.name} : ${l.id}`);const[e,n]=r[l.id];s.push(e.shape),o.push(e),i.push(n)}return[o,i,s]}buildNodeConversionMap(e){const n={};let r;for(const a of this.layers){r=a instanceof container_Container?1:0;for(let e=0;e<a.inboundNodes.length;e++){const o=container_Container.nodeKey(a,e);this.containerNodes.has(o)&&(n[o]=r,r+=1)}}return n}getLayer(e,n){if(null!=n){if(this.layers.length<=n)throw new ValueError(`Was asked to retrieve layer at index ${n}, but model only has ${this.layers.length} layer(s).`);return this.layers[n]}if(null==e)throw new ValueError("Provide either a layer name or layer index");for(const r of this.layers)if(r.name===e)return r;throw new ValueError(`No such layer: ${e}`)}calculateLosses(){return Object(i.hf)((()=>{const e=[];for(const n of this.layers)for(let r=0;r<n.inboundNodes.length;++r){const a=container_Container.nodeKey(n,r);this.containerNodes.has(a)&&e.push(...n.calculateLosses())}return e}))}getConfig(){const e={name:this.name},n=this.buildNodeConversionMap(this.layers),r=[];for(const s of this.layers){const e=s.getClassName(),a=s.getConfig(),o=[];for(let r=0;r<s.inboundNodes.length;r++){const e=s.inboundNodes[r],a=container_Container.nodeKey(s,r);let l={};if(this.containerNodes.has(a)){if(e.callArgs)try{JSON.stringify(e.callArgs),l=e.callArgs}catch(i){console.warn(`Layer ${s.name} was passed non-serializable keyword arguments: ${e.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),l={}}if(e.inboundLayers.length>0){const r=[];for(let a=0;a<e.inboundLayers.length;a++){const o=e.inboundLayers[a],i=e.nodeIndices[a],s=e.tensorIndices[a];let c=n[container_Container.nodeKey(o,i)];null==c&&(c=0),r.push([o.name,c,s,l])}o.push(r)}}}const l={};l.name=s.name,l.className=e,l.config=a,l.inboundNodes=o,r.push(l)}e.layers=r;const a=[];for(let s=0;s<this.inputLayers.length;s++){const e=this.inputLayers[s],r=this.inputLayersNodeIndices[s],o=container_Container.nodeKey(e,r);if(!this.containerNodes.has(o))continue;let i=n[o];null==i&&(i=0);const l=this.inputLayersTensorIndices[s];a.push([e.name,i,l])}e.inputLayers=a;const o=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],r=this.outputLayersNodeIndices[s],a=container_Container.nodeKey(e,r);if(!this.containerNodes.has(a))continue;let i=n[a];null==i&&(i=0);const l=this.outputLayersTensorIndices[s];o.push([e.name,i,l])}return e.outputLayers=o,e}static fromConfig(e,n,r={},a=!1){const o={},i={};function addUnprocessedNode(e,n){e.name in i?i[e.name].push(n):i[e.name]=[n]}function processNode(e,n){const r=[];let a;for(const i of n){const s=i[0],l=i[1],c=i[2];if(a=null==i[3]?{}:i[3],!(s in o))return void addUnprocessedNode(e,n);const u=o[s];if(u.inboundNodes.length<=l)return void addUnprocessedNode(e,n);const d=u.inboundNodes[l];r.push(d.outputTensors[c])}r.length>0&&e.apply(singletonOrArray(r),a)}function processLayer(e){const r=e.name,i=deserialize(e,null!=n.customObjects?n.customObjects:{});i.setFastWeightInitDuringBuild(a),o[r]=i;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new ValueError(`Corrupted configuration, expected array for nodeData: ${e}`);addUnprocessedNode(i,e)}))}const s=n.name,l=n.layers;for(const f of l)processLayer(f);for(;!isObjectEmpty(i);)for(const e of l){const n=o[e.name];if(n.name in i){const e=i[n.name];delete i[n.name];for(const r of e)processNode(n,r)}}const c=[],u=[],d=n.inputLayers;for(const f of d){const e=f[0],n=f[1],r=f[2];assert(e in o);const a=o[e].inboundNodes[n].outputTensors;c.push(a[r])}const p=n.outputLayers;for(const f of p){const e=f[0],n=f[1],r=f[2];assert(e in o);const a=o[e].inboundNodes[n].outputTensors;u.push(a[r])}return new e({inputs:c,outputs:u,name:s})}get stateful(){if(this._stateful)throw new ValueError("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){Object(i.hf)((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function standardizeSampleOrClassWeights(e,n,r){const a=n.length;if(null==e||Array.isArray(e)&&0===e.length)return n.map((e=>null));if(1===a)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&n[0]in e?[e[n[0]]]:[e];if(Array.isArray(e)){if(e.length!==a)throw new Error(`Provided ${r} is an array of ${e.length} element(s), but the model has ${a} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const r=[];return n.forEach((n=>{n in e?r.push(e[n]):r.push(null)})),r}throw new Error(`The model has multiple (${a}) outputs, so ${r} must be either an array with ${a} elements or an object with ${n} keys. Provided ${r} not understood: ${JSON.stringify(e)}`)}function standardizeClassWeights(e,n){return standardizeSampleOrClassWeights(e,n,"classWeight")}async function standardizeWeights(e,n,r,a){if(null!=n||null!=a)throw new Error("Support sampleWeight is not implemented yet");if(null!=r){const n=Object(i.hf)((()=>{if(1===e.shape.length)return e.clone();if(2===e.shape.length){if(e.shape[1]>1){const n=1;return e.argMax(n)}if(1===e.shape[1])return e.reshape([e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),a=Array.from(await n.data());Object(i.Gd)(n);const o=[];return a.forEach((e=>{if(null==r[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);o.push(r[e])})),Object(i.ef)(o,"float32")}return null}function computeWeightedLoss(e,n){return Object(i.oe)(e,n)}function standardizeDataIteratorOutput(e,n){let r,a;const o=n;r=o.xs,a=o.ys,i.of.assert(null!=r&&null!=a,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${n}`));const s=flattenTensorOrArrayOrMap("input",e.inputNames,r),l=flattenTensorOrArrayOrMap("output",e.outputNames,a),c=s[0].shape[0];i.of.assert(s.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),i.of.assert(l.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${l.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let u=0;u<s.length;u++)i.of.assert(s[u].shape[0]===c,(()=>`Batch size mismatch: input ${e.inputNames[u]} has ${s[u].shape[0]}; expected  ${c} based on input ${e.inputNames[0]}.`));for(let u=0;u<l.length;u++)i.of.assert(l[u].shape[0]===c,(()=>`Batch size mismatch: output ${e.outputNames[u]} has ${l[u].shape[0]}; expected  ${c} based on input ${e.inputNames[0]}.`));return{xs:s,ys:l}}function flattenTensorOrArrayOrMap(e,n,r){if(r instanceof i.Tc)return[r];if(Array.isArray(r))return i.of.assert(r.length===n.length,(()=>`Received an array of ${r.length} Tensors, but expected ${n.length} to match the ${e} keys ${n}.`)),r;{const a=[];for(const o of n){if(null==r[o])throw new ValueError(`The feature data generated by the dataset lacks the required ${e} key '${o}'.`);a.push(r[o])}return a}}async function fitDataset(e,n,r){const a=null!=r.batchesPerEpoch;if(i.of.assert(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),i.of.assert(null!=r,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),i.of.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${r.epochs}`)),i.of.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${r.batchesPerEpoch}`)),i.of.assert(null==r.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const o=null!=r.validationData;let s,l;if(o)if(isDatasetObject(r.validationData))i.of.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${r.validationBatches}`));else{const e=function standardizeTensorValidationData(e){if(3===e.length)throw new NotImplementedError("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(r.validationData);s=e.xs,l=e.ys}const c=e.makeTrainFunction(),u=e.getDedupedMetricsNames();let d;d=o?u.slice().concat(u.map((e=>"val_"+e))):u.slice();const p=standardizeCallbacks(r.callbacks,r.yieldEvery),f=null==r.verbose?1:r.verbose,{callbackList:h,history:m}=configureCallbacks(p,f,r.epochs,null,null,function getStepsPerEpoch(e,n){let r=null;null!=n.batchesPerEpoch?r=n.batchesPerEpoch:Number.isFinite(e.size)&&(r=e.size);return r}(n,r),null,o,d);h.setModel(e),e.history=m,await h.onTrainBegin(),e.stopTraining_=!1;let g=null==r.initialEpoch?0:r.initialEpoch,y=await n.iterator();for(;g<r.epochs;){const d={};await h.onEpochBegin(g);let p=0,f=0;for(a||(y=await n.iterator());!a||p<r.batchesPerEpoch;){const n=await y.next();if(a&&n.done){console.warn(`You provided \`batchesPerEpoch\` as ${r.batchesPerEpoch}, but your dataset iterator ran out of data after ${p} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+r.batchesPerEpoch*r.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=n.value){const{xs:a,ys:o}=standardizeDataIteratorOutput(e,n.value),s={};s.batch=f,s.size=a[0].shape[0],await h.onBatchBegin(f,s);const l=[];if(null!=r.classWeight){const n=standardizeClassWeights(r.classWeight,e.outputNames);for(let e=0;e<n.length;++e)l.push(await standardizeWeights(o[e],null,n[e]))}const d=a.concat(o).concat(l),m=c(d);i.Gd(d);for(let e=0;e<u.length;++e){const n=u[e],r=m[e];s[n]=r,i.Yd(r)}await h.onBatchEnd(f,s),disposeTensorsInLogs(s),f++,p++}if(a?p>=r.batchesPerEpoch:n.done){if(o){let n;n=isDatasetObject(r.validationData)?toList(await e.evaluateDataset(r.validationData,{batches:r.validationBatches})):toList(e.evaluate(s,l,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));for(let r=0;r<e.metricsNames.length;++r)d[`val_${e.metricsNames[r]}`]=n[r]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(g,d),g++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function isDatasetObject(e){return"function"==typeof e.iterator}function checkBatchSize(e){i.of.assert(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function sliceArrays(e,n,r){return null==e?[null]:Array.isArray(e)?e.map((e=>sliceAlongFirstAxis(e,n,r-n))):sliceAlongFirstAxis(e,n,r-n)}function sliceArraysByIndices(e,n){return i.hf((()=>null==e?null:Array.isArray(e)?e.map((e=>sliceArraysByIndices(e,n))):tfjs_backend_gather(e,"int32"===n.dtype?n:n.toInt())))}function makeBatches(e,n){const r=[];let a=0,o=null;for(;a<e;)o=a+n,o>=e&&(o=e),r.push([a,o]),a=o;return r}async function fitTensors(e,n,r,a={}){if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let o,s,l,c,u,d,p;e.isTraining=!0;try{const f=null==a.batchSize?32:a.batchSize;checkBatchSize(f);const h=!1,m=await e.standardizeUserData(n,r,a.sampleWeight,a.classWeight,h,f);o=m[0],s=m[1],p=m[2];let g,y=!1;if(null!=a.validationData&&a.validationData.length>0){if(y=!0,2!==a.validationData.length)throw 3===a.validationData.length?new NotImplementedError("validationData including sample weights is not supported yet."):new ValueError(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${a.validationData} is invalid.`);l=a.validationData[0],c=a.validationData[1];const n=!0,r=await e.standardizeUserData(l,c,null,null,n,f);u=r[0],d=r[1],g=u.concat(d)}else if(null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1){y=!0;const e=Math.floor(o[0].shape[0]*(1-a.validationSplit)),n=o[0].shape[0];u=sliceArrays(o,e,n),o=sliceArrays(o,0,e),d=sliceArrays(s,e,n),s=sliceArrays(s,0,e),g=u.concat(d)}else null!=a.validationSteps&&(y=!0);const b=o.concat(s).concat(p);e.checkTrainableWeightsConsistency();const x=e.makeTrainFunction(),_=e.getDedupedMetricsNames();let w,k;y?(e.makeTestFunction(),w=e.testFunction,k=_.slice().concat(_.map((e=>"val_"+e)))):(w=null,g=[],k=_.slice());const T=standardizeCallbacks(a.callbacks,a.yieldEvery);return await async function fitLoop(e,n,r,a,o,s,l,c,u,d,p,f,h,m,g){null==o&&(o=32),null==s&&(s=1),null==p&&(p=!0),null==h&&(h=0);let y=!1;if(null!=u&&null!=d&&(y=!0),null!=g&&(y=!0,null==m))throw new ValueError("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=e.checkNumSamples(r,o,m,"steps_per_epoch");let x;null!=b&&(x=range(0,b)),null==l&&(l=1);const{callbackList:_,history:w}=configureCallbacks(c,l,s,h,b,m,o,y,f);_.setModel(e),e.history=w,await _.onTrainBegin(),e.stopTraining_=!1;for(let k=h;k<s;++k){await _.onEpochBegin(k);const s={};if(null!=m)throw new NotImplementedError("stepsPerEpoch mode is not implemented yet.");{if("batch"===p)throw new NotImplementedError("batch shuffling is not implemneted yet");p&&i.of.shuffle(x);const l=Object(i.ef)(x),c=makeBatches(b,o);for(let p=0;p<c.length;++p){const f={};if(await _.onBatchBegin(p,f),i.hf((()=>{const h=c[p][0],m=c[p][1],g=sliceAlongFirstAxis(l,h,m-h);f.batch=p,f.size=m-h;const b=sliceArraysByIndices(r,g),x=n(b);for(let e=0;e<a.length;++e){const n=a[e],r=x[e];f[n]=r,i.Yd(r)}if(p===c.length-1&&y){const n=e.testLoop(u,d,o);for(let e=0;e<a.length;++e){const r=a[e],o=n[e];i.Yd(o),s["val_"+r]=o}}})),await _.onBatchEnd(p,f),disposeTensorsInLogs(f),e.stopTraining_)break}l.dispose()}if(await _.onEpochEnd(k,s),e.stopTraining_)break}return await _.onTrainEnd(),await e.history.syncData(),e.history}(e,x,b,_,f,a.epochs,a.verbose,T,w,g,a.shuffle,k,a.initialEpoch,null,null)}finally{e.isTraining=!1,disposeNewTensors(o,n),disposeNewTensors(s,r),disposeNewTensors(u,l),disposeNewTensors(d,c),null!=p&&i.Gd(p)}}function ensureTensorsRank2OrHigher(e){const n=[];e instanceof i.Tc&&(e=[e]);for(let r=0;r<e.length;++r){const a=e[r];if(1===a.rank)n.push(expandDims(a,1));else{if(0===a.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");n.push(a)}}return n}function disposeNewTensors(e,n){if(null==e)return;const r=[];if(n instanceof i.Tc)r.push(n.id);else if(Array.isArray(n))n.forEach((e=>r.push(e.id)));else if(null!=n)for(const o in n){const e=n[o];r.push(e.id)}const a=[];if(e instanceof i.Tc)-1===r.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===r.indexOf(e.id)&&a.push(e)}));else if(null!=e)for(const o in e){const n=e[o];-1===r.indexOf(n.id)&&a.push(n)}a.forEach((e=>{e.isDisposed||e.dispose()}))}function isDataArray(e){return Array.isArray(e)}function isDataDict(e){return!function isDataTensor(e){return e instanceof i.Tc}(e)&&!isDataArray(e)}function standardizeInputData(e,n,r,a=!0,o=""){if(null==n||0===n.length){if(null!=e){let n=!1;if(isDataArray(e)&&e.length>0)n=!0;else if(isDataDict(e)){for(const r in e)if(e.hasOwnProperty(r)){n=!0;break}}else n=!0;if(n)throw new ValueError(`Error when checking model ${o} expected no data, but got ${e}`)}return[]}if(null==e)return n.map((e=>null));let i;if(isDataDict(e)){e=e,i=[];for(const r of n){if(null==e[r])throw new ValueError(`No data provided for "${r}". Need data for each key in: ${n}`);i.push(e[r])}}else if(isDataArray(e)){if((e=e).length!==n.length)throw new ValueError(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${n.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(e=e,n.length>1)throw new ValueError(`The model ${o} expects ${n.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=ensureTensorsRank2OrHigher(i),null!=r)for(let s=0;s<n.length;++s){if(null==r[s])continue;const e=i[s];if(e.shape.length!==r[s].length)throw new ValueError(`Error when checking ${o}: expected ${n[s]} to have ${r[s].length} dimension(s). but got array with shape ${e.shape}`);for(let i=0;i<r[s].length;++i){if(0===i&&!a)continue;const l=e.shape[i],c=r[s][i];if(null!=c&&c>=0&&l!==c)throw new ValueError(`Error when checking ${o}: expected ${n[s]} to have shape [${r[s]}], but got array with shape [${e.shape}].`)}}return i}function checkInputData(e,n,r,a=!0,o=""){let i;if(Array.isArray(e)){if(e.length!==n.length)throw new ValueError(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${n.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(n.length>1)throw new ValueError(`The model expects ${n.length} ${o} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(null!=r)for(let s=0;s<n.length;++s){if(null==r[s])continue;const e=i[s];if(e.shape.length!==r[s].length)throw new ValueError(`Error when checking ${o}: expected ${n[s]} to have ${r[s].length} dimension(s), but got array with shape ${JSON.stringify(e.shape)}`);for(let i=0;i<r[s].length;++i){if(0===i&&!a)continue;const l=e.shape[i],c=r[s][i];if(null!=c&&c!==l)throw new ValueError(`Error when checking ${o}: expected ${n[s]} to have shape ${JSON.stringify(r[s])} but got array with shape ${JSON.stringify(e.shape)}.`)}}}class training_LayersModel extends container_Container{constructor(e){super(e),this.isTraining=!1}summary(e,n,r=console.log){if(!this.built)throw new ValueError("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");printSummary(this,e,n,r)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function getOptimizer(e){const n={Adagrad:()=>i.jf.adagrad(.01),Adadelta:()=>i.jf.adadelta(1,.95,common_epsilon()),Adam:()=>i.jf.adam(.001,.9,.999,common_epsilon()),Adamax:()=>i.jf.adamax(.002,.9,.999,common_epsilon(),0),RMSProp:()=>i.jf.rmsprop(.001,.9,0,common_epsilon()),SGD:()=>i.jf.sgd(.01)};if(n.adagrad=n.Adagrad,n.adadelta=n.Adadelta,n.adam=n.Adam,n.adamax=n.Adamax,n.rmsprop=n.RMSProp,n.sgd=n.SGD,e in n)return n[e]();throw new ValueError(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof i.cc))throw new ValueError("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let n=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ValueError(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const r=e.loss;n=r.map((e=>get(e)))}else{const r=get(e.loss);this.outputs.forEach((e=>{n.push(r)}))}else{e.loss=e.loss;for(const n in e.loss)if(-1===this.outputNames.indexOf(n))throw new ValueError(`Unknown entry in loss dictionary: "${n}". Only expected the following keys: ${this.outputNames}`);for(const r of this.outputNames)null==e.loss[r]&&console.warn(`Output "${r}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${r} during training`),n.push(get(e.loss[r]))}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const e=this.internalOutputShapes[o],n=this.outputNames[o];this.feedOutputNames.push(n),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[o])}const r=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],nameScope("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==r.indexOf(e))continue;const n=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([n,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const a=function collectMetrics(e,n){if(null==e||Array.isArray(e)&&0===e.length)return n.map((e=>[]));let r;if("string"==typeof e||"function"==typeof e)r=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);r=e}if(Array.isArray(r))return n.map((e=>r));{const e=[];for(const a of n){let n=r.hasOwnProperty(a)?r[a]:[];Array.isArray(n)||(n=[n]),e.push(n)}return e}}(e.metrics,this.outputNames),appendMetric=(e,n,r)=>{this.outputNames.length>1&&(n=this.outputNames[e]+"_"+n),this.metricsNames.push(n),this.metricsTensors.push([r,e])};nameScope("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==r.indexOf(e))continue;(n=>{let r,a,o;for(const i of n){if("string"==typeof i&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(i)){const n=this.internalOutputShapes[e];let s;1===n[n.length-1]||this.lossFunctions[e]===binaryCrossentropy?-1!==["accuracy","acc"].indexOf(i)?a=binaryAccuracy:-1!==["crossentropy","ce"].indexOf(i)&&(a=metrics_binaryCrossentropy):this.lossFunctions[e]===sparseCategoricalCrossentropy?-1!==["accuracy","acc"].indexOf(i)?a=sparseCategoricalAccuracy:-1!==["crossentropy","ce"].indexOf(i)&&(a=ma):-1!==["accuracy","acc"].indexOf(i)?a=categoricalAccuracy:-1!==["crossentropy","ce"].indexOf(i)&&(a=ha),-1!==["accuracy","acc"].indexOf(i)?s="acc":-1!==["crossentropy","ce"].indexOf(i)&&(s="ce"),o=a,r=""+s}else{const e=metrics_get(i);o=e,r=""+getLossOrMetricName(i)}let n;nameScope(r,(()=>{n=o})),appendMetric(e,r,n)}})(a[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,n,r={}){const a=null==r.batchSize?32:r.batchSize;checkBatchSize(a);const o=this.standardizeUserDataXY(e,n,!0,a);try{const i=o[0].concat(o[1]);this.makeTestFunction();const s=this.testFunction;return singletonOrArray(this.testLoop(s,i,a,r.verbose,r.steps))}finally{disposeNewTensors(o[0],e),disposeNewTensors(o[1],n)}}async evaluateDataset(e,n){return this.makeTestFunction(),async function evaluateDataset(e,n,r){const a=null!=(r=r||{}).batches,o=e.testFunction;let s=[];if(r.verbose>0)throw new NotImplementedError("Verbose mode is not implemented yet.");i.of.assert(!a||r.batches>0&&Number.isInteger(r.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(r.batches)}`));const l=function isLazyIteratorObject(e){return"function"==typeof e.next}(n)?n:await n.iterator();let c=0,u=0;for(;!a||u<r.batches;){const n=await l.next();if(s=i.hf((()=>{if(n.value){const{xs:r,ys:a}=standardizeDataIteratorOutput(e,n.value),l=r.concat(a),d=i.hf((()=>o(l)));if(i.Gd(l),0===u)for(let e=0;e<d.length;++e)s.push(Object(i.Ge)(0));const p=l[0].shape[0];for(let e=0;e<d.length;++e){const n=d[e],r=s[e];s[e]=i.hf((()=>i.fd(s[e],i.oe(p,n)))),u>0&&i.Gd(r)}i.Gd(d),c+=p,++u}return s})),n.done){a&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${r.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let d=0;d<s.length;++d){const e=s[d];s[d]=i.Hd(s[d],c),i.Gd(e)}return singletonOrArray(s)}(this,e,n)}checkNumSamples(e,n,r,a="steps"){let o;if(null!=r){if(o=null,null!=n)throw new ValueError(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${n}`)}else{if(null==e)throw new ValueError(`Either the input data should have a defined shape, or ${a} shoud be specified.`);o=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return o}execute(e,n){if(Array.isArray(n)&&0===n.length)throw new ValueError("`outputs` is an empty Array, which is not allowed.");const r=Array.isArray(n),a=r?n:[n],o=this.retrieveSymbolicTensors(a),s=new executor_FeedDict;if(e instanceof i.Tc&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ValueError(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let n=0;n<this.inputs.length;++n)s.add(this.inputs[n],e[n])}else for(const i of this.inputs){const n=e[i.name];if(null==n)throw new ValueError(`No value is provided for the model's input ${i.name}`);s.add(i,n)}const l=execute(o,s);return r?l:l[0]}retrieveSymbolicTensors(e){const n=pyListRepeat(null,e.length);let r=e.length;for(const a of this.layers){const o=Array.isArray(a.output)?a.output:[a.output],i=o.map((e=>e.name));for(let a=0;a<e.length;++a){const s=i.indexOf(e[a]);if(-1!==s&&(n[a]=o[s],r--),0===r)break}if(0===r)break}if(r>0){const r=[];throw n.forEach(((n,a)=>{null==n&&r.push(e[a])})),new ValueError(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(r)}`)}return n}predictLoop(e,n=32,r=!1){return i.hf((()=>{const a=this.checkNumSamples(e);if(r)throw new NotImplementedError("Verbose predictLoop() is not implemented yet.");const o=makeBatches(a,n),s=this.outputs.map((e=>[]));for(let n=0;n<o.length;++n){i.hf((()=>{const r=o[n][0],a=o[n][1],i=sliceArrays(e,r,a),s=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)s.push({key:this.inputs[e],value:i[e]});else s.push({key:this.inputs[0],value:i});const l=new executor_FeedDict(s);return execute(this.outputs,l)})).forEach(((e,n)=>s[n].push(e)))}return singletonOrArray(s.map((e=>i.vd(e,0))))}))}predict(e,n={}){const r=ensureTensorsRank2OrHigher(e);checkInputData(r,this.inputNames,this.feedInputShapes,!1);try{const a=null==n.batchSize?32:n.batchSize;return checkBatchSize(a),this.predictLoop(r,a)}finally{disposeNewTensors(r,e)}}predictOnBatch(e){checkInputData(e,this.inputNames,this.feedInputShapes,!0);const n=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,n)}standardizeUserDataXY(e,n,r=!0,a){if(null==this.optimizer_)throw new RuntimeError("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let i=0;i<this.feedOutputShapes.length;++i){const e=this.feedOutputShapes[i];this.feedLossFns[i]===sparseCategoricalCrossentropy?o.push(e.slice(0,e.length-1).concat([1])):o.push(e)}if(function checkArrayLengths(e,n,r){const a=generic_utils_unique(e.map((e=>e.shape[0])));a.sort();const o=generic_utils_unique(n.map((e=>e.shape[0])));if(o.sort(),a.length>1)throw new ValueError(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(o.length>1)throw new ValueError(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(n.map((e=>e.shape)))}`);if(a.length>0&&o.length>0&&!i.of.arraysEqual(a,o))throw new ValueError(`Input Tensors should have the same number of samples as target Tensors. Found ${a[0]} input sample(s) and ${o[0]} target sample(s).`)}(e=standardizeInputData(e,this.feedInputNames,this.feedInputShapes,!1,"input"),n=standardizeInputData(n,this.feedOutputNames,o,!1,"target")),function checkLossAndTargetCompatibility(e,n,r){const a=[meanSquaredError,binaryCrossentropy,categoricalCrossentropy];for(let o=0;o<e.length;++o){const i=e[o],s=n[o],l=r[o];if(null!=s){if(s===categoricalCrossentropy&&1===i.shape[i.shape.length-1])throw new ValueError(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==a.indexOf(s)){const e=i.shape.slice(1),n=l.slice(1);for(let r=0;r<e.length;++r){const a=e[r],o=n[r];if(null!=o&&a!==o)throw new ValueError(`A target Tensor with shape ${i.shape} was passed for an output of shape ${l}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(n,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=a&&a>0&&e[0].shape[0]%a!=0)throw new ValueError(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,n]}async standardizeUserData(e,n,r,a,o=!0,i){const[s,l]=this.standardizeUserDataXY(e,n,o,i);if(null!=r)throw new Error("sample weight is not supported yet.");let c=null;if(null!=a){const e=standardizeClassWeights(a,this.outputNames);c=[];for(let n=0;n<e.length;++n)c.push(await standardizeWeights(l[n],null,e[n]))}return[s,l,c]}testLoop(e,n,r,a=0,o){return i.hf((()=>{const s=this.checkNumSamples(n,r,o,"steps"),l=[];if(a>0)throw new NotImplementedError("Verbose mode is not implemented yet.");if(null!=o)throw new NotImplementedError("steps mode in testLoop() is not implemented yet");{const a=makeBatches(s,r),o=Object(i.ef)(range(0,s));for(let r=0;r<a.length;++r){const s=a[r][0],c=a[r][1],u=sliceAlongFirstAxis(o,s,c-s),d=sliceArraysByIndices(n,u),p=e(d);if(0===r)for(let e=0;e<p.length;++e)l.push(Object(i.Ge)(0));for(let e=0;e<p.length;++e){const n=p[e];l[e]=i.fd(l[e],i.oe(c-s,n))}}for(let e=0;e<l.length;++e)l[e]=i.Hd(l[e],s)}return l}))}getDedupedMetricsNames(){const e=this.metricsNames,n=[];for(let r=0;r<e.length;++r){const a=e[r];let o=a;if(generic_utils_count(e,a)>1){o+=`_${generic_utils_count(e.slice(0,r),a)}`}n.push(o)}return n}makeTrainFunction(){return e=>{const n=[],r=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),s=[],l=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let n=0;n<this.inputs.length;++n)e.push({key:this.inputs[n],value:r[n]});const l=new executor_FeedDict(e),c=execute(this.outputs,l,{training:!0});let u;for(let r=0;r<this.lossFunctions.length;++r){let e=(0,this.lossFunctions[r])(a[r],c[r]);null!=o[r]&&(e=computeWeightedLoss(e,o[r]));const s=i.je(e);n.push(s),u=0===r?e:i.fd(u,e)}for(let r=0;r<this.metricsTensors.length;++r){let e;if(this.outputs.length>1&&r<this.outputs.length)e=n[r];else{const n=this.metricsTensors[r][0],o=this.metricsTensors[r][1];e=i.je(n(a[o],c[o]))}i.Yd(e),s.push(e)}return u=i.je(u),this.calculateLosses().forEach((e=>{u=i.fd(u,e)})),u}),!0,l)].concat(s)}}makeTestFunction(){this.testFunction=e=>i.hf((()=>{const n=[];let r;const a=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let e=0;e<this.inputs.length;++e)s.push({key:this.inputs[e],value:a[e]});const l=new executor_FeedDict(s),c=execute(this.outputs,l);for(let e=0;e<this.lossFunctions.length;++e){const a=this.lossFunctions[e],s=i.je(a(o[e],c[e]));r=0===e?s:i.fd(r,s),n.push(r)}for(let e=0;e<this.metricsTensors.length;++e){const r=this.metricsTensors[e][0],a=this.metricsTensors[e][1],s=i.je(r(o[a],c[a]));n.push(s)}return n}))}async fit(e,n,r={}){return fitTensors(this,e,n,r)}async fitDataset(e,n){return fitDataset(this,e,n)}async trainOnBatch(e,n){const r=await this.standardizeUserData(e,n),a=r[0],o=r[1],s=this.makeTrainFunction()(a.concat(o)),l=[];for(const i of s){const e=await i.data();l.push(e[0])}return i.Gd(s),singletonOrArray(l)}getNamedWeights(e){const n=[],r=null!=e&&e.trainableOnly,a=r?this.trainableWeights:this.weights,o=this.getWeights(r);for(let i=0;i<a.length;++i)r&&!a[i].trainable||n.push({name:a[i].originalName,tensor:o[i]});return n}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const n=i.ke().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=n-i.ke().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=toSnakeCase(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>toSnakeCase(e)))}else{const n=Object.keys(this.loss);e={};const r=this.loss;for(const a of n){if("string"!=typeof r[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=toSnakeCase(r[a])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[toSnakeCase(getLossOrMetricName(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>toSnakeCase(getLossOrMetricName(e))));{const e={};for(const n in this.metrics)e[n]=toSnakeCase(getLossOrMetricName(this.metrics[n]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const n=deserialize(convertPythonicToTs(e.optimizer_config));let r,a;if("string"==typeof e.loss)r=toCamelCase(e.loss);else if(Array.isArray(e.loss))r=e.loss.map((e=>toCamelCase(e)));else if(null!=e.loss){r={};for(const n in e.loss)r[n]=toCamelCase(e.loss[n])}if(Array.isArray(e.metrics))a=e.metrics.map((e=>toCamelCase(e)));else if(null!=e.metrics){a={};for(const n in e.metrics)a[n]=toCamelCase(e.metrics[n])}this.compile({loss:r,metrics:a,optimizer:n})}async save(e,n){if("string"==typeof e){const n=i.Xd.getSaveHandlers(e);if(0===n.length)throw new ValueError(`Cannot find any save handlers for URL '${e}'`);if(n.length>1)throw new ValueError(`Found more than one (${n.length}) save handlers for URL '${e}'`);e=n[0]}if(null==e.save)throw new ValueError("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await i.Xd.encodeWeights(this.getNamedWeights(n)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v3.3.0",convertedBy:null};if(null!=n&&n.includeOptimizer&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:n,specs:o}=await i.Xd.encodeWeights(await this.optimizer.getWeights(),e);r.specs.push(...o),r.data=i.Xd.concatenateArrayBuffers([r.data,n])}if(null!=this.userDefinedMetadata){const e=!0;checkUserDefinedMetadata(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}setUserDefinedMetadata(e){checkUserDefinedMetadata(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}training_LayersModel.className="Model",i.Je.registerClass(training_LayersModel);class Functional extends training_LayersModel{}Functional.className="Functional",i.Je.registerClass(Functional);class models_Sequential extends training_LayersModel{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:getUid("sequential_"),null!=e.layers)for(const n of e.layers)this.add(n)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new ValueError(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const n=e instanceof models_Sequential||e instanceof training_LayersModel;let r;if(n){if(r=e,1!==r.outputs.length)throw new ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==r.inputs.length)throw new ValueError("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ValueError("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const n=Input({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(n)}if(n)this.outputs=r.outputs,this.inputs=r.inputs;else{if(1!==e.inboundNodes.length)throw new ValueError(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new ValueError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=getSourceInputs(this.outputs[0])}this.inboundNodes=[],new Node({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:pyListRepeat(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const n=e.apply(this.outputs[0]);if(Array.isArray(n))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[n],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,n){return null==this.model&&this.build(),this.model.call(e,n)}build(e){if(getExactlyOneShape(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new training_LayersModel({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,n,r=console.log){this.built||this.build(),super.summary(e,n,r)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,n,r={}){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return this.model.evaluate(e,n,r)}async evaluateDataset(e,n){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,n)}predict(e,n={}){return null==this.model&&this.build(),this.model.predict(e,n)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,n,r={}){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return this.model.fit(e,n,r)}async fitDataset(e,n){if(!this.built)throw new RuntimeError("The model needs to be compiled before being used.");return this.model.fitDataset(e,n)}async trainOnBatch(e,n){return this.model.trainOnBatch(e,n)}static fromConfig(e,n,r={},a=!1){let o,s={};if(n instanceof Array){if(null==n[0].className||"Merge"===n[0].className)throw new ValueError("Legacy serialization format not supported yet.");o=n}else i.of.assert(null!=n.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),o=n.layers,delete n.layers,s=n;const l=new e(s);if(!(l instanceof models_Sequential))throw new NotImplementedError(`Sequential.fromConfig called on non-Sequential input: ${l}`);for(const i of o){const e=deserialize(i,void 0,a);a&&e.setFastWeightInitDuringBuild(!0),l.add(e)}return l}set stopTraining(e){if(null==this.model)throw new ValueError("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new ValueError("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const n of this.layers){const r={};r.className=n.getClassName(),r.config=n.getConfig(),e.push(r)}return{name:this.name,layers:e}}}function sequential(e){return new models_Sequential(e)}function exports_input(e){return Input(e)}models_Sequential.className="Sequential",i.Je.registerClass(models_Sequential);class activations_Activation extends i.Je.Serializable{getConfig(){return{}}}class activations_Elu extends activations_Activation{apply(e,n=1){return function tfjs_backend_elu(e,n=1){if(1!==n)throw new NotImplementedError(`Support for alpha values other than 1 (${n}) is not implemented yet.`);return i.Jd(e)}(e,n)}}activations_Elu.className="elu",i.Je.registerClass(activations_Elu);class activations_Selu extends activations_Activation{apply(e){return i.He(e)}}activations_Selu.className="selu",i.Je.registerClass(activations_Selu);class activations_Relu extends activations_Activation{apply(e){return i.De(e)}}activations_Relu.className="relu",i.Je.registerClass(activations_Relu);class activations_Relu6 extends activations_Activation{apply(e){return Object(i.hf)((()=>i.me(6,i.De(e))))}}activations_Relu6.className="relu6",i.Je.registerClass(activations_Relu6);class Linear extends activations_Activation{apply(e){return e}}Linear.className="linear",i.Je.registerClass(Linear);class activations_Sigmoid extends activations_Activation{apply(e){return i.Le(e)}}activations_Sigmoid.className="sigmoid",i.Je.registerClass(activations_Sigmoid);class activations_HardSigmoid extends activations_Activation{apply(e){return function hardSigmoid(e){return Object(i.hf)((()=>{const n=i.fd(.5,i.oe(.2,e));return i.td(n,0,1)}))}(e)}}activations_HardSigmoid.className="hardSigmoid",i.Je.registerClass(activations_HardSigmoid);class activations_Softplus extends activations_Activation{apply(e){return i.Te(e)}}activations_Softplus.className="softplus",i.Je.registerClass(activations_Softplus);class activations_Softsign extends activations_Activation{apply(e){return function softsign(e){return Object(i.hf)((()=>i.Hd(e,i.ed(e).add(1))))}(e)}}activations_Softsign.className="softsign",i.Je.registerClass(activations_Softsign);class activations_Tanh extends activations_Activation{apply(e){return i.cf(e)}}activations_Tanh.className="tanh",i.Je.registerClass(activations_Tanh);class activations_Softmax extends activations_Activation{apply(e,n=-1){return i.Se(e,n)}}activations_Softmax.className="softmax",i.Je.registerClass(activations_Softmax);class activations_LogSoftmax extends activations_Activation{apply(e,n=-1){return i.de(e,n)}}activations_LogSoftmax.className="logSoftmax",i.Je.registerClass(activations_LogSoftmax);class activations_Swish extends activations_Activation{apply(e,n=1){return Object(i.hf)((()=>i.Le(e.mul(n)).mul(e)))}}function serializeActivation(e){return e.getClassName()}function deserializeActivation(e,n={}){return deserializeKerasObject(e,i.Je.SerializationMap.getMap().classNameMap,n,"activation")}function getActivation(e){if(null==e){const e={className:"linear",config:{}};return deserializeActivation(e)}if("string"==typeof e){const n={};return n.className=e,n.config={},deserializeActivation(n)}return e instanceof activations_Activation?e:deserializeActivation(e)}function assertObjectArgs(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}activations_Swish.className="swish",i.Je.registerClass(activations_Swish);class regularizers_Regularizer extends i.Je.Serializable{}class regularizers_L1L2 extends regularizers_Regularizer{constructor(e){super(),assertObjectArgs(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return Object(i.hf)((()=>{let n=Object(i.tf)([1]);return this.hasL1&&(n=Object(i.fd)(n,Object(i.af)(i.oe(this.l1,Object(i.ed)(e))))),this.hasL2&&(n=Object(i.fd)(n,Object(i.af)(i.oe(this.l2,tfjs_backend_square(e))))),n.asScalar()}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,n){return new e({l1:n.l1,l2:n.l2})}}regularizers_L1L2.className="L1L2",i.Je.registerClass(regularizers_L1L2);const xa={l1l2:"L1L2"};function serializeRegularizer(e){return serializeKerasObject(e)}function deserializeRegularizer(e,n={}){return deserializeKerasObject(e,i.Je.SerializationMap.getMap().classNameMap,n,"regularizer")}function getRegularizer(e){if(null==e)return null;if("string"==typeof e){return deserializeRegularizer({className:e in xa?xa[e]:e,config:{}})}return e instanceof regularizers_Regularizer?e:deserializeRegularizer(e)}class advanced_activations_ReLU extends topology_Layer{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,n){e=getExactlyOneTensor(e);let r=Object(i.De)(e);return null!=this.maxValue&&(r=Object(i.td)(r,0,this.maxValue)),r}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},n=super.getConfig();return Object.assign(e,n),e}}advanced_activations_ReLU.className="ReLU",i.Je.registerClass(advanced_activations_ReLU);class advanced_activations_LeakyReLU extends topology_Layer{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=getExactlyOneTensor(e);return Object(i.ae)(r,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}advanced_activations_LeakyReLU.className="LeakyReLU",i.Je.registerClass(advanced_activations_LeakyReLU);class advanced_activations_PReLU extends topology_Layer{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=getInitializer(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=getRegularizer(e.alphaRegularizer),this.alphaConstraint=getConstraint(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new ValueError(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const n=(e=getExactlyOneShape(e)).slice(1);if(null!=this.sharedAxes)for(const a of this.sharedAxes)n[a-1]=1;this.alpha=this.addWeight("alpha",n,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const r={};if(null!=this.sharedAxes)for(let a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new InputSpec({ndim:e.length,axes:r})],this.built=!0}call(e,n){return e=getExactlyOneTensor(e),Object(i.xe)(e,this.alpha.read())}getConfig(){const e={alphaInitializer:serializeInitializer(this.alphaInitializer),alphaRegularizer:serializeRegularizer(this.alphaRegularizer),alphaConstraint:serializeConstraint(this.alphaConstraint),sharedAxes:this.sharedAxes},n=super.getConfig();return Object.assign(e,n),e}}advanced_activations_PReLU.className="PReLU",i.Je.registerClass(advanced_activations_PReLU);class advanced_activations_ELU extends topology_Layer{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new NotImplementedError(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,n){const r=getExactlyOneTensor(e);return Object(i.Jd)(r)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},n=super.getConfig();return Object.assign(e,n),e}}advanced_activations_ELU.className="ELU",i.Je.registerClass(advanced_activations_ELU);class advanced_activations_ThresholdedReLU extends topology_Layer{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,n){const r=getExactlyOneTensor(e);return r.mul(tfjs_backend_cast(r.greater(this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},n=super.getConfig();return Object.assign(e,n),e}}advanced_activations_ThresholdedReLU.className="ThresholdedReLU",i.Je.registerClass(advanced_activations_ThresholdedReLU);class advanced_activations_Softmax extends topology_Layer{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new activations_Softmax).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,n){const r=getExactlyOneTensor(e);return this.softmax(r,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}function normalizeArray(e,n,r){if("number"==typeof e)return pyListRepeat(e,n);if(e.length!==n)throw new ValueError(`The ${r} argument must be an integer or tuple of ${n} integers. Received: ${e.length} elements.`);for(let o=0;o<n;++o){const i=e[o];if((a=i)!==parseInt(a.toString(),10))throw new ValueError(`The ${r} argument must be an integer or tuple of ${n} integers. Received: ${JSON.stringify(e)} including a non-integer number ${i}`)}return e;var a}function convOutputLength(e,n,r,a,o=1){if(null==e)return e;let i;return i="same"===r?e:e-(n+(n-1)*(o-1))+1,Math.floor((i+a-1)/a)}function deconvLength(e,n,r,a){if(null==e)return null;if("valid"===a)e=e*n+math_utils_max([r-n,0]);else{if("same"!==a)throw new ValueError(`Unsupport padding mode: ${a}.`);e*=n}return e}function preprocessConv2DInput(e,n){return Object(i.hf)((()=>(checkDataFormat(n),"channelsFirst"===n?i.kf(e,[0,2,3,1]):e)))}function preprocessConv3DInput(e,n){return Object(i.hf)((()=>(checkDataFormat(n),"channelsFirst"===n?i.kf(e,[0,2,3,4,1]):e)))}function conv1dWithBias(e,n,r,a=1,o="valid",s,l=1){return Object(i.hf)((()=>{if(null==s&&(s="channelsLast"),checkDataFormat(s),3!==e.shape.length)throw new ValueError(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==n.shape.length)throw new ValueError(`The kernel for a conv1dWithBias operation should be 3, but is ${n.shape.length} instead`);if(null!=r&&1!==r.shape.length)throw new ValueError(`The bias for a conv1dWithBias operation should be 1, but is ${n.shape.length} instead`);if("channelsFirst"===s&&(e=i.kf(e,[0,2,1])),"causal"===o)throw new NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let c=i.Ad(e,n,a,"same"===o?"same":"valid","NWC",l);return null!=r&&(c=biasAdd(c,r)),c}))}function conv2dWithBiasActivation(e,n,r,a=[1,1],o="valid",s,l,c=null){return Object(i.hf)((()=>{if(null==s&&(s="channelsLast"),checkDataFormat(s),3!==e.rank&&4!==e.rank)throw new ValueError(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==n.rank&&4!==n.rank)throw new ValueError(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let u=preprocessConv2DInput(e,s);if("causal"===o)throw new NotImplementedError("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=i.Sd.conv2d({x:u,filter:n,strides:a,pad:"same"===o?"same":"valid",dilations:l,dataFormat:"NHWC",bias:r,activation:c}),"channelsFirst"===s&&(u=i.kf(u,[0,3,1,2])),u}))}function conv3dWithBias(e,n,r,a=[1,1,1],o="valid",s,l){return Object(i.hf)((()=>{if(null==s&&(s="channelsLast"),checkDataFormat(s),4!==e.rank&&5!==e.rank)throw new ValueError(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==n.rank&&5!==n.rank)throw new ValueError(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let c=preprocessConv3DInput(e,s);if("causal"===o)throw new NotImplementedError("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return c=i.Dd(c,n,a,"same"===o?"same":"valid","NDHWC",l),null!=r&&(c=biasAdd(c,r)),"channelsFirst"===s&&(c=i.kf(c,[0,4,1,2,3])),c}))}advanced_activations_Softmax.className="Softmax",i.Je.registerClass(advanced_activations_Softmax);class convolutional_BaseConv extends topology_Layer{constructor(e,n){if(super(n),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",convolutional_BaseConv.verifyArgs(n),this.rank=e,assertPositiveInteger(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new NotImplementedError(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=normalizeArray(n.kernelSize,e,"kernelSize"),this.strides=normalizeArray(null==n.strides?1:n.strides,e,"strides"),this.padding=null==n.padding?"valid":n.padding,checkPaddingMode(this.padding),this.dataFormat=null==n.dataFormat?"channelsLast":n.dataFormat,checkDataFormat(this.dataFormat),this.activation=getActivation(n.activation),this.useBias=null==n.useBias||n.useBias,this.biasInitializer=getInitializer(n.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=getConstraint(n.biasConstraint),this.biasRegularizer=getRegularizer(n.biasRegularizer),this.activityRegularizer=getRegularizer(n.activityRegularizer),this.dilationRate=normalizeArray(null==n.dilationRate?1:n.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new ValueError(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new ValueError(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new ValueError(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(assert("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,3))throw new ValueError(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:serializeActivation(this.activation),useBias:this.useBias,biasInitializer:serializeInitializer(this.biasInitializer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),biasConstraint:serializeConstraint(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}class convolutional_Conv extends convolutional_BaseConv{constructor(e,n){super(e,n),this.kernel=null,convolutional_Conv.verifyArgs(n),this.filters=n.filters,assertPositiveInteger(this.filters,"filters"),this.kernelInitializer=getInitializer(n.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=getConstraint(n.kernelConstraint),this.kernelRegularizer=getRegularizer(n.kernelRegularizer)}build(e){e=getExactlyOneShape(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],a=this.kernelSize.concat([r,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[n]:r}}],this.built=!0}call(e,n){return Object(i.hf)((()=>{let n;e=getExactlyOneTensor(e);const r=null==this.bias?null:this.bias.read(),a=mapActivationToFusedKernel(this.activation.getClassName());if(null!=a&&2===this.rank)n=conv2dWithBiasActivation(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)n=conv1dWithBias(e,this.kernel.read(),r,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)n=conv2dWithBiasActivation(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new NotImplementedError("convolutions greater than 3D are not implemented yet.");n=conv3dWithBias(e,this.kernel.read(),r,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(n=this.activation.apply(n))}return n}))}computeOutputShape(e){e=getExactlyOneShape(e);const n=[],r="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let o=0;o<r.length;++o){const e=convOutputLength(r[o],this.kernelSize[o],this.padding,this.strides[o],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[o]);n.push(e)}let a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(n),a.push(this.filters)):(a.push(this.filters),a=a.concat(n)),a}getConfig(){const e={filters:this.filters,kernelInitializer:serializeInitializer(this.kernelInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint)},n=super.getConfig();return Object.assign(e,n),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new ValueError(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class convolutional_Conv2D extends convolutional_Conv{constructor(e){super(2,e),convolutional_Conv2D.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,2))throw new ValueError(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}convolutional_Conv2D.className="Conv2D",i.Je.registerClass(convolutional_Conv2D);class convolutional_Conv3D extends convolutional_Conv{constructor(e){super(3,e),convolutional_Conv3D.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ValueError(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}convolutional_Conv3D.className="Conv3D",i.Je.registerClass(convolutional_Conv3D);class convolutional_Conv2DTranspose extends convolutional_Conv2D{constructor(e){if(super(e),this.inputSpec=[new InputSpec({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new ValueError(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=getExactlyOneShape(e)).length)throw new ValueError("Input should have rank 4; Received input shape: "+JSON.stringify(e));const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ValueError("The channel dimension of the inputs should be defined. Found `None`.");const r=e[n],a=this.kernelSize.concat([this.filters,r]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new InputSpec({ndim:4,axes:{[n]:r}})],this.built=!0}call(e,n){return i.hf((()=>{let n=getExactlyOneTensor(e);if(4!==n.shape.length)throw new ValueError(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${n.shape.length}`);const r=n.shape,a=r[0];let o,s;"channelsFirst"===this.dataFormat?(o=2,s=3):(o=1,s=2);const l=r[o],c=r[s],u=this.kernelSize[0],d=this.kernelSize[1],p=this.strides[0],f=this.strides[1],h=[a,deconvLength(l,p,u,this.padding),deconvLength(c,f,d,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(n=i.kf(n,[0,2,3,1]));let m=i.Cd(n,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(m=i.kf(m,[0,3,1,2])),null!=this.bias&&(m=biasAdd(m,this.bias.read(),this.dataFormat)),null!=this.activation&&(m=this.activation.apply(m)),m}))}computeOutputShape(e){const n=(e=getExactlyOneShape(e)).slice();let r,a,o;"channelsFirst"===this.dataFormat?(r=1,a=2,o=3):(r=3,a=1,o=2);const i=this.kernelSize[0],s=this.kernelSize[1],l=this.strides[0],c=this.strides[1];return n[r]=this.filters,n[a]=deconvLength(n[a],l,i,this.padding),n[o]=deconvLength(n[o],c,s,this.padding),n}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}convolutional_Conv2DTranspose.className="Conv2DTranspose",i.Je.registerClass(convolutional_Conv2DTranspose);class convolutional_SeparableConv extends convolutional_Conv{constructor(e,n){if(super(e,n),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==n.filters)throw new ValueError("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=n.kernelInitializer||null!=n.kernelRegularizer||null!=n.kernelConstraint)throw new ValueError("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=n.padding&&"same"!==n.padding&&"valid"!==n.padding)throw new ValueError(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(n.padding)}`);this.depthMultiplier=null==n.depthMultiplier?1:n.depthMultiplier,this.depthwiseInitializer=getInitializer(n.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=getRegularizer(n.depthwiseRegularizer),this.depthwiseConstraint=getConstraint(n.depthwiseConstraint),this.pointwiseInitializer=getInitializer(n.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=getRegularizer(n.pointwiseRegularizer),this.pointwiseConstraint=getConstraint(n.pointwiseConstraint)}build(e){if((e=getExactlyOneShape(e)).length<this.rank+2)throw new ValueError(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n]||e[n]<0)throw new ValueError(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[n])}`);const r=e[n],a=this.kernelSize.concat([r,this.depthMultiplier]),o=[];for(let s=0;s<this.rank;++s)o.push(1);o.push(r*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new InputSpec({ndim:this.rank+2,axes:{[n]:r}})],this.built=!0}call(e,n){return Object(i.hf)((()=>{let n;if(e=getExactlyOneTensor(e),1===this.rank)throw new NotImplementedError("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=i.kf(e,[0,2,3,1])),n=i.Ie(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(n=biasAdd(n,this.bias.read(),this.dataFormat)),null!=this.activation&&(n=this.activation.apply(n)),"channelsFirst"===this.dataFormat&&(n=i.kf(n,[0,3,1,2])),n}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),e.pointwiseInitializer=serializeInitializer(this.pointwiseInitializer),e.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),e.pointwiseRegularizer=serializeRegularizer(this.pointwiseRegularizer),e.depthwiseConstraint=serializeConstraint(this.depthwiseConstraint),e.pointwiseConstraint=serializeConstraint(this.pointwiseConstraint),e}}convolutional_SeparableConv.className="SeparableConv";class SeparableConv2D extends convolutional_SeparableConv{constructor(e){super(2,e)}}SeparableConv2D.className="SeparableConv2D",i.Je.registerClass(SeparableConv2D);class convolutional_Conv1D extends convolutional_Conv{constructor(e){super(1,e),convolutional_Conv1D.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!checkArrayTypeAndLength(e.kernelSize,"number",1,1))throw new ValueError(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}convolutional_Conv1D.className="Conv1D",i.Je.registerClass(convolutional_Conv1D);class convolutional_Cropping2D extends topology_Layer{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,n){return Object(i.hf)((()=>{if(e=getExactlyOneTensor(e),"channelsLast"===this.dataFormat){const n=sliceAlongAxis(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return sliceAlongAxis(n,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const n=sliceAlongAxis(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return sliceAlongAxis(n,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}convolutional_Cropping2D.className="Cropping2D",i.Je.registerClass(convolutional_Cropping2D);class convolutional_UpSampling2D extends topology_Layer{constructor(e){super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,checkDataFormat(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,function checkInterpolationFormat(e){checkStringTypeUnionValue(Zr,"InterpolationFormat",e)}(this.interpolation)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const n=null==e[2]?null:this.size[0]*e[2],r=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],n,r]}{const n=null==e[1]?null:this.size[0]*e[1],r=null==e[2]?null:this.size[1]*e[2];return[e[0],n,r,e[3]]}}call(e,n){return i.hf((()=>{let n=getExactlyOneTensor(e);const r=n.shape;if("channelsFirst"===this.dataFormat){n=i.kf(n,[0,2,3,1]);const e=this.size[0]*r[2],a=this.size[1]*r[3],o="nearest"===this.interpolation?n.resizeNearestNeighbor([e,a]):n.resizeBilinear([e,a]);return i.kf(o,[0,3,1,2])}{const e=this.size[0]*r[1],a=this.size[1]*r[2];return"nearest"===this.interpolation?n.resizeNearestNeighbor([e,a]):n.resizeBilinear([e,a])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}convolutional_UpSampling2D.className="UpSampling2D",i.Je.registerClass(convolutional_UpSampling2D);class convolutional_depthwise_DepthwiseConv2D extends convolutional_BaseConv{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=getInitializer(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=getConstraint(e.depthwiseConstraint),this.depthwiseRegularizer=getRegularizer(e.depthwiseRegularizer)}build(e){if((e=getExactlyOneShape(e)).length<4)throw new ValueError(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const n="channelsFirst"===this.dataFormat?1:3;if(null==e[n]||e[n]<0)throw new ValueError(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[n]}).`);const r=e[n],a=[this.kernelSize[0],this.kernelSize[1],r,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[r*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Object(i.hf)((()=>{let n=function depthwiseConv2d(e,n,r=[1,1],a="valid",o,s){return Object(i.hf)((()=>{null==o&&(o="channelsLast"),checkDataFormat(o);let l=preprocessConv2DInput(e,o);if(4!==e.rank)throw new ValueError(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==n.rank)throw new ValueError(`depthwiseKernel is required to be 4-D, but is instead ${n.rank}-D`);return l=i.Ed(l,n,r,"same"===a?"same":"valid","NHWC",s),"channelsFirst"===o&&(l=i.kf(l,[0,3,1,2])),l}))}(e=getExactlyOneTensor(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(n=biasAdd(n,this.bias.read(),this.dataFormat)),null!=this.activation&&(n=this.activation.apply(n)),n}))}computeOutputShape(e){e=getExactlyOneShape(e);const n="channelsFirst"===this.dataFormat?e[2]:e[1],r="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=convOutputLength(n,this.kernelSize[0],this.padding,this.strides[0]),i=convOutputLength(r,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,o,i]:[e[0],o,i,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=serializeInitializer(this.depthwiseInitializer),e.depthwiseRegularizer=serializeRegularizer(this.depthwiseRegularizer),e.depthwiseConstraint=serializeConstraint(this.depthwiseRegularizer),e}}function standardizeArgs(e,n,r,a){if(Array.isArray(e)){if(null!=n||null!=r)throw new ValueError("When inputs is an array, neither initialState or constants should be provided");null!=a&&(r=e.slice(e.length-a,e.length),e=e.slice(0,e.length-a)),e.length>1&&(n=e.slice(1,e.length)),e=e[0]}function toListOrNull(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:n=toListOrNull(n),constants:r=toListOrNull(r)}}function rnn(e,n,r,a=!1,o,s,l=!1,c=!1){return i.hf((()=>{const u=n.shape.length;if(u<3)throw new ValueError(`Input should be at least 3D, but is ${u}D.`);const d=[1,0].concat(range(2,u));if(n=i.kf(n,d),null!=s)throw new NotImplementedError("The rnn() functoin of the deeplearn.js backend does not support constants yet.");l&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=o&&((o=o.asType("bool").asType("float32")).rank===u-1&&(o=i.Od(o,-1)),o=i.kf(o,d)),a&&(n=i.Fe(n,0),null!=o&&(o=i.Fe(o,0)));const p=[];let f,h=r;const m=n.shape[0],g=i.mf(n);let y,b;null!=o&&(y=i.mf(o));for(let n=0;n<m;++n){const r=g[n],a=i.hf((()=>e(r,h)));if(null==o)f=a[0],h=a[1];else{const e=i.hf((()=>{const e=y[n],r=i.ue(e).sub(e);return{output:a[0].mul(e).add(h[0].mul(r)),newStates:h.map(((n,o)=>a[1][o].mul(e).add(n.mul(r))))}}));f=e.output,h=e.newStates}c&&p.push(f)}if(c){const e=1;b=i.Ye(p,e)}return[f,b,h]}))}convolutional_depthwise_DepthwiseConv2D.className="DepthwiseConv2D",i.Je.registerClass(convolutional_depthwise_DepthwiseConv2D);class recurrent_RNN extends topology_Layer{constructor(e){let n;if(super(e),null==e.cell)throw new ValueError("cell property is missing for the constructor of RNN.");if(n=Array.isArray(e.cell)?new recurrent_StackedRNNCells({cells:e.cell}):e.cell,null==n.stateSize)throw new ValueError("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=n,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new InputSpec({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return range(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){isArrayOfShapes(e)&&(e=e[0]),e=e;let n=this.cell.stateSize;Array.isArray(n)||(n=[n]);const r=n[0];let a;if(a=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){const r=[];for(const a of n)r.push([e[0],a]);return[a].concat(r)}return a}computeMask(e,n){return i.hf((()=>{Array.isArray(n)&&(n=n[0]);const e=this.returnSequences?n:null;if(this.returnState){const n=this.states.map((e=>null));return[e].concat(n)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,n=[];for(let r=0;r<e;++r)n.push(null);return n}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new NotImplementedError("Constants support is not implemented in RNN yet.");isArrayOfShapes(e)&&(e=e[0]),e=e;const n=this.stateful?e[0]:null,r=e.slice(2);this.inputSpec[0]=new InputSpec({shape:[n,null,...r]});const a=[e[0]].concat(e.slice(2));let o;if(this.cell.build(a),o=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!i.of.arraysEqual(this.stateSpec.map((e=>e.shape[e.shape.length-1])),o))throw new ValueError(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map((e=>new InputSpec({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,n=!1){Object(i.hf)((()=>{if(!this.stateful)throw new AttributeError("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape[0];if(null==r)throw new ValueError("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>i.tf([r,e]))):this.states_=[i.tf([r,this.cell.stateSize])];else if(null==e)i.Gd(this.states_),null!=this.keptStates&&(i.Gd(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>i.tf([r,e]))):this.states_[0]=i.tf([r,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ValueError(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===n?this.keptStates.push(this.states_.slice()):i.Gd(this.states_);for(let n=0;n<this.states_.length;++n){const a=e[n],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[n]:this.cell.stateSize,s=[r,o];if(!i.of.arraysEqual(a.shape,s))throw new ValueError(`State ${n} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${a.shape}`);this.states_[n]=a}}this.states_=this.states_.map((e=>i.Yd(e.clone())))}))}apply(e,n){let r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});const o=standardizeArgs(e,r,a,this.numConstants);e=o.inputs,r=o.initialState,a=o.constants;let i=[],s=[];if(null!=r){n.initialState=r,i=i.concat(r),this.stateSpec=[];for(const e of r)this.stateSpec.push(new InputSpec({shape:e.shape}));s=s.concat(this.stateSpec)}null!=a&&(n.constants=a,i=i.concat(a),this.numConstants=a.length);if(i[0]instanceof topology_SymbolicTensor){const r=[e].concat(i),a=this.inputSpec.concat(s),o=this.inputSpec;this.inputSpec=a;const l=super.apply(r,n);return this.inputSpec=o,l}return super.apply(e,n)}call(e,n){return Object(i.hf)((()=>{const r=null==n?null:n.mask,a=null==n?null:n.training;let o=null==n?null:n.initialState;e=getExactlyOneTensor(e),null==o&&(o=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==i)throw new ValueError(`RNN Layer has ${i} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:a},l=rnn(((e,n)=>{const r=this.cell.call([e].concat(n),s);return[r[0],r.slice(1)]}),e,o,this.goBackwards,r,null,this.unroll,this.returnSequences),c=l[0],u=l[1],d=l[2];this.stateful&&this.resetStates(d,a);const p=this.returnSequences?u:c;return this.returnState?[p].concat(d):p}))}getInitialState(e){return Object(i.hf)((()=>{let n=i.tf(e.shape);return n=i.af(n,[1,2]),n=expandDims(n),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?tfjs_backend_tile(n,[1,e]):n)):this.cell.stateSize>1?[tfjs_backend_tile(n,[1,this.cell.stateSize])]:[n]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),n={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(n.numConstants=this.numConstants);const r=this.cell.getConfig();return this.getClassName()===recurrent_RNN.className&&(n.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,n)}static fromConfig(e,n,r={}){const a=deserialize(n.cell,r);return new e(Object.assign(n,{cell:a}))}}recurrent_RNN.className="RNN",i.Je.registerClass(recurrent_RNN);class recurrent_RNNCell extends topology_Layer{}class recurrent_SimpleRNNCell extends recurrent_RNNCell{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,assertPositiveInteger(this.units,"units"),this.activation=getActivation(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=getInitializer(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=getInitializer(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=getInitializer(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=getRegularizer(e.kernelRegularizer),this.recurrentRegularizer=getRegularizer(e.recurrentRegularizer),this.biasRegularizer=getRegularizer(e.biasRegularizer),this.kernelConstraint=getConstraint(e.kernelConstraint),this.recurrentConstraint=getConstraint(e.recurrentConstraint),this.biasConstraint=getConstraint(e.biasConstraint),this.dropout=math_utils_min([1,math_utils_max([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=math_utils_min([1,math_utils_max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=getExactlyOneShape(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Object(i.hf)((()=>{if(2!==(e=e).length)throw new ValueError(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let r=e[1];e=e[0];const a=null!=n.training&&n.training;let o;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=generateDropoutMask({ones:()=>i.ue(e),rate:this.dropout,training:a})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=generateDropoutMask({ones:()=>i.ue(r),rate:this.recurrentDropout,training:a}));const s=this.dropoutMask,l=this.recurrentDropoutMask;o=tfjs_backend_dot(null!=s?i.oe(e,s):e,this.kernel.read()),null!=this.bias&&(o=biasAdd(o,this.bias.read())),null!=l&&(r=i.oe(r,l));let c=i.fd(o,tfjs_backend_dot(r,this.recurrentKernel.read()));return null!=this.activation&&(c=this.activation.apply(c)),[c,c]}))}getConfig(){const e=super.getConfig(),n={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,n)}}recurrent_SimpleRNNCell.className="SimpleRNNCell",i.Je.registerClass(recurrent_SimpleRNNCell);class recurrent_SimpleRNN extends recurrent_RNN{constructor(e){e.cell=new recurrent_SimpleRNNCell(e),super(e)}call(e,n){return Object(i.hf)((()=>{null!=this.cell.dropoutMask&&(i.Gd(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.Gd(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:o})}))}static fromConfig(e,n){return new e(n)}}recurrent_SimpleRNN.className="SimpleRNN",i.Je.registerClass(recurrent_SimpleRNN);class recurrent_GRUCell extends recurrent_RNNCell{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ValueError("GRUCell does not support reset_after parameter set to true.");this.units=e.units,assertPositiveInteger(this.units,"units"),this.activation=getActivation(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=getActivation(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=getInitializer(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=getInitializer(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=getInitializer(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=getRegularizer(e.kernelRegularizer),this.recurrentRegularizer=getRegularizer(e.recurrentRegularizer),this.biasRegularizer=getRegularizer(e.biasRegularizer),this.kernelConstraint=getConstraint(e.kernelConstraint),this.recurrentConstraint=getConstraint(e.recurrentConstraint),this.biasConstraint=getConstraint(e.biasConstraint),this.dropout=math_utils_min([1,math_utils_max([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=math_utils_min([1,math_utils_max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const n=(e=getExactlyOneShape(e))[e.length-1];this.kernel=this.addWeight("kernel",[n,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,n){return Object(i.hf)((()=>{if(2!==(e=e).length)throw new ValueError(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const r=null!=n.training&&n.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=generateDropoutMask({ones:()=>i.ue(e),rate:this.dropout,training:r,count:3})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=generateDropoutMask({ones:()=>i.ue(a),rate:this.recurrentDropout,training:r,count:3}));const o=this.dropoutMask,s=this.recurrentDropoutMask;let l,c,u;0<this.dropout&&this.dropout<1&&(e=i.oe(e,o[0]));let d=tfjs_backend_dot(e,this.kernel.read());this.useBias&&(d=biasAdd(d,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=i.oe(a,s[0]));const p=this.recurrentKernel.read(),[f,h]=i.Ue(p,[2*this.units,this.units],p.rank-1),m=tfjs_backend_dot(a,f),[g,y,b]=i.Ue(d,3,d.rank-1),[x,_]=i.Ue(m,2,m.rank-1);l=this.recurrentActivation.apply(i.fd(g,x)),c=this.recurrentActivation.apply(i.fd(y,_));const w=tfjs_backend_dot(i.oe(c,a),h);u=this.activation.apply(i.fd(b,w));const k=i.fd(i.oe(l,a),i.oe(i.fd(1,i.pe(l)),u));return[k,k]}))}getConfig(){const e=super.getConfig(),n={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,n)}}recurrent_GRUCell.className="GRUCell",i.Je.registerClass(recurrent_GRUCell);class recurrent_GRU extends recurrent_RNN{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new recurrent_GRUCell(e),super(e)}call(e,n){return Object(i.hf)((()=>{null!=this.cell.dropoutMask&&(i.Gd(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.Gd(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:o})}))}static fromConfig(e,n){return 0===n.implmentation&&(n.implementation=1),new e(n)}}recurrent_GRU.className="GRU",i.Je.registerClass(recurrent_GRU);class recurrent_LSTMCell extends recurrent_RNNCell{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,assertPositiveInteger(this.units,"units"),this.activation=getActivation(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=getActivation(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=getInitializer(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=getInitializer(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=getInitializer(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=getRegularizer(e.kernelRegularizer),this.recurrentRegularizer=getRegularizer(e.recurrentRegularizer),this.biasRegularizer=getRegularizer(e.biasRegularizer),this.kernelConstraint=getConstraint(e.kernelConstraint),this.recurrentConstraint=getConstraint(e.recurrentConstraint),this.biasConstraint=getConstraint(e.biasConstraint),this.dropout=math_utils_min([1,math_utils_max([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=math_utils_min([1,math_utils_max([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var n;const r=(e=getExactlyOneShape(e))[e.length-1];let a;if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,r=this.units;a=new((n=class CustomInit extends initializers_Initializer{apply(n,a){const o=e.apply([r]),i=(new initializers_Ones).apply([r]),s=e.apply([2*r]);return concatAlongFirstAxis(concatAlongFirstAxis(o,i),s)}}).className="CustomInit",n)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,n){return Object(i.hf)((()=>{const r=null!=n.training&&n.training;if(3!==(e=e).length)throw new ValueError(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=generateDropoutMask({ones:()=>i.ue(e),rate:this.dropout,training:r,count:4})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=generateDropoutMask({ones:()=>i.ue(a),rate:this.recurrentDropout,training:r,count:4}));const s=this.dropoutMask,l=this.recurrentDropoutMask;let c,u,d,p;0<this.dropout&&this.dropout<1&&(e=i.oe(e,s[0]));let f=tfjs_backend_dot(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=i.oe(a,l[0])),f=i.fd(f,tfjs_backend_dot(a,this.recurrentKernel.read())),this.useBias&&(f=biasAdd(f,this.bias.read()));const[h,m,g,y]=i.Ue(f,4,f.rank-1);c=this.recurrentActivation.apply(h),u=this.recurrentActivation.apply(m),d=i.fd(i.oe(u,o),i.oe(c,this.activation.apply(g))),p=this.recurrentActivation.apply(y);const b=i.oe(p,this.activation.apply(d));return[b,b,d]}))}getConfig(){const e=super.getConfig(),n={units:this.units,activation:serializeActivation(this.activation),recurrentActivation:serializeActivation(this.recurrentActivation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),recurrentInitializer:serializeInitializer(this.recurrentInitializer),biasInitializer:serializeInitializer(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:serializeRegularizer(this.kernelRegularizer),recurrentRegularizer:serializeRegularizer(this.recurrentRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),recurrentConstraint:serializeConstraint(this.recurrentConstraint),biasConstraint:serializeConstraint(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,n)}}recurrent_LSTMCell.className="LSTMCell",i.Je.registerClass(recurrent_LSTMCell);class recurrent_LSTM extends recurrent_RNN{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new recurrent_LSTMCell(e),super(e)}call(e,n){return Object(i.hf)((()=>{null!=this.cell.dropoutMask&&(i.Gd(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.Gd(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const r=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:o})}))}static fromConfig(e,n){return 0===n.implmentation&&(n.implementation=1),new e(n)}}recurrent_LSTM.className="LSTM",i.Je.registerClass(recurrent_LSTM);class recurrent_StackedRNNCells extends recurrent_RNNCell{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const n of this.cells.slice().reverse())Array.isArray(n.stateSize)?e.push(...n.stateSize):e.push(n.stateSize);return e}call(e,n){return Object(i.hf)((()=>{let r=(e=e).slice(1);const a=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?a.push(r.splice(0,e.stateSize.length)):a.push(r.splice(0,1));a.reverse();const o=[];let i;for(let s=0;s<this.cells.length;++s){const l=this.cells[s];r=a[s],i=0===s?[e[0]].concat(r):[i[0]].concat(r),i=l.call(i,n),o.push(i.slice(1))}r=[];for(const e of o.slice().reverse())r.push(...e);return[i[0]].concat(r)}))}build(e){let n;isArrayOfShapes(e)&&(e=e[0]),e=e,this.cells.forEach(((r,a)=>{nameScope(`RNNCell_${a}`,(()=>{r.build(e),n=Array.isArray(r.stateSize)?r.stateSize[0]:r.stateSize,e=[e[0],n]}))})),this.built=!0}getConfig(){const e=super.getConfig(),n={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign({},e,n)}static fromConfig(e,n,r={}){const a=[];for(const o of n.cells)a.push(deserialize(o,r));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const n of this.cells)e.push(...n.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const n of this.cells)e.push(...n.nonTrainableWeights);if(!this.trainable){const n=[];for(const e of this.cells)n.push(...e.trainableWeights);return n.concat(e)}return e}getWeights(){const e=[];for(const n of this.cells)e.push(...n.weights);return batchGetValue(e)}setWeights(e){const n=[];for(const r of this.cells){const a=r.weights.length,o=e.splice(a);for(let e=0;e<r.weights.length;++e)n.push([r.weights[e],o[e]])}batchSetValue(n)}}function generateDropoutMask(e){const{ones:n,rate:r,training:a=!1,count:o=1}=e,droppedInputs=()=>dropout(n(),r),createMask=()=>inTrainPhase(droppedInputs,n,a);if(!o||o<=1)return i.Yd(createMask().clone());return Array(o).fill(void 0).map(createMask).map((e=>i.Yd(e.clone())))}recurrent_StackedRNNCells.className="StackedRNNCells",i.Je.registerClass(recurrent_StackedRNNCells);var __rest=function(e,n){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]])}return r};class convolutional_recurrent_ConvRNN2D extends recurrent_RNN{constructor(e){if(e.unroll)throw new NotImplementedError("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new NotImplementedError("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new InputSpec({ndim:5})]}call(e,n){return i.hf((()=>{if(null!=this.cell.dropoutMask&&(i.Gd(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.Gd(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),n&&n.constants)throw new ValueError("ConvRNN2D cell does not support constants");const r=null==n?null:n.mask,a=null==n?null:n.training,o=null==n?null:n.initialState;return super.call(e,{mask:r,training:a,initialState:o})}))}computeOutputShape(e){let n=this.computeSingleOutputShape(e);return this.returnSequences||(n=[n[0],...n.slice(2)]),this.returnState&&(n=[n,...Array(2).fill([e[0],...n.slice(-3)])]),n}getInitialState(e){return i.hf((()=>{const{stateSize:n}=this.cell,r=e.shape,a=this.computeSingleOutputShape(r),o=[a[0],...a.slice(2)],s=i.tf(o);return Array.isArray(n)?Array(n.length).fill(s):[s]}))}resetStates(e,n=!1){i.hf((()=>{if(!this.stateful)throw new AttributeError("Cannot call resetStates() on an RNN Layer that is not stateful.");const r=this.inputSpec[0].shape,a=this.computeSingleOutputShape(r),o=[a[0],...a.slice(2)];if(null==r[0])throw new ValueError("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>i.tf(o))):this.states_=[i.tf(o)];else if(null==e)i.Gd(this.states_),null!=this.keptStates&&(i.Gd(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>i.tf(o))):this.states_[0]=i.tf(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ValueError(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?this.keptStates.push(this.states_.slice()):i.Gd(this.states_);for(let n=0;n<this.states_.length;++n){const r=e[n],a=o;if(!i.of.arraysEqual(r.shape,a))throw new ValueError(`State ${n} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${r.shape}`);this.states_[n]=r}}this.states_=this.states_.map((e=>i.Yd(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:n,filters:r,kernelSize:a,padding:o,strides:i,dilationRate:s}=this.cell,l="channelsFirst"===n,c=e[l?3:2],u=e[l?4:3],d=convOutputLength(c,a[0],o,i[0],s[0]),p=convOutputLength(u,a[1],o,i[1],s[1]);return[...e.slice(0,2),...l?[r,d,p]:[d,p,r]]}}convolutional_recurrent_ConvRNN2D.className="ConvRNN2D";class convolutional_recurrent_ConvLSTM2DCell extends recurrent_LSTMCell{constructor(e){const{filters:n,kernelSize:r,strides:a,padding:o,dataFormat:i,dilationRate:s}=e;super(Object.assign({},e,{units:n})),this.filters=n,assertPositiveInteger(this.filters,"filters"),this.kernelSize=normalizeArray(r,2,"kernelSize"),this.kernelSize.forEach((e=>assertPositiveInteger(e,"kernelSize"))),this.strides=normalizeArray(a||1,2,"strides"),this.strides.forEach((e=>assertPositiveInteger(e,"strides"))),this.padding=o||"valid",checkPaddingMode(this.padding),this.dataFormat=i||"channelsLast",checkDataFormat(this.dataFormat),this.dilationRate=normalizeArray(s||1,2,"dilationRate"),this.dilationRate.forEach((e=>assertPositiveInteger(e,"dilationRate")))}build(e){var n;e=getExactlyOneShape(e);const r="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[r])throw new ValueError(`The channel dimension of the input should be defined. Found ${e[r]}`);const a=e[r],o=this.kernelSize.concat([a,4*this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const r=this.biasInitializer,a=this.filters;e=new((n=class CustomInit extends initializers_Initializer{apply(e,n){return concatenate([r.apply([a]),i.te([a]),r.apply([2*a])])}}).className="CustomInit",n)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,n){return i.hf((()=>{if(3!==e.length)throw new ValueError(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const r=n.training||!1,a=e[0],o=e[1],s=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=generateDropoutMask({ones:()=>i.ue(a),rate:this.dropout,training:r,count:4}));const l=this.dropoutMask,applyDropout=(e,n,r)=>n&&n[r]?i.oe(n[r],e):e;let c=applyDropout(a,l,0),u=applyDropout(a,l,1),d=applyDropout(a,l,2),p=applyDropout(a,l,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=generateDropoutMask({ones:()=>i.ue(o),rate:this.recurrentDropout,training:r,count:4}));const f=this.recurrentDropoutMask;let h=applyDropout(o,f,0),m=applyDropout(o,f,1),g=applyDropout(o,f,2),y=applyDropout(o,f,3);const[b,x,_,w]=i.Ue(this.kernel.read(),4,3),[k,T,S,O]=this.useBias?i.Ue(this.bias.read(),4):[null,null,null,null];c=this.inputConv(c,b,k,this.padding),u=this.inputConv(u,x,T,this.padding),d=this.inputConv(d,_,S,this.padding),p=this.inputConv(p,w,O,this.padding);const[C,A,I,N]=i.Ue(this.recurrentKernel.read(),4,3);h=this.recurrentConv(h,C),m=this.recurrentConv(m,A),g=this.recurrentConv(g,I),y=this.recurrentConv(y,N);const M=this.recurrentActivation.apply(i.fd(c,h)),E=this.recurrentActivation.apply(i.fd(u,m)),D=i.fd(i.oe(E,s),i.oe(M,this.activation.apply(i.fd(d,g)))),j=i.oe(this.recurrentActivation.apply(i.fd(p,y)),this.activation.apply(D));return[j,j,D]}))}getConfig(){const e=super.getConfig(),{units:n}=e,r=__rest(e,["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},r,a)}inputConv(e,n,r,a){const o=i.Bd(e,n,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return r?biasAdd(o,r,this.dataFormat):o}recurrentConv(e,n){return i.Bd(e,n,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}convolutional_recurrent_ConvLSTM2DCell.className="ConvLSTM2DCell",i.Je.registerClass(convolutional_recurrent_ConvLSTM2DCell);class ConvLSTM2D extends convolutional_recurrent_ConvRNN2D{constructor(e){const n=new convolutional_recurrent_ConvLSTM2DCell(e);super(Object.assign({},e,{cell:n}))}static fromConfig(e,n){return new e(n)}}ConvLSTM2D.className="ConvLSTM2D",i.Je.registerClass(ConvLSTM2D);class core_Dropout extends topology_Layer{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const n=e.shape,r=[];for(let a=0;a<this.noiseShape.length;++a)r.push(null==this.noiseShape[a]?n[a]:this.noiseShape[a]);return r}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e);if(0<this.rate&&this.rate<1){const e=null!=n.training&&n.training,a=this.getNoiseShape(r);return inTrainPhase((()=>dropout(r,this.rate,a,this.seed)),(()=>r),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},n=super.getConfig();return Object.assign(e,n),e}dispose(){return super.dispose()}}core_Dropout.className="Dropout",i.Je.registerClass(core_Dropout);class SpatialDropout1D extends core_Dropout{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const n=e.shape;return[n[0],1,n[2]]}}SpatialDropout1D.className="SpatialDropout1D",i.Je.registerClass(SpatialDropout1D);class core_Dense extends topology_Layer{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let n=null;null!=e.batchSize&&(n=e.batchSize),this.batchInputShape=[n,e.inputDim]}this.units=e.units,assertPositiveInteger(this.units,"units"),this.activation=getActivation(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=getInitializer(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=getInitializer(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=getConstraint(e.kernelConstraint),this.biasConstraint=getConstraint(e.biasConstraint),this.kernelRegularizer=getRegularizer(e.kernelRegularizer),this.biasRegularizer=getRegularizer(e.biasRegularizer),this.activityRegularizer=getRegularizer(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const n=(e=getExactlyOneShape(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[n,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:n}}],this.built=!0}computeOutputShape(e){const n=(e=getExactlyOneShape(e)).slice();return n[n.length-1]=this.units,n}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e),a=mapActivationToFusedKernel(this.activation.getClassName());let o;return null!=a?o=tfjs_backend_dot(r,this.kernel.read(),a,this.bias?this.bias.read():null):(o=tfjs_backend_dot(r,this.kernel.read()),null!=this.bias&&(o=biasAdd(o,this.bias.read())),null!=this.activation&&(o=this.activation.apply(o))),o}))}getConfig(){const e={units:this.units,activation:serializeActivation(this.activation),useBias:this.useBias,kernelInitializer:serializeInitializer(this.kernelInitializer),biasInitializer:serializeInitializer(this.biasInitializer),kernelRegularizer:serializeRegularizer(this.kernelRegularizer),biasRegularizer:serializeRegularizer(this.biasRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),kernelConstraint:serializeConstraint(this.kernelConstraint),biasConstraint:serializeConstraint(this.biasConstraint)},n=super.getConfig();return Object.assign(e,n),e}}core_Dense.className="Dense",i.Je.registerClass(core_Dense);class core_Flatten extends topology_Layer{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=getExactlyOneShape(e);for(const n of e.slice(1))if(null==n)throw new ValueError(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],arrayProd(e,1)]}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);let r=getExactlyOneTensor(e);if("channelsFirst"===this.dataFormat&&r.rank>1){const e=[0];for(let n=2;n<r.rank;++n)e.push(n);e.push(1),r=r.transpose(e)}return function batchFlatten(e){if(e.rank<=1)throw new ValueError(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const n=[e.shape[0],arrayProd(e.shape,1)];return e.reshape(n)}(r)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const n=super.getConfig();return Object.assign(e,n),e}}core_Flatten.className="Flatten",i.Je.registerClass(core_Flatten);class core_Activation extends topology_Layer{constructor(e){super(e),this.supportsMasking=!0,this.activation=getActivation(e.activation)}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e);return this.activation.apply(r)}))}getConfig(){const e={activation:serializeActivation(this.activation)},n=super.getConfig();return Object.assign(e,n),e}}core_Activation.className="Activation",i.Je.registerClass(core_Activation);class core_RepeatVector extends topology_Layer{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,n){return Object(i.hf)((()=>function repeat(e,n){return Object(i.hf)((()=>{if(2!==e.shape.length)throw new ValueError(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);return tfjs_backend_tile(expandDims(e,1),[1,n,1])}))}(e=getExactlyOneTensor(e),this.n)))}getConfig(){const e={n:this.n},n=super.getConfig();return Object.assign(e,n),e}}core_RepeatVector.className="RepeatVector",i.Je.registerClass(core_RepeatVector);class core_Reshape extends topology_Layer{constructor(e){super(e),this.targetShape=e.targetShape;for(let n=0;n<this.targetShape.length;++n)this.isUnknown(this.targetShape[n])&&(this.targetShape[n]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,n){const r="Total size of new array must be unchanged.",a=n.slice();let o=1,i=null;for(let l=0;l<a.length;++l){const e=a[l];if(this.isUnknown(e)){if(null!==i)throw new ValueError("Can only specifiy one unknown dimension.");i=l}else o*=e}const s=arrayProd(e);if(null!==i){if(0===o||s%o!=0)throw new ValueError(r);a[i]=s/o}else if(s!==o)throw new ValueError(r);return a}computeOutputShape(e){let n=!1;for(let r=0;r<e.length;++r)if(this.isUnknown(e[r])){n=!0;break}return n?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e),a=r.shape,o=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return r.reshape(o)}))}getConfig(){const e={targetShape:this.targetShape},n=super.getConfig();return Object.assign(e,n),e}}core_Reshape.className="Reshape",i.Je.registerClass(core_Reshape);class core_Permute extends topology_Layer{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const n=range(1,e.dims.length+1);if(!i.of.arraysEqual(e.dims.slice().sort(),n))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new InputSpec({ndim:this.dims.length+1})]}computeOutputShape(e){const n=(e=getExactlyOneShape(e)).slice();return this.dims.forEach(((r,a)=>{n[a+1]=e[r]})),n}call(e,n){return Object(i.kf)(getExactlyOneTensor(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},n=super.getConfig();return Object.assign(e,n),e}}core_Permute.className="Permute",i.Je.registerClass(core_Permute);class core_Masking extends topology_Layer{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={maskValue:this.maskValue};return Object.assign(n,e),n}computeMask(e,n){const r=getExactlyOneTensor(e);return Object(i.hd)(Object(i.re)(r,this.maskValue),-1)}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e),a=Object(i.hd)(Object(i.re)(r,this.maskValue),-1,!0);return r.mul(a.asType(r.dtype))}))}}core_Masking.className="Masking",i.Je.registerClass(core_Masking);class embeddings_Embedding extends topology_Layer{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),null==e.inputLength?this.batchInputShape=[n,null]:this.batchInputShape=[n].concat(toList(e.inputLength))}this.inputDim=e.inputDim,assertPositiveInteger(this.inputDim,"inputDim"),this.outputDim=e.outputDim,assertPositiveInteger(this.outputDim,"outputDim"),this.embeddingsInitializer=getInitializer(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=getRegularizer(e.embeddingsRegularizer),this.activityRegularizer=getRegularizer(e.activityRegularizer),this.embeddingsConstraint=getConstraint(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,n){return Object(i.hf)((()=>this.maskZero?(e=getExactlyOneTensor(e),Object(i.re)(e,Object(i.uf)(e))):null))}computeOutputShape(e){if(e=getExactlyOneShape(e),null==this.inputLength)return[...e,this.outputDim];const n=toList(this.inputLength);if(n.length!==e.length-1)throw new ValueError(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let r=0;for(let a=0;a<n.length;++a){const o=n[a],i=e[a+1];if(null!=o&&null!=i&&o!==i)throw new ValueError(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==o&&(n[r]=i),r++}}return[e[0],...n,this.outputDim]}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);let r=getExactlyOneTensor(e);"int32"!==r.dtype&&(r=tfjs_backend_cast(r,"int32"));return tfjs_backend_gather(this.embeddings.read(),r.as1D()).reshape(getExactlyOneShape(this.computeOutputShape(r.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:serializeInitializer(this.embeddingsInitializer),embeddingsRegularizer:serializeRegularizer(this.embeddingsRegularizer),activityRegularizer:serializeRegularizer(this.activityRegularizer),embeddingsConstraint:serializeConstraint(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},n=super.getConfig();return Object.assign(e,n),e}}embeddings_Embedding.className="Embedding",i.Je.registerClass(embeddings_Embedding);class merge_Merge extends topology_Layer{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new NotImplementedError}computeElementwiseOpOutputShape(e,n){if(null==e||null==n)return null;if(e.length<n.length)return this.computeElementwiseOpOutputShape(n,e);if(0===n.length)return e;const r=e.slice(0,e.length-n.length);for(let a=0;a<n.length;++a){const o=e[e.length-n.length+a],i=n[a];if(null==o||null==i||o<0||i<0)r.push(null);else if(1===o)r.push(i);else if(1===i)r.push(o);else{if(o!==i)throw new ValueError("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(n));r.push(o)}}return r}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[getExactlyOneShape(e)]),(e=e).length<2)throw new ValueError(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let n=[];for(const o of e)null!=o&&null!==o[0]&&n.push(o[0]);if(n=generic_utils_unique(n),n.length>1)throw new ValueError(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let r=null==e[0]?null:e[0].slice(1);for(let o=1;o<e.length;++o){const n=null==e[o]?null:e[o].slice(1);r=this.computeElementwiseOpOutputShape(r,n)}const a=e.map((e=>e.length));-1===e.indexOf(null)&&1===generic_utils_unique(a).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,n){return Object(i.hf)((()=>{if(e=e,this.reshapeRequired){const n=[],r=e.map((e=>e.rank));if(-1===r.indexOf(null)){const a=math_utils_max(r);for(let r of e){const e=r.rank;for(let n=0;n<a-e;++n)r=expandDims(r,1);n.push(r)}return this.mergeFunction(n)}{let r=!1;for(const s of e){const e=s.rank;if(null==e){const e=s.shape,a=e[0],o=e.slice(1).concat([a]);let l=s.reshape([a].concat(arrayProd(e.slice(1))));l=i.kf(l,[1,0]),l=l.reshape(o),n.push(l),r=!0}else if(e>1){const a=range(1,e).concat([0]);n.push(i.kf(s,a)),r=!0}else n.push(s)}let a=this.mergeFunction(n);const o=a.rank;if(r)if(null==o){const e=a.shape,n=e[e.length-1],r=[n].concat(e.slice(0,e.length-1));a=i.kf(a.reshape([-1,n]),[1,0]).reshape(r)}else if(o>1){const e=[o-1].concat(range(0,o-1));a=i.kf(a,e)}return a}}return this.mergeFunction(e)}))}computeOutputShape(e){let n;n=null==(e=e)[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){const r=null==e[a]?null:e[a].slice(1);n=this.computeElementwiseOpOutputShape(n,r)}let r=[];for(const a of e)null!=a&&null!==a[0]&&r.push(a[0]);return r=generic_utils_unique(r),n=1===r.length?r.concat(n):[null].concat(n),n}computeMask(e,n){return i.hf((()=>{if(null==n)return null;if(!Array.isArray(n))throw new ValueError("`mask` should be an Array");if(!Array.isArray(e))throw new ValueError("`inputs` should be an Array");if(n.length!==e.length)throw new ValueError(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${n.length})`);if(n.every((e=>null==e)))return null;let r=(n=n.map((e=>null==e?e:i.Od(e,0))))[0];for(let e=1;e<n.length-1;++e)r=i.ee(r,n[e]);return r}))}}class merge_Add extends merge_Merge{constructor(e){super(e)}mergeFunction(e){return Object(i.hf)((()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=i.fd(n,e[r]);return n}))}}merge_Add.className="Add",i.Je.registerClass(merge_Add);class merge_Multiply extends merge_Merge{constructor(e){super(e)}mergeFunction(e){return Object(i.hf)((()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=i.oe(n,e[r]);return n}))}}merge_Multiply.className="Multiply",i.Je.registerClass(merge_Multiply);class merge_Average extends merge_Merge{constructor(e){super(e)}mergeFunction(e){return Object(i.hf)((()=>{let n=e[0].clone();for(let r=1;r<e.length;++r)n=i.fd(n,e[r]);return i.oe(1/e.length,n)}))}}merge_Average.className="Average",i.Je.registerClass(merge_Average);class merge_Maximum extends merge_Merge{constructor(e){super(e)}mergeFunction(e){return Object(i.hf)((()=>{let n=e[0];for(let r=1;r<e.length;++r)n=i.ie(n,e[r]);return n}))}}merge_Maximum.className="Maximum",i.Je.registerClass(merge_Maximum);class merge_Minimum extends merge_Merge{constructor(e){super(e)}mergeFunction(e){return Object(i.hf)((()=>{let n=e[0];for(let r=1;r<e.length;++r)n=i.me(n,e[r]);return n}))}}merge_Minimum.className="Minimum",i.Je.registerClass(merge_Minimum);class merge_Concatenate extends merge_Merge{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ValueError("A `Concatenate` layer should be called on a list of at least 2 inputs");e=e;let n=!0;for(const a of e)if(null!=a){n=!1;break}if(n)return;const r=[];for(let a=0;a<e.length;++a){const n=e[a].slice();n.splice(this.axis,1);let o=!1;for(const e of r)if(i.of.arraysEqual(e,n)){o=!0;break}o||r.push(n)}if(r.length>1)throw new ValueError("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return Object(i.hf)((()=>concatenate(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ValueError("A `Concatenate` layer should be called on a list of inputs.");const n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis;for(const o of n.slice(1)){if(null==r[a]||null==o[a]){r[a]=null;break}r[a]+=o[a]}return r}computeMask(e,n){if(null==n)return null;if(!Array.isArray(n))throw new ValueError("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ValueError("`inputs` should be an array for Concatenate");if(n.length!==e.length)throw new ValueError(`Mismatch in the length of mask (${n.length}) and the legnth of inputs (${e.length})`);return i.hf((()=>{let r=!0;if(n.forEach((e=>{null==e||(r=!1)})),r)return null;const a=[];for(let s=0;s<e.length;++s)null==n[s]?a.push(i.ue(e[s]).asType("bool")):n[s].rank<e[s].rank?a.push(i.Od(n[s],-1)):a.push(n[s]);const o=i.vd(a,this.axis);return i.gd(o,-1,!1)}))}getConfig(){const e={axis:this.axis},n=super.getConfig();return Object.assign(e,n),e}}function interpretAxis(e,n){for(;e<0;)e+=n;return e}merge_Concatenate.className="Concatenate",i.Je.registerClass(merge_Concatenate);class merge_Dot extends merge_Merge{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){i.of.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const n=e[0],r=e[1];if(n.length>3||r.length>3)throw new NotImplementedError("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);if(n[a[0]]!==r[a[1]])throw new ValueError(`Dimension incompatibility: ${n[a[0]]} !== ${r[a[1]]}`)}mergeFunction(e){if(2!==e.length)throw new ValueError(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let n,r=e[0],a=e[1];return n=Array.isArray(this.axes)?this.axes.map(((n,r)=>interpretAxis(n,e[r].shape.length))):[interpretAxis(this.axes,r.shape.length),interpretAxis(this.axes,a.shape.length)],this.normalize&&(r=l2Normalize(r,n[0]),a=l2Normalize(a,n[1])),function batchDot(e,n,r){if(e.shape.length>3||n.shape.length>3)throw new NotImplementedError("batchDot is not implemented for tensors of 4D or higher rank yet");if(i.of.assert(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),i.of.assert(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${n.shape.length}`)),"number"==typeof r&&(r=[r,r]),"complex64"===e.dtype||"complex64"===n.dtype)throw new NotImplementedError("batchDot is not implemented for complex64-type Tensors yet.");const a=e.shape.length,o=n.shape.length;null==r&&(r=[a-1,o-2]);const s=r;return i.hf((()=>{let r,i;if(a>o){r=a-o;const e=[];for(let n=0;n<r;++n)e.push(1);n=n.reshape(n.shape.concat(e))}else if(o>a){r=o-a;const n=[];for(let e=0;e<r;++e)n.push(1);e=e.reshape(e.shape.concat(n))}else r=0;if(2===e.shape.length&&2===n.shape.length)i=s[0]===s[1]?e.mul(n).sum(s[0]):e.transpose([1,0]).mul(n).sum(s[1]);else{const r=s[0]!==e.shape.length-1,a=s[1]===n.shape.length-1;i=e.matMul(n,r,a)}if(r>0){let e;e=a>o?a+o-3:a-1;const n=[];for(let a=e;a<e+r;++a)n.push(a);i=i.squeeze(n)}return 1===i.shape.length&&(i=i.expandDims(1)),i}))}(r,a,n)}interpretAxes(e,n){let r;return r=Array.isArray(this.axes)?this.axes:[interpretAxis(this.axes,e.length),interpretAxis(this.axes,n.length)],r}computeOutputShape(e){i.of.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const n=e[0].slice(),r=e[1].slice();if(n.length>3||r.length>3)throw new NotImplementedError("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(n,r);n.splice(a[0],1),r.splice(a[1],1),r.splice(0,1);const o=n.concat(r);return 1===o.length&&o.push(1),o}computeMask(e,n){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},n=super.getConfig();return Object.assign(e,n),e}}merge_Dot.className="Dot",i.Je.registerClass(merge_Dot);class noise_GaussianNoise extends topology_Layer{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={stddev:this.stddev};return Object.assign(n,e),n}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e);return inTrainPhase((()=>randomNormal(r.shape,0,this.stddev).add(r)),(()=>r),n.training||!1)}))}}noise_GaussianNoise.className="GaussianNoise",i.Je.registerClass(noise_GaussianNoise);class noise_GaussianDropout extends topology_Layer{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n);const r=getExactlyOneTensor(e);if(this.rate>0&&this.rate<1){return inTrainPhase((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return r.mul(randomNormal(r.shape,1,e))}),(()=>r),n.training||!1)}return r}))}}noise_GaussianDropout.className="GaussianDropout",i.Je.registerClass(noise_GaussianDropout);class noise_AlphaDropout extends topology_Layer{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||getExactlyOneTensor(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),n={rate:this.rate};return Object.assign(n,e),n}call(e,n){return Object(i.hf)((()=>{if(this.rate<1&&this.rate>0){const r=this._getNoiseShape(e);return inTrainPhase((()=>{const n=getExactlyOneTensor(e),a=-1.7580993408473766;let o=Object(i.Vd)(Object(i.ze)(r),this.rate);o=tfjs_backend_cast(o,"float32");const s=((1-this.rate)*(1+this.rate*a**2))**-.5,l=-s*a*this.rate;return n.mul(o).add(o.add(-1).mul(a)).mul(s).add(l)}),(()=>getExactlyOneTensor(e)),n.training||!1)}return e}))}}function batchNormalization(e,n,r,a,o,s=.001){let l;if(2===e.rank)l=i.nd(e,n,r,a,o,s);else if(3===e.rank)l=i.od(e,n,r,a,o,s);else{if(4!==e.rank)throw new NotImplementedError(`batchNormalization is not implemented for array of rank ${e.rank} yet`);l=i.pd(e,n,r,a,o,s)}return l}function normalizeBatchInTraining(e,n,r,a,o=.001){return i.of.arraysEqual(a.slice().sort(),range(0,e.rank-1))?function regularNormalizeBatchInTraining(e,n,r,a,o=.001){return Object(i.hf)((()=>{const s=i.ne(e,a),l=s.mean,c=s.variance;return[batchNormalization(e,l,c,r,n,o),l,c]}))}(e,n,r,a,o):function broadcastNormalizeBatchInTraining(e,n,r,a,o=.001){return Object(i.hf)((()=>{const s=i.ne(e,a),l=s.mean,c=s.variance,u=[];for(const n of range(0,e.rank))-1!==a.indexOf(n)?u.push(1):u.push(e.shape[n]);const d=l.reshape(u),p=c.reshape(u),f=null==n?null:n.reshape(u),h=null==r?null:r.reshape(u);return[batchNormalization(e,d,p,h,f,o),l,c]}))}(e,n,r,a,o)}noise_AlphaDropout.className="AlphaDropout",i.Je.registerClass(noise_AlphaDropout);class normalization_BatchNormalization extends topology_Layer{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=getInitializer(e.betaInitializer||"zeros"),this.gammaInitializer=getInitializer(e.gammaInitializer||"ones"),this.movingMeanInitializer=getInitializer(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=getInitializer(e.movingVarianceInitializer||"ones"),this.betaConstraint=getConstraint(e.betaConstraint),this.gammaConstraint=getConstraint(e.gammaConstraint),this.betaRegularizer=getRegularizer(e.betaRegularizer),this.gammaRegularizer=getRegularizer(e.gammaRegularizer)}build(e){e=getExactlyOneShape(e);const n=this.axis>=0?this.axis:this.axis+e.length,r=e[n];if(null==r)throw new ValueError(`Axis ${n} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new InputSpec({ndim:e.length,axes:{[n]:r}})];const a=[r];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,n){return Object(i.hf)((()=>{const r=null!=n.training&&n.training,a=getExactlyOneTensor(e),o=a.shape,s=o.length,l=range(0,s),c=this.axis>=0?this.axis:this.axis+s;l.splice(c,1);const u=pyListRepeat(1,s);u[c]=o[c];const d=l.slice();d.sort();const p=!i.of.arraysEqual(d,range(0,s).slice(0,s-1));if(!r)return(()=>{if(p){const e=this.movingMean.read().reshape(u),n=this.movingVariance.read().reshape(u),r=this.center?this.beta.read().reshape(u):null,o=this.scale?this.gamma.read().reshape(u):null;return batchNormalization(a,e,n,r,o,this.epsilon)}return batchNormalization(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[f,h,m]=normalizeBatchInTraining(a,this.gamma.read(),this.beta.read(),l,this.epsilon),doMovingAverage=(e,n,r)=>{i.hf((()=>{const a=1-r,o=e.read(),i=o.sub(n).mul(a);e.write(o.sub(i))}))};return(()=>{doMovingAverage(this.movingMean,h,this.momentum),doMovingAverage(this.movingVariance,m,this.momentum)})(),f}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),movingMeanInitializer:serializeInitializer(this.movingMeanInitializer),movingVarianceInitializer:serializeInitializer(this.movingVarianceInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer),betaConstraint:serializeConstraint(this.betaConstraint),gammaConstraint:serializeConstraint(this.gammaConstraint)},n=super.getConfig();return Object.assign(e,n),e}}normalization_BatchNormalization.className="BatchNormalization",i.Je.registerClass(normalization_BatchNormalization);class normalization_LayerNormalization extends topology_Layer{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=getInitializer(e.betaInitializer||"zeros"),this.gammaInitializer=getInitializer(e.gammaInitializer||"ones"),this.betaRegularizer=getRegularizer(e.betaRegularizer),this.gammaRegularizer=getRegularizer(e.gammaRegularizer),this.supportsMasking=!0}build(e){const n=(e=getExactlyOneShape(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=n);for(const a of this.axis)if(a<0||a>=n)throw new Error(`Invalid axis: ${a}`);if(this.axis.length!==generic_utils_unique(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const r=this.axis.map((n=>e[n]));this.scale?this.gamma=this.addWeight("gamma",r,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",r,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}call(e,n){const r=getExactlyOneTensor(e),a=r.shape,o=a.length;return Object(i.hf)((()=>{let{mean:e,variance:n}=Object(i.ne)(r,this.axis,!0);const s=pyListRepeat(1,o);for(const r of this.axis)s[r]=a[r];const broadcast=e=>null!=e&&e.shape.length!==o&&this.axis!==[o-1]?e.reshape(s):e;let l=broadcast(this.gamma.read()),c=broadcast(this.beta.read());const u=[],d=[];for(let r=0;r<o;++r)-1!==this.axis.indexOf(r)?(u.push(a[r]),d.push(1)):(u.push(1),d.push(a[r]));return e=e.tile(u),n=n.tile(u),l=l.tile(d),c=c.tile(d),batchNormalization(r,e,n,c,l,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:serializeInitializer(this.betaInitializer),gammaInitializer:serializeInitializer(this.gammaInitializer),betaRegularizer:serializeRegularizer(this.betaRegularizer),gammaRegularizer:serializeRegularizer(this.gammaRegularizer)},n=super.getConfig();return Object.assign(e,n),e}}normalization_LayerNormalization.className="LayerNormalization",i.Je.registerClass(normalization_LayerNormalization);class padding_ZeroPadding2D extends topology_Layer{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new ValueError(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let n,r;if("number"==typeof e.padding[0])n=[e.padding[0],e.padding[0]],r=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new ValueError(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(n=e.padding[0],2!==e.padding[1].length)throw new ValueError(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);r=e.padding[1]}this.padding=[n,r]}this.inputSpec=[new InputSpec({ndim:4})]}computeOutputShape(e){let n,r;return e=getExactlyOneShape(e),"channelsFirst"===this.dataFormat?(n=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],n,r]):(n=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,r=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],n,r,e[3]])}call(e,n){return Object(i.hf)((()=>function spatial2dPadding(e,n,r){return Object(i.hf)((()=>{if(4!==e.rank)throw new ValueError(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new ValueError("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==r&&(r="channelsLast"),"channelsLast"!==r&&"channelsFirst"!==r)throw new ValueError(`Unknown data format: ${r}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let a;return a="channelsFirst"===r?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],i.ve(e,a)}))}(getExactlyOneTensor(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}function pool2d(e,n,r,a,o,s){return Object(i.hf)((()=>{let l;checkDataFormat(o),checkPoolMode(s),checkPaddingMode(a),null==r&&(r=[1,1]),null==a&&(a="valid"),null==o&&(o="channelsLast"),null==s&&(s="max"),e=preprocessConv2DInput(e,o);const c="same"===a?"same":"valid";return l="max"===s?i.ge(e,n,r,c):i.jd(e,n,r,c),"channelsFirst"===o&&(l=i.kf(l,[0,3,1,2])),l}))}function pool3d(e,n,r,a,o,s){return Object(i.hf)((()=>{let l;checkDataFormat(o),checkPoolMode(s),checkPaddingMode(a),null==r&&(r=[1,1,1]),null==a&&(a="valid"),null==o&&(o="channelsLast"),null==s&&(s="max"),e=preprocessConv3DInput(e,o);const c="same"===a?"same":"valid";return l="max"===s?i.he(e,n,r,c):i.kd(e,n,r,c),"channelsFirst"===o&&(l=i.kf(l,[0,4,1,2,3])),l}))}padding_ZeroPadding2D.className="ZeroPadding2D",i.Je.registerClass(padding_ZeroPadding2D);class pooling_Pooling1D extends topology_Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new ValueError(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(assertPositiveInteger(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new ValueError(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}assertPositiveInteger(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,checkPaddingMode(this.padding),this.inputSpec=[new InputSpec({ndim:3})]}computeOutputShape(e){const n=convOutputLength((e=getExactlyOneShape(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],n,e[2]]}call(e,n){return Object(i.hf)((()=>{this.invokeCallHook(e,n),e=expandDims(getExactlyOneTensor(e),2);const r=this.poolingFunction(getExactlyOneTensor(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return i.Xe(r,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},n=super.getConfig();return Object.assign(e,n),e}}class pooling_MaxPooling1D extends pooling_Pooling1D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool2d(e,n,r,a,o,"max")}}pooling_MaxPooling1D.className="MaxPooling1D",i.Je.registerClass(pooling_MaxPooling1D);class pooling_AveragePooling1D extends pooling_Pooling1D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool2d(e,n,r,a,o,"avg")}}pooling_AveragePooling1D.className="AveragePooling1D",i.Je.registerClass(pooling_AveragePooling1D);class pooling_Pooling2D extends topology_Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new ValueError(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];assertPositiveInteger(this.poolSize,"poolSize"),assertPositiveInteger(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,checkDataFormat(this.dataFormat),checkPaddingMode(this.padding),this.inputSpec=[new InputSpec({ndim:4})]}computeOutputShape(e){e=getExactlyOneShape(e);let n="channelsFirst"===this.dataFormat?e[2]:e[1],r="channelsFirst"===this.dataFormat?e[3]:e[2];return n=convOutputLength(n,this.poolSize[0],this.padding,this.strides[0]),r=convOutputLength(r,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],n,r]:[e[0],n,r,e[3]]}call(e,n){return Object(i.hf)((()=>(this.invokeCallHook(e,n),this.poolingFunction(getExactlyOneTensor(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class pooling_MaxPooling2D extends pooling_Pooling2D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool2d(e,n,r,a,o,"max")}}pooling_MaxPooling2D.className="MaxPooling2D",i.Je.registerClass(pooling_MaxPooling2D);class pooling_AveragePooling2D extends pooling_Pooling2D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool2d(e,n,r,a,o,"avg")}}pooling_AveragePooling2D.className="AveragePooling2D",i.Je.registerClass(pooling_AveragePooling2D);class pooling_Pooling3D extends topology_Layer{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new ValueError(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];assertPositiveInteger(this.poolSize,"poolSize"),assertPositiveInteger(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,checkDataFormat(this.dataFormat),checkPaddingMode(this.padding),this.inputSpec=[new InputSpec({ndim:5})]}computeOutputShape(e){e=getExactlyOneShape(e);let n="channelsFirst"===this.dataFormat?e[2]:e[1],r="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[4]:e[3];return n=convOutputLength(n,this.poolSize[0],this.padding,this.strides[0]),r=convOutputLength(r,this.poolSize[1],this.padding,this.strides[1]),a=convOutputLength(a,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],n,r,a]:[e[0],n,r,a,e[4]]}call(e,n){return Object(i.hf)((()=>(this.invokeCallHook(e,n),this.poolingFunction(getExactlyOneTensor(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class pooling_MaxPooling3D extends pooling_Pooling3D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool3d(e,n,r,a,o,"max")}}pooling_MaxPooling3D.className="MaxPooling3D",i.Je.registerClass(pooling_MaxPooling3D);class pooling_AveragePooling3D extends pooling_Pooling3D{constructor(e){super(e)}poolingFunction(e,n,r,a,o){return checkDataFormat(o),checkPaddingMode(a),pool3d(e,n,r,a,o,"avg")}}pooling_AveragePooling3D.className="AveragePooling3D",i.Je.registerClass(pooling_AveragePooling3D);class pooling_GlobalPooling1D extends topology_Layer{constructor(e){super(e),this.inputSpec=[new InputSpec({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,n){throw new NotImplementedError}}class pooling_GlobalAveragePooling1D extends pooling_GlobalPooling1D{constructor(e){super(e||{})}call(e,n){return Object(i.hf)((()=>{const n=getExactlyOneTensor(e);return i.je(n,1)}))}}pooling_GlobalAveragePooling1D.className="GlobalAveragePooling1D",i.Je.registerClass(pooling_GlobalAveragePooling1D);class pooling_GlobalMaxPooling1D extends pooling_GlobalPooling1D{constructor(e){super(e||{})}call(e,n){return Object(i.hf)((()=>{const n=getExactlyOneTensor(e);return i.fe(n,1)}))}}pooling_GlobalMaxPooling1D.className="GlobalMaxPooling1D",i.Je.registerClass(pooling_GlobalMaxPooling1D);class pooling_GlobalPooling2D extends topology_Layer{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,checkDataFormat(this.dataFormat),this.inputSpec=[new InputSpec({ndim:4})]}computeOutputShape(e){return e=e,"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,n){throw new NotImplementedError}getConfig(){const e={dataFormat:this.dataFormat},n=super.getConfig();return Object.assign(e,n),e}}class pooling_GlobalAveragePooling2D extends pooling_GlobalPooling2D{call(e,n){return Object(i.hf)((()=>{const n=getExactlyOneTensor(e);return"channelsLast"===this.dataFormat?i.je(n,[1,2]):i.je(n,[2,3])}))}}pooling_GlobalAveragePooling2D.className="GlobalAveragePooling2D",i.Je.registerClass(pooling_GlobalAveragePooling2D);class pooling_GlobalMaxPooling2D extends pooling_GlobalPooling2D{call(e,n){return Object(i.hf)((()=>{const n=getExactlyOneTensor(e);return"channelsLast"===this.dataFormat?i.fe(n,[1,2]):i.fe(n,[2,3])}))}}pooling_GlobalMaxPooling2D.className="GlobalMaxPooling2D",i.Je.registerClass(pooling_GlobalMaxPooling2D);class wrappers_Wrapper extends topology_Layer{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},n=super.getConfig();return Object.assign(e,n),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,n,r={}){const a=deserialize(n.layer,r);delete n.layer;const o={layer:a};return Object.assign(o,n),new e(o)}}class wrappers_TimeDistributed extends wrappers_Wrapper{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=getExactlyOneShape(e)).length<3)throw new ValueError(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const n=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(n),this.layer.built=!0),super.build(e)}computeOutputShape(e){const n=[(e=getExactlyOneShape(e))[0]].concat(e.slice(2)),r=this.layer.computeOutputShape(n),a=e[1];return[r[0],a].concat(r.slice(1))}call(e,n){return Object(i.hf)((()=>rnn(((e,r)=>[getExactlyOneTensor(this.layer.call(e,n)),[]]),e=getExactlyOneTensor(e),[],!1,null,null,!1,!0)[1]))}}wrappers_TimeDistributed.className="TimeDistributed",i.Je.registerClass(wrappers_TimeDistributed);class wrappers_Bidirectional extends wrappers_Wrapper{constructor(e){super(e);const n=e.layer.getConfig(),r={};r.className=e.layer.getClassName(),r.config=n,this.forwardLayer=deserialize(r),n.goBackwards=!0!==n.goBackwards;const a={};if(a.className=e.layer.getClassName(),a.config=n,this.backwardLayer=deserialize(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,function checkBidirectionalMergeMode(e){checkStringTypeUnionValue(ea,"BidirectionalMergeMode",e)}(this.mergeMode),e.weights)throw new NotImplementedError("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const n=e.length,r=Math.floor(n/2);this.forwardLayer.setWeights(e.slice(0,r)),this.backwardLayer.setWeights(e.slice(r))}computeOutputShape(e){let n,r,a,o=this.forwardLayer.computeOutputShape(e);return Array.isArray(o)&&Array.isArray(o[0])||(o=[o]),o=o,this.returnState?(a=o.slice(1),n=o[0]):n=o[0],n=n,"concat"===this.mergeMode?(n[n.length-1]*=2,r=[n]):r=null==this.mergeMode?[n,n.slice()]:[n],this.returnState?null==this.mergeMode?r.concat(a).concat(a.slice()):[n].concat(a).concat(a.slice()):singletonOrArray(r)}apply(e,n){let r=null==n?null:n.initialState,a=null==n?null:n.constants;null==n&&(n={});const o=standardizeArgs(e,r,a,this.numConstants);if(e=o.inputs,r=o.initialState,a=o.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return super.apply(e,n);const i=[],s=[];if(null!=r){const e=r.length;if(e%2>0)throw new ValueError("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");n.initialState=r,i.push(...r);const a=r.map((e=>new InputSpec({shape:e.shape})));this.forwardLayer.stateSpec=a.slice(0,e/2),this.backwardLayer.stateSpec=a.slice(e/2),s.push(...a)}if(null!=a)throw new NotImplementedError("Support for constants in Bidirectional layers is not implemented yet.");const l=i[0]instanceof topology_SymbolicTensor;for(const c of i)if(c instanceof topology_SymbolicTensor!==l)throw new ValueError("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(l){const r=[e].concat(i),a=this.inputSpec.concat(s),o=this.inputSpec;this.inputSpec=a;const l=super.apply(r,n);return this.inputSpec=o,l}return super.apply(e,n)}call(e,n){return Object(i.hf)((()=>{const r=n.initialState;let a,o,s,l;if(null==r)a=this.forwardLayer.call(e,n),o=this.backwardLayer.call(e,n);else{const i=r.slice(0,r.length/2),s=r.slice(r.length/2);a=this.forwardLayer.call(e,Object.assign(n,{initialState:i})),o=this.backwardLayer.call(e,Object.assign(n,{initialState:s}))}return this.returnState&&(Array.isArray(a)&&(s=a.slice(1).concat(o.slice(1))),a=a[0],o=o[0]),this.returnSequences&&(o=i.Fe(o,1)),"concat"===this.mergeMode?l=concatenate([a,o]):"sum"===this.mergeMode?l=i.fd(a,o):"ave"===this.mergeMode?l=i.oe(.5,i.fd(a,o)):"mul"===this.mergeMode?l=i.oe(a,o):null==this.mergeMode&&(l=[a,o]),this.returnState?null==this.mergeMode?l.concat(s):[l].concat(s):l}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){nameScope(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),nameScope(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,n){let r;if(Array.isArray(n)&&(n=n[0]),r=this.returnSequences?null==this.mergeMode?[n,n]:n:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(r)?r.concat(e).concat(e):[r].concat(e).concat(e)}return r}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},n=super.getConfig();return Object.assign(e,n),e}static fromConfig(e,n){const r=deserialize(n.layer);if(delete n.layer,null!=n.numConstants)throw new NotImplementedError("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=n;return a.layer=r,new e(a)}}function exports_layers_inputLayer(e){return new input_layer_InputLayer(e)}function exports_layers_elu(e){return new advanced_activations_ELU(e)}function reLU(e){return new advanced_activations_ReLU(e)}function leakyReLU(e){return new advanced_activations_LeakyReLU(e)}function exports_layers_prelu(e){return new advanced_activations_PReLU(e)}function exports_layers_softmax(e){return new advanced_activations_Softmax(e)}function thresholdedReLU(e){return new advanced_activations_ThresholdedReLU(e)}function exports_layers_conv1d(e){return new convolutional_Conv1D(e)}function exports_layers_conv2d(e){return new convolutional_Conv2D(e)}function conv2dTranspose(e){return new convolutional_Conv2DTranspose(e)}function exports_layers_conv3d(e){return new convolutional_Conv3D(e)}function separableConv2d(e){return new SeparableConv2D(e)}function cropping2D(e){return new convolutional_Cropping2D(e)}function upSampling2d(e){return new convolutional_UpSampling2D(e)}function exports_layers_depthwiseConv2d(e){return new convolutional_depthwise_DepthwiseConv2D(e)}function exports_layers_activation(e){return new core_Activation(e)}function dense(e){return new core_Dense(e)}function exports_layers_dropout(e){return new core_Dropout(e)}function spatialDropout1d(e){return new SpatialDropout1D(e)}function exports_layers_flatten(e){return new core_Flatten(e)}function repeatVector(e){return new core_RepeatVector(e)}function exports_layers_reshape(e){return new core_Reshape(e)}function permute(e){return new core_Permute(e)}function embedding(e){return new embeddings_Embedding(e)}function exports_layers_add(e){return new merge_Add(e)}function exports_layers_average(e){return new merge_Average(e)}function exports_layers_concatenate(e){return new merge_Concatenate(e)}function exports_layers_maximum(e){return new merge_Maximum(e)}function exports_layers_minimum(e){return new merge_Minimum(e)}function exports_layers_multiply(e){return new merge_Multiply(e)}function exports_layers_dot(e){return new merge_Dot(e)}function exports_layers_batchNormalization(e){return new normalization_BatchNormalization(e)}function layerNormalization(e){return new normalization_LayerNormalization(e)}function zeroPadding2d(e){return new padding_ZeroPadding2D(e)}function averagePooling1d(e){return new pooling_AveragePooling1D(e)}function avgPool1d(e){return averagePooling1d(e)}function avgPooling1d(e){return averagePooling1d(e)}function averagePooling2d(e){return new pooling_AveragePooling2D(e)}function avgPool2d(e){return averagePooling2d(e)}function avgPooling2d(e){return averagePooling2d(e)}function averagePooling3d(e){return new pooling_AveragePooling3D(e)}function avgPool3d(e){return averagePooling3d(e)}function avgPooling3d(e){return averagePooling3d(e)}function globalAveragePooling1d(e){return new pooling_GlobalAveragePooling1D(e)}function globalAveragePooling2d(e){return new pooling_GlobalAveragePooling2D(e)}function globalMaxPooling1d(e){return new pooling_GlobalMaxPooling1D(e)}function globalMaxPooling2d(e){return new pooling_GlobalMaxPooling2D(e)}function maxPooling1d(e){return new pooling_MaxPooling1D(e)}function maxPooling2d(e){return new pooling_MaxPooling2D(e)}function maxPooling3d(e){return new pooling_MaxPooling3D(e)}function gru(e){return new recurrent_GRU(e)}function gruCell(e){return new recurrent_GRUCell(e)}function lstm(e){return new recurrent_LSTM(e)}function lstmCell(e){return new recurrent_LSTMCell(e)}function simpleRNN(e){return new recurrent_SimpleRNN(e)}function simpleRNNCell(e){return new recurrent_SimpleRNNCell(e)}function convLstm2d(e){return new ConvLSTM2D(e)}function convLstm2dCell(e){return new convolutional_recurrent_ConvLSTM2DCell(e)}function exports_layers_rnn(e){return new recurrent_RNN(e)}function stackedRNNCells(e){return new recurrent_StackedRNNCells(e)}function bidirectional(e){return new wrappers_Bidirectional(e)}function timeDistributed(e){return new wrappers_TimeDistributed(e)}wrappers_Bidirectional.className="Bidirectional",i.Je.registerClass(wrappers_Bidirectional);const _a=globalMaxPooling1d,wa=globalMaxPooling2d,ka=maxPooling1d,Ta=maxPooling2d;function gaussianNoise(e){return new noise_GaussianNoise(e)}function gaussianDropout(e){return new noise_GaussianDropout(e)}function alphaDropout(e){return new noise_AlphaDropout(e)}function masking(e){return new core_Masking(e)}r("f8bb"),r("526c");r("d303"),r("4850");r("0777"),r("24b0"),r("d7b0");r("132b"),r("1590"),r("8bc9"),r("ba53"),r("53fd");r("46b8"),r("5894"),r("3efc"),r("8629"),r("84d6"),r("7e6a");r("a780"),r("f74c");r("960f");r("bc62");r("04c4"),r("2f2c");r("8bfa"),r("ba40");var Sa=r("6125"),Oa=r("c388"),Ca=r("bdcf");class dataset_Dataset{constructor(){this.size=null}batch(e,n=!0){const r=this;let a;return i.of.assert(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),a=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),datasetFromIteratorFn((async()=>(await r.iterator()).columnMajorBatch(e,n,deepBatchConcat)),a)}concatenate(e){const n=this;let r;return r=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,datasetFromIteratorFn((async()=>(await n.iterator()).concatenate(await e.iterator())),r)}filter(e){const n=this;let r;return r=this.size===1/0?1/0:null,datasetFromIteratorFn((async()=>(await n.iterator()).filter((n=>i.hf((()=>e(n)))))),r)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const n=this;return datasetFromIteratorFn((async()=>(await n.iterator()).map((n=>i.hf((()=>e(n)))))),this.size)}mapAsync(e){const n=this;return datasetFromIteratorFn((async()=>(await n.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const n=this;return datasetFromIteratorFn((async()=>(await n.iterator()).prefetch(e)),this.size)}repeat(e){const n=this;let r;return r=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,datasetFromIteratorFn((async()=>{const r=Object(Oa.e)((async()=>({value:await n.iterator(),done:!1})));return Object(Oa.d)(r.take(e))}),r)}skip(e){const n=this;let r;return r=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,datasetFromIteratorFn((async()=>(await n.iterator()).skip(e)),r)}shuffle(e,n,r=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const a=this,o=Sa.alea(n||i.of.now().toString());return datasetFromIteratorFn((async()=>{let n=o.int32();return r&&(n+=o.int32()),(await a.iterator()).shuffle(e,n.toString())}),this.size)}take(e){const n=this;let r;return r=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,datasetFromIteratorFn((async()=>(await n.iterator()).take(e)),r)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function datasetFromIteratorFn(e,n=null){return new class extends dataset_Dataset{constructor(){super(...arguments),this.size=n}async iterator(){return e()}}}function deepBatchConcat(e){if(null===e)return null;const n=e[0];if(Object(Ca.a)(n)){return{value:function batchConcat(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.Tc?i.Ye(e):i.df(e)}(e),recurse:!1}}return{value:null,recurse:!0}}dataset_Dataset.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");Oa.a;Oa.a;var Aa=r("dc14");Aa.a;function assertNotComplex(e,n){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.of.assert("complex64"!==e.dtype,(()=>`${n} does not support complex64 tensors in the CPU backend.`))}))}const Ia=i.Zd.whereImpl;class backend_cpu_MathBackendCPU extends i.vb{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new i.L(this,Object(i.Kd)())}nextDataId(){return backend_cpu_MathBackendCPU.nextDataId++}write(e,n,r){this.firstUse&&(this.firstUse=!1,Object(i.Ld)().get("IS_NODE")&&i.md.warn("\n============================\nHi there 👋. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,n,r){let a;if("string"===n&&null!=r&&r.length>0&&i.of.isString(r[0])){const o=r.map((e=>i.of.encodeString(e)));a=this.write(o,e,n)}else a=this.write(r,e,n);return{dataId:a,shape:e,dtype:n}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,n,r,a,o){this.data.set(e,{values:n,dtype:a,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if("complex64"===n){const e=this.readSync(r.real.dataId),n=this.readSync(r.imag.dataId);return i.md.mergeRealAndImagArrays(e,n)}return this.data.get(e).values}bufferSync(e){const n=this.readSync(e.dataId);let r=n;if("string"===e.dtype)try{r=n.map((e=>i.of.decodeString(e)))}catch(a){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(i.rd)(e.shape,e.dtype,r)}makeOutput(e,n,r){const a=this.write(e,n,r);return Object(i.Kd)().makeTensorFromDataId(a,n,r,this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=i.of.now();e();return{kernelMs:i.of.now()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){assertNotComplex([e],"where");const n=this.readSync(e.dataId);return Ia(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}backend_cpu_MathBackendCPU.nextDataId=0;function unaryKernelFunc(e,n,r){return({inputs:a,attrs:o,backend:s})=>{const{x:l}=a;if(assertNotComplex(l,e),"string"===l.dtype||"string"===r)throw new Error("unaryKernelFunc does not support string input/output");const c=s,u=c.data.get(l.dataId).values,d=i.of.sizeFromShape(l.shape),p=r||l.dtype,f=i.of.getArrayFromDType(p,d);for(let e=0;e<d;++e)f[e]=n(u[e],o);return c.makeTensorInfo(l.shape,p,f)}}function unaryKernelFuncFromImpl(e,n,r){return({inputs:a,attrs:o,backend:i})=>{const{x:s}=a;if(assertNotComplex(s,e),"string"===s.dtype||"string"===r)throw new Error("unaryKernelFunc does not support string input/output");const l=i,c=l.data.get(s.dataId).values,u=r||s.dtype,d=n(c,u,o);return l.makeTensorInfo(s.shape,u,d)}}Object(i.Be)("cpu",(()=>new backend_cpu_MathBackendCPU),1);const Na=unaryKernelFunc(i.V,(e=>e>=0?e:Math.exp(e)-1)),Ma={kernelName:i.V,backendName:"cpu",kernelFunc:Na};function Identity_identity(e){const{inputs:n,backend:r}=e,{x:a}=n;return r.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const Ea={kernelName:i.qb,backendName:"cpu",kernelFunc:Identity_identity};function leakyRelu(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{alpha:s}=a;assertNotComplex([o],"leakyRelu");const l=i.of.sizeFromShape(o.shape),c=r.data.get(o.dataId).values,u=i.of.getTypedArrayFromDType("float32",l);for(let i=0;i<c.length;i++)u[i]=c[i]<0?s*c[i]:c[i];return r.makeTensorInfo(o.shape,"float32",u)}const Da={kernelName:i.yb,backendName:"cpu",kernelFunc:leakyRelu};function createSimpleBinaryKernelImpl(e){return(n,r,a,o,s)=>{const l=i.md.assertAndGetBroadcastShape(n,r),c=l.length,u=i.of.computeStrides(l),d=i.of.sizeFromShape(l),p=i.of.getTypedArrayFromDType(s,d),f=n.length,h=r.length,m=i.of.computeStrides(n),g=i.of.computeStrides(r),y=i.md.getBroadcastDims(n,l),b=i.md.getBroadcastDims(r,l);if(y.length+b.length===0)for(let i=0;i<p.length;++i)p[i]=e(a[i%a.length],o[i%o.length]);else for(let x=0;x<p.length;++x){const n=i.of.indexToLoc(x,c,u),r=n.slice(-f);y.forEach((e=>r[e]=0));const s=i.of.locToIndex(r,f,m),l=n.slice(-h);b.forEach((e=>l[e]=0));const d=i.of.locToIndex(l,h,g);p[x]=e(a[s],o[d])}return[p,l]}}const ja=createSimpleBinaryKernelImpl(((e,n)=>e<0?n*e:e));function Prelu_prelu(e){const{inputs:n,backend:r}=e,{x:a,alpha:o}=n;assertNotComplex([a,o],"prelu");const i=r.data.get(a.dataId).values,s=r.data.get(o.dataId).values,[l,c]=ja(a.shape,o.shape,i,s,a.dtype);return r.makeTensorInfo(c,a.dtype,l)}const Ra={kernelName:i.gc,backendName:"cpu",kernelFunc:Prelu_prelu},La=unaryKernelFunc(i.mc,(e=>Math.max(0,e))),Pa={kernelName:i.mc,backendName:"cpu",kernelFunc:La},Fa=unaryKernelFunc(i.nc,(e=>Math.min(Math.max(0,e),6))),za={kernelName:i.nc,backendName:"cpu",kernelFunc:Fa};function applyActivation(e,n,r,a,o){if("linear"===r)return Identity_identity({inputs:{x:n},backend:e});if("relu"===r)return La({inputs:{x:n},backend:e});if("elu"===r)return Na({inputs:{x:n},backend:e});if("relu6"===r)return Fa({inputs:{x:n},backend:e});if("prelu"===r)return Prelu_prelu({inputs:{x:n,alpha:a},backend:e});if("leakyrelu"===r)return leakyRelu({inputs:{x:n},backend:e,attrs:{alpha:o}});throw new Error(`Activation ${r} has not been implemented for the CPU backend.`)}function Complex_complex(e){const{inputs:n,backend:r}=e,{real:a,imag:o}=n,i=r.data.get(a.dataId).values,s=r.data.get(o.dataId).values,l=r.makeTensorInfo(a.shape,"complex64");return r.data.get(l.dataId).complexTensorInfos={real:r.makeTensorInfo(a.shape,"float32",i),imag:r.makeTensorInfo(o.shape,"float32",s)},l}const $a={kernelName:i.y,backendName:"cpu",kernelFunc:Complex_complex};function zeros_impl_zeros(e,n,r="float32"){if("complex64"===r){return Complex_complex({inputs:{real:zeros_impl_zeros(e,n,"float32"),imag:zeros_impl_zeros(e,n,"float32")},backend:e})}const a=i.of.makeZerosTypedArray(i.of.sizeFromShape(n),r);return e.makeTensorInfo(n,r,a)}function Real_real(e){const{inputs:n,backend:r}=e,{input:a}=n,o=r.data.get(a.dataId).complexTensorInfos.real,i=r.data.get(o.dataId).values;return r.makeTensorInfo(o.shape,o.dtype,i)}const Ba={kernelName:i.jc,backendName:"cpu",kernelFunc:Real_real};function Cast_cast(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{dtype:s}=a;if("complex64"===s){if("complex64"===o.dtype)return Identity_identity({inputs:{x:o},backend:r});const e=zeros_impl_zeros(r,o.shape,o.dtype),n=Cast_cast({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),a=Complex_complex({inputs:{real:n,imag:e},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),a}if("complex64"===o.dtype){const e=Real_real({inputs:{input:o},backend:r}),n=Cast_cast({inputs:{x:e},backend:r,attrs:{dtype:s}});return r.disposeIntermediateTensorInfo(e),n}if(!i.of.hasEncodingLoss(o.dtype,s)){const e=Identity_identity({inputs:{x:o},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:s}}if("int32"===s){const e=r.data.get(o.dataId).values,n=Int32Array.from(e);return r.makeTensorInfo(o.shape,"int32",n)}if("bool"===s){const e=r.data.get(o.dataId).values,n=i.of.toTypedArray([0],o.dtype),[a,s]=createSimpleBinaryKernelImpl(((e,n)=>e!==n?1:0))(o.shape,[],e,n,"bool");return r.makeTensorInfo(s,"bool",a)}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${s}`)}const Va={kernelName:i.v,backendName:"cpu",kernelFunc:Cast_cast};function binaryKernelFunc(e,n,r,a){return null==r?({inputs:r,backend:o})=>{const{a:i,b:s}=r,l=o;assertNotComplex([i,s],e);const c=l.data.get(i.dataId).values,u=l.data.get(s.dataId).values,d=a||i.dtype,[p,f]=n(i.shape,s.shape,c,u,d);return l.makeTensorInfo(f,d,p)}:({inputs:e,backend:o})=>{const{a:i,b:s}=e,l=o;if("complex64"===i.dtype||"complex64"===s.dtype){const e=Cast_cast({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),n=l.data.get(e.dataId),a=n.complexTensorInfos.real,o=n.complexTensorInfos.imag,c=l.data.get(a.dataId).values,u=l.data.get(o.dataId).values,d=Cast_cast({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),p=l.data.get(d.dataId),f=p.complexTensorInfos.real,h=p.complexTensorInfos.imag,m=l.data.get(f.dataId).values,g=l.data.get(h.dataId).values,[y,b,x]=r(i.shape,s.shape,c,u,m,g),_=l.makeTensorInfo(x,"float32",y),w=l.makeTensorInfo(x,"float32",b),k=Complex_complex({inputs:{real:_,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(d),l.disposeIntermediateTensorInfo(_),l.disposeIntermediateTensorInfo(w),k}{const e=l.data.get(i.dataId).values,r=l.data.get(s.dataId).values,o=a||i.dtype,[c,u]=n(i.shape,s.shape,e,r,o);return l.makeTensorInfo(u,o,c)}}}function createComplexBinaryKernelImpl(e){return(n,r,a,o,s,l)=>{const c=i.md.assertAndGetBroadcastShape(n,r),u=i.of.sizeFromShape(c),d=c.length,p=i.of.computeStrides(c),f=i.of.getTypedArrayFromDType("float32",u),h=i.of.getTypedArrayFromDType("float32",u),m=i.md.getBroadcastDims(n,c),g=i.md.getBroadcastDims(r,c),y=i.md.mergeRealAndImagArrays(a,o),b=i.md.mergeRealAndImagArrays(s,l),x=n.length,_=i.of.computeStrides(n),w=r.length,k=i.of.computeStrides(r);if(m.length+g.length===0)for(let i=0;i<f.length;i++){const n=i%y.length,r=i%b.length,a=e(y[2*n],y[2*n+1],b[2*r],b[2*r+1]);f[i]=a.real,h[i]=a.imag}else for(let T=0;T<f.length;T++){const n=i.of.indexToLoc(T,d,p),r=n.slice(-x);m.forEach((e=>r[e]=0));const a=i.of.locToIndex(r,x,_),o=n.slice(-w);g.forEach((e=>o[e]=0));const s=i.of.locToIndex(o,w,k),l=e(y[2*a],y[2*a+1],b[2*s],b[2*s+1]);f[T]=l.real,h[T]=l.imag}return[f,h,c]}}const Ua=createSimpleBinaryKernelImpl(((e,n)=>e+n)),Wa=createComplexBinaryKernelImpl(((e,n,r,a)=>({real:e+r,imag:n+a}))),Ha=binaryKernelFunc(i.d,Ua,Wa),Ga={kernelName:i.d,backendName:"cpu",kernelFunc:Ha};function Reshape_reshape(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{shape:s}=a,l=i.of.sizeFromShape(o.shape),c=i.of.inferFromImplicitShape(s,l),u=i.of.sizeFromShape(c);i.of.assert(l===u,(()=>`The new shape (${c}) has ${u} elements and the old shape (${o.shape}) has ${l} elements. The new shape and old shape must have the same number of elements.`)),r.incRef(o.dataId);const d=r.data.get(o.dataId);if(null!=d.complexTensorInfos){const e=d.complexTensorInfos.real,n=d.complexTensorInfos.imag;e.shape=c,n.shape=c}return{dataId:o.dataId,shape:c,dtype:o.dtype}}const qa={kernelName:i.oc,backendName:"cpu",kernelFunc:Reshape_reshape};function batchMatMul(e){const{inputs:n,backend:r,attrs:a}=e,{a:o,b:s}=n,{transposeA:l,transposeB:c}=a;assertNotComplex([o,s],"matMul");const u=o.shape.length,d=s.shape.length,p=l?o.shape[u-2]:o.shape[u-1],f=c?s.shape[d-1]:s.shape[d-2],h=l?o.shape[u-1]:o.shape[u-2],m=c?s.shape[d-2]:s.shape[d-1],g=o.shape.slice(0,-2),y=s.shape.slice(0,-2),b=i.of.sizeFromShape(g),x=i.of.sizeFromShape(y),_=b===x||1===b||1===x;i.of.assert(u>=2&&d>=2&&_,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${g}) and (${y}).`));const w=(b>x?o.shape.slice(0,-2):s.shape.slice(0,-2)).concat([h,m]);i.of.assert(p===f,(()=>`Error in matMul: inner shapes (${p}) and (${f}) of Tensors with shapes ${o.shape} and ${s.shape} and transposeA=${l} and transposeB=${c} must match.`));const k=c?[x,m,f]:[x,f,m],T=Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:l?[b,p,h]:[b,h,p]}}),S=Reshape_reshape({inputs:{x:s},backend:r,attrs:{shape:k}}),O=l?T.shape[1]:T.shape[2],C=l?T.shape[2]:T.shape[1],A=c?S.shape[1]:S.shape[2],I=Math.max(b,x),N=r.data.get(T.dataId).values,M=r.data.get(S.dataId).values,E=i.of.computeStrides(T.shape),D=i.of.computeStrides(S.shape),[j,R,L]=l?[E[0],1,E[1]]:[E[0],E[1],1],[z,$,B]=c?[1,D[1],D[0]]:[D[1],1,D[0]],V=C*A,U=Object(i.rd)([I,C,A],T.dtype),W=U.values,H=r.blockSize;for(let i=0;i<I;i++)for(let e=0;e<C;e+=H)for(let n=0;n<A;n+=H)for(let r=0;r<O;r+=H){const a=Math.min(e+H,C),o=Math.min(n+H,A),s=Math.min(r+H,O);for(let l=e;l<a;l++)for(let e=n;e<o;e++){let n=0;for(let a=r;a<s;a++){const r=Math.min(i,b-1)*j,o=Math.min(i,x-1)*B;n+=N[r+l*R+a*L]*M[a*z+e*$+o]}W[i*V+(l*A+e)]+=n}}return r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(S),r.makeTensorInfo(w,U.dtype,U.values)}const Ka={kernelName:i.s,backendName:"cpu",kernelFunc:batchMatMul};const Xa={kernelName:i.dd,backendName:"cpu",kernelFunc:function _fusedMatMul(e){const{inputs:n,backend:r,attrs:a}=e,{a:o,b:i,bias:s,preluActivationWeights:l}=n,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:p}=a;let f,h,m;const g=[];f=batchMatMul({inputs:{a:o,b:i},attrs:{transposeA:c,transposeB:u},backend:r}),s&&(h=Ha({inputs:{a:f,b:s},backend:r}),g.push(f),f=h),d&&(m=applyActivation(r,f,d,l,p),g.push(f),f=m);for(const y of g)r.disposeIntermediateTensorInfo(y);return f}};function simpleAbsImpl(e){const n=new Float32Array(e.length);for(let r=0;r<e.length;++r)n[r]=Math.abs(e[r]);return n}const Ya={kernelName:i.a,backendName:"cpu",kernelFunc:e=>{const{x:n}=e.inputs,r=e.backend;assertNotComplex(n,"abs");let a=new Float32Array(i.of.sizeFromShape(n.shape));return a=simpleAbsImpl(r.data.get(n.dataId).values),r.makeOutput(a,n.shape,"float32")}},Za=unaryKernelFunc(i.b,(e=>Math.acos(e))),Ja={kernelName:i.b,backendName:"cpu",kernelFunc:Za},Qa=unaryKernelFunc(i.c,(e=>Math.acosh(e))),eo={kernelName:i.c,backendName:"cpu",kernelFunc:Qa};const to={kernelName:i.e,backendName:"cpu",kernelFunc:function addN(e){const{inputs:n,backend:r}=e,a=n;assertNotComplex(n,"addN");const o=a.map((e=>r.data.get(e.dataId).values)),s=Object(i.rd)(a[0].shape,a[0].dtype),l=s.values;for(let i=0;i<a.length;i++){const e=o[i];for(let n=0;n<l.length;n++)l[n]+=e[n]}return r.makeTensorInfo(s.shape,s.dtype,s.values)}};function transposeImpl(e,n,r,a,o){const s=n.length,l=i.of.sizeFromShape(n),c=i.of.computeStrides(n),u=i.of.computeStrides(o),d=i.of.getTypedArrayFromDType(r,i.of.sizeFromShape(o));for(let p=0;p<l;++p){const n=i.of.indexToLoc(p,s,c),r=new Array(n.length);for(let e=0;e<r.length;e++)r[e]=n[a[e]];d[i.of.locToIndex(r,s,u)]=e[p]}return d}function Transpose_transpose(e){const{inputs:n,attrs:r,backend:a}=e,{x:o}=n,{perm:i}=r;assertNotComplex(o,"transpose");const s=o.shape.length,l=new Array(s);for(let u=0;u<l.length;u++)l[u]=o.shape[i[u]];const c=transposeImpl(a.data.get(o.dataId).values,o.shape,o.dtype,i,l);return{dataId:a.write(c,l,o.dtype),shape:l,dtype:o.dtype}}const ro={kernelName:i.Yc,backendName:"cpu",kernelFunc:Transpose_transpose};const ao={kernelName:i.f,backendName:"cpu",kernelFunc:function All_all(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;assertNotComplex(o,"all");const c=i.of.parseAxisParam(s,o.shape);let u=c;const d=i.md.getAxesPermutation(u,o.shape.length);let p=o;null!=d&&(p=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:d}}),u=i.md.getInnerMostAxes(u.length,o.shape.length)),i.md.assertAxesAreInnerMostDims("all",u,p.shape.length);const[f,h]=i.md.computeOutAndReduceShapes(p.shape,u),m=i.of.sizeFromShape(h),g=i.of.makeZerosTypedArray(i.of.sizeFromShape(f),p.dtype),y=r.data.get(p.dataId).values;for(let i=0;i<g.length;++i){const e=i*m;let n=y[e];for(let r=0;r<m;++r){const a=y[e+r];n=n&&a}g[i]=n}null!=d&&r.disposeIntermediateTensorInfo(p);const b=r.makeTensorInfo(f,p.dtype,g);if(l){const e=Reshape_reshape({inputs:{x:b},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(f,c)}});return r.disposeIntermediateTensorInfo(b),e}return b}};const oo={kernelName:i.g,backendName:"cpu",kernelFunc:function Any_any(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;assertNotComplex(o,"any");const c=i.of.parseAxisParam(s,o.shape);let u=c;const d=i.md.getAxesPermutation(u,o.shape.length);let p=o;null!=d&&(p=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:d}}),u=i.md.getInnerMostAxes(u.length,o.shape.length)),i.md.assertAxesAreInnerMostDims("any",u,p.shape.length);const[f,h]=i.md.computeOutAndReduceShapes(p.shape,u),m=i.of.sizeFromShape(h),g=i.of.makeZerosTypedArray(i.of.sizeFromShape(f),p.dtype),y=r.data.get(p.dataId).values;for(let i=0;i<g.length;++i){const e=i*m;let n=y[e];for(let r=0;r<m;++r){const a=y[e+r];n=n||a}g[i]=n}null!=d&&r.disposeIntermediateTensorInfo(p);const b=r.makeTensorInfo(f,p.dtype,g);if(l){const e=Reshape_reshape({inputs:{x:b},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(f,c)}});return r.disposeIntermediateTensorInfo(b),e}return b}};const io={kernelName:i.h,backendName:"cpu",kernelFunc:function argMax(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s}=a;assertNotComplex(o,"argMax");let l=i.of.parseAxisParam(s,o.shape);const c=i.md.getAxesPermutation(l,o.shape.length);let u=o;const d=[];null!=c&&(u=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:c}}),d.push(u),l=i.md.getInnerMostAxes(l.length,u.shape.length)),l=[l[0]],i.md.assertAxesAreInnerMostDims("argMax",l,u.shape.length);const[p,f]=i.md.computeOutAndReduceShapes(u.shape,l),h=i.of.sizeFromShape(p),m=i.of.makeZerosTypedArray(h,"int32"),g=i.of.sizeFromShape(f),y=r.data.get(u.dataId).values;for(let i=0;i<m.length;++i){const e=i*g;let n=y[e],r=0;for(let a=0;a<g;++a){const o=y[e+a];o>n&&(n=o,r=a)}m[i]=r}return d.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.makeTensorInfo(p,"int32",m)}};const so={kernelName:i.i,backendName:"cpu",kernelFunc:function argMin(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s}=a;assertNotComplex(o,"argMin");let l=i.of.parseAxisParam(s,o.shape);const c=i.md.getAxesPermutation(l,o.shape.length);let u=o;const d=[];null!=c&&(u=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:c}}),d.push(u),l=i.md.getInnerMostAxes(l.length,u.shape.length)),l=[l[0]],i.md.assertAxesAreInnerMostDims("argMin",l,u.shape.length);const[p,f]=i.md.computeOutAndReduceShapes(u.shape,l),h=i.of.sizeFromShape(p),m=i.of.makeZerosTypedArray(h,"int32"),g=i.of.sizeFromShape(f),y=r.data.get(u.dataId).values;for(let i=0;i<m.length;++i){const e=i*g;let n=y[e],r=0;for(let a=0;a<g;++a){const o=y[e+a];o<n&&(n=o,r=a)}m[i]=r}return d.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.makeTensorInfo(p,"int32",m)}},lo=unaryKernelFunc(i.j,(e=>Math.asin(e))),co={kernelName:i.j,backendName:"cpu",kernelFunc:lo},uo=unaryKernelFunc(i.k,(e=>Math.asinh(e))),po={kernelName:i.k,backendName:"cpu",kernelFunc:uo},fo=unaryKernelFunc(i.l,(e=>Math.atan(e))),ho={kernelName:i.l,backendName:"cpu",kernelFunc:fo},mo=createSimpleBinaryKernelImpl(((e,n)=>Math.atan2(e,n))),go=binaryKernelFunc(i.m,mo),yo={kernelName:i.m,backendName:"cpu",kernelFunc:go},bo=unaryKernelFunc(i.n,(e=>Math.atanh(e))),vo={kernelName:i.n,backendName:"cpu",kernelFunc:bo};function pool_utils_pool(e,n,r,a,o,s){const l=o.strideHeight,c=o.strideWidth,u=o.dilationHeight,d=o.dilationWidth,p=o.effectiveFilterHeight,f=o.effectiveFilterWidth,h=o.padInfo.top,m=o.padInfo.left,g="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,y=Object(i.rd)(o.outShape,r),b=y.values,x=o.outShape[1]*o.outShape[2]*o.outShape[3],_=o.outShape[2]*o.outShape[3],w=o.outShape[3];for(let i=0;i<o.batchSize;++i){const n=i*x,r=i*a[0];for(let i=0;i<o.inChannels;++i)for(let y=0;y<o.outHeight;++y){const x=y*l-h,k=Math.max(0,x),T=Math.min(o.inHeight,p+x),S=n+y*_;for(let n=0;n<o.outWidth;++n){const l=n*c-m,p=Math.max(0,l),h=Math.min(o.inWidth,f+l);let y=g,x=0,_=0;for(let n=k;n<T;n+=u){const o=r+n*a[1];for(let n=p;n<h;n+=d){const r=e[o+n*a[2]+i];"max"===s&&r>y?y=r:"avg"===s&&(x+=r,_++)}if(isNaN(y))break}b[S+n*w+i]="avg"===s?x/_:y}}}return y}function pool_utils_maxPoolPositions(e,n,r,a,o=!1,s=!1){const l=Object(i.rd)(a.outShape,"int32"),c=a.strideHeight,u=a.strideWidth,d=a.dilationHeight,p=a.dilationWidth,f=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.top,g=a.padInfo.left,y=Object(i.rd)(n,r,e);for(let i=0;i<a.batchSize;++i)for(let e=0;e<a.inChannels;++e)for(let n=0;n<a.outHeight;++n){const r=n*c-m;let b=r;for(;b<0;)b+=d;const x=Math.min(a.inHeight,f+r);for(let c=0;c<a.outWidth;++c){const f=c*u-g;let m=f;for(;m<0;)m+=p;const _=Math.min(a.inWidth,h+f);let w=Number.NEGATIVE_INFINITY,k=-1;for(let n=b;n<x;n+=d){const l=n-r;for(let r=m;r<_;r+=p){const c=r-f,u=y.get(i,n,r,e);u>w&&(w=u,k=o?s?((i*a.inHeight+n)*a.inWidth+r)*a.inChannels+e:(n*a.inWidth+r)*a.inChannels+e:l*h+c)}}l.set(k,i,n,c,e)}}return l}function pool_utils_pool3d(e,n,r,a,o,s){const l=o.strideDepth,c=o.strideHeight,u=o.strideWidth,d=o.dilationDepth,p=o.dilationHeight,f=o.dilationWidth,h=o.effectiveFilterDepth,m=o.effectiveFilterHeight,g=o.effectiveFilterWidth,y=o.padInfo.front,b=o.padInfo.top,x=o.padInfo.left,_="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,w=Object(i.rd)(o.outShape,r),k=w.values,T=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],S=o.outShape[2]*o.outShape[3]*o.outShape[4],O=o.outShape[3]*o.outShape[4],C=o.outShape[4];for(let i=0;i<o.batchSize;++i){const n=i*T,r=i*a[0];for(let i=0;i<o.inChannels;++i)for(let w=0;w<o.outDepth;++w){const T=w*l-y;let A=T;for(;A<0;)A+=d;const I=Math.min(o.inDepth,h+T),N=n+w*S;for(let n=0;n<o.outHeight;++n){const l=n*c-b;let h=l;for(;h<0;)h+=p;const y=Math.min(o.inHeight,m+l),w=N+n*O;for(let n=0;n<o.outWidth;++n){const l=n*u-x;let c=l;for(;c<0;)c+=f;const m=Math.min(o.inWidth,g+l),b=w+n*C;let T=_,S=0,O=0;for(let n=A;n<I;n+=d){const o=r+n*a[1];for(let n=h;n<y;n+=p){const r=o+n*a[2];for(let n=c;n<m;n+=f){const o=e[r+n*a[3]+i];if("max"===s&&o>T?T=o:"avg"===s&&(S+=o,O++),isNaN(T))break}if(isNaN(T))break}if(isNaN(T))break}k[b+i]="avg"===s?S/O:T}}}}return w}const xo={kernelName:i.o,backendName:"cpu",kernelFunc:function avgPool(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n;assertNotComplex(o,"avgPool");const{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a;i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${l} and dilations '1'`));const d=i.md.computePool2DInfo(o.shape,s,l,1,c,u);let p;if(1===d.filterWidth&&1===d.filterHeight&&i.of.arraysEqual(d.inShape,d.outShape))p=Identity_identity({inputs:{x:o},backend:r});else{const e=r.data.get(o.dataId).values,n=i.of.computeStrides(o.shape),a=pool_utils_pool(e,o.shape,o.dtype,n,d,"avg");p=r.makeTensorInfo(d.outShape,o.dtype,a.values)}return p}};const _o={kernelName:i.p,backendName:"cpu",kernelFunc:function avgPool3D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{filterSize:s,strides:l,pad:c,dimRoundingMode:u,dataFormat:d}=a;assertNotComplex(o,"avgPool3d");const p=i.md.computePool3DInfo(o.shape,s,l,1,c,u,d),f=pool_utils_pool3d(r.data.get(o.dataId).values,o.shape,o.dtype,i.of.computeStrides(o.shape),p,"avg");return r.makeTensorInfo(f.shape,"float32",f.values)}};const wo={kernelName:i.q,backendName:"cpu",kernelFunc:function avgPool3DGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a;assertNotComplex([o,s],"avgPool3DGrad");const p=i.md.computePool3DInfo(s.shape,l,c,1,u,d),f=p.strideDepth,h=p.strideHeight,m=p.strideWidth,g=p.filterDepth,y=p.filterHeight,b=p.filterWidth,x=p.dilationDepth,_=p.dilationHeight,w=p.dilationWidth,k=p.effectiveFilterDepth,T=p.effectiveFilterHeight,S=p.effectiveFilterWidth,O=k-1-p.padInfo.front,C=S-1-p.padInfo.left,A=T-1-p.padInfo.top,I=Object(i.rd)(s.shape,"float32"),N=1/(g*y*b),M=r.bufferSync(o);for(let i=0;i<p.batchSize;++i)for(let e=0;e<p.inChannels;++e)for(let n=0;n<p.inDepth;++n)for(let r=0;r<p.inHeight;++r)for(let a=0;a<p.inWidth;++a){const o=n-O,s=r-A,l=a-C;let c=0;for(let n=0;n<k;n+=x){const r=(o+n)/f;if(!(r<0||r>=p.outDepth||Math.floor(r)!==r))for(let n=0;n<T;n+=_){const a=(s+n)/h;if(!(a<0||a>=p.outHeight||Math.floor(a)!==a))for(let n=0;n<S;n+=w){const o=(l+n)/m;if(o<0||o>=p.outWidth||Math.floor(o)!==o)continue;c+=M.get(i,r,a,o,e)}}}I.set(c*N,i,n,r,a,e)}return r.makeTensorInfo(I.shape,I.dtype,I.values)}};const ko={kernelName:i.r,backendName:"cpu",kernelFunc:function AvgPoolGrad_avgPoolGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,l=s;assertNotComplex([o,s],"avgPoolGrad");const{filterSize:c,strides:u,pad:d}=a,p=i.md.computePool2DInfo(l.shape,c,u,1,d),f=p.strideHeight,h=p.strideWidth,m=p.filterHeight,g=p.filterWidth,y=p.dilationHeight,b=p.dilationWidth,x=p.effectiveFilterHeight,_=p.effectiveFilterWidth,w=_-1-p.padInfo.left,k=x-1-p.padInfo.top,T=Object(i.rd)(l.shape,"float32"),S=1/(m*g),O=r.data.get(o.dataId).values,C=Object(i.rd)(o.shape,"float32",O);for(let i=0;i<p.batchSize;++i)for(let e=0;e<p.inChannels;++e)for(let n=0;n<p.inHeight;++n)for(let r=0;r<p.inWidth;++r){const a=n-k,o=r-w;let s=0;for(let n=0;n<x;n+=y){const r=(a+n)/f;if(!(r<0||r>=p.outHeight||Math.floor(r)!==r))for(let n=0;n<_;n+=b){const a=(o+n)/h;if(a<0||a>=p.outWidth||Math.floor(a)!==a)continue;s+=C.get(i,r,a,e)}}T.set(s*S,i,n,r,e)}return r.makeTensorInfo(T.shape,T.dtype,T.values)}};const To={kernelName:i.ib,backendName:"cpu",kernelFunc:function batchNorm(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,scale:s,offset:l,mean:c,variance:u}=n;i.of.assert(c.shape.length===u.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),i.of.assert(null==l||c.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),i.of.assert(null==s||c.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),assertNotComplex([o,c,u,s,l],"batchNorm");let{varianceEpsilon:d}=a;null==d&&(d=.001);const p=r.data.get(o.dataId).values,f=r.data.get(c.dataId).values,h=r.data.get(u.dataId).values,m=s?r.data.get(s.dataId).values:new Float32Array([1]),g=l?r.data.get(l.dataId).values:new Float32Array([0]),y=new Float32Array(p.length),b=g.length,x=m.length,_=h.length,w=f.length;let k=0,T=0,S=0,O=0;for(let i=0;i<p.length;++i)y[i]=g[k++]+(p[i]-f[T++])*m[S++]/Math.sqrt(h[O++]+d),k>=b&&(k=0),T>=w&&(T=0),S>=x&&(S=0),O>=_&&(O=0);return r.makeTensorInfo(o.shape,o.dtype,y)}};function sliceImpl(e,n,r,a,o){const s=i.Re.isSliceContinous(a,n,r),l=i.of.sizeFromShape(r),c=i.of.computeStrides(a);if(s){const r=i.Re.computeFlatOffset(n,c);return"string"===o?e.slice(r,r+l):e.subarray(r,r+l)}const u="string"===o?i.md.fromUint8ToStringArray(e):e,d=Object(i.rd)(a,o,u),p=Object(i.rd)(r,o);for(let i=0;i<p.size;++i){const e=p.indexToLoc(i),r=e.map(((e,r)=>e+n[r]));p.set(d.get(...r),...e)}return"string"===o?i.md.fromStringArrayToUint8(p.values):p.values}function Slice_slice(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{begin:s,size:l}=a;assertNotComplex(o,"slice");const[c,u]=i.Re.parseSliceParams(o,s,l);i.Re.assertParamsValid(o,c,u);const d=sliceImpl(r.data.get(o.dataId).values,c,u,o.shape,o.dtype);return r.makeTensorInfo(u,o.dtype,d)}const So={kernelName:i.Ec,backendName:"cpu",kernelFunc:Slice_slice};const Oo={kernelName:i.t,backendName:"cpu",kernelFunc:function batchToSpaceND(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockShape:s,crops:l}=a;assertNotComplex([o],"batchToSpaceND");const c=s.reduce(((e,n)=>e*n)),u=i.md.getReshaped(o.shape,s,c),d=i.md.getPermuted(u.length,s.length),p=i.md.getReshapedPermuted(o.shape,s,c),f=i.md.getSliceBeginCoords(l,s.length),h=i.md.getSliceSize(p,l,s.length),m=Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:u}}),g=Transpose_transpose({inputs:{x:m},backend:r,attrs:{perm:d}}),y=Reshape_reshape({inputs:{x:g},backend:r,attrs:{shape:p}}),b=Slice_slice({inputs:{x:y},backend:r,attrs:{begin:f,size:h}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),b}};function bincountImpl(e,n,r,a,o){const s=i.of.sizeFromShape(a),l=i.of.makeZerosTypedArray(o,r);for(let i=0;i<e.length;i++){const r=e[i];if(r<0)throw new Error("Input x must be non-negative!");r>=o||(l[r]+=s>0?n[i]:1)}return l}function bincountReduceImpl(e,n,r,a=!1){const o=e.shape[0],s=e.shape[1],l=Object(i.rd)([o,r],n.dtype);for(let i=0;i<o;i++)for(let o=0;o<s;o++){const s=e.get(i,o);if(s<0)throw new Error("Input x must be non-negative!");s>=r||(a?l.set(1,i,s):n.size>0?l.set(l.get(i,s)+n.get(i,o),i,s):l.set(l.get(i,s)+1,i,s))}return l}const Co={kernelName:i.u,backendName:"cpu",kernelFunc:function Bincount_bincount(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,weights:i}=n,{size:s}=a,l=bincountImpl(r.data.get(o.dataId).values,r.data.get(i.dataId).values,i.dtype,i.shape,s);return r.makeTensorInfo([s],i.dtype,l)}};function createSimpleUnaryImpl(e){return(n,r,a)=>{const o=i.of.getTypedArrayFromDType(r,n.length);for(let i=0;i<n.length;++i)o[i]=e(n[i],a);return o}}const Ao=createSimpleUnaryImpl((e=>Math.ceil(e))),Io=unaryKernelFuncFromImpl(i.w,Ao),No={kernelName:i.w,backendName:"cpu",kernelFunc:Io},Mo=unaryKernelFunc(i.x,((e,n)=>{const r=n;return e>r.clipValueMax?r.clipValueMax:e<r.clipValueMin?r.clipValueMin:e})),Eo={kernelName:i.x,backendName:"cpu",kernelFunc:Mo},Do={kernelName:i.z,backendName:"cpu",kernelFunc:e=>{const{x:n}=e.inputs,r=e.backend,a=new Float32Array(i.of.sizeFromShape(n.shape)),o=r.data.get(n.dataId),s=o.complexTensorInfos.real,l=o.complexTensorInfos.imag,c=r.data.get(s.dataId).values,u=r.data.get(l.dataId).values;for(let i=0;i<c.length;i++){const e=c[i],n=u[i];a[i]=Math.hypot(e,n)}return r.makeOutput(a,n.shape,"float32")}};function concatImpl(e,n,r,a){const o=i.of.getArrayFromDType(r,i.of.sizeFromShape(n));if(a&&"string"!==r){let n=0;e.forEach((e=>{const r=i.of.sizeFromShape(e.shape);o.set(e.vals,n),n+=r}))}else{let a=0;e.forEach((e=>{const s="string"===r?i.md.fromUint8ToStringArray(e.vals):e.vals;let l=0;for(let r=0;r<e.shape[0];++r){const i=r*n[1]+a;for(let n=0;n<e.shape[1];++n)o[i+n]=s[l++]}a+=e.shape[1]}))}return o}function Imag_imag(e){const{inputs:n,backend:r}=e,{input:a}=n,o=r.data.get(a.dataId).complexTensorInfos.imag,i=r.data.get(o.dataId).values;return r.makeTensorInfo(o.shape,o.dtype,i)}const jo={kernelName:i.rb,backendName:"cpu",kernelFunc:Imag_imag};function Concat_concat(e){const{inputs:n,backend:r,attrs:a}=e,{axis:o}=a,s=i.of.parseAxisParam(o,n[0].shape)[0];let l=i.md.computeOutShape(n.map((e=>e.shape)),s);if(0===i.of.sizeFromShape(l))return r.makeTensorInfo(l,n[0].dtype,[]);const c=n.filter((e=>i.of.sizeFromShape(e.shape)>0));if(1===c.length)return Identity_identity({inputs:{x:c[0]},backend:r});const u=c.map((e=>e.shape));if(i.md.assertParamsConsistent(u,s),"complex64"===c[0].dtype){const e=c.map((e=>Real_real({inputs:{input:e},backend:r}))),n=c.map((e=>Imag_imag({inputs:{input:e},backend:r}))),a=Concat_concat({inputs:e,backend:r,attrs:{axis:s}}),o=Concat_concat({inputs:n,backend:r,attrs:{axis:s}}),i=Complex_complex({inputs:{real:a,imag:o},backend:r});return e.forEach((e=>r.disposeIntermediateTensorInfo(e))),n.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o),i}const d=c.map((e=>{const n=i.of.sizeFromShape(e.shape.slice(s));return Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:[-1,n]}})})),p=d.map((e=>({vals:r.data.get(e.dataId).values,shape:e.shape})));l=i.md.computeOutShape(d.map((e=>e.shape)),1);const f=1===d[0].shape[0],h=concatImpl(p,l,n[0].dtype,f),m=i.md.computeOutShape(c.map((e=>e.shape)),s),g=r.makeTensorInfo(m,n[0].dtype,h);return d.forEach((e=>r.disposeIntermediateTensorInfo(e))),g}const Ro={kernelName:i.A,backendName:"cpu",kernelFunc:Concat_concat};function conv2D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}=a;assertNotComplex([o,s],"conv2d");const f=i.md.convertConv2DDataFormat(u),h=i.md.computeConv2DInfo(o.shape,s.shape,l,d,c,p,!1,f),m=h.filterHeight,g=h.filterWidth,y=h.dilationHeight,b=h.dilationWidth,x=h.padInfo.left,_=h.padInfo.top,w="channelsLast"===h.dataFormat,k=new i.Uc(h.outShape,o.dtype),T=i.of.computeStrides(o.shape),S=i.of.computeStrides(s.shape),O=T[0],C=w?T[1]:T[2],A=w?T[2]:1,I=w?1:T[1],N=k.strides[0],M=w?k.strides[1]:k.strides[2],E=w?k.strides[2]:1,D=w?1:k.strides[1],j=r.data.get(o.dataId).values,R=r.data.get(s.dataId).values,L=k.values;for(let i=0;i<h.batchSize;++i){const e=i*O,n=i*N;for(let r=0;r<h.outHeight;++r){const a=n+r*M,o=r*h.strideHeight-_;for(let n=0;n<m;++n){const r=o+n*y;if(r<0||r>=h.inHeight)continue;const i=n*S[0],s=e+r*C;for(let e=0;e<h.outWidth;++e){const n=a+e*E,r=e*h.strideWidth-x;for(let e=0;e<g;++e){const a=r+e*b;if(a<0||a>=h.inWidth)continue;const o=s+a*A;let l=i+e*S[1];for(let e=0;e<h.inChannels;++e){const r=j[o+e*I];for(let e=0;e<h.outChannels;++e)L[n+e*D]+=r*R[l+e];l+=h.outChannels}}}}}}return r.makeTensorInfo(k.shape,k.dtype,L)}const Lo={kernelName:i.B,backendName:"cpu",kernelFunc:conv2D};const Po={kernelName:i.C,backendName:"cpu",kernelFunc:function conv2DBackpropFilter(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,pad:c,dataFormat:u,dimRoundingMode:d,filterShape:p}=a;assertNotComplex([o,s],"conv2dBackpropFilter");const f=i.md.convertConv2DDataFormat(u),h=i.md.computeConv2DInfo(o.shape,p,l,1,c,d,!1,f),{strideHeight:m,strideWidth:g,filterHeight:y,filterWidth:b}=h,x="channelsLast"===h.dataFormat,_=new i.Uc(h.filterShape,"float32"),w=h.padInfo.left,k=h.padInfo.top,T=r.data.get(o.dataId).values,S=r.data.get(s.dataId).values,O=new i.Uc(o.shape,o.dtype,T),C=new i.Uc(s.shape,s.dtype,S);for(let i=0;i<y;++i){const e=Math.max(0,Math.ceil((k-i)/m)),n=Math.min(h.outHeight,(h.inHeight+k-i)/m);for(let r=0;r<b;++r){const a=Math.max(0,Math.ceil((w-r)/g)),o=Math.min(h.outWidth,(h.inWidth+w-r)/g);for(let s=0;s<h.inChannels;++s)for(let l=0;l<h.outChannels;++l){let c=0;for(let u=0;u<h.batchSize;++u)for(let d=e;d<n;++d){const e=i+d*m-k;for(let n=a;n<o;++n){const a=r+n*g-w;c+=x?O.get(u,e,a,s)*C.get(u,d,n,l):O.get(u,s,e,a)*C.get(u,l,d,n)}}_.set(c,i,r,s,l)}}}return r.makeTensorInfo(_.shape,_.dtype,_.values)}};const Fo={kernelName:i.D,backendName:"cpu",kernelFunc:function conv2DBackpropInput(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{inputShape:l,strides:c,pad:u,dataFormat:d,dimRoundingMode:p}=a;assertNotComplex([o,s],"conv2dBackpropInput");const f=i.of.computeStrides(s.shape),h=i.of.computeStrides(o.shape);let m=i.md.convertConv2DDataFormat(d);const g=i.md.computeConv2DInfo(l,s.shape,c,1,u,p,!1,m),y=new i.Uc(g.inShape,"float32"),b=y.values,x=r.data.get(o.dataId).values,_=r.data.get(s.dataId).values,[w,k,T]=f,{batchSize:S,filterHeight:O,filterWidth:C,inChannels:A,inHeight:I,inWidth:N,outChannels:M,outHeight:E,outWidth:D,strideHeight:j,strideWidth:R}=g;m=g.dataFormat;const L=O-1-g.padInfo.top,z=C-1-g.padInfo.left,$="channelsLast"===m,B=y.strides[0],V=$?y.strides[1]:y.strides[2],U=$?y.strides[2]:1,W=$?1:y.strides[1],H=h[0],G=$?h[1]:h[2],q=$?h[2]:1,K=$?1:h[1];for(let i=0;i<S;++i)for(let e=0;e<A;++e)for(let n=0;n<I;++n){const r=n-L,a=Math.max(0,Math.ceil(r/j)),o=Math.min(E,(O+r)/j);for(let s=0;s<N;++s){const l=s-z,c=Math.max(0,Math.ceil(l/R)),u=Math.min(D,(C+l)/R);let d=0;for(let n=a;n<o;++n){const a=n*j-r;for(let r=c;r<u;++r){const o=H*i+G*n+q*r,s=w*(O-1-a)+k*(C-1-(r*R-l))+T*e;for(let e=0;e<M;++e){d+=x[o+K*e]*_[s+e]}}}b[B*i+V*n+U*s+W*e]=d}}return r.makeTensorInfo(y.shape,y.dtype,y.values)}};const zo={kernelName:i.E,backendName:"cpu",kernelFunc:function conv3D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dilations:u}=a;assertNotComplex([o,s],"conv3d");const d=i.md.computeConv3DInfo(o.shape,s.shape,l,u,c),{filterDepth:p,filterHeight:f,filterWidth:h,dilationDepth:m,dilationHeight:g,dilationWidth:y,padInfo:b}=d,x=b.front,_=b.left,w=b.top,k=new i.Uc(d.outShape,o.dtype),T=r.data.get(o.dataId).values,S=r.data.get(s.dataId).values,O=k.values,C=i.of.computeStrides(o.shape),A=i.of.computeStrides(s.shape);for(let i=0;i<d.batchSize;++i){const e=i*C[0],n=i*k.strides[0];for(let r=0;r<d.outDepth;++r){const a=n+r*k.strides[1],o=r*d.strideDepth-x;for(let n=0;n<p;++n){const r=o+n*m;if(r<0||r>=d.inDepth)continue;const i=n*A[0],s=e+r*C[1];for(let e=0;e<d.outHeight;++e){const n=a+e*k.strides[2],r=e*d.strideHeight-w;for(let e=0;e<f;++e){const a=r+e*g;if(a<0||a>=d.inHeight)continue;const o=i+e*A[1],l=s+a*C[2];for(let e=0;e<d.outWidth;++e){const r=n+e*d.outChannels,a=e*d.strideWidth-_;for(let e=0;e<h;++e){const n=a+e*y;if(n<0||n>=d.inWidth)continue;const i=o+e*A[2],s=l+n*d.inChannels;let c=i;for(let e=0;e<d.inChannels;++e){const n=T[s+e];for(let e=0;e<d.outChannels;++e)O[r+e]+=n*S[c+e];c+=d.outChannels}}}}}}}}return r.makeTensorInfo(k.shape,k.dtype,k.values)}};const $o={kernelName:i.F,backendName:"cpu",kernelFunc:function conv3DBackpropFilterV2(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,pad:c,filterShape:u}=a;assertNotComplex([o,s],"conv3dBackpropFilterV2");const d=i.of.computeStrides(o.shape),p=i.of.computeStrides(s.shape),f=i.md.computeConv3DInfo(o.shape,u,l,1,c),h=f.strideDepth,m=f.strideHeight,g=f.strideWidth,y=f.filterDepth,b=f.filterHeight,x=f.filterWidth,_=new i.Uc(f.filterShape,"float32"),w=_.values,[k,T,S,O]=_.strides,C=r.data.get(s.dataId).values,[A,I,N,M]=p,E=r.data.get(o.dataId).values,[D,j,R,L]=d,z=f.padInfo.front,$=f.padInfo.left,B=f.padInfo.top;for(let i=0;i<y;++i){const e=Math.max(0,Math.ceil((z-i)/h)),n=Math.min(f.outDepth,(f.inDepth+z-i)/h),r=i*k;for(let a=0;a<b;++a){const o=Math.max(0,Math.ceil((B-a)/m)),s=Math.min(f.outHeight,(f.inHeight+B-a)/m),l=a*T+r;for(let r=0;r<x;++r){const c=Math.max(0,Math.ceil(($-r)/g)),u=Math.min(f.outWidth,(f.inWidth+$-r)/g),d=r*S+l;for(let l=0;l<f.inChannels;++l){const p=l*O+d;for(let d=0;d<f.outChannels;++d){let y=0;for(let p=0;p<f.batchSize;++p){const f=p*D,b=p*A;for(let p=e;p<n;++p){const e=(i+p*h-z)*j+f,n=p*I+b;for(let i=o;i<s;++i){const o=(a+i*m-B)*R+e,s=i*N+n;for(let e=c;e<u;++e){const n=e*M+s;y+=E[(r+e*g-$)*L+o+l]*C[n+d]}}}}w[p+d]=y}}}}}return r.makeTensorInfo(_.shape,_.dtype,_.values)}};const Bo={kernelName:i.G,backendName:"cpu",kernelFunc:function conv3DBackpropInputV2(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{pad:l,strides:c,inputShape:u}=a;assertNotComplex([o],"conv3dBackpropInputV2");const d=i.of.computeStrides(o.shape),p=i.of.computeStrides(s.shape),f=i.md.computeConv3DInfo(u,s.shape,c,1,l),h=new i.Uc(f.inShape,"float32"),m=h.values,[g,y,b,x]=h.strides,_=r.data.get(o.dataId).values,[w,k,T,S]=d,O=r.data.get(s.dataId).values,[C,A,I,N]=p,{batchSize:M,filterDepth:E,filterHeight:D,filterWidth:j,inChannels:R,inDepth:L,inHeight:z,inWidth:$,outChannels:B,outDepth:V,outHeight:U,outWidth:W,strideDepth:H,strideHeight:G,strideWidth:q}=f,K=E-1-f.padInfo.front,X=D-1-f.padInfo.top,Y=j-1-f.padInfo.left;for(let i=0;i<M;++i)for(let e=0;e<R;++e)for(let n=0;n<L;++n){const r=n-K,a=Math.max(0,Math.ceil(r/H)),o=Math.min(V,(E+r)/H);for(let s=0;s<z;++s){const l=s-X,c=Math.max(0,Math.ceil(l/G)),u=Math.min(U,(D+l)/G);for(let d=0;d<$;++d){const p=d-Y,f=Math.max(0,Math.ceil(p/q)),h=Math.min(W,(j+p)/q);let M=0;for(let n=a;n<o;++n){const a=n*H-r;for(let r=c;r<u;++r){const o=r*G-l;for(let s=f;s<h;++s){const l=w*i+k*n+T*r+S*s,c=C*(E-1-a)+A*(D-1-o)+I*(j-1-(s*q-p))+N*e;for(let e=0;e<B;++e){M+=_[l+e]*O[c+e]}}}}m[g*i+y*n+b*s+x*d+e]=M}}}return r.makeTensorInfo(h.shape,h.dtype,h.values)}},Vo=unaryKernelFunc(i.H,(e=>Math.cos(e))),Uo={kernelName:i.H,backendName:"cpu",kernelFunc:Vo},Wo=unaryKernelFunc(i.I,(e=>Math.cosh(e))),Ho={kernelName:i.I,backendName:"cpu",kernelFunc:Wo};const Go={kernelName:i.J,backendName:"cpu",kernelFunc:function cropAndResize(e){const{inputs:n,backend:r,attrs:a}=e,{image:o,boxes:s,boxInd:l}=n,{cropSize:c,method:u,extrapolationValue:d}=a,[p,f,h,m]=o.shape,g=s.shape[0],[y,b]=c,x=Object(i.rd)([g,y,b,m],"float32"),_=r.data.get(s.dataId).values,w=r.data.get(l.dataId).values,k=r.data.get(o.dataId).values,T=i.of.computeStrides(o.shape),S=i.of.computeStrides(x.shape);for(let i=0;i<g;i++){const e=4*i,n=_[e],r=_[e+1],a=_[e+2],o=_[e+3],s=w[i];if(s>=p)continue;const l=y>1?(a-n)*(f-1)/(y-1):0,c=b>1?(o-r)*(h-1)/(b-1):0;for(let p=0;p<y;p++){const e=y>1?n*(f-1)+p*l:.5*(n+a)*(f-1);if(e<0||e>f-1)for(let n=0;n<b;n++)for(let e=0;e<m;e++){const r=e+n*S[2]+p*S[1]+i*S[0];x.values[r]=d}else if("bilinear"===u){const n=Math.floor(e),a=Math.ceil(e),l=e-n;for(let e=0;e<b;e++){const u=b>1?r*(h-1)+e*c:.5*(r+o)*(h-1);if(u<0||u>h-1){for(let n=0;n<m;n++){const r=n+e*S[2]+p*S[1]+i*S[0];x.values[r]=d}continue}const f=Math.floor(u),g=Math.ceil(u),y=u-f;for(let r=0;r<m;r++){let o=r+f*T[2]+n*T[1]+s*T[0];const c=k[o];o=r+g*T[2]+n*T[1]+s*T[0];const u=k[o];o=r+f*T[2]+a*T[1]+s*T[0];const d=k[o];o=r+g*T[2]+a*T[1]+s*T[0];const h=c+(u-c)*y,m=d+(k[o]-d)*y;o=r+e*S[2]+p*S[1]+i*S[0],x.values[o]=h+(m-h)*l}}}else for(let n=0;n<b;++n){const a=b>1?r*(h-1)+n*c:.5*(r+o)*(h-1);if(a<0||a>h-1){for(let e=0;e<m;e++){const r=e+n*S[2]+p*S[1]+i*S[0];x.values[r]=d}continue}const l=Math.round(a),u=Math.round(e);for(let e=0;e<m;e++){const r=e+l*T[2]+u*T[1]+s*T[0],a=e+n*S[2]+p*S[1]+i*S[0];x.values[a]=k[r]}}}}return r.makeTensorInfo(x.shape,x.dtype,x.values)}};const qo={kernelName:i.K,backendName:"cpu",kernelFunc:function Cumsum_cumsum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,exclusive:l,reverse:c}=a;assertNotComplex(o,"cumsum");const u=i.md.getAxesPermutation([s],o.shape.length);let d=o;null!=u&&(d=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:u}}));const p=i.md.getInnerMostAxes(1,o.shape.length)[0];if(p!==d.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${d.shape.length-1} but got axis=${p}`);const f=Object(i.nf)(d.dtype,"int32"),h=i.of.makeZerosTypedArray(i.of.sizeFromShape(d.shape),f),m=r.data.get(d.dataId).values,g=d.shape[d.shape.length-1],y=c?(e,n)=>e+g-n-1:(e,n)=>e+n;for(let i=0;i<m.length;i+=g)for(let e=0;e<g;e++){const n=y(i,e);if(0===e)h[n]=l?0:m[n];else{const r=y(i,e-1);h[n]=l?m[r]+h[r]:m[n]+h[r]}}const b=r.makeTensorInfo(d.shape,f,h);if(null!=u){const e=Transpose_transpose({inputs:{x:b},backend:r,attrs:{perm:i.md.getUndoAxesPermutation(u)}});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(d),e}return b}};const Ko={kernelName:i.M,backendName:"cpu",kernelFunc:function denseBincount(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,weights:i}=n,{size:s,binaryOutput:l}=a;if(1===o.shape.length){const e=bincountImpl(r.data.get(o.dataId).values,r.data.get(i.dataId).values,i.dtype,i.shape,s);return r.makeTensorInfo([s],i.dtype,e)}if(2===o.shape.length){const e=bincountReduceImpl(r.bufferSync(o),r.bufferSync(i),s,l);return r.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};const Xo={kernelName:i.N,backendName:"cpu",kernelFunc:function depthToSpace(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockSize:s,dataFormat:l}=a;i.of.assert("NHWC"===l,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${l}`)),i.of.assert(s>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${s}`));const c=o.shape[0],u=o.shape[1],d=o.shape[2],p=o.shape[3],f=u*s,h=d*s,m=p/(s*s),g=r.data.get(o.dataId).values,y=new Float32Array(c*f*h*m);let b=0;for(let i=0;i<c;++i)for(let e=0;e<f;++e){const n=Math.floor(e/s),r=e%s;for(let e=0;e<h;++e){const a=Math.floor(e/s),o=(r*s+e%s)*m;for(let e=0;e<m;++e){const r=e+o+p*(a+d*(n+u*i));y[b++]=g[r]}}}return r.makeTensorInfo([c,f,h,m],o.dtype,y)}};function depthwiseConv2dNative(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dilations:u,dimRoundingMode:d}=a;assertNotComplex([o,s],"depthwiseConv2DNative");const p=i.of.computeStrides(o.shape),f=i.of.computeStrides(s.shape);let h=u;null==h&&(h=[1,1]),i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,h),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${h}'`));const m=i.md.computeConv2DInfo(o.shape,s.shape,l,h,c,d,!0),{filterHeight:g,filterWidth:y,dilationHeight:b,dilationWidth:x,padInfo:_}=m,w=_.left,k=_.top,T=m.outChannels/m.inChannels,S=new i.Uc(m.outShape,o.dtype),O=r.data.get(o.dataId).values,C=r.data.get(s.dataId).values,A=S.values;for(let i=0;i<m.batchSize;++i){const e=i*p[0],n=i*S.strides[0];for(let r=0;r<m.outHeight;++r){const a=n+r*S.strides[1],o=r*m.strideHeight-w;for(let n=0;n<g;++n){const r=o+n*b;if(r<0||r>=m.inHeight)continue;const i=n*f[0],s=e+r*p[1];for(let e=0;e<m.outWidth;++e){const n=a+e*S.strides[2],r=e*m.strideWidth-k;for(let e=0;e<y;++e){const a=r+e*x;if(a<0||a>=m.inWidth)continue;const o=i+e*f[1],l=s+a*m.inChannels;let c=n,u=o;for(let e=0;e<m.inChannels;++e){const n=O[l+e];for(let e=0;e<T;++e)A[c+e]+=n*C[u+e];c+=T,u+=T}}}}}}return r.makeTensorInfo(S.shape,S.dtype,S.values)}const Yo={kernelName:i.O,backendName:"cpu",kernelFunc:depthwiseConv2dNative};const Zo={kernelName:i.P,backendName:"cpu",kernelFunc:function depthwiseConv2dNativeBackpropFilter(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,dilations:c,pad:u,dimRoundingMode:d,filterShape:p}=a;assertNotComplex([o,s],"depthwiseConv2dNativeBackpropFilter");const f=i.md.computeConv2DInfo(o.shape,p,l,c,u,d,!0),{strideHeight:h,strideWidth:m,filterHeight:g,filterWidth:y}=f,b=new i.Uc(f.filterShape,"float32"),x=f.padInfo.left,_=f.padInfo.top,w=f.outChannels/f.inChannels,k=r.data.get(o.dataId).values,T=new i.Uc(o.shape,o.dtype,k),S=r.data.get(s.dataId).values,O=new i.Uc(s.shape,s.dtype,S);for(let i=0;i<g;++i){const e=Math.max(0,Math.ceil((_-i)/h)),n=Math.min(f.outHeight,(f.inHeight+_-i)/h);for(let r=0;r<y;++r){const a=Math.max(0,Math.ceil((x-r)/m)),o=Math.min(f.outWidth,(f.inWidth+x-r)/m);for(let s=0;s<f.outChannels;++s){const l=Math.trunc(s/w),c=s%w;let u=0;for(let d=0;d<f.batchSize;++d)for(let c=e;c<n;++c){const e=i+c*h-_;for(let n=a;n<o;++n){const a=r+n*m-x;u+=T.get(d,e,a,l)*O.get(d,c,n,s)}}b.set(u,i,r,l,c)}}}return r.makeTensorInfo(b.shape,b.dtype,b.values)}};const Jo={kernelName:i.Q,backendName:"cpu",kernelFunc:function depthwiseConv2dNativeBackpropInput(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{strides:l,dilations:c,pad:u,dimRoundingMode:d,inputShape:p}=a;assertNotComplex([o,s],"depthwiseConv2DNativeBackpropInput");const f=i.of.computeStrides(o.shape),h=i.of.computeStrides(s.shape),m=i.md.computeConv2DInfo(p,s.shape,l,c,u,d,!0),g=new i.Uc(m.inShape,"float32"),y=g.values,[b,x,_]=g.strides,w=r.data.get(o.dataId).values,[k,T,S]=f,O=r.data.get(s.dataId).values,[C,A,I]=h,{batchSize:N,filterHeight:M,filterWidth:E,inChannels:D,inHeight:j,inWidth:R,outChannels:L,outHeight:z,outWidth:$,strideHeight:B,strideWidth:V}=m,U=M-1-m.padInfo.top,W=E-1-m.padInfo.left,H=L/D;for(let i=0;i<N;++i)for(let e=0;e<D;++e)for(let n=0;n<j;++n){const r=n-U,a=Math.max(0,Math.ceil(r/B)),o=Math.min(z,(M+r)/B);for(let s=0;s<R;++s){const l=s-W,c=Math.max(0,Math.ceil(l/V)),u=Math.min($,(E+l)/V);let d=0;for(let n=a;n<o;++n){const a=n*B-r;for(let r=c;r<u;++r){const o=k*i+T*n+S*r,s=C*(M-1-a)+A*(E-1-(r*V-l))+I*e;for(let n=0;n<H;++n){d+=w[o+(e*H+n)]*O[s+n]}}}y[b*i+x*n+_*s+e]=d}}return r.makeTensorInfo(g.shape,g.dtype,g.values)}};const Qo={kernelName:i.R,backendName:"cpu",kernelFunc:function diag(e){const{inputs:n,backend:r}=e,{x:a}=n,o=i.of.sizeFromShape(a.shape),s=r.data.get(a.dataId).values,l=Object(i.rd)([o,o],a.dtype),c=l.values;for(let i=0;i<s.length;i++)c[i*o+i]=s[i];const u=[...a.shape,...a.shape];return r.makeTensorInfo(u,l.dtype,l.values)}},ei={kernelName:i.S,backendName:"cpu",kernelFunc:({inputs:e,backend:n,attrs:r})=>{const{x:a,filter:o}=e,{strides:s,pad:l,dilations:c}=r,u=n,d=u.data.get(a.dataId).values,p=a.shape.length,f=u.data.get(o.dataId).values,h=o.shape.length,{batchSize:m,inHeight:g,inWidth:y,inChannels:b,outHeight:x,outWidth:_,padInfo:w,strideHeight:k,strideWidth:T,filterHeight:S,filterWidth:O,dilationHeight:C,dilationWidth:A,outShape:I}=i.md.computeDilation2DInfo(a.shape,o.shape,s,l,"NHWC",c),N=i.of.sizeFromShape(I),M=I.length,E=i.of.getArrayFromDType(a.dtype,N);for(let D=0;D<m;++D)for(let e=0;e<x;++e){const n=e*k-w.top;for(let r=0;r<_;++r){const s=r*T-w.left;for(let l=0;l<b;++l){let c=Number.MIN_SAFE_INTEGER;for(let e=0;e<S;++e){const r=n+e*C;if(r>=0&&r<g)for(let n=0;n<O;++n){const u=s+n*A;if(u>=0&&u<y){const s=i.of.locToIndex([D,r,u,l],p,i.of.computeStrides(a.shape)),m=i.of.locToIndex([e,n,l],h,i.of.computeStrides(o.shape)),g=d[s]+f[m];g>c&&(c=g)}}}E[i.of.locToIndex([D,e,r,l],M,i.of.computeStrides(I))]=c}}}return{dataId:u.write(i.of.toTypedArray(E,a.dtype),I,a.dtype),shape:I,dtype:a.dtype}}},ti={kernelName:i.T,backendName:"cpu",kernelFunc:({inputs:e,backend:n,attrs:r})=>{const{x:a,filter:o,dy:s}=e,{strides:l,pad:c,dilations:u}=r,d=n,p=i.of.toNestedArray(a.shape,d.data.get(a.dataId).values),f=i.of.toNestedArray(o.shape,d.data.get(o.dataId).values),{batchSize:h,inHeight:m,inWidth:g,inChannels:y,outHeight:b,outWidth:x,padInfo:_,strideHeight:w,strideWidth:k,filterHeight:T,filterWidth:S,dilationHeight:O,dilationWidth:C,outShape:A}=i.md.computeDilation2DInfo(a.shape,o.shape,l,c,"NHWC",u);i.of.assert(s.rank===A.length,(()=>`Error in ${i.T}, dy must have the same rank as output ${A.length}, but got ${s.rank}`));const I=i.of.toNestedArray(A,d.data.get(s.dataId).values),N=i.of.makeZerosNestedTypedArray(o.shape,o.dtype);for(let i=0;i<h;++i)for(let e=0;e<b;++e){const n=e*w-_.top;for(let r=0;r<x;++r){const a=r*k-_.left;for(let o=0;o<y;++o){let s=Number.MIN_SAFE_INTEGER,l=0,c=0;for(let e=0;e<T;++e){const r=n+e*O;if(r>=0&&r<m)for(let n=0;n<S;++n){const u=a+n*C;if(u>=0&&u<g){const a=p[i][r][u][o]+f[e][n][o];a>s&&(s=a,l=e,c=n)}}}N[l][c][o]+=I[i][e][r][o]}}}return{dataId:d.write(i.of.toTypedArray(N,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},ni={kernelName:i.U,backendName:"cpu",kernelFunc:({inputs:e,backend:n,attrs:r})=>{const{x:a,filter:o,dy:s}=e,{strides:l,pad:c,dilations:u}=r,d=n,p=i.of.toNestedArray(a.shape,d.data.get(a.dataId).values),f=i.of.toNestedArray(o.shape,d.data.get(o.dataId).values),{batchSize:h,inHeight:m,inWidth:g,inChannels:y,outHeight:b,outWidth:x,padInfo:_,strideHeight:w,strideWidth:k,filterHeight:T,filterWidth:S,dilationHeight:O,dilationWidth:C,outShape:A}=i.md.computeDilation2DInfo(a.shape,o.shape,l,c,"NHWC",u);i.of.assert(s.rank===A.length,(()=>`Error in ${i.U}, dy must have the same rank as output ${A.length}, but got ${s.rank}`));const I=i.of.toNestedArray(A,d.data.get(s.dataId).values),N=i.of.makeZerosNestedTypedArray(a.shape,a.dtype);for(let i=0;i<h;++i)for(let e=0;e<b;++e){const n=e*w-_.top;for(let r=0;r<x;++r){const a=r*k-_.left;for(let o=0;o<y;++o){let s=Number.MIN_SAFE_INTEGER,l=n<0?0:n,c=a<0?0:a;for(let e=0;e<T;++e){const r=n+e*O;if(r>=0&&r<m)for(let n=0;n<S;++n){const u=a+n*C;if(u>=0&&u<g){const a=p[i][r][u][o]+f[e][n][o];a>s&&(s=a,l=r,c=u)}}}N[i][l][c][o]+=I[i][e][r][o]}}}return{dataId:d.write(i.of.toTypedArray(N,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};const ri={kernelName:i.W,backendName:"cpu",kernelFunc:function eluGrad(e){const{inputs:n,backend:r}=e,{dy:a,y:o}=n;assertNotComplex([a,o],"eluGrad");const s=new Float32Array(i.of.sizeFromShape(o.shape)),l=r.data.get(o.dataId).values,c=r.data.get(a.dataId).values;for(let i=0;i<l.length;++i){const e=l[i];s[i]=e>=1?c[i]:c[i]*(e+1)}return r.makeTensorInfo(o.shape,"float32",s)}},ai=createSimpleBinaryKernelImpl(((e,n)=>e===n?1:0)),oi=binaryKernelFunc(i.X,ai,null,"bool"),ii={kernelName:i.X,backendName:"cpu",kernelFunc:oi},si=i.md.ERF_P,li=i.md.ERF_A1,ci=i.md.ERF_A2,ui=i.md.ERF_A3,di=i.md.ERF_A4,pi=i.md.ERF_A5,fi=unaryKernelFunc(i.Y,(e=>{const n=Math.sign(e),r=Math.abs(e),a=1/(1+si*r);return n*(1-((((pi*a+di)*a+ui)*a+ci)*a+li)*a*Math.exp(-r*r))})),hi={kernelName:i.Y,backendName:"cpu",kernelFunc:fi},mi=createSimpleUnaryImpl((e=>Math.exp(e))),gi=unaryKernelFuncFromImpl(i.Z,mi),yi={kernelName:i.Z,backendName:"cpu",kernelFunc:gi};function ExpandDims_expandDims(e){const{inputs:n,backend:r,attrs:a}=e,{input:o}=n,{dim:s}=a,l=o.shape.length,c=o.shape.slice();let u=s;return s<0&&(i.of.assert(-(l+1)<=s,(()=>`Axis must be in the interval [${-(l+1)}, ${l}]`)),u=l+s+1),c.splice(u,0,1),Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:c}})}const bi={kernelName:i.ab,backendName:"cpu",kernelFunc:ExpandDims_expandDims},vi=createSimpleUnaryImpl((e=>Math.expm1(e))),xi=unaryKernelFuncFromImpl(i.bb,vi),_i={kernelName:i.bb,backendName:"cpu",kernelFunc:xi},wi=createSimpleBinaryKernelImpl(((e,n)=>e*n)),ki=createComplexBinaryKernelImpl(((e,n,r,a)=>({real:e*r-n*a,imag:e*a+n*r}))),Ti=binaryKernelFunc(i.Ub,wi,ki),Si={kernelName:i.Ub,backendName:"cpu",kernelFunc:Ti},Oi=createSimpleBinaryKernelImpl(((e,n)=>e/n)),Ci=binaryKernelFunc(i.kc,Oi),Ai={kernelName:i.kc,backendName:"cpu",kernelFunc:Ci},Ii=createSimpleBinaryKernelImpl(((e,n)=>e-n)),Ni=createComplexBinaryKernelImpl(((e,n,r,a)=>({real:e-r,imag:n-a}))),Mi=binaryKernelFunc(i.Pc,Ii,Ni),Ei={kernelName:i.Pc,backendName:"cpu",kernelFunc:Mi};function fftBatch(e,n,r){const a=e.shape,o=a[0],s=a[1],l=r.data.get(e.dataId),c=l.complexTensorInfos.real,u=l.complexTensorInfos.imag,d=[o,s],p=i.of.sizeFromShape(d),f=i.of.getTypedArrayFromDType("float32",p),h=i.of.getTypedArrayFromDType("float32",p);for(let b=0;b<o;b++){const e=Slice_slice({inputs:{x:c},backend:r,attrs:{begin:[b,0],size:[1,s]}}),a=Slice_slice({inputs:{x:u},backend:r,attrs:{begin:[b,0],size:[1,s]}}),o=Complex_complex({inputs:{real:e,imag:a},backend:r}),{real:l,imag:d}=fftImpl(o,n,r),p=i.md.mergeRealAndImagArrays(l,d);for(let n=0;n<s;n++){const e=i.md.getComplexWithIndex(p,n);f[b*s+n]=e.real,h[b*s+n]=e.imag}r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(a),r.disposeIntermediateTensorInfo(o)}const m=r.makeTensorInfo(d,"float32",f),g=r.makeTensorInfo(d,"float32",h),y=Complex_complex({inputs:{real:m,imag:g},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),y}function fftImpl(e,n,r){const a=i.of.sizeFromShape(e.shape),o=r.data.get(e.dataId),s=r.data.get(o.complexTensorInfos.real.dataId).values,l=r.data.get(o.complexTensorInfos.imag.dataId).values;if(function isExponentOf2(e){return 0==(e&e-1)}(a)){const o=fftRadix2(s,l,a,n,r),c=[e.shape[0],e.shape[1]];if(n){const e=r.makeTensorInfo(c,"float32",o.real),n=r.makeTensorInfo(c,"float32",o.imag),s=r.makeTensorInfo([],"float32",i.of.createScalarValue(a,"float32")),l=Identity_identity({inputs:{x:s},backend:r}),u=Ai.kernelFunc({inputs:{a:e,b:s},backend:r}),d=Ai.kernelFunc({inputs:{a:n,b:l},backend:r}),p=r.data.get(u.dataId).values,f=r.data.get(d.dataId).values;return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(u),r.disposeIntermediateTensorInfo(d),{real:p,imag:f}}return o}{const e=function fourierTransformByMatmul(e,n,r){const a=new Float32Array(2*n);for(let o=0;o<n;o++){let s=0,l=0;for(let a=0;a<n;a++){const c=i.md.exponent(o*a,n,r),u=i.md.getComplexWithIndex(e,a);s+=u.real*c.real-u.imag*c.imag,l+=u.real*c.imag+u.imag*c.real}r&&(s/=n,l/=n),i.md.assignToTypedArray(a,s,l,o)}return a}(i.md.mergeRealAndImagArrays(s,l),a,n);return i.md.splitRealAndImagArrays(e)}}function fftRadix2(e,n,r,a,o){if(1===r)return{real:e,imag:n};const s=i.md.mergeRealAndImagArrays(e,n),l=r/2,c=i.md.complexWithEvenIndex(s),u=c.real,d=c.imag,p=[u.length],f=o.makeTensorInfo(p,"float32",u),h=o.makeTensorInfo(p,"float32",d),m=Complex_complex({inputs:{real:f,imag:h},backend:o}),g=i.md.complexWithOddIndex(s),y=g.real,b=g.imag,x=[y.length],_=o.makeTensorInfo(x,"float32",y),w=o.makeTensorInfo(x,"float32",b),k=Complex_complex({inputs:{real:_,imag:w},backend:o}),T=fftRadix2(u,d,l,a,o),S=T.real,O=T.imag,C=[S.length],A=o.makeTensorInfo(C,"float32",S),I=o.makeTensorInfo(C,"float32",O),N=Complex_complex({inputs:{real:A,imag:I},backend:o}),M=fftRadix2(y,b,l,a,o),E=M.real,D=M.imag,j=[E.length],R=o.makeTensorInfo(j,"float32",E),L=o.makeTensorInfo(j,"float32",D),z=Complex_complex({inputs:{real:R,imag:L},backend:o}),$=i.md.exponents(r,a),B=[$.real.length],V=o.makeTensorInfo(B,"float32",$.real),U=o.makeTensorInfo(B,"float32",$.imag),W=Complex_complex({inputs:{real:V,imag:U},backend:o}),H=Ti({inputs:{a:W,b:z},backend:o}),G=Ha({inputs:{a:N,b:H},backend:o}),q=Mi({inputs:{a:N,b:H},backend:o}),K=Real_real({inputs:{input:G},backend:o}),X=Real_real({inputs:{input:q},backend:o}),Y=Imag_imag({inputs:{input:G},backend:o}),Z=Imag_imag({inputs:{input:q},backend:o}),J=Concat_concat({inputs:[K,X],backend:o,attrs:{axis:0}}),Q=Concat_concat({inputs:[Y,Z],backend:o,attrs:{axis:0}}),ee=o.data.get(J.dataId).values,te=o.data.get(Q.dataId).values;return o.disposeIntermediateTensorInfo(f),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(m),o.disposeIntermediateTensorInfo(_),o.disposeIntermediateTensorInfo(w),o.disposeIntermediateTensorInfo(k),o.disposeIntermediateTensorInfo(A),o.disposeIntermediateTensorInfo(I),o.disposeIntermediateTensorInfo(N),o.disposeIntermediateTensorInfo(R),o.disposeIntermediateTensorInfo(L),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo(K),o.disposeIntermediateTensorInfo(Y),o.disposeIntermediateTensorInfo(X),o.disposeIntermediateTensorInfo(Z),o.disposeIntermediateTensorInfo(J),o.disposeIntermediateTensorInfo(Q),{real:ee,imag:te}}const Di={kernelName:i.cb,backendName:"cpu",kernelFunc:function FFT_fft(e){const{inputs:n,backend:r}=e,{input:a}=n,o=i.of.sizeFromShape(a.shape),s=a.shape[a.shape.length-1],l=Reshape_reshape({inputs:{x:a},backend:r,attrs:{shape:[o/s,s]}}),c=fftBatch(l,!1,r),u=Reshape_reshape({inputs:{x:c},backend:r,attrs:{shape:a.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(c),u}};function Fill_fill(e){const{backend:n,attrs:r}=e,{shape:a,value:o,dtype:s}=r,l=s||i.of.inferDtype(o),c=i.of.getArrayFromDType(l,i.of.sizeFromShape(a));return function fillValues(e,n,r){e.fill(n)}(c,o),n.makeTensorInfo(a,l,c)}const ji={kernelName:i.db,backendName:"cpu",kernelFunc:Fill_fill};const Ri={kernelName:i.eb,backendName:"cpu",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{image:a}=e,o=r,s=i.of.getTypedArrayFromDType(a.dtype,i.of.sizeFromShape(a.shape)),[l,c,u,d]=a.shape,p=o.data.get(a.dataId).values;for(let i=0;i<l;i++){const e=i*u*c*d;for(let n=0;n<c;n++){const r=n*(u*d);for(let a=0;a<u;a++){const o=a*d;for(let i=0;i<d;i++){const c=[l,n,a,i][2],f=Math.round(u-c),h=e+r+o+i;let m=p[h];if(f>=0&&f<u){m=p[e+r+f*d+i]}s[h]=m}}}}return{dataId:o.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Li=createSimpleUnaryImpl((e=>Math.floor(e))),Pi=unaryKernelFuncFromImpl(i.fb,Li),Fi={kernelName:i.fb,backendName:"cpu",kernelFunc:Pi},zi=createSimpleBinaryKernelImpl(((e,n)=>Math.floor(e/n))),$i=binaryKernelFunc(i.gb,zi,null,"int32"),Bi={kernelName:i.gb,backendName:"cpu",kernelFunc:$i};const Vi={kernelName:i.jb,backendName:"cpu",kernelFunc:function fusedConv2D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=n,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=a;let g=conv2D({inputs:{x:o,filter:i},backend:r,attrs:{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f}});if(s){const e=g;g=Ha({inputs:{a:g,b:s},backend:r}),r.disposeIntermediateTensorInfo(e)}if(h){const e=g;g=applyActivation(r,g,h,l,m),r.disposeIntermediateTensorInfo(e)}return g}};const Ui={kernelName:i.kb,backendName:"cpu",kernelFunc:function fusedDepthwiseConv2D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:i,bias:s,preluActivationWeights:l}=n,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=a;let g=depthwiseConv2dNative({inputs:{x:o,filter:i},backend:r,attrs:{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:f}});if(s){const e=g;g=Ha({inputs:{a:g,b:s},backend:r}),r.disposeIntermediateTensorInfo(e)}if(h){const e=g;g=applyActivation(r,g,h,l,m),r.disposeIntermediateTensorInfo(e)}return g}};const Wi={kernelName:i.lb,backendName:"cpu",kernelFunc:function gatherNd(e){const{inputs:n,backend:r}=e,{params:a,indices:o}=n,s=i.of.sizeFromShape(a.shape),l=o.shape,c=l[l.length-1],[u,d,p,f]=i.md.prepareAndValidate(a,o);if(0===d)return r.makeTensorInfo(u,a.dtype,[]);const h=Object(i.rd)([d,p],a.dtype),m=r.data.get(o.dataId).values,g=r.data.get(a.dataId).values;for(let i=0;i<d;i++){const e=[];let n=0;for(let r=0;r<c;r++){const a=m[i*c+r];n+=a*f[r],e.push(a)}if(n<0||n>=s/p)throw new Error(`Invalid indices: ${e} does not index into ${a.shape}`);for(let r=0;r<p;r++)h.values[i*p+r]=g[n*p+r]}return r.makeTensorInfo(u,h.dtype,h.values)}};function gatherV2Impl(e,n,r){const a=Object(i.rd)(r,e.dtype);for(let o=0;o<a.size;++o){const r=a.indexToLoc(o).slice(),i=r[0],s=r[2],l=n.locToIndex([i,s]);r[2]=n.values[l];const c=e.locToIndex(r);a.values[o]=e.values[c]}return a}const Hi={kernelName:i.mb,backendName:"cpu",kernelFunc:function gatherV2(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,indices:s}=n,{axis:l,batchDims:c}=a;assertNotComplex([o,s],"gatherV2");let u=c;null==c&&(u=0);const d=i.of.sizeFromShape(s.shape),p=i.of.parseAxisParam(l,o.shape)[0],f=i.md.segment_util.collectGatherOpShapeInfo(o,s,p,u),h=Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:[f.batchSize,f.outerSize,f.dimSize,f.sliceSize]}}),m=Reshape_reshape({inputs:{x:s},backend:r,attrs:{shape:[f.batchSize,d/f.batchSize]}}),g=[f.batchSize,f.outerSize,d/f.batchSize,f.sliceSize],y=r.bufferSync(m),b=gatherV2Impl(r.bufferSync(h),y,g);return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),r.makeTensorInfo(f.outputShape,b.dtype,b.values)}},Gi=createSimpleBinaryKernelImpl(((e,n)=>e>n?1:0)),qi=binaryKernelFunc(i.nb,Gi,null,"bool"),Ki={kernelName:i.nb,backendName:"cpu",kernelFunc:qi},Xi=createSimpleBinaryKernelImpl(((e,n)=>e>=n?1:0)),Yi=binaryKernelFunc(i.ob,Xi,null,"bool"),Zi={kernelName:i.ob,backendName:"cpu",kernelFunc:Yi};const Ji={kernelName:i.pb,backendName:"cpu",kernelFunc:function IFFT_ifft(e){const{inputs:n,backend:r}=e,{input:a}=n,o=i.of.sizeFromShape(a.shape),s=a.shape[a.shape.length-1],l=Reshape_reshape({inputs:{x:a},backend:r,attrs:{shape:[o/s,s]}}),c=fftBatch(l,!0,r),u=Reshape_reshape({inputs:{x:c},backend:r,attrs:{shape:a.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(c),u}},Qi=unaryKernelFunc(i.sb,(e=>Number.isFinite(e)?1:0),"bool"),es={kernelName:i.sb,backendName:"cpu",kernelFunc:Qi},ts=unaryKernelFunc(i.tb,(e=>Math.abs(e)===1/0?1:0),"bool"),ns={kernelName:i.tb,backendName:"cpu",kernelFunc:ts},rs=unaryKernelFunc(i.ub,(e=>Number.isNaN(e)?1:0),"bool"),as={kernelName:i.ub,backendName:"cpu",kernelFunc:rs},os=createSimpleBinaryKernelImpl(((e,n)=>e<n?1:0)),is=binaryKernelFunc(i.zb,os,null,"bool"),ss={kernelName:i.zb,backendName:"cpu",kernelFunc:is},ls=createSimpleBinaryKernelImpl(((e,n)=>e<=n?1:0)),cs=binaryKernelFunc(i.Ab,ls,null,"bool"),us={kernelName:i.Ab,backendName:"cpu",kernelFunc:cs};function linSpaceImpl(e,n,r){const a=(n-e)/(r-1),o=i.of.makeZerosTypedArray(r,"float32");o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+a;return o}const ds={kernelName:i.Bb,backendName:"cpu",kernelFunc:function linSpace(e){const{backend:n,attrs:r}=e,{start:a,stop:o,num:i}=r,s=linSpaceImpl(a,o,i);return n.makeTensorInfo([s.length],"float32",s)}},ps=createSimpleUnaryImpl((e=>Math.log(e))),fs=unaryKernelFuncFromImpl(i.Cb,ps),hs={kernelName:i.Cb,backendName:"cpu",kernelFunc:fs},ms=unaryKernelFunc(i.Db,(e=>Math.log1p(e))),gs={kernelName:i.Db,backendName:"cpu",kernelFunc:ms},ys=createSimpleBinaryKernelImpl(((e,n)=>e&&n)),bs=binaryKernelFunc(i.Eb,ys,null,"bool"),vs={kernelName:i.Eb,backendName:"cpu",kernelFunc:bs},xs=unaryKernelFunc(i.Fb,(e=>e?0:1),"bool"),_s={kernelName:i.Fb,backendName:"cpu",kernelFunc:xs},ws=createSimpleBinaryKernelImpl(((e,n)=>e||n)),ks=binaryKernelFunc(i.Gb,ws,null,"bool"),Ts={kernelName:i.Gb,backendName:"cpu",kernelFunc:ks};const Ss={kernelName:i.wb,backendName:"cpu",kernelFunc:function lRN(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{depthRadius:s,bias:l,alpha:c,beta:u}=a;assertNotComplex(o,"LRN");const d=o.shape[3],p=d-1,f=r.data.get(o.dataId).values,h=i.of.sizeFromShape(o.shape),m=new Float32Array(h);function sumAcrossChannels(e){const n=e%d;let r=e-n+Math.max(0,n-s);const a=e-n+Math.min(n+s,p);let o=0;for(;r<=a;r++){const e=f[r];o+=e*e}return o}for(let i=0;i<h;i++){const e=sumAcrossChannels(i),n=f[i]*Math.pow(l+c*e,-u);m[i]=n}return r.makeTensorInfo(o.shape,o.dtype,m)}};const Os={kernelName:i.xb,backendName:"cpu",kernelFunc:function lRNGrad(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,y:s,dy:l}=n,{depthRadius:c,bias:u,alpha:d,beta:p}=a;assertNotComplex(l,"LRNGrad");const f=i.of.sizeFromShape(l.shape),h=l.shape[3],m=r.data.get(l.dataId).values,g=r.data.get(o.dataId).values,y=r.data.get(s.dataId).values,b=new Float32Array(f),x=f;for(let i=0;i<x;i++){const e=i%h,n=i-e+Math.max(0,e-c),r=i-e+Math.min(h,e+c+1);let a=0;for(let o=n;o<r;o++)a+=Math.pow(g[o],2);a=d*a+u;for(let o=n;o<r;o++){let e=-2*d*p*g[o]*y[i]/a;i===o&&(e+=Math.pow(a,-p)),e*=m[i],b[o]+=e}}return r.makeTensorInfo(l.shape,o.dtype,b)}};function maxImpl(e,n,r,a){const o=i.of.getTypedArrayFromDType(a,i.of.sizeFromShape(r));for(let i=0;i<o.length;++i){const r=i*n;let a=e[r];for(let o=0;o<n;++o){const n=e[r+o];n>a&&(a=n)}o[i]=a}return o}function Max_max(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{reductionIndices:s,keepDims:l}=a,c=r;let u=o.shape;const d=u.length,p=i.of.parseAxisParam(s,u);let f=p;const h=i.md.getAxesPermutation(f,d);let m=c.data.get(o.dataId).values;if(null!=h){const e=new Array(d);for(let n=0;n<e.length;n++)e[n]=u[h[n]];m=transposeImpl(m,u,o.dtype,h,e),f=i.md.getInnerMostAxes(f.length,d),u=e}assertNotComplex(o,"max"),i.md.assertAxesAreInnerMostDims("max",f,d);const[g,y]=i.md.computeOutAndReduceShapes(u,f),b=maxImpl(m,i.of.sizeFromShape(y),g,o.dtype),x=c.write(b,g,o.dtype);let _=g;if(l){_=i.md.expandShapeToKeepDim(g,p)}return{dataId:x,shape:_,dtype:o.dtype}}const Cs={kernelName:i.Hb,backendName:"cpu",kernelFunc:Max_max},As=createSimpleBinaryKernelImpl(((e,n)=>Math.max(e,n))),Is=binaryKernelFunc(i.Nb,As),Ns={kernelName:i.Nb,backendName:"cpu",kernelFunc:Is};const Ms={kernelName:i.Ib,backendName:"cpu",kernelFunc:function maxPool(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n;assertNotComplex(o,"maxPool");const{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a;i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${l} and dilations '1'`));const d=i.md.computePool2DInfo(o.shape,s,l,1,c,u);let p;if(1===d.filterWidth&&1===d.filterHeight&&i.of.arraysEqual(d.inShape,d.outShape))p=Identity_identity({inputs:{x:o},backend:r});else{const e=r.data.get(o.dataId).values,n=i.of.computeStrides(o.shape),a=pool_utils_pool(e,o.shape,o.dtype,n,d,"max");p=r.makeTensorInfo(d.outShape,o.dtype,a.values)}return p}};const Es={kernelName:i.Jb,backendName:"cpu",kernelFunc:function maxPool3D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{filterSize:s,strides:l,pad:c,dimRoundingMode:u,dataFormat:d}=a;assertNotComplex(o,"maxPool3d");const p=i.md.computePool3DInfo(o.shape,s,l,1,c,u,d),f=pool_utils_pool3d(r.data.get(o.dataId).values,o.shape,o.dtype,i.of.computeStrides(o.shape),p,"max");return r.makeTensorInfo(f.shape,"float32",f.values)}};const Ds={kernelName:i.Kb,backendName:"cpu",kernelFunc:function maxPool3DGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a;assertNotComplex([o,s],"maxPool3DGrad");const p=i.md.computePool3DInfo(s.shape,l,c,1,u,d),f=function pool_utils_maxPool3dPositions(e,n){const r=Object(i.rd)(n.outShape,"int32"),a=n.strideDepth,o=n.strideHeight,s=n.strideWidth,l=n.dilationDepth,c=n.dilationHeight,u=n.dilationWidth,d=n.effectiveFilterDepth,p=n.effectiveFilterHeight,f=n.effectiveFilterWidth,h=n.padInfo.front,m=n.padInfo.top,g=n.padInfo.left;for(let i=0;i<n.batchSize;++i)for(let y=0;y<n.inChannels;++y)for(let b=0;b<n.outDepth;++b){const x=b*a-h;let _=x;for(;_<0;)_+=l;const w=Math.min(n.inDepth,d+x);for(let a=0;a<n.outHeight;++a){const d=a*o-m;let h=d;for(;h<0;)h+=c;const k=Math.min(n.inHeight,p+d);for(let o=0;o<n.outWidth;++o){const m=o*s-g;let T=m;for(;T<0;)T+=u;const S=Math.min(n.inWidth,f+m);let O=Number.NEGATIVE_INFINITY,C=-1;for(let n=_;n<w;n+=l){const r=n-x;for(let a=h;a<k;a+=c){const o=a-d;for(let s=T;s<S;s+=u){const l=s-m,c=e.get(i,n,a,s,y);c>=O&&(O=c,C=r*p*f+o*p+l)}}}r.set(C,i,b,a,o,y)}}}return r}(r.bufferSync(s),p),h=p.strideDepth,m=p.strideHeight,g=p.strideWidth,y=p.dilationDepth,b=p.dilationHeight,x=p.dilationWidth,_=p.effectiveFilterDepth,w=p.effectiveFilterHeight,k=p.effectiveFilterWidth,T=_-1-p.padInfo.front,S=k-1-p.padInfo.left,O=w-1-p.padInfo.top,C=Object(i.rd)(s.shape,"float32"),A=r.bufferSync(o);for(let i=0;i<p.batchSize;++i)for(let e=0;e<p.inChannels;++e)for(let n=0;n<p.inDepth;++n)for(let r=0;r<p.inHeight;++r)for(let a=0;a<p.inWidth;++a){const o=n-T,s=r-O,l=a-S;let c=0;for(let n=0;n<_;n+=y){const r=(o+n)/h;if(!(r<0||r>=p.outDepth||Math.floor(r)!==r))for(let a=0;a<w;a+=b){const o=(s+a)/m;if(!(o<0||o>=p.outHeight||Math.floor(o)!==o))for(let s=0;s<k;s+=x){const u=(l+s)/g;if(u<0||u>=p.outWidth||Math.floor(u)!==u)continue;const d=_*w*k-1-f.get(i,r,o,u,e)===n*w*k+a*k+s?1:0;if(0===d)continue;c+=A.get(i,r,o,u,e)*d}}}C.set(c,i,n,r,a,e)}return r.makeTensorInfo(C.shape,C.dtype,C.values)}};const js={kernelName:i.Lb,backendName:"cpu",kernelFunc:function MaxPoolGrad_maxPoolGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s,output:l}=n,c=s;assertNotComplex([s,l],"maxPoolGrad");const{filterSize:u,strides:d,pad:p,dimRoundingMode:f}=a,h=i.md.computePool2DInfo(c.shape,u,d,1,p,f),m=r.data.get(c.dataId).values,g=Object(i.rd)(h.outShape,c.dtype,pool_utils_maxPoolPositions(m,c.shape,c.dtype,h).values),y=h.strideHeight,b=h.strideWidth,x=h.dilationHeight,_=h.dilationWidth,w=h.effectiveFilterHeight,k=h.effectiveFilterWidth,T=k-1-h.padInfo.left,S=w-1-h.padInfo.top,O=Object(i.rd)(c.shape,"float32"),C=r.data.get(o.dataId).values,A=Object(i.rd)(o.shape,"float32",C);for(let i=0;i<h.batchSize;++i)for(let e=0;e<h.inChannels;++e)for(let n=0;n<h.inHeight;++n)for(let r=0;r<h.inWidth;++r){const a=n-S,o=r-T;let s=0;for(let n=0;n<w;n+=x){const r=(a+n)/y;if(!(r<0||r>=h.outHeight||Math.floor(r)!==r))for(let a=0;a<k;a+=_){const l=(o+a)/b;if(l<0||l>=h.outWidth||Math.floor(l)!==l)continue;const c=w*k-1-g.get(i,r,l,e)===n*k+a?1:0;if(0===c)continue;s+=A.get(i,r,l,e)*c}}O.set(s,i,n,r,e)}return r.makeTensorInfo(O.shape,O.dtype,O.values)}};const Rs={kernelName:i.Mb,backendName:"cpu",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{x:a}=e,{filterSize:o,strides:s,pad:l,includeBatchInIndex:c}=n,u=r;assertNotComplex(a,"MaxPoolWithArgmax");const d=u.data.get(a.dataId).values,p=i.md.computePool2DInfo(a.shape,o,s,[1,1],l),[f,h]=function maxPoolWithArgmaxImpl(e,n,r,a,o){const s=pool_utils_pool(e,0,r,i.of.computeStrides(n),o,"max"),l=pool_utils_maxPoolPositions(e,n,r,o,!0,a);return[s.values,l.values]}(d,a.shape,a.dtype,c,p),m=u.write(f,p.outShape,a.dtype),g=u.write(h,p.outShape,a.dtype);return[{dataId:m,shape:p.outShape,dtype:a.dtype},{dataId:g,shape:p.outShape,dtype:"int32"}]}};function Sum_sum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;let c;assertNotComplex(o,"sum"),c="bool"===o.dtype?Cast_cast({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):Identity_identity({inputs:{x:o},backend:r});const u=c.shape.length,d=i.of.parseAxisParam(s,c.shape),p=i.md.getAxesPermutation(d,u);let f=d,h=c;null!=p&&(h=Transpose_transpose({inputs:{x:c},backend:r,attrs:{perm:p}}),f=i.md.getInnerMostAxes(f.length,u)),i.md.assertAxesAreInnerMostDims("sum",f,h.shape.length);const[m,g]=i.md.computeOutAndReduceShapes(h.shape,f);let y=zeros_impl_zeros(r,m,i.md.upcastType(h.dtype,"int32"));const b=i.of.sizeFromShape(g),x=r.data.get(y.dataId).values,_=r.data.get(h.dataId).values;for(let i=0;i<x.length;++i){const e=i*b;let n=0;for(let r=0;r<b;++r)n+=_[e+r];x[i]=n}if(l){const e=y;y=Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(y.shape,d)}}),r.disposeIntermediateTensorInfo(e)}return r.disposeIntermediateTensorInfo(c),null!=p&&r.disposeIntermediateTensorInfo(h),y}const Ls={kernelName:i.Qc,backendName:"cpu",kernelFunc:Sum_sum};const Ps={kernelName:i.Ob,backendName:"cpu",kernelFunc:function Mean_mean(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a,c=i.of.parseAxisParam(s,o.shape),u=i.md.computeOutAndReduceShapes(o.shape,c)[1],d=i.of.sizeFromShape(u),p=[],f=r.makeTensorInfo([],"float32",new Float32Array([d]));p.push(f);const h=Cast_cast({inputs:{x:o},backend:r,attrs:{dtype:"float32"}});p.push(h);const m=Ci({inputs:{a:h,b:f},backend:r});p.push(m);const g=Sum_sum({inputs:{x:m},backend:r,attrs:{axis:s,keepDims:l}});return p.forEach((e=>r.disposeIntermediateTensorInfo(e))),g}};const Fs={kernelName:i.Pb,backendName:"cpu",kernelFunc:function Min_min(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;assertNotComplex(o,"min");const c=i.of.parseAxisParam(s,o.shape);let u=c;const d=i.md.getAxesPermutation(u,o.shape.length);let p=o;null!=d&&(p=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:d}}),u=i.md.getInnerMostAxes(u.length,o.shape.length)),i.md.assertAxesAreInnerMostDims("min",u,p.shape.length);const[f,h]=i.md.computeOutAndReduceShapes(p.shape,u),m=i.of.sizeFromShape(h),g=i.of.makeZerosTypedArray(i.of.sizeFromShape(f),p.dtype),y=r.data.get(p.dataId).values;for(let i=0;i<g.length;++i){const e=i*m;let n=y[e];for(let r=0;r<m;++r){const a=y[e+r];a<n&&(n=a)}g[i]=n}null!=d&&r.disposeIntermediateTensorInfo(p);const b=r.makeTensorInfo(f,p.dtype,g);if(l){const e=Reshape_reshape({inputs:{x:b},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(f,c)}});return r.disposeIntermediateTensorInfo(b),e}return b}},zs=createSimpleBinaryKernelImpl(((e,n)=>Math.min(e,n))),$s=binaryKernelFunc(i.Qb,zs),Bs={kernelName:i.Qb,backendName:"cpu",kernelFunc:$s};const Vs={kernelName:i.Rb,backendName:"cpu",kernelFunc:function mirrorPad(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{paddings:s,mode:l}=a;assertNotComplex(o,"mirrorPad");const c=s.map(((e,n)=>e[0]+o.shape[n]+e[1])),u=s.map((e=>e[0])),d=s.map(((e,n)=>e[0]+o.shape[n])),p="reflect"===l?0:1,f=r.data.get(o.dataId).values,h=o.shape.length,m=i.of.computeStrides(o.shape),g=i.of.sizeFromShape(c),y=c.length,b=i.of.computeStrides(c),x=i.of.getTypedArrayFromDType(o.dtype,g);for(let _=0;_<g;_++){let e=i.of.indexToLoc(_,y,b);for(let r=0;r<y;r++)e[r]<u[r]?e[r]=2*u[r]-e[r]-p:e[r]>=d[r]&&(e[r]=2*(d[r]-1)-e[r]+p);e=e.map(((e,n)=>e-u[n]));const n=i.of.locToIndex(e,h,m);x[_]=f[n]}return{dataId:r.write(x,c,o.dtype),shape:c,dtype:o.dtype}}},Us=createSimpleBinaryKernelImpl(((e,n)=>{const r=e%n;return e<0&&n<0||e>=0&&n>=0?r:(r+n)%n})),Ws=binaryKernelFunc(i.Sb,Us),Hs={kernelName:i.Sb,backendName:"cpu",kernelFunc:Ws};var Gs=r("e313");function Softmax_softmax(e){const{inputs:n,backend:r,attrs:a}=e,{logits:o}=n,{dim:s}=a,l=o.shape.length;let c=s;if(-1===c&&(c=l-1),c!==l-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${l} and dim was ${c}`);const u=i.of.parseAxisParam([c],o.shape),d=Max_max({inputs:{x:o},backend:r,attrs:{reductionIndices:u,keepDims:!1}}),p=i.md.expandShapeToKeepDim(d.shape,u),f=Reshape_reshape({inputs:{x:d},backend:r,attrs:{shape:p}}),h=Mi({inputs:{a:o,b:f},backend:r}),m=gi({inputs:{x:h},backend:r}),g=Sum_sum({inputs:{x:m},backend:r,attrs:{axis:u,keepDims:!1}}),y=Reshape_reshape({inputs:{x:g},backend:r,attrs:{shape:p}}),b=Ci({inputs:{a:m,b:y},backend:r});return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),b}const qs={kernelName:i.Fc,backendName:"cpu",kernelFunc:Softmax_softmax};const Ks={kernelName:i.Tb,backendName:"cpu",kernelFunc:function Multinomial_multinomial(e){const{inputs:n,backend:r,attrs:a}=e,{logits:o}=n,{numSamples:s,seed:l,normalized:c}=a;assertNotComplex(o,"multinomial");const u=c?o:Softmax_softmax({inputs:{logits:o},backend:r,attrs:{dim:-1}}),d=u.shape[0],p=u.shape[1],f=r.data.get(u.dataId).values,h=[d,s],m=i.of.makeZerosTypedArray(i.of.sizeFromShape(h),"int32");for(let i=0;i<d;++i){const e=i*p,n=new Float32Array(p-1);n[0]=f[e];for(let o=1;o<n.length;++o)n[o]=n[o-1]+f[e+o];const r=Gs.alea(l.toString()),a=i*s;for(let o=0;o<s;++o){const e=r();m[a+o]=n.length;for(let r=0;r<n.length;r++)if(e<n[r]){m[a+o]=r;break}}}return c||r.disposeIntermediateTensorInfo(u),r.makeTensorInfo(h,"int32",m)}};function negImpl(e,n,r){const a=i.of.createScalarValue(-1,r);return wi([],n,a,e,r)}const Xs={kernelName:i.Vb,backendName:"cpu",kernelFunc:function Neg_neg(e){const{inputs:n,backend:r}=e,{x:a}=n;assertNotComplex(a,"neg");const o=r.data.get(a.dataId).values,[i,s]=negImpl(o,a.shape,a.dtype);return r.makeTensorInfo(s,a.dtype,i)}},Ys=i.Zd.nonMaxSuppressionV3Impl;const Zs={kernelName:i.Wb,backendName:"cpu",kernelFunc:function nonMaxSuppressionV3(e){const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:i}=n,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c}=a;assertNotComplex(o,"NonMaxSuppression");const u=r.data.get(o.dataId).values,d=r.data.get(i.dataId).values,{selectedIndices:p}=Ys(u,d,s,l,c);return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}},Js=i.Zd.nonMaxSuppressionV4Impl;const Qs={kernelName:i.Xb,backendName:"cpu",kernelFunc:function nonMaxSuppressionV4(e){const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:i}=n,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,padToMaxOutputSize:u}=a;assertNotComplex(o,"NonMaxSuppressionPadded");const d=r.data.get(o.dataId).values,p=r.data.get(i.dataId).values,{selectedIndices:f,validOutputs:h}=Js(d,p,s,l,c,u);return[r.makeTensorInfo([f.length],"int32",new Int32Array(f)),r.makeTensorInfo([],"int32",new Int32Array([h]))]}},el=i.Zd.nonMaxSuppressionV5Impl;const tl={kernelName:i.Yb,backendName:"cpu",kernelFunc:function nonMaxSuppressionV5(e){const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:i}=n,{maxOutputSize:s,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=a;assertNotComplex(o,"NonMaxSuppressionWithScore");const d=r.data.get(o.dataId).values,p=r.data.get(i.dataId).values,f=s,h=l,m=c,g=u,{selectedIndices:y,selectedScores:b}=el(d,p,f,h,m,g);return[r.makeTensorInfo([y.length],"int32",new Int32Array(y)),r.makeTensorInfo([b.length],"float32",new Float32Array(b))]}},nl=createSimpleBinaryKernelImpl(((e,n)=>e!==n?1:0)),rl=binaryKernelFunc(i.Zb,nl,null,"bool"),al={kernelName:i.Zb,backendName:"cpu",kernelFunc:rl};const ol={kernelName:i.ac,backendName:"cpu",kernelFunc:function OneHot_oneHot(e){const{inputs:n,backend:r,attrs:a}=e,{indices:o}=n,{depth:s,onValue:l,offValue:c}=a;assertNotComplex(o,"oneHot");const u=i.of.sizeFromShape(o.shape),d=new Float32Array(u*s);d.fill(c);const p=r.data.get(o.dataId).values;for(let i=0;i<u;++i)p[i]>=0&&p[i]<s&&(d[i*s+p[i]]=l);return r.makeTensorInfo([...o.shape,s],"int32",d)}};function ZerosLike_zerosLike(e){const{inputs:n,backend:r}=e,{x:a}=n;if("string"===a.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===a.dtype){const e=Real_real({inputs:{input:a},backend:r}),n=ZerosLike_zerosLike({inputs:{x:e},backend:r}),o=Imag_imag({inputs:{input:a},backend:r}),i=ZerosLike_zerosLike({inputs:{x:o},backend:r}),s=Complex_complex({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}return Fill_fill({backend:r,attrs:{shape:a.shape,value:0,dtype:a.dtype}})}const il={kernelName:i.cd,backendName:"cpu",kernelFunc:ZerosLike_zerosLike};const sl={kernelName:i.bc,backendName:"cpu",kernelFunc:function OnesLike_onesLike(e){const{inputs:n,backend:r}=e,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){const e=Real_real({inputs:{input:a},backend:r}),n=OnesLike_onesLike({inputs:{x:e},backend:r}),o=Imag_imag({inputs:{input:a},backend:r}),i=ZerosLike_zerosLike({inputs:{x:o},backend:r}),s=Complex_complex({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}return Fill_fill({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function pack(e){const{inputs:n,backend:r,attrs:a}=e,{axis:o}=a;if(1===n.length)return ExpandDims_expandDims({inputs:{input:n[0]},backend:r,attrs:{dim:o}});const s=n[0].shape,l=n[0].dtype;n.forEach((e=>{i.of.assertShapesMatch(s,e.shape,"All tensors passed to stack must have matching shapes"),i.of.assert(l===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const c=[],u=Concat_concat({inputs:n.map((e=>{const n=ExpandDims_expandDims({inputs:{input:e},backend:r,attrs:{dim:o}});return c.push(n),n})),backend:r,attrs:{axis:o}});return c.forEach((e=>r.disposeIntermediateTensorInfo(e))),u}const ll={kernelName:i.dc,backendName:"cpu",kernelFunc:pack};const cl={kernelName:i.ec,backendName:"cpu",kernelFunc:function padV2(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{paddings:s,constantValue:l}=a;assertNotComplex(o,"pad");const c=s.map(((e,n)=>e[0]+o.shape[n]+e[1])),u=s.map((e=>e[0])),d=r.data.get(o.dataId).values,p=i.of.sizeFromShape(o.shape),f=o.shape.length,h=i.of.computeStrides(o.shape),m=i.of.sizeFromShape(c),g=c.length,y=i.of.computeStrides(c),b=i.of.getTypedArrayFromDType(o.dtype,m);0!==l&&b.fill(l);for(let x=0;x<p;x++){const e=i.of.indexToLoc(x,f,h).map(((e,n)=>e+u[n]));b[i.of.locToIndex(e,g,y)]=d[x]}return{dataId:r.write(b,c,o.dtype),shape:c,dtype:o.dtype}}},ul=createSimpleBinaryKernelImpl(((e,n)=>Math.pow(e,n))),dl=binaryKernelFunc(i.fc,ul),pl={kernelName:i.fc,backendName:"cpu",kernelFunc:dl};function prodImpl(e,n,r,a){const[o,s]=i.md.computeOutAndReduceShapes(e,a),l=Object(i.nf)(n,"int32"),c=i.of.makeZerosTypedArray(i.of.sizeFromShape(o),l),u=i.of.sizeFromShape(s);for(let i=0;i<c.length;++i){const e=i*u;let n=1;for(let a=0;a<u;++a)n*=r[e+a];c[i]=n}return{outVals:c,outShape:o,outDtype:l}}const fl={kernelName:i.hc,backendName:"cpu",kernelFunc:function Prod_prod(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;assertNotComplex(o,"prod");const c=o.shape.length,u=i.of.parseAxisParam(s,o.shape),d=i.md.getAxesPermutation(u,c);let p=u,f=o;const h=[];null!=d&&(f=Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:d}}),h.push(f),p=i.md.getInnerMostAxes(p.length,c));const m=r.data.get(f.dataId).values,{outVals:g,outShape:y,outDtype:b}=prodImpl(f.shape,f.dtype,m,p);let x=y;return l&&(x=i.md.expandShapeToKeepDim(y,u)),h.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.makeTensorInfo(x,b,g)}};function rangeImpl(e,n,r,a){if(e===n||e<n&&r<0||n<e&&r>1)return i.of.makeZerosTypedArray(0,a);const o=Math.abs(Math.ceil((n-e)/r)),s=i.of.makeZerosTypedArray(o,a);n<e&&1===r&&(r=-1),s[0]=e;for(let i=1;i<s.length;i++)s[i]=s[i-1]+r;return s}const hl={kernelName:i.ic,backendName:"cpu",kernelFunc:function Range_range(e){const{backend:n,attrs:r}=e,{start:a,stop:o,dtype:i,step:s}=r,l=rangeImpl(a,o,s,i);return n.makeTensorInfo([l.length],i,l)}},ml=unaryKernelFunc(i.lc,(e=>1/e)),gl={kernelName:i.lc,backendName:"cpu",kernelFunc:ml};const yl={kernelName:i.pc,backendName:"cpu",kernelFunc:function resizeBilinear(e){const{inputs:n,backend:r,attrs:a}=e,{images:o}=n,{alignCorners:s,halfPixelCenters:l,size:c}=a;assertNotComplex(o,"resizeBilinear");const u=i.of.computeStrides(o.shape),[d,p]=c,[f,h,m,g]=o.shape,y=r.data.get(o.dataId).values,b=new Float32Array(i.of.sizeFromShape([f,d,p,g])),x=[s&&d>1?h-1:h,s&&p>1?m-1:m],_=[s&&d>1?d-1:d,s&&p>1?p-1:p];let w=0;const k=x[0]/_[0],T=x[1]/_[1];for(let i=0;i<f;i++)for(let e=0;e<d;e++){let n;n=l?k*(e+.5)-.5:k*e;const r=Math.max(0,Math.floor(n)),a=n-r,o=Math.min(h-1,Math.ceil(n)),s=i*u[0]+r*u[1],c=i*u[0]+o*u[1];for(let e=0;e<p;e++){let n;n=l?T*(e+.5)-.5:T*e;const r=Math.max(0,Math.floor(n)),o=n-r,i=Math.min(m-1,Math.ceil(n)),d=s+r*u[2],p=c+r*u[2],f=s+i*u[2],h=c+i*u[2];for(let e=0;e<g;e++){const n=y[d+e],r=y[p+e],i=n+(y[f+e]-n)*o,s=i+(r+(y[h+e]-r)*o-i)*a;b[w++]=s}}}return r.makeTensorInfo([f,d,p,g],"float32",b)}};const bl={kernelName:i.qc,backendName:"cpu",kernelFunc:function resizeBilinearGrad(e){const{inputs:n,backend:r,attrs:a}=e,{images:o,dy:s}=n,{alignCorners:l}=a;assertNotComplex([s,o],"resizeBilinearGrad");const c=i.of.computeStrides(o.shape),[u,d,p,f]=o.shape,[,h,m]=s.shape,g=new Float32Array(u*d*p*f),y=[l&&h>1?d-1:d,l&&m>1?p-1:p],b=[l&&h>1?h-1:h,l&&m>1?m-1:m],x=y[0]/b[0],_=y[1]/b[1],w=r.data.get(s.dataId).values;let k=0;for(let i=0;i<u;i++){const e=i*c[0];for(let n=0;n<h;n++){const r=n*x,a=Math.floor(r),o=Math.min(Math.ceil(r),d-1),i=e+a*c[1],s=e+o*c[1],l=r-a,u=1-l;for(let e=0;e<m;e++){const n=e*_,r=Math.floor(n),a=Math.min(Math.ceil(n),p-1),o=n-r,d=1-o,h=i+r*c[2],m=i+a*c[2],y=s+r*c[2],b=s+a*c[2],x=u*d,T=u*o,S=l*d,O=l*o;for(let e=0;e<f;e++){const n=w[k++];g[h+e]+=n*x,g[m+e]+=n*T,g[y+e]+=n*S,g[b+e]+=n*O}}}}return r.makeTensorInfo([u,p,d,f],"float32",g)}};const vl={kernelName:i.rc,backendName:"cpu",kernelFunc:function resizeNearestNeighbor(e){const{inputs:n,backend:r,attrs:a}=e,{images:o}=n,{alignCorners:s,halfPixelCenters:l,size:c}=a;assertNotComplex(o,"resizeNearestNeighbor");const u=i.of.computeStrides(o.shape),[d,p]=c,[f,h,m,g]=o.shape,y=r.data.get(o.dataId).values,b=new Float32Array(f*d*p*g),x=[s&&d>1?h-1:h,s&&p>1?m-1:m],_=[s&&d>1?d-1:d,s&&p>1?p-1:p],w=x[0]/_[0],k=x[1]/_[1];let T=0;for(let i=0;i<f;i++){const e=i*u[0];for(let n=0;n<d;n++){const r=l?w*(n+.5):w*n;let a=Math.min(h-1,s?Math.round(r):Math.floor(r));l&&(a=Math.max(0,a));const o=e+a*u[1];for(let e=0;e<p;e++){const n=l?k*(e+.5):k*e;let r=Math.min(m-1,s?Math.round(n):Math.floor(n));l&&(r=Math.max(0,r));const a=o+r*u[2];for(let e=0;e<g;e++){const n=y[a+e];b[T++]=n}}}}return r.makeTensorInfo([f,d,p,g],o.dtype,b)}};const xl={kernelName:i.sc,backendName:"cpu",kernelFunc:function resizeNearestNeighborGrad(e){const{inputs:n,backend:r,attrs:a}=e,{images:o,dy:s}=n,{alignCorners:l}=a;assertNotComplex([s,o],"resizeNearestNeighborGrad");const c=i.of.computeStrides(o.shape),u=i.of.computeStrides(s.shape),[d,p,f,h]=o.shape,[,m,g]=s.shape,y=new Float32Array(d*p*f*h),b=r.data.get(s.dataId).values,x=[l&&m>1?p-1:p,l&&g>1?f-1:f],_=[l&&m>1?m-1:m,l&&g>1?g-1:g],w=x[0]/_[0],k=x[1]/_[1],T=1/w,S=1/k,O=2*Math.ceil(T)+2,C=2*Math.ceil(S)+2;for(let i=0;i<d;i++){const e=i*c[0];for(let n=0;n<p;n++){const r=e+n*c[1],a=Math.floor(n*T),o=Math.floor(a-O/2);for(let i=0;i<f;i++){const a=r+i*c[2],s=Math.floor(i*S),d=Math.floor(s-C/2);for(let r=0;r<h;r++){let s=0;for(let a=0;a<O;a++){const c=a+o;if(c<0||c>=m)continue;const h=e+c*u[1],y=c*w;if(n===Math.min(p-1,l?Math.round(y):Math.floor(y)))for(let e=0;e<C;e++){const n=e+d;if(n<0||n>=g)continue;const a=h+n*u[2],o=n*k;i===Math.min(f-1,l?Math.round(o):Math.floor(o))&&(s+=b[a+r])}}y[a+r]=s}}}}return r.makeTensorInfo(o.shape,o.dtype,y)}};const _l={kernelName:i.tc,backendName:"cpu",kernelFunc:function Reverse_reverse(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{dims:s}=a;assertNotComplex(o,"reverse");const l=o.shape.length,c=i.of.parseAxisParam(s,o.shape);if(0===l)return Identity_identity({inputs:{x:o},backend:r});const u=new i.Uc(o.shape,o.dtype),d=r.bufferSync(o);for(let i=0;i<u.size;i++){const e=u.indexToLoc(i),n=e.slice();c.forEach((e=>n[e]=o.shape[e]-1-n[e])),u.set(d.get(...n),...e)}return r.makeTensorInfo(u.shape,u.dtype,u.values)}},wl={kernelName:i.uc,backendName:"cpu",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{image:a}=e,{radians:o,fillValue:s,center:l}=n,c=r,u=i.of.getTypedArrayFromDType(a.dtype,i.of.sizeFromShape(a.shape)),[d,p,f,h]=a.shape,[m,g]=i.md.getImageCenter(l,p,f),y=Math.sin(o),b=Math.cos(o),x=c.data.get(a.dataId).values;for(let i=0;i<d;i++){const e=i*f*p*h;for(let n=0;n<p;n++){const r=n*(f*h);for(let a=0;a<f;a++){const o=a*h;for(let i=0;i<h;i++){const l=[d,n,a,i],c=l[2],_=l[1];let w=(c-m)*b-(_-g)*y,k=(c-m)*y+(_-g)*b;w=Math.round(w+m),k=Math.round(k+g);let T=s;if("number"!=typeof s&&(T=3===i?255:s[i]),w>=0&&w<f&&k>=0&&k<p){T=x[e+k*(f*h)+w*h+i]}u[e+r+o+i]=T}}}}return{dataId:c.write(u,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},kl=unaryKernelFunc(i.vc,(e=>{const n=Math.floor(e);return e-n<.5?Math.floor(e):e-n>.5?Math.ceil(e):n%2==0?n:n+1})),Tl={kernelName:i.vc,backendName:"cpu",kernelFunc:kl},Sl=createSimpleUnaryImpl((e=>1/Math.sqrt(e))),Ol=unaryKernelFuncFromImpl(i.wc,Sl),Cl={kernelName:i.wc,backendName:"cpu",kernelFunc:Ol};function scatterImpl(e,n,r,a,o,s,l,c,u,d){const p=[a/o,o],f=e.values,h=n.values;if(0===a)return Object(i.rd)(r,n.dtype);const m=Object(i.rd)(p,n.dtype);m.values.fill(u);for(let i=0;i<s;i++){const e=[];let s=0;for(let n=0;n<l;n++){const r=f[i*l+n];e.push(r),s+=r*c[n]}if(s<0||s>=a/o)throw new Error(`Invalid indices: ${e} does not index into ${r}`);for(let r=0;r<o;r++)d?m.values[s*o+r]+=h[i*o+r]:m.values[s*o+r]=0===n.rank?h[0]:h[i*o+r]}return m}const Al={kernelName:i.xc,backendName:"cpu",kernelFunc:function scatterNd(e){const{inputs:n,backend:r,attrs:a}=e,{indices:o,updates:s}=n,{shape:l}=a,{sliceRank:c,numUpdates:u,sliceSize:d,strides:p,outputSize:f}=i.md.calculateShapes(s,o,l),h=scatterImpl(r.bufferSync(o),r.bufferSync(s),l,f,d,u,c,p,0,!0);return r.makeTensorInfo(l,h.dtype,h.values)}};const Il={kernelName:i.yc,backendName:"cpu",kernelFunc:function Select_select(e){const{inputs:n,backend:r}=e,{condition:a,t:o,e:s}=n;assertNotComplex([a,o,s],"select");const l=a.shape.length,c=r.data.get(a.dataId).values,u=r.data.get(o.dataId).values,d=r.data.get(s.dataId).values,p=Object(i.nf)(o.dtype,s.dtype),f=i.of.makeZerosTypedArray(i.of.sizeFromShape(o.shape),p);let h=0;const m=0===l||l>1||1===o.shape.length?1:i.of.sizeFromShape(o.shape.slice(1));for(let i=0;i<c.length;i++)for(let e=0;e<m;e++)1===c[i]?f[h++]=u[i]:f[h++]=d[i];return r.makeTensorInfo(o.shape,p,f)}},Nl=i.md.SELU_SCALEALPHA,Ml=i.md.SELU_SCALE,El=unaryKernelFunc(i.zc,(e=>e>=0?Ml*e:Nl*(Math.exp(e)-1))),Dl={kernelName:i.zc,backendName:"cpu",kernelFunc:El},jl=unaryKernelFunc(i.Ac,(e=>1/(1+Math.exp(-e)))),Rl={kernelName:i.Ac,backendName:"cpu",kernelFunc:jl},Ll=unaryKernelFunc(i.Bc,(e=>e<0?-1:e>0?1:0)),Pl={kernelName:i.Bc,backendName:"cpu",kernelFunc:Ll},Fl=unaryKernelFunc(i.Cc,(e=>Math.sin(e))),zl={kernelName:i.Cc,backendName:"cpu",kernelFunc:Fl},$l=unaryKernelFunc(i.Dc,(e=>Math.sinh(e))),Bl={kernelName:i.Dc,backendName:"cpu",kernelFunc:$l},Vl=Math.log(1.1920928955078125e-7)+2,Ul=unaryKernelFunc(i.Gc,(e=>{const n=e>-Vl,r=e<Vl,a=Math.exp(e);let o;return o=r?a:n?e:Math.log(1+a),o})),Wl={kernelName:i.Gc,backendName:"cpu",kernelFunc:Ul};const Hl={kernelName:i.Hc,backendName:"cpu",kernelFunc:function spaceToBatchND(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockShape:s,paddings:l}=a;assertNotComplex([o],"spaceToBatchND");const c=i.of.sizeFromShape(s),u=[[0,0]];u.push(...l);for(let i=1+s.length;i<o.shape.length;++i)u.push([0,0]);const d=cl.kernelFunc({inputs:{x:o},backend:r,attrs:{paddings:u,constantValue:0}}),p=i.md.getReshaped(d.shape,s,c,!1),f=i.md.getPermuted(p.length,s.length,!1),h=i.md.getReshapedPermuted(d.shape,s,c,!1),m=Reshape_reshape({inputs:{x:d},backend:r,attrs:{shape:p}}),g=Transpose_transpose({inputs:{x:m},backend:r,attrs:{perm:f}}),y=Reshape_reshape({inputs:{x:g},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),y}};const Gl={kernelName:i.Ic,backendName:"cpu",kernelFunc:function sparseToDense(e){const{inputs:n,backend:r,attrs:a}=e,{sparseIndices:o,sparseValues:s,defaultValue:l}=n,{outputShape:c}=a,{sliceRank:u,numUpdates:d,sliceSize:p,strides:f,outputSize:h}=i.md.calculateShapes(s,o,c),m=scatterImpl(r.bufferSync(o),r.bufferSync(s),c,h,p,d,u,f,r.data.get(l.dataId).values[0],!1);return r.makeTensorInfo(c,m.dtype,m.values)}};const ql={kernelName:i.Jc,backendName:"cpu",kernelFunc:function splitV(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{numOrSizeSplits:s,axis:l}=a,c=i.of.parseAxisParam(l,o.shape)[0],u=i.md.prepareSplitSize(o,s,c),d=new Array(o.shape.length).fill(0),p=o.shape.slice();return u.map((e=>{const n=[...p];n[c]=e;const a=Slice_slice({inputs:{x:o},backend:r,attrs:{begin:d,size:n}});return d[c]+=e,a}))}},Kl=unaryKernelFunc(i.Kc,(e=>Math.sqrt(e))),Xl={kernelName:i.Kc,backendName:"cpu",kernelFunc:Kl},Yl={kernelName:i.Lc,backendName:"cpu",kernelFunc:({inputs:e,backend:n})=>{const{x:r}=e,a=n;assertNotComplex(r,"square");const o=a.data.get(r.dataId).values,i=new Float32Array(o.length);for(let s=0;s<o.length;++s){const e=o[s];i[s]=e*e}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Zl=createSimpleBinaryKernelImpl(((e,n)=>{const r=e-n;return r*r})),Jl=binaryKernelFunc(i.Mc,Zl),Ql={kernelName:i.Mc,backendName:"cpu",kernelFunc:Jl},ec=unaryKernelFunc(i.Nc,((e,n)=>{const r=n;return isNaN(e)?NaN:e>0?1:r.alpha})),tc={kernelName:i.Nc,backendName:"cpu",kernelFunc:ec};function stridedSliceImpl(e,n,r,a){const o=Object(i.rd)(e,n.dtype);for(let i=0;i<o.size;i++){const e=o.indexToLoc(i),s=new Array(e.length);for(let n=0;n<s.length;n++)s[n]=e[n]*r[n]+a[n];o.set(n.get(...s),...e)}return o}const nc={kernelName:i.Oc,backendName:"cpu",kernelFunc:function stridedSlice(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{begin:s,end:l,strides:c,beginMask:u,endMask:d,ellipsisMask:p,newAxisMask:f,shrinkAxisMask:h}=a;assertNotComplex(o,"stridedSlice");const{nonStrided:m,$begin:g,$strides:y,size:b,newShape:x,outShape:_}=i.Re.sliceInfo(o.shape,s,l,c,u,d,p,f,h),w=Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:x}});let k;if(m){const e=Slice_slice({inputs:{x:w},backend:r,attrs:{begin:g,size:b}});k=Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:_}}),r.disposeIntermediateTensorInfo(e)}else if(_.some((e=>0===e)))k=r.makeTensorInfo(_,o.dtype,[]);else{const e=stridedSliceImpl(_,r.bufferSync(w),y,g);k=r.makeTensorInfo(e.shape,e.dtype,e.values)}const T=Reshape_reshape({inputs:{x:k},backend:r,attrs:{shape:_}});return r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(k),T}},rc=unaryKernelFunc(i.Rc,(e=>Math.tan(e))),ac={kernelName:i.Rc,backendName:"cpu",kernelFunc:rc},oc=unaryKernelFunc(i.Sc,(e=>Math.tanh(e))),ic={kernelName:i.Sc,backendName:"cpu",kernelFunc:oc};function tileImpl(e,n){const r=new Array(e.rank);for(let o=0;o<r.length;o++)r[o]=e.shape[o]*n[o];const a=Object(i.rd)(r,e.dtype);for(let o=0;o<a.values.length;++o){const n=a.indexToLoc(o),r=new Array(e.rank);for(let a=0;a<r.length;a++)r[a]=n[a]%e.shape[a];const i=e.locToIndex(r);a.values[o]=e.values[i]}return a}const sc={kernelName:i.Vc,backendName:"cpu",kernelFunc:function Tile_tile(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{reps:i}=a;assertNotComplex(o,"tile");const s=tileImpl(r.bufferSync(o),i);return r.makeTensorInfo(s.shape,s.dtype,s.values)}};function topKImpl(e,n,r,a,o){const s=n[n.length-1],[l,c]=[e.length/s,s],u=i.of.getTypedArrayFromDType(r,l*a),d=i.of.getTypedArrayFromDType("int32",l*a);for(let i=0;i<l;i++){const n=i*c,r=e.subarray(n,n+c),o=[];for(let e=0;e<r.length;e++)o.push({value:r[e],index:e});o.sort(((e,n)=>n.value-e.value));const s=i*a,l=u.subarray(s,s+a),p=d.subarray(s,s+a);for(let e=0;e<a;e++)l[e]=o[e].value,p[e]=o[e].index}const p=n.slice();return p[p.length-1]=a,[Object(i.rd)(p,r,u),Object(i.rd)(p,"int32",d)]}const lc={kernelName:i.Wc,backendName:"cpu",kernelFunc:function topK(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{k:i,sorted:s}=a;assertNotComplex(o,"topk");const l=r.data.get(o.dataId).values,[c,u]=topKImpl(l,o.shape,o.dtype,i);return[r.makeTensorInfo(c.shape,c.dtype,c.values),r.makeTensorInfo(u.shape,u.dtype,u.values)]}};const cc={kernelName:i.Xc,backendName:"cpu",kernelFunc:function Transform_transform(e){const{inputs:n,attrs:r,backend:a}=e,{image:o,transforms:s}=n,{interpolation:l,fillMode:c,fillValue:u,outputShape:d}=r,[p,f,h,m]=o.shape,[g,y]=null!=d?d:[f,h],b=[p,g,y,m],x=i.of.computeStrides(o.shape),_=x[0],w=x[1],k=x[2],T=i.of.getTypedArrayFromDType(o.dtype,i.of.sizeFromShape(b));T.fill(u);const S=a.data.get(o.dataId).values,O=a.data.get(s.dataId).values;for(let i=0;i<p;++i){const e=1===s.shape[0]?O:O.subarray(8*i,8*i+8);for(let n=0;n<g;++n)for(let r=0;r<y;++r)for(let a=0;a<m;++a){let o;const s=e[6]*r+e[7]*n+1;if(0===s)continue;const d=(e[0]*r+e[1]*n+e[2])/s,p=(e[3]*r+e[4]*n+e[5])/s,m=mapCoord(d,h,c),g=mapCoord(p,f,c);switch(l){case"nearest":o=nearestInterpolation(S,f,h,_,w,k,i,g,m,a,u);break;case"bilinear":o=bilinearInterpolation(S,f,h,_,w,k,i,g,m,a,u);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${l}`)}T[i*_+n*w+r*k+a]=o}return a.makeTensorInfo(b,o.dtype,T)}return{dataId:a.write(T,b,o.dtype),shape:o.shape,dtype:o.dtype}}};function mapCoord(e,n,r){switch(r){case"reflect":return function mapCoordReflect(e,n){let r=e;if(r<0)if(n<=1)r=0;else{const e=2*n;r<e&&(r=e*Math.trunc(-r/e)+r),r=r<-n?r+e:-r-1}else if(r>n-1)if(n<=1)r=0;else{const e=2*n;r-=e*Math.trunc(r/e),r>=n&&(r=e-r-1)}return i.of.clamp(0,r,n-1)}(e,n);case"wrap":return function mapCoordWrap(e,n){let r=e;if(r<0)if(n<=1)r=0;else{const e=n-1;r+=n*(Math.trunc(-r/e)+1)}else if(r>n-1)if(n<=1)r=0;else{const e=n-1;r-=n*Math.trunc(r/e)}return i.of.clamp(0,r,n-1)}(e,n);case"nearest":return function mapCoordNearest(e,n){return i.of.clamp(0,e,n-1)}(e,n);case"constant":default:return function mapCoordConstant(e,n){return e}(e)}}function readWithFillValue(e,n,r,a,o,i,s,l,c,u,d){return 0<=l&&l<n&&0<=c&&c<r?e[s*a+l*o+c*i+u]:d}function nearestInterpolation(e,n,r,a,o,i,s,l,c,u,d){return readWithFillValue(e,n,r,a,o,i,s,Math.round(l),Math.round(c),u,d)}function bilinearInterpolation(e,n,r,a,o,i,s,l,c,u,d){const p=Math.floor(l),f=Math.floor(c),h=p+1,m=f+1;return(h-l)*((m-c)*readWithFillValue(e,n,r,a,o,i,s,p,f,u,d)+(c-f)*readWithFillValue(e,n,r,a,o,i,s,p,m,u,d))+(l-p)*((m-c)*readWithFillValue(e,n,r,a,o,i,s,h,f,u,d)+(c-f)*readWithFillValue(e,n,r,a,o,i,s,h,m,u,d))}function uniqueImpl(e,n,r,a){const o=i.of.parseAxisParam(n,r)[0],s=[1,r[0],1];for(let i=0;i<o;i++)s[0]*=r[i];s[1]=r[o];for(let i=o+1;i<r.length;i++)s[2]*=r[i];const l={},c=new Int32Array(r[o]),u=new i.Uc(s,a,e),d=[],p=1===s[0]&&1===s[2];for(let i=0;i<r[o];i++){let n;if(p)n=e[i].toString();else{const e=[];for(let n=0;n<s[0];n++)for(let r=0;r<s[2];r++)e.push(u.get(n,i,r));n=e.join(",")}if(void 0!==l[n])c[i]=l[n];else{const e=Object.keys(l).length;l[n]=e,c[i]=e,d.push(i)}}const f=s.slice();f[1]=Object.keys(l).length;const h=new i.Uc(f,a);d.forEach(((e,n)=>{for(let r=0;r<s[0];r++)for(let a=0;a<s[2];a++)h.set(u.get(r,e,a),r,n,a)}));const m=r.slice();return m[o]=f[1],{outputValues:h.values,outputShape:m,indices:c}}const uc={kernelName:i.Zc,backendName:"cpu",kernelFunc:function Unique_unique(e){const{inputs:n,attrs:r,backend:a}=e,{axis:o}=r,{x:i}=n;assertNotComplex(i,"unique");const s=a.data.get(i.dataId).values,{outputValues:l,outputShape:c,indices:u}=uniqueImpl(s,o,i.shape,i.dtype);return[a.makeTensorInfo(c,i.dtype,l),a.makeTensorInfo([u.length],"int32",u)]}};const dc={kernelName:i.ad,backendName:"cpu",kernelFunc:function unpack(e){const{inputs:n,backend:r,attrs:a}=e,{value:o}=n;let{axis:i}=a;i<0&&(i+=o.shape.length);const s=o.shape.length,l=o.shape[i],c=new Array(s-1);let u=0;for(let h=0;h<s;h++)h!==i&&(c[u++]=o.shape[h]);const d=new Array(s).fill(0),p=o.shape.slice();p[i]=1;const f=new Array(l);for(let h=0;h<f.length;h++){d[i]=h;const e=Slice_slice({inputs:{x:o},backend:r,attrs:{begin:d,size:p}});f[h]=Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:c}}),r.disposeIntermediateTensorInfo(e)}return f}};const pc={kernelName:i.bd,backendName:"cpu",kernelFunc:function unsortedSegmentSum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,segmentIds:s}=n,{numSegments:l}=a;assertNotComplex(o,"unsortedSegmentSum");const c=[],u=[],d=o.shape.length-s.shape.length;let p=s;for(let i=0;i<d;++i){const e=ExpandDims_expandDims({inputs:{input:p},backend:r,attrs:{dim:i+1}});p=e,u.push(e)}for(let h=0;h<l;++h){const e=i.of.createScalarValue(h,"int32"),n=r.makeTensorInfo([],"int32",e),a=oi({inputs:{a:n,b:p},backend:r}),s=Cast_cast({inputs:{x:a},backend:r,attrs:{dtype:"float32"}}),l=Ti({inputs:{a:s,b:o},backend:r}),d=Sum_sum({inputs:{x:l},backend:r,attrs:{axis:0,keepDims:!1}});c.push(d),u.push(n),u.push(a),u.push(s),u.push(l),u.push(d)}const f=pack({inputs:c,backend:r,attrs:{axis:0}});return u.forEach((e=>r.disposeIntermediateTensorInfo(e))),f}},fc=[Xa,Ya,Ja,eo,Ga,to,ao,oo,io,so,co,po,ho,yo,vo,xo,_o,wo,ko,Ka,To,Oo,Co,Va,No,Eo,$a,Do,Ro,Po,Fo,Lo,$o,Bo,zo,Uo,Ho,Go,qo,Ko,Xo,Yo,Zo,Jo,Qo,ei,ni,ti,Ai,Ma,ri,ii,hi,yi,bi,_i,Di,ji,Ri,Fi,Bi,Vi,Ui,Wi,Hi,Ki,Zi,Ea,Ji,jo,es,ns,as,Da,ss,us,ds,hs,gs,vs,_s,Ts,Ss,Os,Ns,Ms,Es,Ds,js,Rs,Cs,Ps,Fs,Bs,Vs,Hs,Ks,Si,Xs,Zs,Qs,tl,al,ol,sl,ll,cl,pl,Ra,fl,hl,Ba,gl,Pa,za,qa,yl,bl,vl,xl,_l,wl,Tl,Cl,Al,Il,Dl,Rl,Pl,zl,Bl,So,qs,Wl,Hl,Gl,ql,Xl,Yl,Ql,tc,nc,Ei,Ls,ac,ic,sc,lc,ro,cc,uc,dc,pc,il];for(const _h of fc)Object(i.Ce)(_h);const hc={},mc={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function getWebGLContext(e){if(!(e in hc)){const n=function getWebGLRenderingContext(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=function createCanvas(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);if(n.addEventListener("webglcontextlost",(n=>{n.preventDefault(),delete hc[e]}),!1),1===e)return n.getContext("webgl",mc)||n.getContext("experimental-webgl",mc);return n.getContext("webgl2",mc)}(e);if(null===n)return console.log("Could not get context for WebGL version",e),null;hc[e]=n}const n=hc[e];return n.isContextLost()?(delete hc[e],getWebGLContext(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),hc[e])}var gc,yc,bc;function getUnpackedMatrixTextureShapeWidthHeight(e,n){return[n,e]}function getDenseTexShape(e){const n=i.of.sizeFromShape(e),r=Math.ceil(n/4);return i.of.sizeToSquarishShape(r)}function getPackedMatrixTextureShapeWidthHeight(e,n){return[Math.max(1,Math.ceil(n/2)),Math.max(1,Math.ceil(e/2))]}function getTextureConfig(e,n){const r=e;let a,o,s,l,c,u,d,p,f,h;return 2===Object(i.Ld)().getNumber("WEBGL_VERSION")?(a=r.R32F,o=r.R16F,s=r.RGBA16F,l=r.RGBA32F,c=r.RED,d=4,p=1,f=r.HALF_FLOAT,h=r.FLOAT):(a=e.RGBA,o=e.RGBA,s=e.RGBA,l=r.RGBA,c=e.RGBA,d=4,p=4,f=null!=n?n.HALF_FLOAT_OES:null,h=e.FLOAT),u=e.RGBA,{internalFormatFloat:a,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:l,textureFormatFloat:c,downloadTextureFormat:u,downloadUnpackNumChannels:d,defaultNumChannels:p,textureTypeHalfFloat:f,textureTypeFloat:h}}function callAndCheck(e,n){const r=n();return Object(i.Ld)().getBool("DEBUG")&&function checkWebGLError(e){const n=e.getError();if(n!==e.NO_ERROR)throw new Error("WebGL Error: "+function getWebGLErrorMessage(e,n){switch(n){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${n}`}}(e,n))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(gc||(gc={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(yc||(yc={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(bc||(bc={}));function canBeRepresented(e){return!!(Object(i.Ld)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function getExtensionOrThrow(e,n){return throwIfNull(e,(()=>e.getExtension(n)),'Extension "'+n+'" not supported on this browser.')}function createFragmentShader(e,n){const r=throwIfNull(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(callAndCheck(e,(()=>e.shaderSource(r,n))),callAndCheck(e,(()=>e.compileShader(r))),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function logShaderSourceAndInfoLog(e,n){const r=vc.exec(n);if(null==r)return console.log(`Couldn't parse line number in error: ${n}`),void console.log(e);const a=+r[1],o=e.split("\n"),s=o.length.toString().length+2,l=o.map(((e,n)=>i.of.rightPad((n+1).toString(),s)+e));let c=0;for(let i=0;i<l.length;i++)c=Math.max(l[i].length,c);const u=l.slice(0,a-1),d=l.slice(a-1,a),p=l.slice(a);console.log(u.join("\n")),console.log(n.split("\n")[0]),console.log(`%c ${i.of.rightPad(d[0],c)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}const vc=/ERROR: [0-9]+:([0-9]+):/g;function validateProgram(e,n){if(callAndCheck(e,(()=>e.validateProgram(n))),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function bindVertexBufferToProgramAttribute(e,n,r,a,o,i,s){const l=e.getAttribLocation(n,r);return-1!==l&&(callAndCheck(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),callAndCheck(e,(()=>e.vertexAttribPointer(l,o,e.FLOAT,!1,i,s))),callAndCheck(e,(()=>e.enableVertexAttribArray(l))),!0)}function bindTextureToProgramUniformSampler(e,n,r,a){callAndCheck(e,(()=>function bindTextureUnit(e,n,r){validateTextureUnit(e,r),callAndCheck(e,(()=>e.activeTexture(e.TEXTURE0+r))),callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,n)))}(e,n,a))),callAndCheck(e,(()=>e.uniform1i(r,a)))}function bindColorTextureToFramebuffer(e,n,r){callAndCheck(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,r))),callAndCheck(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)))}function unbindColorTextureFromFramebuffer(e,n){callAndCheck(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),callAndCheck(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function validateFramebuffer(e){const n=e.checkFramebufferStatus(e.FRAMEBUFFER);if(n!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function getFramebufferErrorMessage(e,n){switch(n){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${n}`}}(e,n))}function throwIfNull(e,n,r){const a=callAndCheck(e,(()=>n()));if(null==a)throw new Error(r);return a}function validateTextureUnit(e,n){const r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=n+e.TEXTURE0;if(a<e.TEXTURE0||a>r){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${r}]`}.`)}}function getBatchDim(e,n=2){return i.of.sizeFromShape(e.slice(0,e.length-n))}function getRowsCols(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function getShapeAs3D(e){let n=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(n=[getBatchDim(e),...getRowsCols(e)]),n}function isEven(e){return e%2==0}function isReshapeFree(e,n){if(e=e.slice(-2),n=n.slice(-2),i.of.arraysEqual(e,n))return!0;if(!e.length||!n.length)return!0;if(0===e[0]||0===e[1]||0===n[0]||0===n[1])return!0;if(e.length!==n.length){const r=e.slice(-1)[0],a=n.slice(-1)[0];if(r===a)return!0;if(isEven(r)&&isEven(a)&&(1===e[0]||1===n[0]))return!0}return e[1]===n[1]&&isEven(e[0])&&isEven(n[0])}let xc,_c;function hasExtension(e,n){return null!=e.getExtension(n)}function isWebGLVersionEnabled(e){try{if(null!=getWebGLContext(e))return!0}catch(n){return console.log("Error when getting WebGL context: ",n),!1}return!1}function isDownloadFloatTextureEnabled(e){if(0===e)return!1;const n=getWebGLContext(e);if(1!==e){if(hasExtension(n,"EXT_color_buffer_float"))return createFloatTextureAndBindToFramebuffer(n);const e="EXT_color_buffer_half_float";if(hasExtension(n,e)){const r=n.getExtension(e);return function createHalfFloatTextureAndBindToFramebuffer(e,n){const r=getTextureConfig(e,n),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const o=1,i=1;e.texImage2D(e.TEXTURE_2D,0,r.internalFormatHalfFloat,o,i,0,r.textureFormatFloat,r.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const l=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(s),l}(n,r)}return!1}if(!hasExtension(n,"OES_texture_float"))return!1;if(!hasExtension(n,"WEBGL_color_buffer_float"))return!1;return createFloatTextureAndBindToFramebuffer(n)}function createFloatTextureAndBindToFramebuffer(e){const n=getTextureConfig(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texImage2D(e.TEXTURE_2D,0,n.internalFormatFloat,1,1,0,n.textureFormatFloat,n.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),o}function webgl_util_assertNotComplex(e,n){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.of.assert("complex64"!==e.dtype,(()=>`${n} does not support complex64 tensors in the WebGL backend.`))}))}const wc=Object(i.Ld)();function getGlslDifferences(){let e,n,r,a,o,s,l,c,u,d;return 2===Object(i.Ld)().getNumber("WEBGL_VERSION")?(e="#version 300 es",n="in",r="out",a="in",o="texture",s="outputColor",l="out vec4 outputColor;",c="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",d="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",n="attribute",r="varying",a="varying",o="texture2D",s="gl_FragColor",l="",c="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",d="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:n,varyingVs:r,varyingFs:a,texture2D:o,output:s,defineOutput:l,defineSpecialNaN:c,defineSpecialInf:u,defineRound:d}}function getLogicalCoordinatesFromFlatIndex(e,n,r="index"){const a=i.of.computeStrides(n);return a.map(((n,o)=>`${`int ${e[o]} = ${r} / ${n}`}; ${o===a.length-1?`int ${e[o+1]} = ${r} - ${e[o]} * ${n}`:`index -= ${e[o]} * ${n}`};`)).join("")}function getFlatIndexFrom3D(e){const n=i.of.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${n[0]} + coords.y * ${n[1]} + coords.z;\n  }\n`}wc.registerFlag("HAS_WEBGL",(()=>wc.getNumber("WEBGL_VERSION")>0)),wc.registerFlag("WEBGL_VERSION",(()=>isWebGLVersionEnabled(2)?2:isWebGLVersionEnabled(1)?1:0)),wc.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),wc.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===wc.get("WEBGL_VERSION"))),wc.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),wc.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),wc.registerFlag("WEBGL_PACK",(()=>wc.getBool("HAS_WEBGL"))),wc.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_CLIP",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>!1)),wc.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_PACK_REDUCE",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_LAZILY_UNPACK",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_CONV_IM2COL",(()=>wc.getBool("WEBGL_PACK"))),wc.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function getWebGLMaxTextureSize(e){if(null==xc){const n=getWebGLContext(e);xc=n.getParameter(n.MAX_TEXTURE_SIZE)}return xc}(wc.getNumber("WEBGL_VERSION")))),wc.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function getMaxTexturesInShader(e){if(null==_c){const n=getWebGLContext(e);_c=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,_c)}(wc.getNumber("WEBGL_VERSION")))),wc.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=wc.getNumber("WEBGL_VERSION");return 0===e?0:function getWebGLDisjointQueryTimerVersion(e){if(0===e)return 0;let n;const r=getWebGLContext(e);return n=hasExtension(r,"EXT_disjoint_timer_query_webgl2")&&2===e?2:hasExtension(r,"EXT_disjoint_timer_query")?1:0,n}(e)})),wc.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>wc.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.Fd.isMobile())),wc.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function isCapableOfRenderingToFloatTexture(e){if(0===e)return!1;const n=getWebGLContext(e);if(1===e){if(!hasExtension(n,"OES_texture_float"))return!1}else if(!hasExtension(n,"EXT_color_buffer_float"))return!1;return createFloatTextureAndBindToFramebuffer(n)}(wc.getNumber("WEBGL_VERSION")))),wc.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!wc.getBool("WEBGL_FORCE_F16_TEXTURES")&&wc.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),wc.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>isDownloadFloatTextureEnabled(wc.getNumber("WEBGL_VERSION")))),wc.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>function isWebGLFenceEnabled(e){return 2===e&&null!=getWebGLContext(e).fenceSync}(wc.getNumber("WEBGL_VERSION")))),wc.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>wc.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),wc.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),wc.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>i.Fd.isMobile()&&wc.getBool("IS_CHROME")?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)}));const kc="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";class decode_matrix_gpu_DecodeMatrixProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=gc.DENSE;const n=getDenseTexShape(e),r=getGlslDifferences();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${getLogicalCoordinatesFromFlatIndex(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${n[0]}, ${n[1]}));\n        int index = 4 * (resTexRC.x * ${n[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${r.output} = result;\n      }\n    `}}class decode_matrix_packed_gpu_DecodeMatrixPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=gc.DENSE;const n=getDenseTexShape(e),r=getGlslDifferences();this.outputShape=e,this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${getLogicalCoordinatesFromFlatIndex(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2(${n[0]}, ${n[1]}));\n        int index = 4 * (resTexRC.x * ${n[1]} + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${r.output} = result;\n      }\n    `}}class encode_float_gpu_EncodeFloatProgram{constructor(e){this.variableNames=["A"],this.outTexUsage=yc.DOWNLOAD;const n=getGlslDifferences();this.outputShape=e,this.userCode=`\n      ${kc}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${n.output} = encode_float(x);\n      }\n    `}}class encode_float_packed_gpu_EncodeFloatPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=yc.DOWNLOAD;const n=getGlslDifferences();this.outputShape=e,this.userCode=`\n      ${kc}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${n.output} = encode_float(x);\n      }\n    `}}class encode_matrix_gpu_EncodeMatrixProgram{constructor(e,n,r=!1){this.variableNames=["A"];const a=getGlslDifferences(),[o,i]=n;this.outputShape=e;let s="result";r&&(s="floor(result * 255. + 0.5)"),this.userCode=`\n      ${getFlatIndexFrom3D(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / ${i};\n        int c = imod(flatIndex, ${i});\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(${i}.0, ${o}.0);\n        vec4 values = ${a.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${a.output} = vec4(${s}, 0., 0., 0.);\n      }\n    `}}class encode_matrix_packed_gpu_EncodeMatrixPackedProgram{constructor(e,n,r=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const a=getGlslDifferences(),[o,i]=n;this.outputShape=e;let s="",l="result";r&&(l="floor(result * 255. + 0.5)");for(let c=0;c<=1;c++)for(let n=0;n<=1;n++){const r=2*c+n;s+=`\n          localCoords = coords;\n          if(localCoords[2] + ${n} < ${e[2]}) {\n            localCoords[2] += ${n};\n            if(localCoords[1] + ${c} < ${e[1]}) {\n              localCoords[1] += ${c};\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / ${i};\n              c = imod(flatIndex, ${i});\n              uv = (vec2(c, r) + halfCR) / vec2(${i}.0, ${o}.0);\n              values = ${a.texture2D}(A, uv);\n\n              if(offset == 0) {\n                result[${r}] = values[0];\n              } else if(offset == 1) {\n                result[${r}] = values[1];\n              } else if(offset == 2) {\n                result[${r}] = values[2];\n              } else {\n                result[${r}] = values[3];\n              }\n            }\n          }\n        `}this.userCode=`\n      ${getFlatIndexFrom3D(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        ${s}\n\n        ${a.output} = ${l};\n      }\n    `}}function gpgpu_util_createVertexShader(e){const n=getGlslDifferences();return function createVertexShader(e,n){const r=throwIfNull(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(callAndCheck(e,(()=>e.shaderSource(r,n))),callAndCheck(e,(()=>e.compileShader(r))),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}(e,`${n.version}\n    precision highp float;\n    ${n.attribute} vec3 clipSpacePos;\n    ${n.attribute} vec2 uv;\n    ${n.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function createVertexBuffer(e){return function createStaticVertexBuffer(e,n){const r=throwIfNull(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return callAndCheck(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),callAndCheck(e,(()=>e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW))),r}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function createIndexBuffer(e){return function createStaticIndexBuffer(e,n){const r=throwIfNull(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return callAndCheck(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r))),callAndCheck(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW))),r}(e,new Uint16Array([0,1,2,2,1,3]))}function createAndConfigureTexture(e,n,r,a,o,s){!function validateTextureSize(e,n){const r=Object(i.Ld)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||n<=0)throw new Error(`Requested texture size [${e}x${n}] is invalid.`);if(e>r||n>r)throw new Error(`Requested texture size [${e}x${n}] greater than WebGL maximum on this browser / GPU [${r}x${r}].`)}(n,r);const l=function createTexture(e){return throwIfNull(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),c=e.TEXTURE_2D;return callAndCheck(e,(()=>e.bindTexture(c,l))),callAndCheck(e,(()=>e.texParameteri(c,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),callAndCheck(e,(()=>e.texParameteri(c,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),callAndCheck(e,(()=>e.texParameteri(c,e.TEXTURE_MIN_FILTER,e.NEAREST))),callAndCheck(e,(()=>e.texParameteri(c,e.TEXTURE_MAG_FILTER,e.NEAREST))),callAndCheck(e,(()=>e.texImage2D(c,0,a,n,r,0,o,s,null))),callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),l}function getInternalFormatForFloat32MatrixTexture(e){return e.internalFormatFloat}function getInternalFormatForFloat16MatrixTexture(e){return e.internalFormatHalfFloat}function getInternalFormatForUnsignedBytesMatrixTexture(e){return e.downloadTextureFormat}function getInternalFormatForPackedMatrixTexture(e){return e.internalFormatPackedFloat}function getInternalFormatForFloat16PackedMatrixTexture(e){return e.internalFormatPackedHalfFloat}function downloadPackedMatrixFromBuffer(e,n,r,a,o,i,s,l){const c=e,u=new Float32Array(function getPackedRGBAArraySizeFromMatrixShape(e,n){const[r,a]=getPackedMatrixTextureShapeWidthHeight(e,n);return r*a*4}(i,s));return c.bindBuffer(c.PIXEL_PACK_BUFFER,n),c.getBufferSubData(c.PIXEL_PACK_BUFFER,0,u),c.bindBuffer(c.PIXEL_PACK_BUFFER,null),u}class gpgpu_context_GPGPUContext{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const n=Object(i.Ld)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function setWebGLContext(e,n){hc[e]=n}(n,e)):this.gl=getWebGLContext(n);let r="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(1===Object(i.Ld)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",n="OES_texture_half_float";if(this.textureFloatExtension=getExtensionOrThrow(this.gl,e),hasExtension(this.gl,n))this.textureHalfFloatExtension=getExtensionOrThrow(this.gl,n);else if(Object(i.Ld)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),hasExtension(this.gl,a))this.colorBufferHalfFloatExtension=getExtensionOrThrow(this.gl,a);else if(Object(i.Ld)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",hasExtension(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!hasExtension(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=createVertexBuffer(this.gl),this.indexBuffer=createIndexBuffer(this.gl),this.framebuffer=function createFramebuffer(e){return throwIfNull(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=getTextureConfig(this.gl,this.textureHalfFloatExtension)}get debug(){return Object(i.Ld)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;callAndCheck(e,(()=>e.finish())),callAndCheck(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),callAndCheck(e,(()=>e.deleteFramebuffer(this.framebuffer))),callAndCheck(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),callAndCheck(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),callAndCheck(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,n){return this.throwIfDisposed(),function createFloat32MatrixTexture(e,n,r,a){const[o,i]=getUnpackedMatrixTextureShapeWidthHeight(n,r);return createAndConfigureTexture(e,o,i,getInternalFormatForFloat32MatrixTexture(a),a.textureFormatFloat,e.FLOAT)}(this.gl,e,n,this.textureConfig)}createFloat16MatrixTexture(e,n){return this.throwIfDisposed(),function createFloat16MatrixTexture(e,n,r,a){const[o,i]=getUnpackedMatrixTextureShapeWidthHeight(n,r);return createAndConfigureTexture(e,o,i,getInternalFormatForFloat16MatrixTexture(a),a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,e,n,this.textureConfig)}createUnsignedBytesMatrixTexture(e,n){return this.throwIfDisposed(),function createUnsignedBytesMatrixTexture(e,n,r,a){const[o,i]=getUnpackedMatrixTextureShapeWidthHeight(n,r);return createAndConfigureTexture(e,o,i,getInternalFormatForUnsignedBytesMatrixTexture(a),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,n,this.textureConfig)}uploadPixelDataToTexture(e,n){this.throwIfDisposed(),function uploadPixelDataToTexture(e,n,r){callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,n))),r.data instanceof Uint8Array?callAndCheck(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data))):callAndCheck(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r))),callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,n)}uploadDenseMatrixToTexture(e,n,r,a){this.throwIfDisposed(),function uploadDenseMatrixToTexture(e,n,r,a,o,i){let s,l,c;callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,n))),o instanceof Uint8Array?(s=new Uint8Array(r*a*4),l=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(r*a*4),l=e.FLOAT,c=i.internalFormatPackedFloat),s.set(o),callAndCheck(e,(()=>e.texImage2D(e.TEXTURE_2D,0,c,r,a,0,e.RGBA,l,s))),callAndCheck(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,n,r,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,n){return this.throwIfDisposed(),function createFloat16PackedMatrixTexture(e,n,r,a){const[o,i]=getPackedMatrixTextureShapeWidthHeight(n,r);return createAndConfigureTexture(e,o,i,getInternalFormatForFloat16PackedMatrixTexture(a),e.RGBA,a.textureTypeHalfFloat)}(this.gl,e,n,this.textureConfig)}createPackedMatrixTexture(e,n){return this.throwIfDisposed(),function createPackedMatrixTexture(e,n,r,a){const[o,i]=getPackedMatrixTextureShapeWidthHeight(n,r);return createAndConfigureTexture(e,o,i,getInternalFormatForPackedMatrixTexture(a),e.RGBA,e.FLOAT)}(this.gl,e,n,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(unbindColorTextureFromFramebuffer(this.gl,this.framebuffer),this.outputTexture=null),callAndCheck(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r){return this.downloadMatrixDriver(e,(()=>function downloadByteEncodedFloatMatrixFromOutputTexture(e,n,r,a){const[o,i]=getUnpackedMatrixTextureShapeWidthHeight(n,r),s=new Uint8Array(function getUnpackedArraySizeFromMatrixSize(e,n){return e*n}(n*r,4));return callAndCheck(e,(()=>e.readPixels(0,0,o,i,a.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}(this.gl,n,r,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,n,r,a,o,i){return downloadPackedMatrixFromBuffer(this.gl,e,0,0,0,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,n){return function downloadFloat32MatrixFromBuffer(e,n,r){const a=e,o=new Float32Array(r);return a.bindBuffer(a.PIXEL_PACK_BUFFER,n),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,o),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),o}(this.gl,e,n)}createBufferFromTexture(e,n,r){this.bindTextureToFrameBuffer(e);const a=function createBufferFromOutputTexture(e,n,r,a){const o=e.createBuffer();callAndCheck(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,o)));const i=16*n*r;return callAndCheck(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ))),callAndCheck(e,(()=>e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0))),callAndCheck(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),o}(this.gl,n,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let n,r;if(Object(i.Ld)().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{const e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},n=o}else Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(n=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(n,Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:n,isFencePassed:r}}downloadMatrixFromPackedTexture(e,n,r){return this.downloadMatrixDriver(e,(()=>function downloadMatrixFromPackedOutputTexture(e,n,r){const a=new Float32Array(n*r*4);return callAndCheck(e,(()=>e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,a))),a}(this.gl,n,r)))}createProgram(e){this.throwIfDisposed();const n=this.gl,r=createFragmentShader(n,e),a=gpgpu_util_createVertexShader(n),o=function createProgram(e){return throwIfNull(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(n);return callAndCheck(n,(()=>n.attachShader(o,a))),callAndCheck(n,(()=>n.attachShader(o,r))),function linkProgram(e,n){if(callAndCheck(e,(()=>e.linkProgram(n))),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}(n,o),this.debug&&validateProgram(n,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=function bindVertexProgramAttributeStreams(e,n,r){return callAndCheck(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),bindVertexBufferToProgramAttribute(e,n,"clipSpacePos",r,3,20,0)&&bindVertexBufferToProgramAttribute(e,n,"uv",r,2,20,12)}(n,this.program,this.vertexBuffer)),o}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&callAndCheck(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&validateProgram(this.gl,this.program),callAndCheck(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,n,r=!0){return this.throwIfDisposed(),r?function getProgramUniformLocationOrThrow(e,n,r){return throwIfNull(e,(()=>e.getUniformLocation(n,r)),'uniform "'+r+'" not present in program.')}(this.gl,e,n):function getProgramUniformLocation(e,n,r){return e.getUniformLocation(n,r)}(this.gl,e,n)}getAttributeLocation(e,n){return this.throwIfDisposed(),callAndCheck(this.gl,(()=>this.gl.getAttribLocation(e,n)))}getUniformLocationNoThrow(e,n){return this.throwIfDisposed(),this.gl.getUniformLocation(e,n)}setInputMatrixTexture(e,n,r){this.throwIfDisposed(),this.throwIfNoProgram(),bindTextureToProgramUniformSampler(this.gl,e,n,r)}setOutputMatrixTexture(e,n,r){this.setOutputMatrixTextureDriver(e,r,n)}setOutputPackedMatrixTexture(e,n,r){this.throwIfDisposed();const[a,o]=getPackedMatrixTextureShapeWidthHeight(n,r);this.setOutputMatrixTextureDriver(e,a,o)}setOutputMatrixWriteRegion(e,n,r,a){this.setOutputMatrixWriteRegionDriver(r,e,a,n)}setOutputPackedMatrixWriteRegion(e,n,r,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&validateProgram(this.gl,this.program),validateFramebuffer(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),callAndCheck(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),callAndCheck(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=getExtensionOrThrow(this.gl,2===Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(n.TIME_ELAPSED_EXT,r),r}const e=this.getQueryTimerExtensionWebGL1(),n=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,n),n}endQuery(){if(2===Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,n=this.getQueryTimerExtensionWebGL2();return void e.endQuery(n.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await i.of.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,n){if(0===n)return null;if(2===n){const n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}{const n=this.getQueryTimerExtensionWebGL1();return n.getQueryObjectEXT(e,n.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,n){if(0===n)return!0;if(2===n){const n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const n=this.getQueryTimerExtensionWebGL1(),r=n.getQueryObjectEXT(e,n.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise((n=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>n()))}))}pollItems(){const e=function linearSearchLastTrue(e){let n=0;for(;n<e.length;++n){if(!e[n]())break}return n-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let n=0;n<=e;++n){const{resolveFn:e}=this.itemsToPoll[n];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,n){this.itemsToPoll.push({isDoneFn:e,resolveFn:n}),this.itemsToPoll.length>1||i.of.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),bindColorTextureToFramebuffer(this.gl,e,this.framebuffer),this.debug&&validateFramebuffer(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(bindColorTextureToFramebuffer(this.gl,this.outputTexture,this.framebuffer),this.debug&&validateFramebuffer(this.gl)):unbindColorTextureFromFramebuffer(this.gl,this.framebuffer)}downloadMatrixDriver(e,n){this.bindTextureToFrameBuffer(e);const r=n();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,n,r){this.throwIfDisposed();const a=this.gl;bindColorTextureToFramebuffer(a,e,this.framebuffer),this.debug&&validateFramebuffer(a),this.outputTexture=e,callAndCheck(a,(()=>a.viewport(0,0,n,r))),callAndCheck(a,(()=>a.scissor(0,0,n,r)))}setOutputMatrixWriteRegionDriver(e,n,r,a){this.throwIfDisposed(),callAndCheck(this.gl,(()=>this.gl.scissor(e,n,r,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{getBroadcastDims:Tc}=i.md;function makeShader(e,n,r,a){const o=[];e.forEach((e=>{const n=i.of.sizeFromShape(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push(`uniform float ${e.name}${n>1?`[${n}]`:""};`):(o.push(`uniform sampler2D ${e.name};`),o.push(`uniform int offset${e.name};`))}));const s=o.join("\n"),l=e.map((e=>function getInputSamplingSnippet(e,n,r=!1){let a="";a+=r?getPackedSamplerFromInInfo(e):getSamplerFromInInfo(e);const o=e.shapeInfo.logicalShape,s=n.logicalShape;o.length<=s.length&&(a+=r?function getPackedSamplerAtOutputCoords(e,n){const r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",s=e.shapeInfo.logicalShape.length,l=n.logicalShape.length,c=Tc(e.shapeInfo.logicalShape,n.logicalShape),u=getCoordsDataType(l),d=l-s;let p;const f=["x","y","z","w","u","v"];p=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${f[e+d]} = 0;`)).join("\n");let h="";h=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,n)=>`coords.${f[n+d]}`)).join(", ");let m="return outputValue;";const g=1===i.of.sizeFromShape(e.shapeInfo.logicalShape),y=1===i.of.sizeFromShape(n.logicalShape);if(1!==s||g||y){if(g&&!y)m=1===l?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(c.length){const e=s-2,n=s-1;c.indexOf(e)>-1&&c.indexOf(n)>-1?m="return vec4(outputValue.x);":c.indexOf(e)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":c.indexOf(n)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${u} coords = getOutputCoords();\n      ${p}\n      vec4 outputValue = get${a}(${h});\n      ${m}\n    }\n  `}(e,n):function getSamplerAtOutputCoords(e,n){const r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",s=n.texShape,l=e.shapeInfo.texShape,c=e.shapeInfo.logicalShape.length,u=n.logicalShape.length;if(!e.shapeInfo.isUniform&&c===u&&null==e.shapeInfo.flatOffset&&i.of.arraysEqual(l,s))return`\n      float ${o}() {\n        return sampleTexture(${r}, resultUV);\n      }\n    `;const d=getCoordsDataType(u),p=Tc(e.shapeInfo.logicalShape,n.logicalShape),f=u-c;let h;const m=["x","y","z","w","u","v"];h=0===c?"":u<2&&p.length>=1?"coords = 0;":p.map((e=>`coords.${m[e+f]} = 0;`)).join("\n");let g="";g=u<2&&c>0?"coords":e.shapeInfo.logicalShape.map(((e,n)=>`coords.${m[n+f]}`)).join(", ");return`\n    float ${o}() {\n      ${d} coords = getOutputCoords();\n      ${h}\n      return get${a}(${g});\n    }\n  `}(e,n));return a}(e,n,a))).join("\n"),c=n.texShape,u=getGlslDifferences(),d=function getFloatTextureSampleSnippet(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(u);let p,f,h=function getShaderPrefix(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${Sc}\n    ${Oc}\n    ${Cc}\n  `}(u);n.isPacked?(p=function getPackedOutputSamplingSnippet(e,n){switch(e.length){case 0:return getOutputScalarCoords();case 1:return function getOutputPacked1DCoords(e,n){const r=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)];if(1===r[0])return`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,n);case 2:return function getOutputPacked2DCoords(e,n){const r=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)];if(i.of.arraysEqual(e,n))return`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const a=Math.ceil(e[1]/2);return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,n);case 3:return function getOutputPacked3DCoords(e,n){const r=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)],a=Math.ceil(e[2]/2),o=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,n);default:return function getOutputPackedNDCoords(e,n){const r=[Math.ceil(n[0]/2),Math.ceil(n[1]/2)],a=Math.ceil(e[e.length-1]/2),o=a*Math.ceil(e[e.length-2]/2);let i=o,s="",l="b, r, c";for(let c=2;c<e.length-1;c++)i*=e[e.length-c-1],s=`\n      int b${c} = index / ${i};\n      index -= b${c} * ${i};\n    `+s,l=`b${c}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,n)}}(n.logicalShape,c),f=function getFloatTextureSetRGBASnippet(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(u)):(p=function getOutputSamplingSnippet(e,n){switch(e.length){case 0:return getOutputScalarCoords();case 1:return function getOutput1DCoords(e,n){if(1===n[0])return`\n      int getOutputCoords() {\n        return int(resultUV.x * ${n[1]}.0);\n      }\n    `;if(1===n[1])return`\n      int getOutputCoords() {\n        return int(resultUV.y * ${n[0]}.0);\n      }\n    `;return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      return resTexRC.x * ${n[1]} + resTexRC.y;\n    }\n  `}(0,n);case 2:return function getOutput2DCoords(e,n){if(i.of.arraysEqual(e,n))return`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${n[0]}, ${n[1]}));\n      }\n    `;if(1===e[1])return`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${n[0]}, ${n[1]}));\n        int index = resTexRC.x * ${n[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${n[0]}, ${n[1]}));\n        int index = resTexRC.x * ${n[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,n);case 3:return function getOutput3DCoords(e,n){const r=getLogicalCoordinatesFromFlatIndex(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,n);case 4:return function getOutput4DCoords(e,n){const r=getLogicalCoordinatesFromFlatIndex(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,n);case 5:return function getOutput5DCoords(e,n){const r=getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${n[0]},\n                             ${n[1]}));\n\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      ${r}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,n);case 6:return function getOutput6DCoords(e,n){const r=getLogicalCoordinatesFromFlatIndex(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${n[0]}, ${n[1]}));\n      int index = resTexRC.x * ${n[1]} + resTexRC.y;\n\n      ${r}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,n);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(n.logicalShape,c),f=function getFloatTextureSetRSnippet(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(u)),a&&(h+=Ac);return[h,d,f,s,p,l,r].join("\n")}function getSamplerFromInInfo(e){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function getSamplerScalar(e){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[a,o]=e.shapeInfo.texShape;if(1===a&&1===o)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const[i,s]=e.shapeInfo.texShape,l=getFlatOffsetUniformName(n);return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${i}, ${s}, ${l});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 1:return function getSampler1D(e){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${getUniformSampler(e)}\n      }\n    `;const a=e.shapeInfo.texShape,o=a[0],i=a[1];if(1===i&&1===o)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=getFlatOffsetUniformName(n);if(1===i)return`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${o}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===o)return`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${i}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${o}, ${i}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 2:return function getSampler2D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&i.of.arraysEqual(n,o)){const e=o[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${o[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:s,keptDims:l}=i.of.squeezeShape(n),c=s;if(c.length<n.length){const n=["row","col"];return`\n      ${getSamplerFromInInfo(squeezeInputInfo(e,c))}\n      float ${a}(int row, int col) {\n        return ${a}(${getSqueezedParams(n,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${getUniformSampler(e)}\n      }\n    `;const u=o[0],d=o[1],p=getFlatOffsetUniformName(r);if(1===d)return`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${p};\n    vec2 uv = uvFromFlat(${u}, ${d}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e);case 3:return function getSampler3D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],s=n[2],{newShape:l,keptDims:c}=i.of.squeezeShape(n),u=l;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${getSamplerFromInInfo(squeezeInputInfo(e,u))}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${getSqueezedParams(n,c)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${o}, ${s}, 1)));\n        ${getUniformSampler(e)}\n      }\n    `;const d=e.shapeInfo.texShape,p=d[0],f=d[1],h=e.shapeInfo.flatOffset;if(f===o&&null==h)return`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${f}.0, ${p}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(f===s&&null==h)return`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${p}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const m=getFlatOffsetUniformName(r);return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${o} + col * ${s} + depth + ${m};\n        vec2 uv = uvFromFlat(${p}, ${f}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e);case 4:return function getSampler4D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],s=n[2]*o,l=n[1]*s,{newShape:c,keptDims:u}=i.of.squeezeShape(n);if(c.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${getSamplerFromInInfo(squeezeInputInfo(e,c))}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${getSqueezedParams(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${l}, ${s}, ${o}, 1)));\n        ${getUniformSampler(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1];if(h===l&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===o&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const m=getFlatOffsetUniformName(r);return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${s} +\n          depth * ${o} + depth2;\n      vec2 uv = uvFromFlat(${f}, ${h}, index + ${m});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e);case 5:return function getSampler5D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[4],s=n[3]*o,l=n[2]*s,c=n[1]*l,{newShape:u,keptDims:d}=i.of.squeezeShape(n);if(u.length<n.length){const n=["row","col","depth","depth2","depth3"];return`\n      ${getSamplerFromInInfo(squeezeInputInfo(e,u))}\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        return ${a}(${getSqueezedParams(n,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${l}, ${s}, ${o})) +\n          depth3;\n        ${getUniformSampler(e)}\n      }\n    `;const p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];if(m===c&&null==p)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${l}, ${s}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${h}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(m===o&&null==p)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${n[1]*n[2]*n[3]},\n               ${n[2]*n[3]}, ${n[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${h}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const g=getFlatOffsetUniformName(r);return`\n    float ${a}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${l} + depth * ${s} +\n          depth2 * ${o} + depth3 + ${g};\n      vec2 uv = uvFromFlat(${h}, ${m}, index);\n      return sampleTexture(${r}, uv);\n    }\n  `}(e);case 6:return function getSampler6D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),{newShape:o,keptDims:s}=i.of.squeezeShape(n);if(o.length<n.length){const n=["row","col","depth","depth2","depth3","depth4"];return`\n      ${getSamplerFromInInfo(squeezeInputInfo(e,o))}\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${a}(${getSqueezedParams(n,s)});\n      }\n    `}const l=n[5],c=n[4]*l,u=n[3]*c,d=n[2]*u,p=n[1]*d;if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${p}, ${d}, ${u}, ${c})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${l}, 1)));\n        ${getUniformSampler(e)}\n      }\n    `;const f=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],g=h[1];if(g===p&&null==f)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${d}, ${u}, ${c}, ${l})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${g}.0, ${m}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(g===l&&null==f)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${n[1]*n[2]*n[3]*n[4]},\n               ${n[2]*n[3]*n[4]},\n               ${n[3]*n[4]},\n               ${n[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${g}.0, ${m}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=getFlatOffsetUniformName(r);return`\n    float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${p} + col * ${d} + depth * ${u} +\n          depth2 * ${c} + depth3 * ${l} + depth4 + ${y};\n      vec2 uv = uvFromFlat(${m}, ${g}, index);\n      return sampleTexture(${r}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function getPackedSamplerFromInInfo(e){switch(e.shapeInfo.logicalShape.length){case 0:return function getPackedSamplerScalar(e){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=getGlslDifferences();return`\n    vec4 ${r}() {\n      return ${a.texture2D}(${n}, halfCR);\n    }\n  `}(e);case 1:return function getPackedSampler1D(e){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],i=getGlslDifferences();return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${o[0]}, ${o[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e);case 2:return function getPackedSampler2D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,s=o[0],l=o[1],c=getGlslDifferences();if(null!=o&&i.of.arraysEqual(n,o))return`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${s}.0);\n\n        return ${c.texture2D}(${r}, uv);\n      }\n    `;const u=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],d=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);\n      return ${c.texture2D}(${r}, uv);\n    }\n  `}(e);case 3:return function getPackedSampler3D(e){const n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){const r=[1,2],o=["b","row","col"];return`\n        ${getPackedSamplerFromInInfo(squeezeInputInfo(e,n.slice(1)))}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${getSqueezedParams(o,r)});\n        }\n      `}const s=i[0],l=i[1],c=Math.ceil(n[2]/2),u=c*Math.ceil(n[1]/2),d=getGlslDifferences();return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${s}, ${l}, ${u}, ${c}, b, row, col);\n      return ${d.texture2D}(${r}, uv);\n    }\n  `}(e);default:return function getPackedSamplerND(e){const n=e.shapeInfo.logicalShape,r=n.length,a=e.name,o="get"+a.charAt(0).toUpperCase()+a.slice(1),i=e.shapeInfo.texShape,s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],l=s[0],c=s[1],u=Math.ceil(n[r-1]/2);let d=u*Math.ceil(n[r-2]/2),p="int b, int row, int col",f=`b * ${d} + (row / 2) * ${u} + (col / 2)`;for(let m=2;m<r-1;m++)p=`int b${m}, `+p,d*=n[r-m-1],f=`b${m} * ${d} + `+f;const h=getGlslDifferences();return`\n    vec4 ${o}(${p}) {\n      int index = ${f};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${l});\n      return ${h.texture2D}(${a}, uv);\n    }\n  `}(e)}}const Sc="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Oc="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Cc="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Ac="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function getOutputScalarCoords(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function getFlatOffsetUniformName(e){return`offset${e}`}function getUniformSampler(e){const n=e.name,r=i.of.sizeFromShape(e.shapeInfo.logicalShape);return r<2?`return ${n};`:`\n    for (int i = 0; i < ${r}; i++) {\n      if (i == index) {\n        return ${n}[i];\n      }\n    }\n  `}function getCoordsDataType(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function squeezeInputInfo(e,n){const r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=n,r}function getSqueezedParams(e,n){return n.map((n=>e[n])).join(", ")}function validateBinaryAndProgram(e,n){if(e.length!==n.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${n.length} inputs`);e.forEach(((e,r)=>{const a=e.logicalShape,o=n[r],s=o.shape;if(!i.of.arraysEqual(a,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${s} must match`);if(e.isUniform&&o.isUniform)return;const l=e.texShape,c=o.isUniform?null:o.texData.texShape;if(!i.of.arraysEqual(l,c))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${l} and ${c} must match`)}))}const{addImpl:Ic,bincountImpl:Nc,bincountReduceImpl:Mc,ceilImpl:Ec,concatImpl:Dc,expImpl:jc,expm1Impl:Rc,floorImpl:Lc,gatherV2Impl:Pc,greaterImpl:Fc,lessImpl:zc,linSpaceImpl:$c,logImpl:Bc,maxImpl:Vc,maximumImpl:Uc,minimumImpl:Wc,multiplyImpl:Hc,negImpl:Gc,prodImpl:qc,rangeImpl:Kc,rsqrtImpl:Xc,simpleAbsImpl:Yc,sliceImpl:Zc,stridedSliceImpl:Jc,subImpl:Qc,tileImpl:eu,topKImpl:tu,transposeImpl:nu,uniqueImpl:ru}=o;function getVecChannels(e,n){return["x","y","z","w","u","v"].slice(0,n).map((n=>`${e}.${n}`))}function getChannels(e,n){return 1===n?[e]:getVecChannels(e,n)}class pack_gpu_PackProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;const n=e.length;if(0===n)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const r=getChannels("rc",n),a=getCoordsDataType(n),o=function getOutOfBoundsCondition(e,n,r){if(1===e)return`rc > ${n[0]}`;let a="";for(let o=e-2;o<e;o++)a+=`${r[o]} >= ${n[o]}`,o<e-1&&(a+="||");return a}(n,e,r),i=function getSetup(e,n,r,a){if(1===e)return"";const o=a.slice(-2);return`\n    int r = ${o[0]};\n    int c = ${o[1]};\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= ${n};\n    bool rEdge = rp1 >= ${r};\n  `}(n,e[e.length-1],e[e.length-2],r),s=function getOutput(e,n){const r=e.length,a=function getSourceCoordsArr(e,n){const r=[];for(let a=0;a<=1;a++)for(let o=0;o<=1;o++){let i=`${0===a?"r":"rp1"}, ${0===o?"c":"cp1"}`;for(let r=2;r<e;r++)i=`${n[n.length-1-r]},`+i;r.push(i)}return r}(r,n);if(1===r)return`getA(rc),\n            rc + 1 >= ${e[0]} ? 0. : getA(rc + 1),\n            0, 0`;return`getA(${a[0]}),\n          cEdge ? 0. : getA(${a[1]}),\n          rEdge ? 0. : getA(${a[2]}),\n          rEdge || cEdge ? 0. : getA(${a[3]})`}(e,r);this.userCode=`\n        void main() {\n          ${a} rc = getOutputCoords();\n\n          if(${o}) {\n            setOutput(vec4(0));\n          } else {\n            ${i}\n\n            setOutput(vec4(${s}));\n          }\n        }\n      `}}}class reshape_packed_gpu_ReshapePackedProgram{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;let r="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2==1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),r+=`\n        ${e}\n        ${a>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${a}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${a>0?"}":""}\n      `}this.userCode=`\n      ${function getReshapedInputCoords(e){return`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${getLogicalCoordinatesFromFlatIndex(["r","c","d"],e)}\n      return ivec3(r, c, d);\n    }\n  `}(n)}\n      ${getFlatIndexFrom3D(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${e[1]};\n        int cols = ${e[2]};\n\n        ${r}\n\n        setOutput(result);\n      }\n    `}}class texture_manager_TextureManager{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,n,r){const a=getPhysicalFromLogicalTextureType(n,r),o=getKeyFromTextureShape(e,a,r);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=computeBytes(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[o].shift();return this.usedTextures[o].push(e),e}let s;return a===bc.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===bc.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===bc.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===bc.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===bc.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(s),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),s}releaseTexture(e,n,r,a){if(null==this.freeTextures)return;const o=getPhysicalFromLogicalTextureType(r,a),s=getKeyFromTextureShape(n,o,a);s in this.freeTextures||(this.freeTextures[s]=[]);const l=computeBytes(n,o,this.gpgpu.gl,this.gpgpu.textureConfig,a),c=Object(i.Ld)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==c&&this._numBytesAllocated>c?(this.gpgpu.deleteMatrixTexture(e),this._numBytesAllocated-=l):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=l),this.numUsedTextures--;const u=this.usedTextures[s],d=u.indexOf(e);if(d<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(d,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const n=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*n)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function computeBytes(e,n,r,a,o){const i=function internalFormatForPhysicalTexType(e,n){switch(e){case bc.PACKED_2X2_FLOAT32:return getInternalFormatForPackedMatrixTexture(n);case bc.PACKED_2X2_FLOAT16:return getInternalFormatForFloat16PackedMatrixTexture(n);case bc.UNPACKED_FLOAT32:return getInternalFormatForFloat32MatrixTexture(n);case bc.UNPACKED_FLOAT16:return getInternalFormatForFloat16MatrixTexture(n);case bc.PACKED_4X1_UNSIGNED_BYTE:return getInternalFormatForUnsignedBytesMatrixTexture(n);default:throw new Error(`Unknown physical texture type ${e}`)}}(n,a);let s;if(o){const[n,r]=getPackedMatrixTextureShapeWidthHeight(e[0],e[1]);s=n*r}else{const[n,r]=getUnpackedMatrixTextureShapeWidthHeight(e[0],e[1]);s=n*r}return s*function numBytesForInternalFormat(e,n){const r=e;if(n===r.R32F)return 4;if(n===r.R16F)return 2;if(n===r.RGBA32F)return 16;if(n===e.RGBA)return 16;if(n===r.RGBA16F)return 8;throw new Error(`Unknown internal format ${n}`)}(r,i)}function getPhysicalFromLogicalTextureType(e,n){if(e===yc.UPLOAD)return bc.PACKED_2X2_FLOAT32;if(e===yc.RENDER||null==e)return function getPhysicalTextureForRendering(e){return Object(i.Ld)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?bc.PACKED_2X2_FLOAT32:bc.UNPACKED_FLOAT32:e?bc.PACKED_2X2_FLOAT16:bc.UNPACKED_FLOAT16}(n);if(e===yc.DOWNLOAD||e===yc.PIXELS)return bc.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function getKeyFromTextureShape(e,n,r){return`${e[0]}_${e[1]}_${n}_${r}`}class UnaryOpProgram{constructor(e,n){this.variableNames=["A"],this.outputShape=e,this.userCode=`\n      float unaryOperation(float x) {\n        ${n}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const au="return abs(x);";const ou="return x;";class UnaryOpPackedProgram{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${n}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class unpack_gpu_UnpackProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;const n=e.length,r=getChannels("rc",n),a=getCoordsDataType(n),o=function getSourceCoords(e,n){if(1===e)return"rc";let r="";for(let a=0;a<e;a++)r+=n[a],a<e-1&&(r+=",");return r}(n,r),i=r.slice(-2),s=n<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${a} rc = getOutputCoords();\n        vec4 packedInput = getA(${o});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const iu=i.Zd.whereImpl,su={};class backend_webgl_MathBackendWebGL extends i.vb{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.warnedAboutCPUBackend=!1,this.pendingDeletes=0,this.disposed=!1,!Object(i.Ld)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==e){const e=getWebGLContext(Object(i.Ld)().getNumber("WEBGL_VERSION"));this.binaryCache=function getBinaryCache(e){return e in su||(su[e]={}),su[e]}(Object(i.Ld)().getNumber("WEBGL_VERSION")),this.gpgpu=new gpgpu_context_GPGPUContext(e),this.canvas=e.canvas,this.gpgpuCreatedLocally=!0}else this.gpgpu=e,this.binaryCache={},this.gpgpuCreatedLocally=!1,this.canvas=e.gl.canvas;this.textureManager=new texture_manager_TextureManager(this.gpgpu),this.numMBBeforeWarning=function numMBBeforeWarning(){return null==Object(i.Ld)().global.screen?1024:Object(i.Ld)().global.screen.height*Object(i.Ld)().global.screen.width*window.devicePixelRatio*600/1024/1024}(),this.texData=new i.L(this,Object(i.Kd)())}nextDataId(){return backend_webgl_MathBackendWebGL.nextDataId++}numDataIds(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes}write(e,n,r){if((Object(i.Ld)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||Object(i.Ld)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===r&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:n,dtype:r,values:e,usage:yc.UPLOAD,refCount:1}),a}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,n,r,a,o){if(Object(i.Ld)().getBool("DEBUG")&&this.checkNumericalProblems(n),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:r,dtype:a,values:n,usage:yc.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const n=this.texData.get(e),{values:r,dtype:a,complexTensorInfos:o,slice:s,shape:l,isPacked:c}=n;if(null!=s){let n;n=c?new UnaryOpPackedProgram(l,ou):new UnaryOpProgram(l,ou);const r=this.runWebGLProgram(n,[{dataId:e,shape:l,dtype:a}],a),o=this.readSync(r.dataId);return this.disposeIntermediateTensorInfo(r),o}if(null!=r)return this.convertAndCacheOnCPU(e);if("string"===a)return r;const u=null!=this.activeTimers;let d,p;if(u&&(d=i.of.now()),"complex64"===a){const e=this.readSync(o.real.dataId),n=this.readSync(o.imag.dataId);p=i.md.mergeRealAndImagArrays(e,n)}else p=this.getValuesFromTexture(e);return u&&(this.downloadWaitMs+=i.of.now()-d),this.convertAndCacheOnCPU(e,p)}async read(e){if(this.pendingRead.has(e)){const n=this.pendingRead.get(e);return new Promise((e=>n.push(e)))}const n=this.texData.get(e),{values:r,shape:a,slice:o,dtype:s,complexTensorInfos:l,isPacked:c}=n;if(null!=o){let n;n=c?new UnaryOpPackedProgram(a,ou):new UnaryOpProgram(a,ou);const r=this.runWebGLProgram(n,[{dataId:e,shape:a,dtype:s}],s),o=this.read(r.dataId);return this.disposeIntermediateTensorInfo(r),o}if(null!=r)return this.convertAndCacheOnCPU(e);if(!Object(i.Ld)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Object(i.Ld)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let u,d,p=null;if("complex64"!==s&&Object(i.Ld)().get("WEBGL_BUFFER_SUPPORTED")){u=this.decode(e);const n=this.texData.get(u.dataId);p=this.gpgpu.createBufferFromTexture(n.texture,...getDenseTexShape(a))}if(this.pendingRead.set(e,[]),"complex64"!==s&&await this.gpgpu.createAndWaitForFence(),"complex64"===s){const e=await Promise.all([this.read(l.real.dataId),this.read(l.imag.dataId)]),n=e[0],r=e[1];d=i.md.mergeRealAndImagArrays(n,r)}else if(null==p)d=this.getValuesFromTexture(e);else{const e=i.of.sizeFromShape(a);d=this.gpgpu.downloadFloat32MatrixFromBuffer(p,e)}null!=u&&this.disposeIntermediateTensorInfo(u);const f=this.convertAndCacheOnCPU(e,d),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(f))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&Object(i.Kd)().removeDataId(e,this),this.pendingDeletes--),f}bufferSync(e){const n=this.readSync(e.dataId);let r=n;if("string"===e.dtype)try{r=n.map((e=>i.of.decodeString(e)))}catch(a){throw new Error("Failed to decode encoded string bytes into utf-8")}return Object(i.rd)(e.shape,e.dtype,r)}checkNumericalProblems(e){if(null!=e)for(let n=0;n<e.length;n++){const r=e[n];if(!canBeRepresented(r)){if(Object(i.Ld)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${r} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${r} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:n,dtype:r,isPacked:a}=this.texData.get(e),o=i.of.sizeFromShape(n);if(Object(i.Ld)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const r=this.decode(e),a=this.texData.get(r.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(a.texture,...getDenseTexShape(n)).subarray(0,o);return this.disposeIntermediateTensorInfo(r),i}const s=Object(i.Ld)().getBool("WEBGL_PACK")&&!0===a,l=s?getShapeAs3D(n):n,c=s?new encode_float_packed_gpu_EncodeFloatPackedProgram(l):new encode_float_gpu_EncodeFloatProgram(l),u=this.runWebGLProgram(c,[{shape:l,dtype:r,dataId:e}],"float32"),d=this.texData.get(u.dataId),p=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(d.texture,d.texShape[0],d.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(u),p}timerAvailable(){return Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}async time(e){const n=this.activeTimers,r=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();const o=i.of.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),s=i.of.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=n,a&&(this.programTimersStack=null);const l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};if(Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);l.kernelMs=i.of.sum(e),l.getExtraProfileInfo=()=>e.map(((e,n)=>({name:s[n],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else l.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,l}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:i.of.now(),endMs:null}}endTimer(e){return Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=i.of.now(),e)}async getQueryTime(e){if(Object(i.Ld)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const n=e;return n.endMs-n.startMs}disposeData(e,n=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(n?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!n&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:r}=this.texData.get(e);return null!=r&&(this.disposeData(r.real.dataId,n),this.disposeData(r.imag.dataId,n)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:n,dtype:r,texShape:a,usage:o,isPacked:i,slice:s}=this.texData.get(e),l=s&&s.origDataId||e,c=this.dataRefCount.get(l);c>1?this.dataRefCount.set(l,c-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture}getDataInfo(e){return this.texData.get(e)}getCPUBackend(){return Object(i.Ld)().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=Object(i.Kd)().findBackend("cpu")),this.cpuBackend):null}shouldExecuteOnCPU(e,n=128){const r=this.getCPUBackend();return Object(i.Ld)().getBool("IS_TEST")||this.warnedAboutCPUBackend||null!=r||(console.warn("Your application contains ops that are small enough to be executed on the CPU backend, however the CPU backend cannot be found. Consider importing the CPU backend (@tensorflow/tfjs-backend-cpu) for better performance."),this.warnedAboutCPUBackend=!0),null!=r&&e.every((e=>null==this.texData.get(e.dataId).texture&&i.of.sizeFromShape(e.shape)<n))}getGPGPUContext(){return this.gpgpu}where(e){i.md.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const n=e.dataSync();return iu(e.shape,n)}packedUnaryOp(e,n,r){const a=new UnaryOpPackedProgram(e.shape,n),o=this.compileAndRun(a,[e],r);return Object(i.Kd)().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const n=Yc(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,n)}if(Object(i.Ld)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,au,e.dtype);const n=new UnaryOpProgram(e.shape,au),r=this.compileAndRun(n,[e]);return Object(i.Kd)().makeTensorFromDataId(r.dataId,r.shape,r.dtype)}makeTensorInfo(e,n,r){let a;if("string"===n&&null!=r&&r.length>0&&i.of.isString(r[0])){const o=r.map((e=>i.of.encodeString(e)));a=this.write(o,e,n)}else a=this.write(r,e,n);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:n}}makeOutput(e,n,r){const{dataId:a}=this.makeTensorInfo(e,n,r);return Object(i.Kd)().makeTensorFromDataId(a,e,n,this)}unpackTensor(e){const n=new unpack_gpu_UnpackProgram(e.shape);return this.runWebGLProgram(n,[e],e.dtype)}packTensor(e){const n=new pack_gpu_PackProgram(e.shape);return this.runWebGLProgram(n,[e],e.dtype,null,!0)}packedReshape(e,n){const r=[getBatchDim(e.shape),...getRowsCols(e.shape)],a={dtype:e.dtype,shape:r,dataId:e.dataId},o=[getBatchDim(n),...getRowsCols(n)],i=new reshape_packed_gpu_ReshapePackedProgram(o,r),s=this.runWebGLProgram(i,[a],e.dtype,null,!0);return{dataId:s.dataId,shape:n,dtype:s.dtype}}decode(e){const n=this.texData.get(e),{isPacked:r,shape:a,dtype:o}=n,i=getShapeAs3D(a);let s;s=r?new decode_matrix_packed_gpu_DecodeMatrixPackedProgram(i):new decode_matrix_gpu_DecodeMatrixProgram(i);return{dtype:o,shape:a,dataId:this.runWebGLProgram(s,[{shape:i,dtype:o,dataId:e}],o,null,!0).dataId}}runWebGLProgram(e,n,r,a,o=!1){const s=this.makeTensorInfo(e.outputShape,r),l=this.texData.get(s.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===gc.DENSE){const n=getDenseTexShape(e.outputShape);l.texShape=n.map((e=>2*e))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===i.of.sizeFromShape(s.shape))return l.values=i.of.getTypedArrayFromDType(s.dtype,0),s;const c=[],u=n.map((n=>{if("complex64"===n.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let r=this.texData.get(n.dataId);if(null==r.texture){if(!e.packedInputs&&i.of.sizeFromShape(n.shape)<=Object(i.Ld)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:n.shape,texData:null,isUniform:!0,uniformValues:r.values};e.packedInputs&&(r.isPacked=!0,r.shape=n.shape)}else if(!!r.isPacked!=!!e.packedInputs)n=r.isPacked?this.unpackTensor(n):this.packTensor(n),c.push(n),r=this.texData.get(n.dataId);else if(r.isPacked&&!isReshapeFree(r.shape,n.shape)){const e=n,a=n.shape;n.shape=r.shape,n=this.packedReshape(n,a),c.push(n),r=this.texData.get(n.dataId),e.shape=a}return this.uploadToGPU(n.dataId),{shape:n.shape,texData:r,isUniform:!1}}));this.uploadToGPU(s.dataId);const d={shape:s.shape,texData:l,isUniform:!1},p=function makeShaderKey(e,n,r){let a="";n.concat(r).forEach((e=>{const n=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,r=e.isUniform?"uniform":e.texData.texShape;a+=`${e.shape}_${r}_${n}`}));const o=e.userCode;let i=e.constructor.name;return i+="_"+a+"_"+o,i}(e,u,d),f=this.getAndSaveBinary(p,(()=>function compileProgram(e,n,r,a){const o=n.userCode,s=r.map(((e,r)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:n.variableNames[r],shapeInfo:a}})),l=s.map((e=>e.shapeInfo)),c={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},u=makeShader(s,c,o,n.packedInputs),d=e.createProgram(u);let p=null;const f=e.getUniformLocation(d,"NAN",!1);1===Object(i.Ld)().getNumber("WEBGL_VERSION")&&(p=e.getUniformLocation(d,"INFINITY",!1));const h={};for(let i=0;i<n.variableNames.length;i++){const r=n.variableNames[i],a=!1;h[r]=e.getUniformLocation(d,r,a),h[`offset${r}`]=e.getUniformLocation(d,`offset${r}`,a)}return{program:n,source:u,webGLProgram:d,uniformLocations:h,inShapeInfos:l,outShapeInfo:c,infLoc:p,nanLoc:f}}(this.gpgpu,e,u,d))),h=null!=this.activeTimers;let m;h&&(m=this.startTimer()),function runProgram(e,n,r,a,o){validateBinaryAndProgram(n.inShapeInfos,r),validateBinaryAndProgram([n.outShapeInfo],[a]);const s=a.texData.texture,l=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(s,l[0],l[1]):e.setOutputMatrixTexture(s,l[0],l[1]),e.setProgram(n.webGLProgram),1===Object(i.Ld)().getNumber("WEBGL_VERSION")&&null!==n.infLoc&&e.gl.uniform1f(n.infLoc,1/0),null!==n.nanLoc&&e.gl.uniform1f(n.nanLoc,NaN),r.forEach(((r,a)=>{const o=n.program.variableNames[a],s=n.uniformLocations[o],l=n.uniformLocations[`offset${o}`];if(null!=s)if(r.isUniform)if(i.of.sizeFromShape(r.shape)<2)e.gl.uniform1f(s,r.uniformValues[0]);else{let n=r.uniformValues;n instanceof Float32Array||(n=new Float32Array(n)),e.gl.uniform1fv(s,n)}else null!=r.texData.slice&&null!=l&&e.gl.uniform1i(l,r.texData.slice.flatOffset),e.setInputMatrixTexture(r.texData.texture,s,a)})),null!=o&&o(e,n.webGLProgram),e.executeProgram()}(this.gpgpu,f,u,d,a),c.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(m=this.endTimer(m),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(m)}));const g=Object(i.Ld)().get("WEBGL_FLUSH_THRESHOLD");if(g>0){const e=i.of.now();e-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!Object(i.Ld)().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===o){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,n,r,a,o=!1){r=r||n[0].dtype;return this.runWebGLProgram(e,n,r,a,o)}getAndSaveBinary(e,n){return e in this.binaryCache||(this.binaryCache[e]=n()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!Object(i.Ld)().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=Object(i.hf)((()=>{if(!Object(i.Ld)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=Object(i.Ld)().getBool("DEBUG");Object(i.Ld)().set("DEBUG",!1);const n=this.abs(Object(i.Ge)(1e-8)).dataSync()[0];if(Object(i.Ld)().set("DEBUG",e),n>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const n=this.texData.get(e),{shape:r,dtype:a,values:o,texture:s,usage:l,isPacked:c}=n;if(null!=s)return;const u=null!=this.activeTimers;let d;u&&(d=i.of.now());let p=n.texShape;if(null==p&&(p=function getTextureShapeFromLogicalShape(e,n=!1){let r=Object(i.Ld)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(n&&(r*=2,1===(e=e.map(((n,r)=>r>=e.length-2?i.of.nearestLargerEven(e[r]):e[r]))).length&&(e=[2,e[0]])),2!==e.length){const n=i.of.squeezeShape(e);e=n.newShape}let a=i.of.sizeFromShape(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(n){const n=getBatchDim(e);let r=2,o=2;return e.length&&([r,o]=getRowsCols(e)),a=n*(r/2)*(o/2),i.of.sizeToSquarishShape(a).map((e=>2*e))}return i.of.sizeToSquarishShape(a)}(r,c),n.texShape=p),null!=o){const e=getShapeAs3D(r);let s,l=p[1],f=p[0];const h=o instanceof Uint8Array;c?([l,f]=getPackedMatrixTextureShapeWidthHeight(p[0],p[1]),s=new encode_matrix_packed_gpu_EncodeMatrixPackedProgram(e,[f,l],h)):s=new encode_matrix_gpu_EncodeMatrixProgram(e,[f,l],h);const m=this.makeTensorInfo([f,l],a);this.texData.get(m.dataId).usage=h?yc.PIXELS:yc.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(m.dataId),l,f,o);const g=!0,y=this.runWebGLProgram(s,[m],a,null,g),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeIntermediateTensorInfo(m),this.texData.delete(y.dataId),n.values=null,u&&(this.uploadWaitMs+=i.of.now()-d)}else{const e=this.acquireTexture(p,l,a,c);n.texture=e}}convertAndCacheOnCPU(e,n){const r=this.texData.get(e),{dtype:a}=r;return this.releaseGPUData(e),null!=n&&(r.values=function float32ToTypedArray(e,n){if("float32"===n||"complex64"===n)return e;if("int32"===n||"bool"===n){const r="int32"===n?new Int32Array(e.length):new Uint8Array(e.length);for(let n=0;n<r.length;++n)r[n]=Math.round(e[n]);return r}throw new Error(`Unknown dtype ${n}`)}(n,a)),r.values}acquireTexture(e,n,r,a){if(this.numBytesInGPU+=this.computeBytes(e,r),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,n,a)}computeBytes(e,n){return e[0]*e[1]*i.of.bytesPerElement(n)}}backend_webgl_MathBackendWebGL.nextDataId=0;i.Fd.isBrowser()&&Object(i.Be)("webgl",(()=>new backend_webgl_MathBackendWebGL),2);class binaryop_gpu_BinaryOpProgram{constructor(e,n,r){this.variableNames=["A","B"],this.outputShape=i.md.assertAndGetBroadcastShape(n,r),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}class binaryop_packed_gpu_BinaryOpPackedProgram{constructor(e,n,r,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i.md.assertAndGetBroadcastShape(n,r);const o=this.outputShape.length;let s="";if(a)if(0===o||1===i.of.sizeFromShape(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(s=`\n          ${getCoordsDataType(o)} coords = getOutputCoords();\n        `,1===o)s+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=getChannels("coords",o);s+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= ${this.outputShape[o-2]};\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= ${this.outputShape[o-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${s}\n\n        setOutput(result);\n      }\n    `}}function kernels_Identity_identity(e){const{inputs:n,backend:r}=e,{x:a}=n;return r.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const lu={kernelName:i.qb,backendName:"webgl",kernelFunc:kernels_Identity_identity};function kernels_Complex_complex(e){const{inputs:n,backend:r}=e,{real:a,imag:o}=n,i=r.makeTensorInfo(a.shape,"complex64"),s=r.texData.get(i.dataId),l=kernels_Identity_identity({inputs:{x:a},backend:r}),c=kernels_Identity_identity({inputs:{x:o},backend:r});return s.complexTensorInfos={real:l,imag:c},i}const cu={kernelName:i.y,backendName:"webgl",kernelFunc:kernels_Complex_complex},uu="return (a < 0.) ? b * a : a;",du="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const pu={kernelName:i.yb,backendName:"webgl",kernelFunc:function LeakyRelu_leakyRelu(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{alpha:s}=a,l=r.makeTensorInfo([],"float32",i.of.createScalarValue(s,"float32")),c=Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new binaryop_packed_gpu_BinaryOpPackedProgram(du,o.shape,l.shape):new binaryop_gpu_BinaryOpProgram(uu,o.shape,l.shape),u=r.runWebGLProgram(c,[o,l],o.dtype);return r.disposeIntermediateTensorInfo(l),u}},fu="return (a < 0.) ? b * a : a;",hu="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const mu={kernelName:i.gc,backendName:"webgl",kernelFunc:function kernels_Prelu_prelu(e){const{inputs:n,backend:r}=e,{x:a,alpha:o}=n,s=Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new binaryop_packed_gpu_BinaryOpPackedProgram(hu,a.shape,o.shape):new binaryop_gpu_BinaryOpProgram(fu,a.shape,o.shape);return r.runWebGLProgram(s,[a,o],a.dtype)}};function kernel_funcs_utils_unaryKernelFunc({opSnippet:e,packedOpSnippet:n,cpuKernelImpl:r,dtype:a}){return({inputs:o,backend:s})=>{const{x:l}=o,c=s,u=a||l.dtype;if(c.shouldExecuteOnCPU([l])&&null!=r){const e=c.texData.get(l.dataId),n=r(e.values,u);return c.makeTensorInfo(l.shape,u,n)}let d;return d=Object(i.Ld)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new UnaryOpPackedProgram(l.shape,n):new UnaryOpProgram(l.shape,e),c.runWebGLProgram(d,[l],u)}}function kernel_funcs_utils_binaryKernelFunc({opSnippet:e,packedOpSnippet:n,checkOutOfBounds:r=!1,supportsComplex:a=!1,cpuKernelImpl:o,dtype:s}){return({inputs:l,backend:c})=>{const{a:u,b:d}=l,p=c;if(a&&"complex64"===u.dtype){const n=p.texData.get(u.dataId),r=p.texData.get(d.dataId),[a,o]=[[n.complexTensorInfos.real,r.complexTensorInfos.real],[n.complexTensorInfos.imag,r.complexTensorInfos.imag]].map((n=>{const[r,a]=n,o={dataId:r.dataId,dtype:r.dtype,shape:u.shape},s={dataId:a.dataId,dtype:a.dtype,shape:d.shape},l=new binaryop_gpu_BinaryOpProgram(e,u.shape,d.shape);return p.runWebGLProgram(l,[o,s],Object(i.nf)(r.dtype,a.dtype))})),s=kernels_Complex_complex({inputs:{real:a,imag:o},backend:p});return p.disposeIntermediateTensorInfo(a),p.disposeIntermediateTensorInfo(o),s}const f=s||Object(i.nf)(u.dtype,d.dtype);if(p.shouldExecuteOnCPU([u,d])&&null!=o){const e=p.texData.get(u.dataId),n=p.texData.get(d.dataId),[r,a]=o(u.shape,d.shape,e.values,n.values,f),i=p.makeTensorInfo(a,f);return p.texData.get(i.dataId).values=r,i}let h;return h=Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new binaryop_packed_gpu_BinaryOpPackedProgram(n,u.shape,d.shape,r):new binaryop_gpu_BinaryOpProgram(e,u.shape,d.shape),p.runWebGLProgram(h,[u,d],f)}}function mapActivationToShaderProgram(e,n=!1){if("linear"===e)return"return x;";if("relu"===e)return n?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n";if("elu"===e)return n?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return n?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n";if("prelu"===e)return n?hu:fu;if("leakyrelu"===e)return n?du:uu;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class MatMulPackedProgram{constructor(e,n,r,a=!1,o=!1,i=!1,s=null,l=!1,c=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r;const u=a?e[1]:e[2],d=Math.ceil(u/2),p=a?"i * 2, rc.y":"rc.y, i * 2",f=o?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let g="",y="";s&&(g=l?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:c?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,y="result = activation(result);");const b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),l&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");let x="rc.x",_="rc.x";e[0]<n[0]?x=`int(min(float(rc.x), ${e[0]-1}.))`:n[0]<e[0]&&(_=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`\n      ${g}\n\n      const float sharedDimension = ${d}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${d}; i++) {\n          int batchA = ${x};\n          int batchB = ${_};\n          vec4 a = getMatrixA(batchA, ${p});\n          vec4 b = getMatrixB(batchB, ${f});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${m[0]});\n          result += (${h[1]} * ${m[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${b}\n\n        ${y}\n\n        setOutput(result);\n      }\n    `}}const gu="return areal * breal - aimag * bimag;",yu="return areal * bimag + aimag * breal;";class binaryop_complex_gpu_BinaryOpComplexProgram{constructor(e,n,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=i.md.assertAndGetBroadcastShape(n,r),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const bu="return a * b;";function kernels_Multiply_multiply(e){const{inputs:n,backend:r}=e,{a:a,b:o}=n,s=i.md.upcastType(a.dtype,o.dtype);if("complex64"===a.dtype){const e=r.texData.get(a.dataId),n=r.texData.get(o.dataId),i=new binaryop_complex_gpu_BinaryOpComplexProgram(gu,a.shape,o.shape),s=new binaryop_complex_gpu_BinaryOpComplexProgram(yu,a.shape,o.shape),l=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:n.complexTensorInfos.real.dataId,dtype:n.complexTensorInfos.real.dtype,shape:o.shape},{dataId:n.complexTensorInfos.imag.dataId,dtype:n.complexTensorInfos.imag.dtype,shape:o.shape}],c=r.runWebGLProgram(i,l,"float32"),u=r.runWebGLProgram(s,l,"float32"),d=kernels_Complex_complex({inputs:{real:c,imag:u},backend:r});return r.disposeIntermediateTensorInfo(c),r.disposeIntermediateTensorInfo(u),d}if(r.shouldExecuteOnCPU([a,o])){const e=r.texData.get(a.dataId),n=r.texData.get(o.dataId),[i,l]=Hc(a.shape,o.shape,e.values,n.values,s),c=r.makeTensorInfo(l,s);return r.texData.get(c.dataId).values=i,c}let l;return l=Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new binaryop_packed_gpu_BinaryOpPackedProgram(bu,a.shape,o.shape):new binaryop_gpu_BinaryOpProgram(bu,a.shape,o.shape),r.runWebGLProgram(l,[a,o],s)}const vu={kernelName:i.Ub,backendName:"webgl",kernelFunc:kernels_Multiply_multiply};function kernels_Reshape_reshape(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{shape:s}=a,l=r,c=i.of.sizeFromShape(o.shape),u=i.of.inferFromImplicitShape(s,c),d=i.of.sizeFromShape(u);i.of.assert(c===d,(()=>`The new shape (${u}) has ${d} elements and the old shape (${o.shape}) has ${c} elements. The new shape and old shape must have the same number of elements.`));const p=l.texData.get(o.dataId);return!p.isPacked||isReshapeFree(o.shape,u)||null!==p.texture&&isReshapeFree(p.shape,u)?(l.incRef(o.dataId),{dataId:o.dataId,shape:u,dtype:o.dtype}):function packedReshape(e,n,r){const a=[getBatchDim(e.shape),...getRowsCols(e.shape)],o={dtype:e.dtype,shape:a,dataId:e.dataId},i=[getBatchDim(n),...getRowsCols(n)],s=new reshape_packed_gpu_ReshapePackedProgram(i,a),l=r.runWebGLProgram(s,[o],e.dtype,null,!0);return{dataId:l.dataId,shape:n,dtype:l.dtype}}(o,u,l)}const xu={kernelName:i.oc,backendName:"webgl",kernelFunc:kernels_Reshape_reshape};class mean_gpu_MeanProgram{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:o,outSize:s}=e;this.outputShape=[a,s];const l=4*Math.floor(r/4),c=r%4;let u="sumValue += dot(values, ones);";if(null!=n){const e=1/n;u=`sumValue += dot(values * ${i.of.isInt(e)?e.toPrecision(2):e}, ones);`}let d="";o%r>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${l}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${l};\n        if (${1===c}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${u}\n        } else if (${2===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${u}\n        } else if (${3===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}class ReduceProgram{constructor(e,n){this.variableNames=["x"];const{windowSize:r,batchSize:a,inSize:o,outSize:i}=e;this.outputShape=[a,i];let s="0.0",l="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",l="min"):"max"===n&&(s="-1.0 / 1e-20",l="max");let c=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");const u=4*Math.floor(r/4),d=r%4;let p=`\n      if (${"sum"===n}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===n}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${l}(values, minMaxValue);\n      }\n    `,f="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",f="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",f="bvec4");let h="";o%r>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${f} values = ${f}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===d}) {\n          ${f} values = ${f}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${2===d}) {\n          ${f} values = ${f}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${3===d}) {\n          ${f} values = ${f}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${p}\n        }\n        setOutput(${c});\n      }\n    `}}function reduce(e,n,r,a){const o=function getReductionStages(e){const n=[];for(;0===n.length||1!==n[n.length-1].outSize;){const r=n.length?n[n.length-1].outSize:e[1],a=i.md.computeOptimalWindowSize(r);n.push({inSize:r,windowSize:a,outSize:Math.ceil(r/a)})}return n}(e.shape);let s=e;for(let i=0;i<o.length;i++){const{inSize:l,windowSize:c,outSize:u}=o[i];let d,p;d="mean"===r?0===i?new mean_gpu_MeanProgram({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u},l):new mean_gpu_MeanProgram({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u}):new ReduceProgram({windowSize:c,inSize:l,batchSize:e.shape[0],outSize:u},r),p=s,s=a.runWebGLProgram(d,[s],n),p.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(p)}return s}class transpose_gpu_TransposeProgram{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[n[i]];this.outputShape=r,this.rank=r.length;const a=getCoordsDataType(this.rank),o=function getSwitchedCoords(e){const n=e.length;if(n>6)throw Error(`Transpose for rank ${n} is not yet supported`);const r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(n);for(let o=0;o<e.length;o++)a[e[o]]=r[o];return a.join()}(n);this.userCode=`\n    void main() {\n      ${a} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}}class transpose_packed_gpu_TransposePackedProgram{constructor(e,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const r=new Array(e.length);for(let u=0;u<r.length;u++)r[u]=e[n[u]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=getCoordsDataType(this.rank),o=getVecChannels("rc",this.rank),i=new Array(this.rank);for(let u=0;u<n.length;u++)i[n[u]]=o[u];const s=`vec2(${i.slice(-2).join()})`,l=`++${o[this.rank-1]} < ${r[this.rank-1]}`,c=`getChannel(getA(${i.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${a} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${c};\n      if(${l}) {\n        result[1] = ${c};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${r[this.rank-2]}) {\n        result[2] = ${c};\n        if(${l}) {\n          result[3] = ${c};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function Transpose_impl_transposeImpl(e,n,r){const a=Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new transpose_packed_gpu_TransposePackedProgram(e.shape,n):new transpose_gpu_TransposeProgram(e.shape,n);return r.runWebGLProgram(a,[e],e.dtype)}function kernels_Sum_sum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a;return function sumImpl(e,n,r,a){const o=n,s=e.shape.length,l=i.of.parseAxisParam(o,e.shape);let c=l;const u=i.md.getAxesPermutation(c,s),d=null!=u;let p=e;d&&(p=Transpose_impl_transposeImpl(e,u,a),c=i.md.getInnerMostAxes(c.length,s)),i.md.assertAxesAreInnerMostDims("sum",c,s);const[f,h]=i.md.computeOutAndReduceShapes(p.shape,c);let m=f;r&&(m=i.md.expandShapeToKeepDim(f,l));const g=i.of.sizeFromShape(h),y=kernels_Reshape_reshape({inputs:{x:p},attrs:{shape:[i.of.sizeFromShape(e.shape)/g,g]},backend:a}),b=reduce(y,Object(i.bf)(e.dtype),"sum",a),x=kernels_Reshape_reshape({inputs:{x:b},attrs:{shape:m},backend:a});return a.disposeIntermediateTensorInfo(y),a.disposeIntermediateTensorInfo(b),d&&a.disposeIntermediateTensorInfo(p),x}(o,s,l,r)}const _u={kernelName:i.Qc,backendName:"webgl",kernelFunc:kernels_Sum_sum};function kernels_Transpose_transpose(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{perm:i}=a,s=r,l=o.shape.length,c=new Array(l);for(let d=0;d<c.length;d++)c[d]=o.shape[i[d]];let u;if(s.shouldExecuteOnCPU([o])){const e=s.texData.get(o.dataId).values,n=nu(e,o.shape,o.dtype,i,c);u=s.makeTensorInfo(c,o.dtype);s.texData.get(u.dataId).values=n}else u=Transpose_impl_transposeImpl(o,i,s);return u}const wu={kernelName:i.Yc,backendName:"webgl",kernelFunc:kernels_Transpose_transpose};function batchMatMulImpl({a:e,b:n,transposeA:r,transposeB:a,backend:o,bias:s=null,preluActivationWeights:l=null,leakyreluAlpha:c=0,activation:u=null}){const d=e.shape.length,p=n.shape.length,f=r?e.shape[d-2]:e.shape[d-1],h=a?n.shape[p-1]:n.shape[p-2],m=r?e.shape[d-1]:e.shape[d-2],g=a?n.shape[p-2]:n.shape[p-1],y=e.shape.slice(0,-2),b=n.shape.slice(0,-2),x=i.of.sizeFromShape(y),_=i.of.sizeFromShape(b),w=x===_||1===x||1===_;i.of.assert(d>=2&&p>=2&&w,(()=>`Error in matMul: the input batch dimensions must either be the same or at least one input batch dimension must be 1. Got input batch dimensions of (${y}) and (${b}).`));const k=(x>_?e.shape.slice(0,-2):n.shape.slice(0,-2)).concat([m,g]);i.of.assert(f===h,(()=>`Error in matMul: inner shapes (${f}) and (${h}) of Tensors with shapes ${e.shape} and ${n.shape} and transposeA=${r} and transposeB=${a} must match.`));const T=r?[x,f,m]:[x,m,f],S=a?[_,g,h]:[_,h,g],O=kernels_Reshape_reshape({inputs:{x:e},backend:o,attrs:{shape:T}}),C=kernels_Reshape_reshape({inputs:{x:n},backend:o,attrs:{shape:S}}),A=[O,C],I=Math.max(x,_),N=r?O.shape[1]:O.shape[2],M=null!=s,E=null!=l,D="leakyrelu"===u,j=null!=u?mapActivationToShaderProgram(u,!0):null;let R;if((1===m||1===g)&&N>1e3&&!1===(M||E||D||null!=j)){let e=O,n=C;r&&(e=kernels_Transpose_transpose({inputs:{x:O},backend:o,attrs:{perm:[0,2,1]}}),A.push(e)),a&&(n=kernels_Transpose_transpose({inputs:{x:C},backend:o,attrs:{perm:[0,2,1]}}),A.push(n));const i=1===g;let s=e;1!==g&&(s=kernels_Reshape_reshape({inputs:{x:e},backend:o,attrs:{shape:[I,N,1]}}),A.push(s));const l=1===g?2:1;let c=n;i&&(c=kernels_Reshape_reshape({inputs:{x:n},backend:o,attrs:{shape:[I,1,N]}}),A.push(c));const u=kernels_Multiply_multiply({inputs:{a:s,b:c},backend:o});R=kernels_Sum_sum({inputs:{x:u},backend:o,attrs:{axis:l,keepDims:!0}}),A.push(u)}else{const u=Object(i.nf)(e.dtype,n.dtype),d=new MatMulPackedProgram(T,S,[I,m,g],r,a,M,j,E,D),p=[O,C];if(null!=s&&p.push(s),E&&p.push(l),D){const e=o.makeTensorInfo([],"float32",i.of.createScalarValue(c,"float32"));p.push(e),A.push(e)}R=o.runWebGLProgram(d,p,u)}const L=kernels_Reshape_reshape({inputs:{x:R},backend:o,attrs:{shape:k}});A.push(R);for(const i of A)o.disposeIntermediateTensorInfo(i);return L}const ku={kernelName:i.dd,backendName:"webgl",kernelFunc:function _FusedMatMul_fusedMatMul(e){const{inputs:n,backend:r,attrs:a}=e,{a:o,b:i,bias:s,preluActivationWeights:l}=n,{transposeA:c,transposeB:u,activation:d,leakyreluAlpha:p}=a;return batchMatMulImpl({a:o,b:i,transposeA:c,transposeB:u,backend:r,bias:s,preluActivationWeights:l,leakyreluAlpha:p,activation:d})}},Tu="return abs(x);";const Su={kernelName:i.a,backendName:"webgl",kernelFunc:function kernels_Abs_abs(e){const{inputs:n,backend:r}=e,{x:a}=n;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){const e=r.texData.get(a.dataId),n=Yc(e.values);return r.makeTensorInfo(a.shape,a.dtype,n)}let o;return o=Object(i.Ld)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new UnaryOpPackedProgram(a.shape,Tu):new UnaryOpProgram(a.shape,Tu),r.runWebGLProgram(o,[a],a.dtype)}},Ou=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Cu={kernelName:i.b,backendName:"webgl",kernelFunc:Ou},Au=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Iu={kernelName:i.c,backendName:"webgl",kernelFunc:Au},Nu="return a + b;",Mu=kernel_funcs_utils_binaryKernelFunc({opSnippet:Nu,packedOpSnippet:Nu,supportsComplex:!0,cpuKernelImpl:Ic}),Eu={kernelName:i.d,backendName:"webgl",kernelFunc:Mu};class AddNProgram{constructor(e,n){this.outputShape=[],this.outputShape=e,this.variableNames=n.map(((e,n)=>`T${n}`));const r=[];this.variableNames.forEach((e=>{r.push(`float v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${r.join("\n        ")}\n\n        float result = ${a};\n        setOutput(result);\n      }\n    `}}class AddNPackedProgram{constructor(e,n){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=n.map(((e,n)=>`T${n}`));const r=[];this.variableNames.forEach((e=>{r.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${r.join("\n        ")}\n\n        vec4 result = ${a};\n        setOutput(result);\n      }\n    `}}const Du={kernelName:i.e,backendName:"webgl",kernelFunc:function AddN_addN(e){const{inputs:n,backend:r}=e,a=n;if(1===a.length)return kernels_Identity_identity({inputs:{x:a[0]},backend:r});if(a.length>Object(i.Ld)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const e=Math.floor(a.length/2),n=AddN_addN({inputs:a.slice(0,e),backend:r}),o=AddN_addN({inputs:a.slice(e),backend:r});return AddN_addN({inputs:[n,o],backend:r})}const o=a.map((e=>e.dtype)).reduce(((e,n)=>Object(i.nf)(e,n))),s=a.map((e=>e.shape)),l=Object(i.Ld)().getBool("WEBGL_PACK")?new AddNPackedProgram(a[0].shape,s):new AddNProgram(a[0].shape,s);return r.runWebGLProgram(l,a,o)}};const ju={kernelName:i.f,backendName:"webgl",kernelFunc:function kernels_All_all(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a,c=o.shape.length,u=i.of.parseAxisParam(s,o.shape);let d=u;const p=i.md.getAxesPermutation(d,c);let f=o;null!=p&&(f=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:p}}),d=i.md.getInnerMostAxes(d.length,c)),i.md.assertAxesAreInnerMostDims("all",d,c);const[h,m]=i.md.computeOutAndReduceShapes(f.shape,d),g=kernels_Reshape_reshape({inputs:{x:f},backend:r,attrs:{shape:[-1,i.of.sizeFromShape(m)]}}),y=reduce(g,g.dtype,"all",r);let b;if(l){b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(h,u)}})}else b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),null!=p&&r.disposeIntermediateTensorInfo(f),b}};const Ru={kernelName:i.g,backendName:"webgl",kernelFunc:function kernels_Any_any(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a,c=o.shape.length,u=i.of.parseAxisParam(s,o.shape);let d=u;const p=i.md.getAxesPermutation(d,c);let f=o;null!=p&&(f=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:p}}),d=i.md.getInnerMostAxes(d.length,c)),i.md.assertAxesAreInnerMostDims("any",d,c);const[h,m]=i.md.computeOutAndReduceShapes(f.shape,d),g=kernels_Reshape_reshape({inputs:{x:f},backend:r,attrs:{shape:[-1,i.of.sizeFromShape(m)]}}),y=reduce(g,g.dtype,"any",r);let b;if(l){b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(h,u)}})}else b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),null!=p&&r.disposeIntermediateTensorInfo(f),b}};class ArgMinMaxProgram{constructor(e,n,r){this.variableNames=["A"];const{windowSize:a,batchSize:o,outSize:i}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const s="max"===n?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${a}; i++) {\n          int inIdx = ${l};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class argminmax_packed_gpu_ArgMinMaxPackedProgram{constructor(e,n,r,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,i.of.assert(e.length>2,(()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`));const o=e[e.length-1],s=Math.ceil(o/n);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),a||this.variableNames.push("bestIndicesA");const l=this.outputShape,c=l.length,u=getCoordsDataType(c),d=getChannels("coords",c);let p,f;if(1===s){f=c+1;const e=getCoordsDataType(f);p=`\n        ${e} sourceLocR = ${e}(${d.join()}, 0);\n        ++${d[c-1]};\n        ${e} sourceLocG = ${e}(${d.join()}, 0);\n        ++${d[c-2]};\n        ${e} sourceLocA = ${e}(${d.join()}, 0);\n        --${d[c-1]};\n        ${e} sourceLocB = ${e}(${d.join()}, 0);\n        --${d[c-2]};`}else f=c,p=`\n        ${u} sourceLocR = coords;\n        ++${d[c-1]};\n        ${u} sourceLocG = coords;\n        ++${d[c-2]};\n        ${u} sourceLocA = coords;\n        --${d[c-1]};\n        ${u} sourceLocB = coords;\n        --${d[c-2]};`;const h=["x","y","z","w","u","v"].slice(0,f),m="."+h[f-1],g=h.map((e=>"int "+e)),y=getChannels("sourceLocR",f-1).concat("inIdx.r"),b=getChannels("sourceLocG",f-1).concat("inIdx.g"),x=getChannels("sourceLocB",f-1).concat("inIdx.b"),_=getChannels("sourceLocA",f-1).concat("inIdx.a"),w="max"===r?"greaterThan":"lessThan",k=a?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${x.join()}),\n                             getBestIndicesAChannel(${_.join()})));`,T=`vec4(\n            getAChannel(${y.join()}),\n            hasNextCol ? getAChannel(${b.join()}) : 0.,\n            hasNextRow ? getAChannel(${x.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${_.join()}) : 0.)`,S=a?"":`\n      float getBestIndicesAChannel(${g.join()}) {\n        return getChannel(getBestIndicesA(${h.join()}),\n                                          vec2(${h.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${g.join()}) {\n        return getChannel(getA(${h.join()}),\n                               vec2(${h.slice(-2).join()}));\n      }\n      ${S}\n      void main() {\n        ${u} coords = getOutputCoords();\n        bool hasNextCol = ${d[c-1]} < ${l[c-1]-1};\n        bool hasNextRow = ${d[c-2]} < ${l[c-2]-1};\n        ${p}\n        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},\n          sourceLocB${m}, sourceLocA${m}) * ${n};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${T};\n\n        for (int i = 0; i < ${n}; i++) {\n          inIdx = srcIdx;\n          ${k}\n          vec4 candidate = ${T};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${w}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function argReduce(e,n,r,a=null){let o=n.shape[0],s=n.shape[1];null!=a&&(o=a.shape[0],s=a.shape[1]);const l=i.md.computeOptimalWindowSize(s),c={windowSize:l,inSize:s,batchSize:o,outSize:Math.ceil(s/l)},u=new ArgMinMaxProgram(c,r,null==a),d=[n];null!=a&&d.push(a);const p=e.runWebGLProgram(u,d,"int32");if(1===p.shape[1])return p;const f=argReduce(e,n,r,p);return e.disposeIntermediateTensorInfo(p),f}function argReducePacked(e,n,r,a=null){const o=null!=a?a.shape:n.shape,s=o[o.length-1],l=i.md.computeOptimalWindowSize(s),c=new argminmax_packed_gpu_ArgMinMaxPackedProgram(o,l,r,null==a),u=null==a?[n]:[n,a],d=e.runWebGLProgram(c,u,"int32");if(d.shape.length===n.shape.length){const a=argReducePacked(e,n,r,d);return e.disposeIntermediateTensorInfo(d),a}return d}function argMinMaxReduce(e,n,r,a){const o=[r];if(i.md.assertAxesAreInnerMostDims("arg"+a.charAt(0).toUpperCase()+a.slice(1),o,n.shape.length),!Object(i.Ld)().getBool("WEBGL_PACK_REDUCE")||n.shape.length<=2){const r=[],[s,l]=i.md.computeOutAndReduceShapes(n.shape,o),c=i.of.sizeFromShape(l),u=kernels_Reshape_reshape({inputs:{x:n},backend:e,attrs:{shape:[-1,c]}});r.push(u);const d=argReduce(e,u,a);r.push(d);const p=kernels_Reshape_reshape({inputs:{x:d},backend:e,attrs:{shape:s}});return r.forEach((n=>e.disposeIntermediateTensorInfo(n))),p}return argReducePacked(e,n,a)}const Lu={kernelName:i.h,backendName:"webgl",kernelFunc:function ArgMax_argMax(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s}=a;let l=i.of.parseAxisParam(s,o.shape);const c=i.md.getAxesPermutation(l,o.shape.length);let u=o;const d=[];null!=c&&(u=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:c}}),d.push(u),l=i.md.getInnerMostAxes(l.length,u.shape.length)),i.md.assertAxesAreInnerMostDims("argMax",[l[0]],u.shape.length);const p=argMinMaxReduce(r,u,l[0],"max");return d.forEach((e=>r.disposeIntermediateTensorInfo(e))),p}};const Pu={kernelName:i.i,backendName:"webgl",kernelFunc:function ArgMin_argMin(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s}=a;let l=i.of.parseAxisParam(s,o.shape);const c=i.md.getAxesPermutation(l,o.shape.length);let u=o;const d=[];null!=c&&(u=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:c}}),d.push(u),l=i.md.getInnerMostAxes(l.length,u.shape.length)),i.md.assertAxesAreInnerMostDims("argMin",[l[0]],u.shape.length);const p=argMinMaxReduce(r,u,l[0],"min");return d.forEach((e=>r.disposeIntermediateTensorInfo(e))),p}},Fu=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),zu={kernelName:i.j,backendName:"webgl",kernelFunc:Fu},$u=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),Bu={kernelName:i.k,backendName:"webgl",kernelFunc:$u},Vu=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),Uu={kernelName:i.l,backendName:"webgl",kernelFunc:Vu},Wu=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Hu={kernelName:i.m,backendName:"webgl",kernelFunc:Wu},Gu=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),qu={kernelName:i.n,backendName:"webgl",kernelFunc:Gu};class Pool2DProgram{constructor(e,n,r,a=!1,o=!1){if(this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const m="avg"===n,g=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,y=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(m||(b="-1.0 / 1e-20"),r){const n=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${l});\n        const ivec2 pads = ivec2(${f}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${d};\n              wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${n} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${a?o?g:y:`wR * ${p} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===n&&(x="avgValue / count");const _=4*Math.floor(i/4),w=i%4,k=`\n      if (${m}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${l});\n      const ivec2 pads = ivec2(${f}, ${h});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${d};\n            wR += ${c}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${_}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${k}\n          }\n\n          int xC = xCCorner + ${_};\n          if (${1===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${k}\n          } else if (${2===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${k}\n          } else if (${3===w}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${k}\n          }\n        }\n        setOutput(${x});\n      }\n    `}}class Pool3DProgram{constructor(e,n,r,a=!1,o=!1){if(this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,s=e.strideDepth,l=e.strideHeight,c=e.strideWidth,u=e.dilationDepth,d=e.dilationHeight,p=e.dilationWidth,f=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,g=e.padInfo.front,y=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const x="avg"===n;let _="0.0";if(x||(_="-1.0 / 1e-20"),r){const n=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${l}, ${c});\n        const ivec3 pads = ivec3(${g}, ${y}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${f};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${d}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${m};\n                  wC += ${p}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${n} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${a?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${m} +\n                      wR * ${m} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let w=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===n&&(w="avgValue / count");const k=4*Math.floor(i/4),T=i%4,S=`\n      if (${x}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${l}, ${c});\n      const ivec3 pads = ivec3(${g}, ${y}, ${b});\n      const float initializationValue = ${_};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${_});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${f};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${d}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${k}; wC += 4) {\n              int xC = xCCorner + wC * ${p};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${p}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${k};\n            if (${1===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n          setOutput(${w});\n        }\n      }\n    `}}const Ku={kernelName:i.o,backendName:"webgl",kernelFunc:function AvgPool_avgPool(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n;webgl_util_assertNotComplex(o,"avgPool");const{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a;i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${l} and dilations '1'`));const d=i.md.computePool2DInfo(o.shape,s,l,1,c,u);if(1===d.filterWidth&&1===d.filterHeight&&i.of.arraysEqual(d.inShape,d.outShape))return kernels_Identity_identity({inputs:{x:o},backend:r});const p=new Pool2DProgram(d,"avg",!1);return r.runWebGLProgram(p,[o],"float32")}};const Xu={kernelName:i.p,backendName:"webgl",kernelFunc:function AvgPool3D_avgPool3D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{filterSize:s,strides:l,pad:c,dimRoundingMode:u,dataFormat:d}=a,p=i.md.computePool3DInfo(o.shape,s,l,[1,1,1],c,u,d),f=new Pool3DProgram(p,"avg",!1);return r.runWebGLProgram(f,[o],"float32")}};class AvgPool2DBackpropProgram{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=l-1-e.padInfo.top,d=c-1-e.padInfo.left,p=1/(n*r);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${d});\n      const float avgMultiplier = float(${p});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${l};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${c};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class AvgPool3DBackpropProgram{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,o=e.strideDepth,i=e.strideHeight,s=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,h=d-1-e.padInfo.front,m=p-1-e.padInfo.top,g=f-1-e.padInfo.left,y=1/(n*r*a);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${m}, ${g});\n      const float avgMultiplier = float(${y});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${l}) {\n          float dyD = float(dyDCorner + wD) / ${o}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${c}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${f};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Yu={kernelName:i.q,backendName:"webgl",kernelFunc:function AvgPool3DGrad_avgPool3DGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,l=s,{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=a,f=i.md.computePool3DInfo(l.shape,c,u,[1,1,1],d,p),h=new AvgPool3DBackpropProgram(f);return r.runWebGLProgram(h,[o],l.dtype)}};const Zu={kernelName:i.r,backendName:"webgl",kernelFunc:function kernels_AvgPoolGrad_avgPoolGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,l=s;webgl_util_assertNotComplex([o,s],"avgPoolGrad");const{filterSize:c,strides:u,pad:d}=a,p=i.md.computePool2DInfo(l.shape,c,u,1,d),f=new AvgPool2DBackpropProgram(p);return r.runWebGLProgram(f,[o],l.dtype)}};const Ju={kernelName:i.s,backendName:"webgl",kernelFunc:function BatchMatMul_batchMatMul(e){const{inputs:n,backend:r,attrs:a}=e,{a:o,b:i}=n,{transposeA:s,transposeB:l}=a;return batchMatMulImpl({a:o,b:i,transposeA:s,transposeB:l,backend:r})}};class batchnorm_gpu_BatchNormProgram{constructor(e,n,r,a,o,s){this.outputShape=[],this.variableNames=["x","mean","variance"],i.md.assertAndGetBroadcastShape(e,n),i.md.assertAndGetBroadcastShape(e,r);let l="0.0";null!=a&&(i.md.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),l="getOffsetAtOutCoords()");let c="1.0";null!=o&&(i.md.assertAndGetBroadcastShape(e,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${l};\n        float scale = ${c};\n        float inv = scale * inversesqrt(variance + float(${s}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class batchnorm_packed_gpu_BatchNormPackedProgram{constructor(e,n,r,a,o,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],i.md.assertAndGetBroadcastShape(e,n),i.md.assertAndGetBroadcastShape(e,r);let l="vec4(0.0)";null!=a&&(i.md.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),l="getOffsetAtOutCoords()");let c="vec4(1.0)";null!=o&&(i.md.assertAndGetBroadcastShape(e,o),this.variableNames.push("scale"),c="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${l};\n        vec4 scale = ${c};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${s}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const Qu={kernelName:i.ib,backendName:"webgl",kernelFunc:({inputs:e,backend:n,attrs:r})=>{const{x:a,mean:o,variance:s,offset:l,scale:c}=e;i.of.assert(o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),i.of.assert(null==l||o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),i.of.assert(null==c||o.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:u}=r;null==u&&(u=.001);const d=[a,o,s];let p=null;null!=l&&(p=l.shape,d.push(l));let f=null;null!=c&&(f=c.shape,d.push(c));const h=Object(i.Ld)().getBool("WEBGL_PACK_NORMALIZATION")?new batchnorm_packed_gpu_BatchNormPackedProgram(a.shape,o.shape,s.shape,p,f,u):new batchnorm_gpu_BatchNormProgram(a.shape,o.shape,s.shape,p,f,u);return n.runWebGLProgram(h,d,d[0].dtype)}};class slice_gpu_SliceProgram{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const n=getCoordsDataType(this.rank),r=`uniform int start[${this.rank}];`,a=function getCoords(e){if(1===e)return"sourceLoc";if(e<=6)return ed.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let o;o=`\n        ${n} sourceLoc;\n        ${n} coords = getOutputCoords();\n        ${e.map(((e,n)=>`sourceLoc.${ed[n]} = start[${n}] + coords.${ed[n]};`)).join("\n")}\n      `,this.userCode=`\n      ${r}\n      void main() {\n        ${o}\n        setOutput(getSource(${a}));\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the length of start (${e.length})`);return(n,r)=>{null==this.startLoc&&(this.startLoc=n.getUniformLocationNoThrow(r,"start"),null==this.startLoc)||n.gl.uniform1iv(this.startLoc,e)}}}const ed=["x","y","z","w","u","v"];class slice_packed_gpu_SlicePackedProgram{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;const n=getCoordsDataType(this.rank),r=getChannels("coords",this.rank),a=getChannels("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":`vec2(${a.slice(-2).join()})`,i=`getChannel(getSource(${a.join()}), ${o})`,s=`\n      result.x = ${i};\n      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${a[this.rank-1]};\n        result.y = ${i};\n        --${a[this.rank-1]};\n      }\n    `,l=1===this.rank?"":`\n      --${r[this.rank-1]};\n      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${a[this.rank-2]};\n        result.z = ${i};\n        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${a[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,c=this.rank<=4?`sourceLoc = coords +\n            ${n}(${e.map(((e,n)=>`start[${n}]`)).join()});`:e.map(((e,n)=>`${a[n]} = ${r[n]} + start[${n}];`)).join("\n");this.userCode=`\n      uniform int start[${this.rank}];\n      void main() {\n        ${n} coords = getOutputCoords();\n        ${n} sourceLoc;\n        ${c}\n        vec4 result = vec4(0.);\n        ${s}\n        ${l}\n        setOutput(result);\n      }\n    `}getCustomSetupFunc(e){if(e.length!==this.rank)throw Error(`The rank (${this.rank}) of the program must match the length of start (${e.length})`);return(n,r)=>{null==this.startLoc&&(this.startLoc=n.getUniformLocationNoThrow(r,"start"),null==this.startLoc)||n.gl.uniform1iv(this.startLoc,e)}}}function kernels_Slice_slice(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{begin:s,size:l}=a,[c,u]=i.Re.parseSliceParams(o,s,l);if(i.Re.assertParamsValid(o,c,u),0===i.of.sizeFromShape(u))return r.makeTensorInfo(u,o.dtype,[]);if(r.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=r.texData.get(o.dataId),n=Zc(e.values,c,u,o.shape,o.dtype);return r.makeTensorInfo(u,o.dtype,n)}const{isPacked:d}=r.texData.get(o.dataId),p=i.Re.isSliceContinous(o.shape,c,u);if(d||!p){const e=Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new slice_packed_gpu_SlicePackedProgram(u):new slice_gpu_SliceProgram(u),n=e.getCustomSetupFunc(c);return r.runWebGLProgram(e,[o],o.dtype,n)}return r.uploadToGPU(o.dataId),function shallowSlice(e,n,r,a){const o=a.texData.get(e.dataId),s=a.makeTensorInfo(r,e.dtype),l=a.texData.get(s.dataId);Object.assign(l,o),l.refCount=1,l.shape=r,l.dtype=e.dtype;let c=i.Re.computeFlatOffset(n,i.of.computeStrides(e.shape));o.slice&&(c+=o.slice.flatOffset),l.slice={flatOffset:c,origDataId:o.slice&&o.slice.origDataId||e.dataId};const u=a.dataRefCount.get(l.slice.origDataId)||1;return a.dataRefCount.set(l.slice.origDataId,u+1),s}(o,c,u,r)}const td={kernelName:i.Ec,backendName:"webgl",kernelFunc:kernels_Slice_slice},nd={kernelName:i.t,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockShape:s,crops:l}=a;i.of.assert(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const c=s.reduce(((e,n)=>e*n)),u=i.md.getReshaped(o.shape,s,c),d=i.md.getPermuted(u.length,s.length),p=i.md.getReshapedPermuted(o.shape,s,c),f=i.md.getSliceBeginCoords(l,s.length),h=i.md.getSliceSize(p,l,s.length),m=[],g=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:u}}),y=kernels_Transpose_transpose({inputs:{x:g},backend:r,attrs:{perm:d}}),b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:p}}),x=kernels_Slice_slice({inputs:{x:b},backend:r,attrs:{begin:f,size:h}});return m.push(g),m.push(y),m.push(b),m.forEach((e=>r.disposeIntermediateTensorInfo(e))),x}};const rd={kernelName:i.u,backendName:"webgl",kernelFunc:function kernels_Bincount_bincount(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,weights:i}=n,{size:s}=a,l=r.readSync(o.dataId),c=r.readSync(i.dataId),u=Nc(l,c,i.dtype,i.shape,s);return r.makeTensorInfo([s],i.dtype,u)}},ad=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a != b);",dtype:"bool"}),od={kernelName:i.Zb,backendName:"webgl",kernelFunc:ad};function kernels_Real_real(e){const{inputs:n,backend:r}=e,{input:a}=n;return kernels_Identity_identity({inputs:{x:r.texData.get(a.dataId).complexTensorInfos.real},backend:r})}const id={kernelName:i.jc,backendName:"webgl",kernelFunc:kernels_Real_real};const sd={kernelName:i.v,backendName:"webgl",kernelFunc:function kernels_Cast_cast(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{dtype:s}=a;if("complex64"===s){if("complex64"===o.dtype)return kernels_Identity_identity({inputs:{x:o},backend:r});const e=i.tf(o.shape),n=kernels_Cast_cast({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),a=kernels_Complex_complex({inputs:{real:n,imag:e},backend:r});return e.dispose(),r.disposeIntermediateTensorInfo(n),a}if("complex64"===o.dtype){const e=kernels_Real_real({inputs:{input:o},backend:r}),n=kernels_Cast_cast({inputs:{x:e},backend:r,attrs:{dtype:s}});return r.disposeIntermediateTensorInfo(e),n}if(!i.of.hasEncodingLoss(o.dtype,s)){const e=kernels_Identity_identity({inputs:{x:o},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:s}}if("int32"===s)return function int_int(e,n){const r=new UnaryOpProgram(e.shape,"return float(int(x));"),a=n.runWebGLProgram(r,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(o,r);if("bool"===s){const e=r.makeTensorInfo([],"bool",i.of.getTypedArrayFromDType("bool",1)),n=ad({inputs:{a:o,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),n}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${s}`)}},ld="return ceil(x);",cd=kernel_funcs_utils_unaryKernelFunc({opSnippet:ld,packedOpSnippet:ld,cpuKernelImpl:Ec}),ud={kernelName:i.w,backendName:"webgl",kernelFunc:cd};class ClipProgram{constructor(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}getCustomSetupFunc(e,n){return(r,a)=>{null==this.minLoc&&(this.minLoc=r.getUniformLocationNoThrow(a,"minVal"),this.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(this.minLoc,e),r.gl.uniform1f(this.maxLoc,n)}}}class ClipPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}getCustomSetupFunc(e,n){return(r,a)=>{null==this.minLoc&&(this.minLoc=r.getUniformLocationNoThrow(a,"minVal"),this.maxLoc=r.getUniformLocationNoThrow(a,"maxVal")),r.gl.uniform1f(this.minLoc,e),r.gl.uniform1f(this.maxLoc,n)}}}const dd={kernelName:i.x,backendName:"webgl",kernelFunc:function clipByValue(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{clipValueMin:s,clipValueMax:l}=a;let c;c=Object(i.Ld)().getBool("WEBGL_PACK_CLIP")?new ClipPackedProgram(o.shape):new ClipProgram(o.shape);const u=c.getCustomSetupFunc(s,l);return r.runWebGLProgram(c,[o],o.dtype,u)}};class ComplexAbsProgram{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function makeComplexComponentTensorInfo(e,n){return{dataId:n.dataId,dtype:n.dtype,shape:e.shape}}const pd={kernelName:i.z,backendName:"webgl",kernelFunc:function ComplexAbs_complexAbs(e){const{inputs:n,backend:r}=e,{x:a}=n,o=r.texData.get(a.dataId),i=new ComplexAbsProgram(a.shape),s=[makeComplexComponentTensorInfo(a,o.complexTensorInfos.real),makeComplexComponentTensorInfo(a,o.complexTensorInfos.imag)];return r.runWebGLProgram(i,s,s[0].dtype)}};class concat_gpu_ConcatProgram{constructor(e){this.outputShape=[],this.outputShape=i.md.computeOutShape(e,1),this.variableNames=e.map(((e,n)=>`T${n}`));const n=new Array(e.length-1);n[0]=e[0][1];for(let i=1;i<n.length;i++)n[i]=n[i-1]+e[i][1];const r=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`];for(let i=1;i<n.length;i++){const e=n[i-1];r.push(`else if (yC < ${n[i]}) setOutput(getT${i}(yR, yC-${e}));`)}const a=n.length,o=n[n.length-1];r.push(`else setOutput(getT${a}(yR, yC-${o}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${r.join("\n        ")}\n      }\n    `}}class concat_packed_gpu_ConcatPackedProgram{constructor(e,n){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=i.md.computeOutShape(e,n);const r=this.outputShape,a=r.length,o=getCoordsDataType(a),s=getChannels("coords",a),l=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,n)=>`T${n}`));const c=new Array(e.length-1);c[0]=e[0][n];for(let i=1;i<c.length;i++)c[i]=c[i-1]+e[i][n];const u=l[n],d=l.slice(-2),p=l.join();let f=`if (${u} < ${c[0]}) {\n        return getChannel(\n            getT0(${p}), vec2(${d.join()}));\n        }`;for(let i=1;i<c.length;i++){const e=c[i-1];f+=`\n        if (${u} < ${c[i]}  && ${u} >= ${c[i-1]}) {\n          return getChannel(\n            getT${i}(${shiftedChannels(l,u,e)}),\n            vec2(${shiftedChannels(d,u,e)}));\n        }`}const h=c.length,m=c[c.length-1];f+=`\n        return getChannel(\n          getT${h}(${shiftedChannels(l,u,m)}),\n          vec2(${shiftedChannels(d,u,m)}));`,this.userCode=`\n      float getValue(${l.map((e=>"int "+e))}) {\n        ${f}\n      }\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${s}), 0., 0., 0.);\n\n        ${s[a-1]} = ${s[a-1]} + 1;\n        if (${s[a-1]} < ${r[a-1]}) {\n          result.g = getValue(${s});\n        }\n\n        ${s[a-2]} = ${s[a-2]} + 1;\n        if (${s[a-2]} < ${r[a-2]}) {\n          result.a = getValue(${s});\n        }\n\n        ${s[a-1]} = ${s[a-1]} - 1;\n        if (${s[a-2]} < ${r[a-2]} &&\n            ${s[a-1]} < ${r[a-1]}) {\n          result.b = getValue(${s});\n        }\n        setOutput(result);\n      }\n    `}}function shiftedChannels(e,n,r){const a=e.indexOf(n);return e.map(((e,n)=>n===a?`${e} - ${r}`:e)).join()}function kernels_Imag_imag(e){const{inputs:n,backend:r}=e,{input:a}=n;return kernels_Identity_identity({inputs:{x:r.texData.get(a.dataId).complexTensorInfos.imag},backend:r})}const fd={kernelName:i.rb,backendName:"webgl",kernelFunc:kernels_Imag_imag};function Concat_impl_concatImpl(e,n,r){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>kernels_Real_real({inputs:{input:e},backend:r}))),o=e.map((e=>kernels_Imag_imag({inputs:{input:e},backend:r}))),i=Concat_impl_concatImpl(a,n,r),s=Concat_impl_concatImpl(o,n,r),l=kernels_Complex_complex({inputs:{real:i,imag:s},backend:r});return a.forEach((e=>r.disposeIntermediateTensorInfo(e))),o.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),l}if("string"===a){const{tensors2D:o,outShape:s}=computeTensors2D(e,n,r),l=o.map((e=>({vals:r.readSync(e.dataId),shape:e.shape}))),c=1===o[0].shape[0],u=Dc(l,s,a,c),d=i.md.computeOutShape(e.map((e=>e.shape)),n),p=r.makeTensorInfo(d,a,u);return o.forEach((e=>r.disposeIntermediateTensorInfo(e))),p}if(e.length>Object(i.Ld)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const a=Math.floor(e.length/2),o=Concat_impl_concatImpl(e.slice(0,a),n,r),i=Concat_impl_concatImpl(e.slice(a),n,r),s=Concat_impl_concatImpl([o,i],n,r);return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}if(Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const o=new concat_packed_gpu_ConcatPackedProgram(e.map((e=>e.shape)),n);return r.runWebGLProgram(o,e,a)}const{tensors2D:o,outShape:s}=computeTensors2D(e,n,r),l=new concat_gpu_ConcatProgram(o.map((e=>e.shape))),c=r.runWebGLProgram(l,o,a);o.forEach((e=>r.disposeIntermediateTensorInfo(e)));const u=kernels_Reshape_reshape({inputs:{x:c},attrs:{shape:s},backend:r});return r.disposeIntermediateTensorInfo(c),u}function computeTensors2D(e,n,r){const a=i.md.computeOutShape(e.map((e=>e.shape)),n);return{tensors2D:e.map((e=>kernels_Reshape_reshape({inputs:{x:e},attrs:{shape:[-1,i.of.sizeFromShape(e.shape.slice(n))]},backend:r}))),outShape:a}}function kernels_Concat_concat(e){const{inputs:n,backend:r,attrs:a}=e,{axis:o}=a,s=i.of.parseAxisParam(o,n[0].shape)[0],l=i.md.computeOutShape(n.map((e=>e.shape)),s);if(0===i.of.sizeFromShape(l))return r.makeTensorInfo(l,n[0].dtype,[]);const c=n.filter((e=>i.of.sizeFromShape(e.shape)>0));if(1===c.length)return kernels_Identity_identity({inputs:{x:c[0]},backend:r});const u=c.map((e=>e.shape));return i.md.assertParamsConsistent(u,s),Concat_impl_concatImpl(c,s,r)}const hd={kernelName:i.A,backendName:"webgl",kernelFunc:kernels_Concat_concat};class Conv2DProgram{constructor(e,n=!1,r=null,a=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,c=e.strideWidth,u=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,f=e.filterWidth,h=4*Math.floor(e.inChannels/4),m=e.inChannels%4,g="channelsLast"===e.dataFormat,y=g?1:2,b=g?2:3,x=g?3:1;let _="",w="";r&&(_=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`\n          float activation(float x) {\n            ${r}\n          }\n        `,w="result = activation(result);");const k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${_}\n\n      const ivec2 strides = ivec2(${l}, ${c});\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${x}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${y}], coords[${b}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${p}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${f}; wC++) {\n            int xC = xCCorner + wC * ${d};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${g}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===m}) {\n\n              if (${g}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===m}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${g}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===m}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${g}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${k}\n        ${w}\n        setOutput(result);\n      }\n    `}}class Conv3DProgram{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const n=e.padInfo.front,r=e.padInfo.top,a=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,s=e.strideWidth,l=e.dilationDepth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,p=e.filterHeight,f=e.filterWidth,h=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${o}, ${i}, ${s});\n      const ivec3 pads = ivec3(${n}, ${r}, ${a});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${d}; wF++) {\n          int xF = xFCorner + wF * ${l};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p}; wR++) {\n            int xR = xRCorner + wR * ${c};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${f}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===m}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class im2col_packed_gpu_Im2ColPackedProgram{constructor(e,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;const{filterWidth:a,inChannels:o,strideWidth:i,strideHeight:s,padInfo:l,outWidth:c,dilationWidth:u,dilationHeight:d,dataFormat:p}=r,{left:f,top:h}=l,m=o*a,g=getGlslDifferences(),y="channelsLast"===p,b=y?0:1,x=y?1:2;let _="";for(let w=0;w<=1;w++)for(let r=0;r<=1;r++)_+=`\n          blockIndex = rc.y + ${r};\n          pos = rc.x + ${w};\n\n          if(blockIndex < ${e[1]} && pos < ${e[0]}) {\n            offsetY = int(blockIndex / (${c})) * ${s} - ${h};\n            d0 = offsetY + ${d} * (pos / ${m});\n\n            if(d0 < ${n[b]} && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), ${c}.) * ${i}. - ${f}.);\n              d1 = offsetX + ${u} * (int(mod(float(pos), ${m}.) / ${o}.));\n\n              if(d1 < ${n[x]} && d1 >= 0) {\n\n                ch = int(mod(float(pos), ${o}.));\n\n                if (${y}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*w+r}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*w+r}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${_}\n\n        ${g.output} = result;\n      }\n    `}}function conv2dByMatMul({x:e,filter:n,convInfo:r,backend:a,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:c=null}){const u=e.shape,d=a.texData.get(e.dataId),p=r.inChannels,f=u[0]*u[1]*u[2],h=r.outChannels,m="channelsLast"===r.dataFormat;let g;const y=[],b=(1===f||1===h)&&p>1e3,x=u[2]%2!=0&&!!d.isPacked;if(!b&&Object(i.Ld)().getBool("WEBGL_LAZILY_UNPACK")&&Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&x){const p=m?u[0]*u[1]*(u[2]+1):u[0]*u[2]*(u[3]+1),f={dataId:e.dataId,shape:[1,p,r.inChannels],dtype:e.dtype},h=d.shape;d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,i.of.assert(isReshapeFree(d.shape,f.shape),(()=>`packed reshape ${d.shape} to ${f.shape} isn't free`));const b=kernels_Reshape_reshape({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}});y.push(b);const x=batchMatMulImpl({a:f,b:b,backend:a,transposeA:false,transposeB:false,bias:o,activation:c,preluActivationWeights:s,leakyreluAlpha:l}),_=a.texData.get(x.dataId);i.of.assert(_.isPacked,(()=>"batchMatMul result is expected to be packed")),d.shape=h,_.shape=r.outShape,g=kernels_Identity_identity({inputs:{x:x},backend:a}),g.shape=r.outShape,y.push(x)}else{const i=kernels_Reshape_reshape({inputs:{x:e},backend:a,attrs:{shape:[1,m?u[0]*u[1]*u[2]:u[0]*u[2]*u[3],r.inChannels]}}),d=kernels_Reshape_reshape({inputs:{x:n},backend:a,attrs:{shape:[1,r.inChannels,r.outChannels]}}),p=batchMatMulImpl({a:i,b:d,transposeA:false,transposeB:false,backend:a,bias:o,activation:c,preluActivationWeights:s,leakyreluAlpha:l});g=kernels_Reshape_reshape({inputs:{x:p},backend:a,attrs:{shape:r.outShape}}),y.push(i),y.push(d),y.push(p)}for(const i of y)a.disposeIntermediateTensorInfo(i);return g}function conv2dWithIm2Row({x:e,filter:n,convInfo:r,backend:a,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:c=null}){const{filterWidth:u,filterHeight:d,inChannels:p,outWidth:f,outHeight:h,dataFormat:m}=r,g="channelsLast"===m,y=u*d*p,b=h*f,x=[y,b],_=[],w=kernels_Reshape_reshape({inputs:{x:e},backend:a,attrs:{shape:e.shape.slice(1)}}),k=kernels_Reshape_reshape({inputs:{x:n},backend:a,attrs:{shape:[1,y,i.of.sizeFromShape(n.shape)/y]}});_.push(w),_.push(k);const T=new im2col_packed_gpu_Im2ColPackedProgram(x,w.shape,r),S=a.runWebGLProgram(T,[w],"float32"),O=kernels_Reshape_reshape({inputs:{x:S},backend:a,attrs:{shape:[1,x[0],x[1]]}});_.push(S),_.push(O);const C=null!=o,A=null!=s,I="leakyrelu"===c,N=c?mapActivationToShaderProgram(c,!0):null,M=new MatMulPackedProgram(O.shape,k.shape,[1,b,r.outChannels],!0,!1,C,N,A,I),E=[O,k];if(o&&E.push(o),A&&E.push(s),I){const e=a.makeTensorInfo([],"float32",i.of.createScalarValue(l,"float32"));E.push(e),_.push(e)}const D=a.runWebGLProgram(M,E,"float32"),j=kernels_Reshape_reshape({inputs:{x:D},backend:a,attrs:{shape:g?[1,h,f,r.outChannels]:[1,r.outChannels,h,f]}});_.push(D);for(const i of _)a.disposeIntermediateTensorInfo(i);return j}const md={kernelName:i.B,backendName:"webgl",kernelFunc:function Conv2D_conv2d(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}=a,f=i.md.convertConv2DDataFormat(u),h=i.md.computeConv2DInfo(o.shape,s.shape,l,d,c,p,!1,f);let m;if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(Object(i.Ld)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])m=conv2dWithIm2Row({x:o,filter:s,convInfo:h,backend:r});else{const e=new Conv2DProgram(h);m=r.runWebGLProgram(e,[o,s],"float32")}else m=conv2dByMatMul({x:o,filter:s,convInfo:h,backend:r});const g=kernels_Reshape_reshape({inputs:{x:m},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(m),g}};class Conv2DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${n} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${r} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${i}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Conv2DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,s=n-1-e.padInfo.top,l=r-1-e.padInfo.left,c=i?1:2,u=i?2:3,d=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${l});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${d}];\n\n        ivec2 dyCorner = ivec2(coords[${c}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${n}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${n} - 1 - wR;\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${r} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Conv3DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${n} - ${o};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${r} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${a} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Conv3DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterDepth,r=e.filterHeight,a=e.filterWidth,o=e.strideDepth,i=e.strideHeight,s=e.strideWidth,l=n-1-e.padInfo.front,c=r-1-e.padInfo.top,u=a-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${l}, ${c}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${n}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${o}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${n} - 1 - wF;\n\n          for (int wR = 0; wR < ${r}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${r} - 1 - wR;\n\n            for (int wC = 0; wC < ${a}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${a} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const gd={kernelName:i.C,backendName:"webgl",kernelFunc:function Conv2DBackpropFilter_conv2DBackpropFilter(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,pad:c,dataFormat:u,dimRoundingMode:d,filterShape:p}=a,f=i.md.convertConv2DDataFormat(u),h=i.md.computeConv2DInfo(o.shape,p,l,1,c,d,!1,f),m=new Conv2DDerFilterProgram(h);return r.runWebGLProgram(m,[o,s],"float32")}};const yd={kernelName:i.D,backendName:"webgl",kernelFunc:function Conv2DBackpropInput_conv2DBackpropInput(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{inputShape:l,strides:c,pad:u,dataFormat:d,dimRoundingMode:p}=a,f=i.md.convertConv2DDataFormat(d),h=i.md.computeConv2DInfo(l,s.shape,c,1,u,p,!1,f),m=new Conv2DDerInputProgram(h);return r.runWebGLProgram(m,[o,s],"float32")}};const bd={kernelName:i.E,backendName:"webgl",kernelFunc:function Conv3D_conv3D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dilations:u}=a,d=i.md.computeConv3DInfo(o.shape,s.shape,l,u,c),p=new Conv3DProgram(d);return r.runWebGLProgram(p,[o,s],"float32")}};const vd={kernelName:i.F,backendName:"webgl",kernelFunc:function Conv3DBackpropFilterV2_conv3DBackpropFilterV2(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,pad:c,filterShape:u}=a,d=i.md.computeConv3DInfo(o.shape,u,l,1,c),p=new Conv3DDerFilterProgram(d);return r.runWebGLProgram(p,[o,s],"float32")}};const xd={kernelName:i.G,backendName:"webgl",kernelFunc:function Conv3DBackpropInputV2_conv3DBackpropInput(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{pad:l,strides:c,inputShape:u}=a,d=i.md.computeConv3DInfo(u,s.shape,c,1,l),p=new Conv3DDerInputProgram(d);return r.runWebGLProgram(p,[o,s],"float32")}},_d=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),wd={kernelName:i.H,backendName:"webgl",kernelFunc:_d},kd=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),Td={kernelName:i.I,backendName:"webgl",kernelFunc:kd};class CropAndResizeProgram{constructor(e,n,r,a,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,s,l,c]=e,[u]=n,[d,p]=r;this.outputShape=[u,d,p,c];const f="bilinear"===a?1:0,[h,m]=[s-1+".0",l-1+".0"],[g,y,b]=d>1?[""+(s-1)/(d-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[x,_,w]=p>1?[""+(l-1)/(p-1),"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`\n      const float height_ratio = float(${g});\n      const float width_ratio = float(${x});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${y};\n        float width_scale = ${_};\n\n        float in_y = ${b};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${o}));\n          return;\n        }\n        float in_x = ${w};\n        if( in_x < 0.0 || in_x > ${m} ) {\n          setOutput(float(${o}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${f} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Sd={kernelName:i.J,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{image:o,boxes:i,boxInd:s}=n,{cropSize:l,method:c,extrapolationValue:u}=a,d=new CropAndResizeProgram(o.shape,i.shape,l,c,u);return r.runWebGLProgram(d,[o,i,s],"float32")}};class cumsum_gpu_CumSumProgram{constructor(e,n,r){this.variableNames=["x"],this.outputShape=e;const a=e.length,o=n?"0.0":`getX(${cumsum_gpu_getCoords(a,"coords")})`,i=e[e.length-1];let s="",l="";n?(s=r?"end != "+(i-1):"end != 0",l=r?"end + 1":"end - 1"):(s=r?`end + pow2 < ${i}`:"end >= pow2",l=r?"end + pow2":"end - pow2"),this.userCode=`\n      uniform float index;\n      void main() {\n        ${getCoordsDataType(a)} coords = getOutputCoords();\n        int end = ${getFinalCoord(a,"coords")};\n        float val = ${o};\n        int pow2 = int(pow(2.0, index));\n        if (${s}) {\n          int idx = ${l};\n          ${getFinalCoord(a,"coords")} = idx;\n          val += getX(${cumsum_gpu_getCoords(a,"coords")});\n        }\n        setOutput(val);\n      }\n    `}getCustomSetupFunc(e){return(n,r)=>{null==this.index&&(this.index=n.getUniformLocation(r,"index")),n.gl.uniform1f(this.index,e)}}}function cumsum_gpu_getCoords(e,n){if(1===e)return`${n}`;if(2===e)return`${n}.x, ${n}.y`;if(3===e)return`${n}.x, ${n}.y, ${n}.z`;if(4===e)return`${n}.x, ${n}.y, ${n}.z, ${n}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}function getFinalCoord(e,n){if(1===e)return`${n}`;if(2===e)return`${n}.y`;if(3===e)return`${n}.z`;if(4===e)return`${n}.w`;throw Error(`Cumulative sum for rank ${e} is not yet supported`)}const Od={kernelName:i.K,backendName:"webgl",kernelFunc:function kernels_Cumsum_cumsum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,exclusive:l,reverse:c}=a,u=o.shape.length,d=i.md.getAxesPermutation([s],u);let p=o;null!=d&&(p=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:d}}));const f=i.md.getInnerMostAxes(1,u)[0];if(f!==u-1)throw new Error(`WebGL cumsum shader expects an inner-most axis=${o.shape.length-1} but got axis=${s}`);const h=p.shape[f];let m=kernels_Identity_identity({inputs:{x:p},backend:r});for(let i=0;i<=Math.ceil(Math.log2(h))-1;i++){const e=new cumsum_gpu_CumSumProgram(p.shape,!1,c),n=e.getCustomSetupFunc(i),a=m;m=r.runWebGLProgram(e,[m],m.dtype,n),r.disposeIntermediateTensorInfo(a)}if(l){const e=new cumsum_gpu_CumSumProgram(p.shape,l,c),n=m;m=r.runWebGLProgram(e,[m],m.dtype),r.disposeIntermediateTensorInfo(n)}if(null!=d){const e=kernels_Transpose_transpose({inputs:{x:m},backend:r,attrs:{perm:i.md.getUndoAxesPermutation(d)}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(p),e}return m}};const Cd={kernelName:i.M,backendName:"webgl",kernelFunc:function DenseBincount_denseBincount(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,weights:i}=n,{size:s,binaryOutput:l}=a;if(1===o.shape.length){const e=r.readSync(o.dataId),n=r.readSync(i.dataId),a=Nc(e,n,i.dtype,i.shape,s);return r.makeTensorInfo([s],i.dtype,a)}if(2===o.shape.length){const e=r.bufferSync(o),n=r.bufferSync(i),a=Mc(e,n,s,l);return r.makeTensorInfo(a.shape,i.dtype,a.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};class DepthToSpaceProgram{constructor(e,n,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=n,this.dataFormat=r,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${n};\n      int offset_h = imod(h, ${n});\n      int in_w = w / ${n};\n      int offset_w = imod(w, ${n});\n      int offset_d = (offset_h * ${n} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const Ad={kernelName:i.N,backendName:"webgl",kernelFunc:function DepthToSpace_depthToSpace(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockSize:s,dataFormat:l}=a;i.of.assert(s>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${s}`));const c=o.shape[0],u="NHWC"===l?o.shape[1]:o.shape[2],d="NHWC"===l?o.shape[2]:o.shape[3],p="NHWC"===l?o.shape[3]:o.shape[1],f=u*s,h=d*s,m=p/(s*s),g=new DepthToSpaceProgram("NHWC"===l?[c,f,h,m]:[c,m,f,h],s,l);return r.runWebGLProgram(g,[o],o.dtype)}};class DepthwiseConv2DProgram{constructor(e,n=!1,r=null,a=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.inHeight,s=e.inWidth,l=e.padInfo.top,c=e.padInfo.left,u=e.strideHeight,d=e.strideWidth,p=e.dilationHeight,f=e.dilationWidth,h=e.filterHeight,m=e.filterWidth,g=e.outChannels/e.inChannels;let y="",b="";r&&(y=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`\n          float activation(float x) {\n            ${r}\n          }\n        `,b="result = activation(result);");const x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${y}\n\n      const ivec2 strides = ivec2(${u}, ${d});\n      const ivec2 pads = ivec2(${l}, ${c});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${g};\n        int q = d2 - d1 * ${g};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${h}; wR++) {\n          int xR = xRCorner + wR * ${p};\n\n          if (xR < 0 || xR >= ${i}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${m}; wC++) {\n            int xC = xCCorner + wC * ${f};\n\n            if (xC < 0 || xC >= ${s}) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${x}\n        ${b}\n        setOutput(result);\n      }\n    `}}class conv_packed_gpu_depthwise_DepthwiseConvPacked2DProgram{constructor(e,n=!1,r=null,a=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;const s=e.inHeight,l=e.inWidth,c=e.padInfo.top,u=e.padInfo.left,d=e.strideHeight,p=e.strideWidth,f=e.dilationHeight,h=e.dilationWidth,m=e.filterHeight,g=e.filterWidth,y=g;let b="int xR; int xC; int xCOffset;";for(let i=0;i<m;i++)for(let e=0;e<g;e++)b+=`\n          vec4 xTexelR${i}C${2*e} = vec4(0.);\n          vec4 wR${i}C${e} = vec4(0.);\n          vec4 xR${i}C${e} = vec4(0.);`;for(let k=0;k<m;k++)for(let e=0;e<y;e++){const n=2*e;if(b+=`\n          xR = xRCorner + ${k*f};\n          xC = xCCorner + ${n*h};\n        `,1===p){if(n<g&&(b+=u%2==1?`\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < ${s} && xCOffset >= 0 && xCOffset < ${l}) {\n                  xTexelR${k}C${n} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${l}) {\n                    xTexelR${k}C${n}.zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR${k}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < ${s} && xCOffset >= 0 && xCOffset < ${l}) {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= ${l}) {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR${k}C${n} = vec4(previous.zw, xTexelR${k}C${n}.xy);\n                } else {\n                  xR${k}C${n} = vec4(0, 0, xTexelR${k}C${n}.xy);\n                }\n              `:`\n                if(xR >= 0 && xR < ${s} && xC >= 0 && xC < ${l}) {\n                  xTexelR${k}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${k}C${n} = vec4(0.);\n                }\n\n                xR${k}C${n} = xTexelR${k}C${n};\n              `,n+1<g)){const e=u%2==0?i.of.nearestLargerEven(h):h;h%2==0&&u%2==1||h%2!=0&&u%2!=1?(b+=`\n                  xCOffset = xC + ${u%2} + ${e};\n\n                  if(xR >= 0 && xR < ${s} &&\n                    xCOffset >= 0 && xCOffset < ${l}) {\n                    xTexelR${k}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n                `,h>1&&(b+=`\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < ${s} &&\n                      xCOffset >= 0 && xCOffset < ${l}) {\n                      xTexelR${k}C${n} = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR${k}C${n} = vec4(0.);\n                    }\n                  `),b+=`\n                  xR${k}C${n+1} = vec4(\n                    xTexelR${k}C${n}.zw, xTexelR${k}C${n+2}.xy);\n                `):b+=`\n                  xCOffset = xC + ${e};\n\n                  if(xR >= 0 && xR < ${s} &&\n                    xCOffset >= 0 && xCOffset < ${l}) {\n                    xTexelR${k}C${n+2} = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR${k}C${n+1} = xTexelR${k}C${n+2};\n                `}}else n<g&&(b+=`\n              if(xR >= 0 && xR < ${s}) {\n            `,u%2==1?(b+=`\n                xCOffset = xC + 1 - ${p};\n                if(xCOffset >= 0 && xCOffset < ${l}) {\n                  xTexelR${k}C${n} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${k}C${n} = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < ${l}) {\n                  xTexelR${k}C${n+2} = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR${k}C${n+2} = vec4(0.);\n                }\n\n                xR${k}C${n} = vec4(\n                  xTexelR${k}C${n}.zw, xTexelR${k}C${n+2}.zw);\n              `,n+1<g&&(b+=`\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + ${p};\n                  if(xCOffset >= 0 && xCOffset < ${l}) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR${k}C${n+1} = vec4(xTexelR${k}C${n+2}.xy, final.xy);\n                `)):(b+=`\n                if(xC >= 0 && xC < ${l}) {\n                  xTexelR${k}C${n} = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR${k}C${n} = vec4(0.);\n                }\n\n                xCOffset = xC + ${p};\n                if(xCOffset >= 0 && xCOffset < ${l}) {\n                  xTexelR${k}C${n+2} = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR${k}C${n+2} = vec4(0.);\n                }\n\n                xR${k}C${n} = vec4(\n                  xTexelR${k}C${n}.xy, xTexelR${k}C${n+2}.xy);\n              `,n+1<g&&(b+=`\n                  xR${k}C${n+1} = vec4(\n                    xTexelR${k}C${n}.zw, xTexelR${k}C${n+2}.zw);\n                `)),b+="}");n<g&&(b+=`\n            vec4 wTexelR${k}C${n} = getW(${k}, ${n}, d1, q);\n            wR${k}C${n} = vec4(wTexelR${k}C${n}.xz, wTexelR${k}C${n}.xz);\n          `,n+1<g&&(b+=`\n              vec4 wTexelR${k}C${n+1} = getW(${k}, ${n+1}, d1, q);\n              wR${k}C${n+1} =\n                vec4(wTexelR${k}C${n+1}.xz, wTexelR${k}C${n+1}.xz);`))}for(let i=0;i<m;i++)for(let e=0;e<g;e++)b+=`dotProd += xR${i}C${e} * wR${i}C${e};`;let x="",_="";r&&(x=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:o?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`vec4 activation(vec4 x) {\n          ${r}\n        }`,_="result = activation(result);");const w=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${x}\n\n      const ivec2 strides = ivec2(${d}, ${p});\n      const ivec2 pads = ivec2(${c}, ${u});\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        ${b}\n\n        vec4 result = dotProd;\n        ${w}\n        ${_}\n        setOutput(result);\n      }\n    `}}const Id={kernelName:i.O,backendName:"webgl",kernelFunc:function DepthwiseConv2dNative_depthwiseConv2dNative(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dilations:u,dimRoundingMode:d}=a;let p=u;null==p&&(p=[1,1]),i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,p),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${p}'`));const f=i.md.computeConv2DInfo(o.shape,s.shape,l,p,c,d,!0);let h;return h=Object(i.Ld)().getBool("WEBGL_PACK_DEPTHWISECONV")&&f.strideWidth<=2&&f.outChannels/f.inChannels==1?new conv_packed_gpu_depthwise_DepthwiseConvPacked2DProgram(f):new DepthwiseConv2DProgram(f),r.runWebGLProgram(h,[o,s],"float32")}};class DepthwiseConv2DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const n=e.strideHeight,r=e.strideWidth,a=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${n} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${r} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class DepthwiseConv2DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const n=e.filterHeight,r=e.filterWidth,a=e.strideHeight,o=e.strideWidth,i=n-1-e.padInfo.top,s=r-1-e.padInfo.left,l=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${n}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${n} - 1 - wR;\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${r} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${l}; dm++) {\n              int d2 = d1 * ${l} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Nd={kernelName:i.P,backendName:"webgl",kernelFunc:function DepthwiseConv2dNativeBackpropFilter_depthwiseConv2dNativeBackpropFilter(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,dy:s}=n,{strides:l,dilations:c,pad:u,dimRoundingMode:d,filterShape:p}=a,f=i.md.computeConv2DInfo(o.shape,p,l,c,u,d,!0),h=new DepthwiseConv2DDerFilterProgram(f);return r.runWebGLProgram(h,[o,s],"float32")}};const Md={kernelName:i.Q,backendName:"webgl",kernelFunc:function DepthwiseConv2dNativeBackpropInput_depthwiseConv2dNativeBackpropInput(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,filter:s}=n,{strides:l,dilations:c,pad:u,dimRoundingMode:d,inputShape:p}=a,f=i.md.computeConv2DInfo(p,s.shape,l,c,u,d,!0),h=new DepthwiseConv2DDerInputProgram(f);return r.runWebGLProgram(h,[o,s],"float32")}};class DiagProgram{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const Ed={kernelName:i.R,backendName:"webgl",kernelFunc:function Diag_diag(e){const{inputs:n,backend:r}=e,{x:a}=n,o=[...a.shape,...a.shape],s=i.of.sizeFromShape(a.shape),l=kernels_Reshape_reshape({inputs:{x:a},backend:r,attrs:{shape:[s]}}),c=new DiagProgram(s),u=r.runWebGLProgram(c,[l],l.dtype),d=kernels_Reshape_reshape({inputs:{x:u},backend:r,attrs:{shape:o}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(u),d}};class Dilation2DProgram{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:n,inWidth:r,padInfo:a,strideHeight:o,strideWidth:i,filterHeight:s,filterWidth:l,dilationHeight:c,dilationWidth:u}=e,{top:d,left:p}=a;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${i});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${c};\n\n          if (hIn >= 0 && hIn < ${n}) {\n            for (int w = 0; w < ${l}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${r}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const Dd={kernelName:i.S,backendName:"webgl",kernelFunc:function dilation2D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s}=n,{strides:l,pad:c,dilations:u}=a,d=i.md.computeDilation2DInfo(o.shape,s.shape,l,c,"NHWC",u);let p;const f=new Dilation2DProgram(d);p=r.runWebGLProgram(f,[o,s],"float32");const h=kernels_Reshape_reshape({inputs:{x:p},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(p),h}},jd=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Rd={kernelName:i.V,backendName:"webgl",kernelFunc:jd},Ld={kernelName:i.W,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r}=e,{dy:a,y:o}=n,s=Object(i.Ld)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new binaryop_packed_gpu_BinaryOpPackedProgram("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,o.shape):new binaryop_gpu_BinaryOpProgram("return (b >= 1.0) ? a : a * (b + 1.0);",a.shape,o.shape);return r.runWebGLProgram(s,[a,o],a.dtype)}},Pd=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool"}),Fd={kernelName:i.X,backendName:"webgl",kernelFunc:Pd},zd=kernel_funcs_utils_unaryKernelFunc({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${i.md.ERF_P};\n  float a1 = ${i.md.ERF_A1};\n  float a2 = ${i.md.ERF_A2};\n  float a3 = ${i.md.ERF_A3};\n  float a4 = ${i.md.ERF_A4};\n  float a5 = ${i.md.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),$d={kernelName:i.Y,backendName:"webgl",kernelFunc:zd},Bd="return exp(x);",Vd=kernel_funcs_utils_unaryKernelFunc({opSnippet:Bd,packedOpSnippet:Bd,cpuKernelImpl:jc}),Ud={kernelName:i.Z,backendName:"webgl",kernelFunc:Vd};function kernels_ExpandDims_expandDims(e){const{inputs:n,attrs:r,backend:a}=e,{dim:o}=r,{input:s}=n,l=s.shape.length,c=s.shape.slice();let u=o;return o<0&&(i.of.assert(-(l+1)<=o,(()=>`Axis must be in the interval [${-(l+1)}, ${l}]`)),u=l+o+1),c.splice(u,0,1),kernels_Reshape_reshape({inputs:{x:s},backend:a,attrs:{shape:c}})}const Wd={kernelName:i.ab,backendName:"webgl",kernelFunc:kernels_ExpandDims_expandDims},Hd="return exp(x) - 1.0;",Gd=kernel_funcs_utils_unaryKernelFunc({opSnippet:Hd,packedOpSnippet:Hd,cpuKernelImpl:Rc}),qd={kernelName:i.bb,backendName:"webgl",kernelFunc:Gd};class FFTProgram{constructor(e,n,r){this.variableNames=["real","imag"];const a=n[1];this.outputShape=n;const o=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=r?`${a}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${a});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${a}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function FFT_impl_fftImpl(e,n,r){const a=r.texData.get(e.dataId),o=i.of.sizeFromShape(e.shape),s=e.shape[e.shape.length-1],l=kernels_Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:[o/s,s]}}),c=l.shape,u=new FFTProgram("real",c,n),d=new FFTProgram("imag",c,n),p=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:c},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:c}],f=r.runWebGLProgram(u,p,"float32"),h=r.runWebGLProgram(d,p,"float32"),m=kernels_Complex_complex({inputs:{real:f,imag:h},backend:r});r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(h);const g=kernels_Reshape_reshape({inputs:{x:m},backend:r,attrs:{shape:e.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(m),g}const Kd={kernelName:i.cb,backendName:"webgl",kernelFunc:function kernels_FFT_fft(e){const{inputs:n,backend:r}=e,{input:a}=n;return FFT_impl_fftImpl(a,!1,r)}};class FillProgram{constructor(e,n){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}getCustomSetupFunc(e){return(n,r)=>{null==this.valueLoc&&(this.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(this.valueLoc,e)}}}function kernels_Fill_fill(e){const{backend:n,attrs:r}=e,{shape:a,value:o}=r;let{dtype:s}=r;if(s=s||i.of.inferDtype(o),"string"===s){const e=i.of.getArrayFromDType(s,i.of.sizeFromShape(a));return e.fill(o),n.makeTensorInfo(a,s,e)}{const e=new FillProgram(a,o),r=e.getCustomSetupFunc(o);return n.runWebGLProgram(e,[],s,r)}}const Xd={kernelName:i.db,backendName:"webgl",kernelFunc:kernels_Fill_fill};class FlipLeftRightProgram{constructor(e){this.variableNames=["Image"],this.outputShape=[];const n=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${n} - x;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${n}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const Yd={kernelName:i.eb,backendName:"webgl",kernelFunc:({inputs:e,backend:n})=>{const{image:r}=e,a=n,o=new FlipLeftRightProgram(r.shape);return a.runWebGLProgram(o,[r],r.dtype)}},Zd="return floor(x);",Jd=kernel_funcs_utils_unaryKernelFunc({opSnippet:Zd,packedOpSnippet:Zd,cpuKernelImpl:Lc}),Qd={kernelName:i.fb,backendName:"webgl",kernelFunc:Jd},ep=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),tp={kernelName:i.gb,backendName:"webgl",kernelFunc:ep};class from_pixels_gpu_FromPixelsProgram{constructor(e){this.variableNames=["A"];const n=getGlslDifferences(),[r,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${r}.0);\n\n        vec4 values = ${n.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class from_pixels_packed_gpu_FromPixelsPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const n=getGlslDifferences(),[r,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${a}.0, ${r}.0);\n            vec4 values = ${n.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${n.output} = result;\n      }\n    `}}const np={kernelName:i.hb,backendName:"webgl",kernelFunc:function fromPixels(e){const{inputs:n,backend:r,attrs:a}=e;let{pixels:o}=n;const{numChannels:s}=a,l="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,c="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,[u,d]=l?[o.videoWidth,o.videoHeight]:[o.width,o.height],p=[d,u],f=[d,u,s];(c||l)&&(null==rp&&(rp=document.createElement("canvas").getContext("2d")),rp.canvas.width=u,rp.canvas.height=d,rp.drawImage(o,0,0,u,d),o=rp.canvas);const h=r.makeTensorInfo(p,"int32");r.texData.get(h.dataId).usage=yc.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(h.dataId),o);const m=Object(i.Ld)().getBool("WEBGL_PACK")?new from_pixels_packed_gpu_FromPixelsPackedProgram(f):new from_pixels_gpu_FromPixelsProgram(f),g=r.runWebGLProgram(m,[h],"int32");return r.disposeData(h.dataId),g}};let rp;const ap={kernelName:i.jb,backendName:"webgl",kernelFunc:function fusedConv2d(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s,bias:l,preluActivationWeights:c}=n,{strides:u,pad:d,dataFormat:p,dilations:f,dimRoundingMode:h,activation:m,leakyreluAlpha:g}=a,y=i.md.convertConv2DDataFormat(p),b=i.md.computeConv2DInfo(o.shape,s.shape,u,f,d,h,!1,y);let x;const _=[];if(1!==b.filterHeight||1!==b.filterWidth||1!==b.dilationHeight||1!==b.dilationWidth||1!==b.strideHeight||1!==b.strideWidth||"SAME"!==b.padInfo.type&&"VALID"!==b.padInfo.type)if(Object(i.Ld)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])x=conv2dWithIm2Row({x:o,filter:s,convInfo:b,backend:r,bias:l,activation:m,preluActivationWeights:c,leakyreluAlpha:g});else{const e=null!=l,n=null!=c,a="leakyrelu"===m,u=m?mapActivationToShaderProgram(m,!1):null,d=new Conv2DProgram(b,e,u,n,a),p=[o,s];if(l&&p.push(l),c&&p.push(c),a){const e=r.makeTensorInfo([],"float32",i.of.createScalarValue(g,"float32"));p.push(e),_.push(e)}x=r.runWebGLProgram(d,p,"float32")}else x=conv2dByMatMul({x:o,filter:s,convInfo:b,backend:r,bias:l,activation:m,preluActivationWeights:c,leakyreluAlpha:g});const w=kernels_Reshape_reshape({inputs:{x:x},backend:r,attrs:{shape:b.outShape}});return _.push(x),_.forEach((e=>r.disposeIntermediateTensorInfo(e))),w}};const ip={kernelName:i.kb,backendName:"webgl",kernelFunc:function FusedDepthwiseConv2D_fusedDepthwiseConv2D(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,filter:s,bias:l,preluActivationWeights:c}=n,{strides:u,pad:d,dilations:p,dimRoundingMode:f,activation:h,leakyreluAlpha:m}=a,g=[];let y=p;null==y&&(y=[1,1]),i.of.assert(i.md.eitherStridesOrDilationsAreOne(u,y),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${u} and dilations '${y}'`));const b=i.md.computeConv2DInfo(o.shape,s.shape,u,y,d,f,!0),x=Object(i.Ld)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels==1,_=h?mapActivationToShaderProgram(h,x):null,w=[o,s],k=null!=l,T=null!=c,S="leakyrelu"===h;if(k&&w.push(l),T&&w.push(c),S){const e=r.makeTensorInfo([],"float32",i.of.createScalarValue(m,"float32"));w.push(e),g.push(e)}let O;O=x?new conv_packed_gpu_depthwise_DepthwiseConvPacked2DProgram(b,k,_,T,S):new DepthwiseConv2DProgram(b,k,_,T,S);const C=r.runWebGLProgram(O,w,"float32");return g.forEach((e=>r.disposeIntermediateTensorInfo(e))),C}};class gather_nd_gpu_GatherNDProgram{constructor(e,n,r){this.sliceDim=e,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;const a=getCoordsDataType(n.length),o=getCoordsDataType(r.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${a} strides = ${a}(${this.strides});\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${i};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}const sp={kernelName:i.lb,backendName:"webgl",kernelFunc:function GatherNd_gatherNd(e){const{inputs:n,backend:r}=e,{params:a,indices:o}=n,s=o.shape,l=s[s.length-1],[c,u,d,p]=i.md.prepareAndValidate(a,o),f=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:[u,l]}}),h=kernels_Reshape_reshape({inputs:{x:a},backend:r,attrs:{shape:[i.of.sizeFromShape(a.shape)/d,d]}}),m=new gather_nd_gpu_GatherNDProgram(l,p,[u,d]),g=r.runWebGLProgram(m,[h,f],h.dtype),y=kernels_Reshape_reshape({inputs:{x:g},backend:r,attrs:{shape:c}});return r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(g),y}};class gather_gpu_GatherProgram{constructor(e,n){this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;const r=getCoordsDataType(this.rank),a=function gather_gpu_getSourceCoords(e,n){const r=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let o=0;o<e.length;o++)2===o?a.push("int(getIndices(resRC.x, resRC.z))"):a.push(`${r[o]}`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${a}));\n      }\n    `}}const lp={kernelName:i.mb,backendName:"webgl",kernelFunc:function GatherV2_gatherV2(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,indices:s}=n,{axis:l,batchDims:c}=a,u=i.of.parseAxisParam(l,o.shape)[0],d=i.md.segment_util.collectGatherOpShapeInfo(o,s,u,c),p=i.of.sizeFromShape(s.shape),f=[],h=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:[d.batchSize,d.outerSize,d.dimSize,d.sliceSize]}}),m=kernels_Reshape_reshape({inputs:{x:s},backend:r,attrs:{shape:[d.batchSize,p/d.batchSize]}});f.push(h),f.push(m);const g=[d.batchSize,d.outerSize,p/d.batchSize,d.sliceSize];if(r.shouldExecuteOnCPU([o,s])||"string"===o.dtype){const e=r.bufferSync(m),n=r.bufferSync(h),a=Pc(n,e,g);return f.forEach((e=>r.disposeIntermediateTensorInfo(e))),r.makeTensorInfo(d.outputShape,a.dtype,a.values)}const y=new gather_gpu_GatherProgram(h.shape,g),b=r.runWebGLProgram(y,[h,m],h.dtype);f.push(b);const x=kernels_Reshape_reshape({inputs:{x:b},backend:r,attrs:{shape:d.outputShape}});return f.forEach((e=>r.disposeIntermediateTensorInfo(e))),x}},cp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Fc,dtype:"bool"}),up={kernelName:i.nb,backendName:"webgl",kernelFunc:cp},dp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool"}),pp={kernelName:i.ob,backendName:"webgl",kernelFunc:dp};const fp={kernelName:i.pb,backendName:"webgl",kernelFunc:function kernels_IFFT_ifft(e){const{inputs:n,backend:r}=e,{input:a}=n;return FFT_impl_fftImpl(a,!0,r)}},hp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),mp={kernelName:i.sb,backendName:"webgl",kernelFunc:hp},gp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return float(isinf(x));",dtype:"bool"}),yp={kernelName:i.tb,backendName:"webgl",kernelFunc:gp},bp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return float(isnan(x));",dtype:"bool"}),vp={kernelName:i.ub,backendName:"webgl",kernelFunc:bp},xp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:zc,dtype:"bool"}),_p={kernelName:i.zb,backendName:"webgl",kernelFunc:xp},wp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",dtype:"bool"}),kp={kernelName:i.Ab,backendName:"webgl",kernelFunc:wp};const Tp={kernelName:i.Bb,backendName:"webgl",kernelFunc:function LinSpace_linSpace(e){const{backend:n,attrs:r}=e,{start:a,stop:o,num:i}=r,s=$c(a,o,i);return n.makeTensorInfo([s.length],"float32",s)}},Sp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (x < 0.0) return NAN;\n  return log(x);",packedOpSnippet:"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Bc}),Op={kernelName:i.Cb,backendName:"webgl",kernelFunc:Sp},Cp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return log(1.0 + x);"}),Ap={kernelName:i.Db,backendName:"webgl",kernelFunc:Cp},Ip=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Np={kernelName:i.Eb,backendName:"webgl",kernelFunc:Ip},Mp=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return float(!(x >= 1.0));"}),Ep={kernelName:i.Fb,backendName:"webgl",kernelFunc:Mp},Dp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),jp={kernelName:i.Gb,backendName:"webgl",kernelFunc:Dp};class LRNProgram{constructor(e,n,r,a,o){this.variableNames=["x"],this.outputShape=[];const i=n,s=e[3]-1;let l;this.outputShape=e;const c=`float(${r}) + float(${a}) * sum`;l=.5===o?`inversesqrt(${c})`:1===o?`1.0/(${c})`:`exp(log(${c}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${l};\n        setOutput(val);\n      }\n    `}}class LRNPackedProgram{constructor(e,n,r,a,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=n,s=e[3]-1;let l;this.outputShape=e;const c=`float(${r}) + float(${a}) * sum`;l=.5===o?`inversesqrt(${c})`:1===o?`1.0/(${c})`:`exp(log(${c}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${l};\n        setOutput(result);\n      }\n    `}}const Rp={kernelName:i.wb,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{depthRadius:s,bias:l,alpha:c,beta:u}=a,d=Object(i.Ld)().getBool("WEBGL_PACK_NORMALIZATION")?new LRNPackedProgram(o.shape,s,l,c,u):new LRNProgram(o.shape,s,l,c,u);return r.runWebGLProgram(d,[o],o.dtype)}};class LRNGradProgram{constructor(e,n,r,a,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=o,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${n})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${n} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${a}) * norm + float(${r});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${a})\n                * float(${o})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${o});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const Lp={kernelName:i.xb,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{x:o,y:i,dy:s}=n,{depthRadius:l,bias:c,alpha:u,beta:d}=a,p=new LRNGradProgram(o.shape,l,c,u,d);return r.runWebGLProgram(p,[o,i,s],o.dtype)}};function kernels_Max_max(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{reductionIndices:s,keepDims:l}=a,c=o.shape.length,u=i.of.parseAxisParam(s,o.shape);let d=u;const p=i.md.getAxesPermutation(d,c),f=null!=p,h=r.shouldExecuteOnCPU([o]);let m=o;if(f){if(h){const e=r.texData.get(m.dataId).values,n=new Array(c);for(let r=0;r<n.length;r++)n[r]=o.shape[p[r]];const a=nu(e,o.shape,o.dtype,p,n);m=r.makeTensorInfo(n,o.dtype);r.texData.get(m.dataId).values=a}else m=Transpose_impl_transposeImpl(o,p,r);d=i.md.getInnerMostAxes(d.length,c)}i.md.assertAxesAreInnerMostDims("max",d,c);const[g,y]=i.md.computeOutAndReduceShapes(m.shape,d);let b,x=g;if(l&&(x=i.md.expandShapeToKeepDim(g,u)),h){const e=r.texData.get(m.dataId).values,n=Vc(e,i.of.sizeFromShape(y),x,o.dtype);b=r.makeTensorInfo(x,o.dtype);r.texData.get(b.dataId).values=n}else b=function Max_impl_maxImpl(e,n,r,a){const o=i.of.sizeFromShape(n),s=kernels_Reshape_reshape({inputs:{x:e},attrs:{shape:[i.of.sizeFromShape(e.shape)/o,o]},backend:a}),l=reduce(s,e.dtype,"max",a),c=kernels_Reshape_reshape({inputs:{x:l},attrs:{shape:r},backend:a});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(l),c}(m,y,x,r);return f&&r.disposeIntermediateTensorInfo(m),b}const Pp={kernelName:i.Hb,backendName:"webgl",kernelFunc:kernels_Max_max},Fp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Uc}),zp={kernelName:i.Nb,backendName:"webgl",kernelFunc:Fp};const $p={kernelName:i.Ib,backendName:"webgl",kernelFunc:function MaxPool_maxPool(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n;webgl_util_assertNotComplex(o,"maxPool");const{filterSize:s,strides:l,pad:c,dimRoundingMode:u}=a;i.of.assert(i.md.eitherStridesOrDilationsAreOne(l,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${l} and dilations '1'`));const d=i.md.computePool2DInfo(o.shape,s,l,1,c,u);if(1===d.filterWidth&&1===d.filterHeight&&i.of.arraysEqual(d.inShape,d.outShape))return kernels_Identity_identity({inputs:{x:o},backend:r});const p=new Pool2DProgram(d,"max",!1);return r.runWebGLProgram(p,[o],o.dtype)}};const Bp={kernelName:i.Jb,backendName:"webgl",kernelFunc:function maxPool3d(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{filterSize:s,strides:l,pad:c,dataFormat:u,dimRoundingMode:d}=a,p=i.md.computePool3DInfo(o.shape,s,l,[1,1,1],c,d,u),f=new Pool3DProgram(p,"max",!1);return r.runWebGLProgram(f,[o],o.dtype)}};class MaxPool2DBackpropProgram{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideHeight,r=e.strideWidth,a=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=o-1-e.padInfo.top,l=i-1-e.padInfo.left,c=o*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${l});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n          wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${n}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${c} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class MaxPool3DBackpropProgram{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const n=e.strideDepth,r=e.strideHeight,a=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterDepth,c=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=l-1-e.padInfo.front,p=c-1-e.padInfo.top,f=u-1-e.padInfo.left,h=l*c*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${d}, ${p}, ${f});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${l};\n           wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${n}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${c};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${c} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Vp={kernelName:i.Kb,backendName:"webgl",kernelFunc:function MaxPool3DGrad_maxPool3DGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s}=n,l=s,{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=a,f=i.md.computePool3DInfo(l.shape,c,u,[1,1,1],d,p),h=new Pool3DProgram(f,"max",!0),m=r.runWebGLProgram(h,[l],l.dtype),g=new MaxPool3DBackpropProgram(f),y=r.runWebGLProgram(g,[o,m],l.dtype);return r.disposeIntermediateTensorInfo(m),y}};const Up={kernelName:i.Lb,backendName:"webgl",kernelFunc:function kernels_MaxPoolGrad_maxPoolGrad(e){const{inputs:n,backend:r,attrs:a}=e,{dy:o,input:s,output:l}=n,c=s;webgl_util_assertNotComplex([s,l],"maxPoolGrad");const{filterSize:u,strides:d,pad:p,dimRoundingMode:f}=a,h=i.md.computePool2DInfo(c.shape,u,d,1,p,f),m=new Pool2DProgram(h,"max",!0),g=r.runWebGLProgram(m,[c],c.dtype),y=new MaxPool2DBackpropProgram(h),b=r.runWebGLProgram(y,[o,g],c.dtype);return r.disposeIntermediateTensorInfo(g),b}};const Wp={kernelName:i.Mb,backendName:"webgl",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{x:a}=e,{filterSize:o,strides:s,pad:l,includeBatchInIndex:c}=n,u=r;i.of.assert(4===a.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`));const d=[1,1];i.of.assert(i.md.eitherStridesOrDilationsAreOne(s,d),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${d}'`));const p=i.md.computePool2DInfo(a.shape,o,s,d,l),[f,h]=function MaxPoolWithArgmax_impl_maxPoolWithArgmaxImpl(e,n,r,a){let o=new Pool2DProgram(r,"max",!1);const i=a.runWebGLProgram(o,[e],"float32");return o=new Pool2DProgram(r,"max",!0,!0,n),[i,a.runWebGLProgram(o,[e],"float32")]}(a,c,p,u);return[f,h]}};const Hp={kernelName:i.Ob,backendName:"webgl",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{x:a}=e,{keepDims:o,axis:s}=n,l=r,c=a.shape.length,u=i.of.parseAxisParam(s,a.shape);let d=u;const p=i.md.getAxesPermutation(d,c),f=null!=p,h=l.shouldExecuteOnCPU([a]),m=[];let g=a;if(f){if(h){const e=l.texData.get(g.dataId).values,n=new Array(c);for(let o=0;o<n.length;o++)n[o]=a.shape[p[o]];const r=nu(e,a.shape,a.dtype,p,n);g=l.makeTensorInfo(n,a.dtype);l.texData.get(g.dataId).values=r}else g=Transpose_impl_transposeImpl(a,p,l);m.push(g),d=i.md.getInnerMostAxes(d.length,c)}i.md.assertAxesAreInnerMostDims("sum",d,c);const[y,b]=i.md.computeOutAndReduceShapes(g.shape,d);let x=y;o&&(x=i.md.expandShapeToKeepDim(y,u));const _=function meanImpl(e,n,r,a){const o=i.of.sizeFromShape(n),s=kernels_Reshape_reshape({inputs:{x:e},attrs:{shape:[i.of.sizeFromShape(e.shape)/o,o]},backend:a}),l=reduce(s,"float32","mean",a),c=kernels_Reshape_reshape({inputs:{x:l},attrs:{shape:r},backend:a});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(l),c}(g,b,x,l);for(const i of m)l.disposeIntermediateTensorInfo(i);return _}};const Gp={kernelName:i.Pb,backendName:"webgl",kernelFunc:function kernels_Min_min(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a,c=o.shape.length,u=i.of.parseAxisParam(s,o.shape);let d=u;const p=i.md.getAxesPermutation(d,c);let f=o;null!=p&&(f=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:p}}),d=i.md.getInnerMostAxes(d.length,o.shape.length)),i.md.assertAxesAreInnerMostDims("min",d,c);const[h,m]=i.md.computeOutAndReduceShapes(f.shape,d),g=kernels_Reshape_reshape({inputs:{x:f},backend:r,attrs:{shape:[-1,i.of.sizeFromShape(m)]}}),y=reduce(g,g.dtype,"min",r);let b;if(l){b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:i.md.expandShapeToKeepDim(h,u)}})}else b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:h}});return r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(y),null!=p&&r.disposeIntermediateTensorInfo(f),b}},qp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:Wc}),Kp={kernelName:i.Qb,backendName:"webgl",kernelFunc:qp};class mirror_pad_gpu_MirrorPadProgram{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map(((n,r)=>n[0]+e[r]+n[1]));const a=e.length,o=getCoordsDataType(a),i=n.map((e=>e[0])).join(","),s=n.map(((n,r)=>n[0]+e[r])).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${s});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        for (int i = 0; i < ${a}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${c};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${c};\n          }\n        }\n        ${o} coords = outC - start;\n        setOutput(getX(${l}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${c};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${c};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class mirror_pad_packed_gpu_MirrorPadPackedProgram{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map(((n,r)=>n[0]+e[r]+n[1]));const a=e.length,o=getCoordsDataType(a),i=n.map((e=>e[0])).join(","),s=n.map(((n,r)=>n[0]+e[r])).join(","),l=getChannels("rc",a),c=getChannels("source",a),u=`${l[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${c.slice(-2).join()})`,p="reflect"===r?0:1;let f="";if(1===a){const e=`\n        ${o} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${p};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${p};\n        }\n        source -= start;\n      `;f=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${c.join()}), ${d});\n        ${l[a-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${c.join()}), ${d});\n        }\n      `}else{const e=`\n        ${o} source = rc;\n        ${o} lt = ${o}(lessThan(source, start));\n        ${o} gte = ${o}(greaterThanEqual(source, end));\n        ${o} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${p}) +\n                gte * ((end - 1) * 2 - source + ${p});\n        source -= start;\n      `;f=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${c.join()}), ${d});\n        ${l[a-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${c.join()}), ${d});\n        }\n        rc = outputLoc;\n        ${l[a-2]} += 1;\n        if(${l[a-2]} < ${this.outputShape[a-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${c.join()}), ${d});\n          ${l[a-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${c.join()}), ${d});\n          }\n        }\n      `}this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${s});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${f}\n        setOutput(result);\n      }\n    `}}const Xp={kernelName:i.Rb,backendName:"webgl",kernelFunc:({inputs:e,backend:n,attrs:r})=>{const{x:a}=e,{paddings:o,mode:s}=r,l=Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mirror_pad_packed_gpu_MirrorPadPackedProgram(a.shape,o,s):new mirror_pad_gpu_MirrorPadProgram(a.shape,o,s);return n.runWebGLProgram(l,[a],a.dtype)}},Yp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Zp={kernelName:i.Sb,backendName:"webgl",kernelFunc:Yp};class MultinomialProgram{constructor(e,n,r){this.variableNames=["probs"],this.outputShape=[e,r],this.userCode=`\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${n-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${n-1}));\n      }\n    `}getCustomSetupFunc(e){return(n,r)=>{null==this.seedLoc&&(this.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(this.seedLoc,e)}}}const Jp=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),Qp={kernelName:i.kc,backendName:"webgl",kernelFunc:Jp},ef="return a - b;",tf=kernel_funcs_utils_binaryKernelFunc({opSnippet:ef,packedOpSnippet:ef,supportsComplex:!0,cpuKernelImpl:Qc}),nf={kernelName:i.Pc,backendName:"webgl",kernelFunc:tf};function kernels_Softmax_softmax(e){const{inputs:n,backend:r,attrs:a}=e,{logits:o}=n,{dim:s}=a,l=i.of.parseAxisParam([s],o.shape),c=kernels_Max_max({inputs:{x:o},backend:r,attrs:{reductionIndices:l,keepDims:!1}}),u=i.md.expandShapeToKeepDim(c.shape,l),d=kernels_Reshape_reshape({inputs:{x:c},backend:r,attrs:{shape:u}}),p=tf({inputs:{a:o,b:d},backend:r}),f=Vd({inputs:{x:p},backend:r}),h=kernels_Sum_sum({inputs:{x:f},backend:r,attrs:{axis:l,keepDims:!1}}),m=kernels_Reshape_reshape({inputs:{x:h},backend:r,attrs:{shape:u}}),g=Jp({inputs:{a:f,b:m},backend:r});return r.disposeIntermediateTensorInfo(c),r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),g}const rf={kernelName:i.Fc,backendName:"webgl",kernelFunc:kernels_Softmax_softmax};const af={kernelName:i.Tb,backendName:"webgl",kernelFunc:function kernels_Multinomial_multinomial(e){const{inputs:n,backend:r,attrs:a}=e,{logits:o}=n,{numSamples:i,seed:s,normalized:l}=a,c=l?o:kernels_Softmax_softmax({inputs:{logits:o},backend:r,attrs:{dim:o.shape.length-1}}),u=c.shape[0],d=c.shape[1],p=new MultinomialProgram(u,d,i),f=p.getCustomSetupFunc(s),h=r.runWebGLProgram(p,[c],"int32",f);return l||r.disposeIntermediateTensorInfo(c),h}},of="return -x;";const sf={kernelName:i.Vb,backendName:"webgl",kernelFunc:function kernels_Neg_neg(e){const{inputs:n,backend:r}=e,{x:a}=n;if(r.shouldExecuteOnCPU([a])){const e=r.texData.get(a.dataId),[n,o]=Gc(e.values,a.shape,a.dtype);return r.makeTensorInfo(o,a.dtype,n)}let o;return o=Object(i.Ld)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new UnaryOpPackedProgram(a.shape,of):new UnaryOpProgram(a.shape,of),r.runWebGLProgram(o,[a],a.dtype)}},lf=i.Zd.nonMaxSuppressionV3Impl;const cf={kernelName:i.Wb,backendName:"webgl",kernelFunc:function NonMaxSuppressionV3_nonMaxSuppressionV3(e){i.md.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:s}=n,{maxOutputSize:l,iouThreshold:c,scoreThreshold:u}=a,d=r.readSync(o.dataId),p=r.readSync(s.dataId),{selectedIndices:f}=lf(d,p,l,c,u);return r.makeTensorInfo([f.length],"int32",new Int32Array(f))}},uf=i.Zd.nonMaxSuppressionV4Impl;const df={kernelName:i.Xb,backendName:"webgl",kernelFunc:function NonMaxSuppressionV4_nonMaxSuppressionV4(e){i.md.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:s}=n,{maxOutputSize:l,iouThreshold:c,scoreThreshold:u,padToMaxOutputSize:d}=a,p=r.readSync(o.dataId),f=r.readSync(s.dataId),{selectedIndices:h,validOutputs:m}=uf(p,f,l,c,u,d);return[r.makeTensorInfo([h.length],"int32",new Int32Array(h)),r.makeTensorInfo([],"int32",new Int32Array([m]))]}},pf=i.Zd.nonMaxSuppressionV5Impl;const ff={kernelName:i.Yb,backendName:"webgl",kernelFunc:function NonMaxSuppressionV5_nonMaxSuppressionV5(e){i.md.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:n,backend:r,attrs:a}=e,{boxes:o,scores:s}=n,{maxOutputSize:l,iouThreshold:c,scoreThreshold:u,softNmsSigma:d}=a,p=r.readSync(o.dataId),f=r.readSync(s.dataId),h=l,m=c,g=u,y=d,{selectedIndices:b,selectedScores:x}=pf(p,f,h,m,g,y);return[r.makeTensorInfo([b.length],"int32",new Int32Array(b)),r.makeTensorInfo([x.length],"float32",new Float32Array(x))]}};class OneHotProgram{constructor(e,n,r,a){this.variableNames=["indices"],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${a}), float(${r}),\n                      float(index == coords.y)));\n      }\n    `}}const hf={kernelName:i.ac,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{indices:o}=n,{depth:s,onValue:l,offValue:c}=a,u=i.of.sizeFromShape(o.shape),d=new OneHotProgram(u,s,l,c),p=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:[u]}}),f=r.runWebGLProgram(d,[p],o.dtype);r.disposeIntermediateTensorInfo(p);const h=kernels_Reshape_reshape({inputs:{x:f},backend:r,attrs:{shape:[...o.shape,s]}});return r.disposeIntermediateTensorInfo(f),h}};function kernels_ZerosLike_zerosLike(e){const{inputs:n,backend:r}=e,{x:a}=n;if("complex64"===a.dtype){const e=kernels_Real_real({inputs:{input:a},backend:r}),n=kernels_ZerosLike_zerosLike({inputs:{x:e},backend:r}),o=kernels_Imag_imag({inputs:{input:a},backend:r}),i=kernels_ZerosLike_zerosLike({inputs:{x:o},backend:r}),s=kernels_Complex_complex({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}return kernels_Fill_fill({attrs:{shape:a.shape,dtype:a.dtype,value:"string"===a.dtype?"":0},backend:r})}const mf={kernelName:i.cd,backendName:"webgl",kernelFunc:kernels_ZerosLike_zerosLike};const gf={kernelName:i.bc,backendName:"webgl",kernelFunc:function kernels_OnesLike_onesLike(e){const{inputs:n,backend:r}=e,{x:a}=n;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){const e=kernels_Real_real({inputs:{input:a},backend:r}),n=kernels_OnesLike_onesLike({inputs:{x:e},backend:r}),o=kernels_Imag_imag({inputs:{input:a},backend:r}),i=kernels_ZerosLike_zerosLike({inputs:{x:o},backend:r}),s=kernels_Complex_complex({inputs:{real:n,imag:i},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}return kernels_Fill_fill({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};const yf={kernelName:i.dc,backendName:"webgl",kernelFunc:function Pack_pack(e){const{inputs:n,backend:r,attrs:a}=e,{axis:o}=a;if(1===n.length)return kernels_ExpandDims_expandDims({inputs:{input:n[0]},backend:r,attrs:{dim:o}});const s=n[0].shape,l=n[0].dtype;n.forEach((e=>{i.of.assertShapesMatch(s,e.shape,"All tensors passed to stack must have matching shapes"),i.of.assert(l===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const c=[],u=kernels_Concat_concat({inputs:n.map((e=>{const n=kernels_ExpandDims_expandDims({inputs:{input:e},backend:r,attrs:{dim:o}});return c.push(n),n})),backend:r,attrs:{axis:o}});return c.forEach((e=>r.disposeIntermediateTensorInfo(e))),u}};class pad_gpu_PadProgram{constructor(e,n,r){this.variableNames=["x"],this.outputShape=n.map(((n,r)=>n[0]+e[r]+n[1]));const a=e.length,o=getCoordsDataType(a),i=n.map((e=>e[0])).join(","),s=n.map(((n,r)=>n[0]+e[r])).join(","),l=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${s});\n      uniform float value;\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${o} coords = outC - start;\n          setOutput(getX(${l}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${s};\n        uniform float value;\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}getCustomSetupFunc(e){return(n,r)=>{null==this.valueLoc&&(this.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(this.valueLoc,e)}}}class pad_packed_gpu_PadPackedProgram{constructor(e,n,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map(((n,r)=>n[0]+e[r]+n[1]));const a=e.length,o=getCoordsDataType(a),i=n.map((e=>e[0])).join(","),s=n.map(((n,r)=>n[0]+e[r])).join(","),l=getChannels("rc",a),c=getChannels("source",a),u=`${l[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${c.slice(-2).join()})`,p=[`${o} rc = outputLoc;`,`${l[a-1]} += 1;\n       if(${u}) {\n      `,1===a?"":`}\n       rc = outputLoc;\n       ${l[a-2]} += 1;\n       if(${l[a-2]} < ${this.outputShape[a-2]}) {`,1===a?"":`  ${l[a-1]} += 1;\n         if(${u}) {`],f=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let m=0,g=1===a?2:4;m<g;m++)h+=`\n        ${p[m]}\n        if (${f}) {\n          result[${m}] = float(value);\n        } else {\n          ${o} source = rc - start;\n          result[${m}] = getChannel(getX(${c.join()}), ${d});\n        }\n      `;h+=1===a?"} ":"}}",this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${s});\n      uniform float value;\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}getCustomSetupFunc(e){return(n,r)=>{null==this.valueLoc&&(this.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(this.valueLoc,e)}}}const PadV2_padV2=e=>{const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{paddings:s,constantValue:l}=a,c=Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new pad_packed_gpu_PadPackedProgram(o.shape,s,l):new pad_gpu_PadProgram(o.shape,s,l),u=c.getCustomSetupFunc(l);return r.runWebGLProgram(c,[o],o.dtype,u)},bf={kernelName:i.ec,backendName:"webgl",kernelFunc:PadV2_padV2},vf=kernel_funcs_utils_binaryKernelFunc({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),xf={kernelName:i.fc,backendName:"webgl",kernelFunc:vf};const _f={kernelName:i.hc,backendName:"webgl",kernelFunc:function kernels_Prod_prod(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{axis:s,keepDims:l}=a,c=o.shape.length,u=[],d=i.of.parseAxisParam(s,o.shape);let p=d;const f=i.md.getAxesPermutation(p,c);let h,m=o;if(null!=f&&(m=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:f}}),p=i.md.getInnerMostAxes(p.length,c),u.push(m)),i.md.assertAxesAreInnerMostDims("prod",p,c),r.shouldExecuteOnCPU([m])){const e=r.texData.get(m.dataId).values,{outVals:n,outShape:a,outDtype:o}=qc(m.shape,m.dtype,e,p);h=r.makeTensorInfo(a,o,n)}else{const[e,n]=i.md.computeOutAndReduceShapes(m.shape,p),a=i.of.sizeFromShape(n),s=kernels_Reshape_reshape({inputs:{x:m},backend:r,attrs:{shape:[-1,a]}}),l=reduce(s,Object(i.bf)(o.dtype),"prod",r);h=kernels_Reshape_reshape({inputs:{x:l},backend:r,attrs:{shape:e}}),u.push(s),u.push(l)}if(l){u.push(h);const e=i.md.expandShapeToKeepDim(h.shape,d);h=kernels_Reshape_reshape({inputs:{x:h},backend:r,attrs:{shape:e}})}return u.forEach((e=>r.disposeIntermediateTensorInfo(e))),h}},kernels_Range_range=e=>{const{backend:n,attrs:r}=e,{start:a,stop:o,step:i,dtype:s}=r,l=Kc(a,o,i,s);return n.makeTensorInfo([l.length],s,l)},wf={kernelName:i.ic,backendName:"webgl",kernelFunc:kernels_Range_range},kf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return 1.0 / x;"}),Tf={kernelName:i.lc,backendName:"webgl",kernelFunc:kf},Sf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Of={kernelName:i.mc,backendName:"webgl",kernelFunc:Sf},Cf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Af={kernelName:i.nc,backendName:"webgl",kernelFunc:Cf};class ResizeBilinearProgram{constructor(e,n,r,a,o){this.variableNames=["A"],this.outputShape=[];const[i,s,l,c]=e;this.outputShape=[i,n,r,c];const u=[a&&n>1?s-1:s,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r];let p;p=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/d[0]},\n          ${u[1]/d[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class ResizeBilinearPackedProgram{constructor(e,n,r,a,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,s,l,c]=e;this.outputShape=[i,n,r,c];const u=[a&&n>1?s-1:s,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r];let p;p=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/d[0]},\n          ${u[1]/d[1]},\n          ${u[1]/d[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${l}.0,\n                                     ${l}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${c-1};\n        bool hasNextRow = coords.z < ${r-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const If={kernelName:i.pc,backendName:"webgl",kernelFunc:function ResizeBilinear_resizeBilinear(e){const{inputs:n,backend:r,attrs:a}=e,{images:o}=n,{alignCorners:s,halfPixelCenters:l,size:c}=a,[u,d]=c,p=Object(i.Ld)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ResizeBilinearPackedProgram(o.shape,u,d,s,l):new ResizeBilinearProgram(o.shape,u,d,s,l);return r.runWebGLProgram(p,[o],"float32")}};class ResizeBilinearBackpropProgram{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,o]=n,[,i,s]=e,l=[r&&i>1?a-1:a,r&&s>1?o-1:o],c=[r&&i>1?i-1:i,r&&s>1?s-1:s],u=l[0]/c[0],d=l[1]/c[1],p=1/u,f=1/d,h=2*Math.ceil(p)+2,m=2*Math.ceil(f)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${d});\n\n        const float invHeightScale = float(${p});\n        const float invWidthScale = float(${f});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Nf={kernelName:i.qc,backendName:"webgl",kernelFunc:function ResizeBilinearGrad_resizeBilinearGrad(e){const{inputs:n,backend:r,attrs:a}=e,{images:o,dy:i}=n,{alignCorners:s}=a,l=new ResizeBilinearBackpropProgram(i.shape,o.shape,s);return r.runWebGLProgram(l,[i],i.dtype)}};class ResizeNearestNeighborProgram{constructor(e,n,r,a,o){this.variableNames=["A"],this.outputShape=[];const[i,s,l,c]=e;this.outputShape=[i,n,r,c];const u=[a&&n>1?s-1:s,a&&r>1?l-1:l],d=[a&&n>1?n-1:n,a&&r>1?r-1:r],p=a?"0.5":"0.0";let f;f=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/d[0]},\n          ${u[1]/d[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${l}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${f};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${p})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}const Mf={kernelName:i.rc,backendName:"webgl",kernelFunc:function ResizeNearestNeighbor_resizeNearestNeighbor(e){const{inputs:n,backend:r,attrs:a}=e,{images:o}=n,{alignCorners:i,halfPixelCenters:s,size:l}=a,[c,u]=l,d=new ResizeNearestNeighborProgram(o.shape,c,u,i,s);return r.runWebGLProgram(d,[o],o.dtype)}};class ResizeNearestNeigborBackpropProgram{constructor(e,n,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;const[,a,o]=n,[,i,s]=e,l=[r&&i>1?a-1:a,r&&s>1?o-1:o],c=[r&&i>1?i-1:i,r&&s>1?s-1:s],u=l[0]/c[0],d=l[1]/c[1],p=1/u,f=1/d,h=2*Math.ceil(p)+2,m=2*Math.ceil(f)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${d});\n\n        const float invHeightScale = float(${p});\n        const float invWidthScale = float(${f});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${l[0]}) *\n                (float(dyR) / float(${c[0]}));\n\n            float sourceFracCol =\n                float(${l[1]}) *\n                  (float(dyC) / float(${c[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${a}) - 1),\n                ${r} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${r} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Ef={kernelName:i.sc,backendName:"webgl",kernelFunc:function ResizeNearestNeighborGrad_resizeNearestNeighborGrad(e){const{inputs:n,backend:r,attrs:a}=e,{images:o,dy:i}=n,{alignCorners:s}=a,l=new ResizeNearestNeigborBackpropProgram(i.shape,o.shape,s);return r.runWebGLProgram(l,[i],i.dtype)}};class reverse_gpu_ReverseProgram{constructor(e,n){this.variableNames=["x"];const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,1===r)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const a=e.map(((r,a)=>(r=>-1!==n.indexOf(r)&&1!==e[r]?`${e[r]} - coords[${r}] - 1`:`coords[${r}]`)(a))).join(","),o=getCoordsDataType(r);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}class reverse_packed_gpu_ReversePackedProgram{constructor(e,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const r=e.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=e;const a=getChannels("rc",r),o=`${a[r-1]} + 1 < ${this.outputShape[r-1]}`,i=`${a[r-2]} + 1 < ${this.outputShape[r-2]}`,s=getCoordsDataType(r);function getChannel(r){const a=e.map(((a,o)=>function getInCoord(r,a){return-1!==n.indexOf(r)&&1!==e[r]?`${e[r]} - ${a[r]} - 1`:`${a[r]}`}(o,r)));return`getChannel(getX(${a.join(",")}), vec2(${a.slice(-2).join(",")}))`}this.userCode=1===r?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${o}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function getR(e){return getChannel(e)}(a.slice())};\n          if(${o}){\n            result.g = ${function getG(e){return e[r-1]="("+e[r-1]+" + 1)",getChannel(e)}(a.slice())};\n          }\n          if(${i}) {\n            result.b = ${function getB(e){return e[r-2]="("+e[r-2]+" + 1)",getChannel(e)}(a.slice())};\n            if(${o}) {\n              result.a = ${function getA(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",getChannel(e)}(a.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const Df={kernelName:i.tc,backendName:"webgl",kernelFunc:function kernels_Reverse_reverse(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{dims:s}=a,l=o.shape.length,c=i.of.parseAxisParam(s,o.shape);if(0===l)return kernels_Identity_identity({inputs:{x:o},backend:r});const u=Object(i.Ld)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new reverse_packed_gpu_ReversePackedProgram(o.shape,c):new reverse_gpu_ReverseProgram(o.shape,c);return r.runWebGLProgram(u,[o],o.dtype)}};class RotateProgram{constructor(e,n){this.variableNames=["Image"],this.outputShape=[];const r=e[1],a=e[2];this.outputShape=e;let o="";o="number"==typeof n?`float outputValue = ${n.toFixed(2)};`:`\n        vec3 fill = vec3(${n.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        uniform vec4 params;\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${o}\n          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${r}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}getCustomSetupFunc(e,n,r,a){return(o,i)=>{null==this.paramsLoc&&(this.paramsLoc=o.getUniformLocationNoThrow(i,"params")),o.gl.uniform4f(this.paramsLoc,e,n,r,a)}}}const jf={kernelName:i.uc,backendName:"webgl",kernelFunc:({inputs:e,attrs:n,backend:r})=>{const{image:a}=e,{radians:o,fillValue:s,center:l}=n,c=r,u=new RotateProgram(a.shape,s),[d,p]=i.md.getImageCenter(l,a.shape[1],a.shape[2]),f=u.getCustomSetupFunc(d,p,Math.sin(o),Math.cos(o));return c.runWebGLProgram(u,[a],a.dtype,f)}},Rf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),Lf={kernelName:i.vc,backendName:"webgl",kernelFunc:Rf},Pf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Xc}),Ff={kernelName:i.wc,backendName:"webgl",kernelFunc:Pf};class scatter_gpu_ScatterProgram{constructor(e,n,r,a,o,i,s=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const l=getCoordsDataType(o.length),c=getCoordsDataType(i.length);let u="";1===r?u="i":2===r&&(u="i, j");const d=`getIndices(${u})`;let p="";1===a?p="i":2===a&&(p="i, coords[1]");const f=`getUpdates(${p})`,h=n>1?"strides[j]":"strides";this.userCode=`\n        ${l} strides = ${l}(${o});\n\n        void main() {\n          ${c} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${n}; j++) {\n              int index = round(${d});\n              flattenedIndex += index * ${h};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${f};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}const zf={kernelName:i.xc,backendName:"webgl",kernelFunc:function ScatterNd_scatterNd(e){const{inputs:n,backend:r,attrs:a}=e,{indices:o,updates:s}=n,{shape:l}=a,{sliceRank:c,numUpdates:u,sliceSize:d,strides:p,outputSize:f}=i.md.calculateShapes(s,o,l),h=[f/d,d];if(0===f)return r.makeTensorInfo(l,o.dtype);const m=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:[u,c]}}),g=kernels_Reshape_reshape({inputs:{x:s},backend:r,attrs:{shape:[u,d]}}),y=r.makeTensorInfo([],"float32",new Float32Array([0])),b=new scatter_gpu_ScatterProgram(u,c,m.shape.length,g.shape.length,p,h),x=r.runWebGLProgram(b,[g,m,y],g.dtype),_=kernels_Reshape_reshape({inputs:{x:x},backend:r,attrs:{shape:l}});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(y),_}};class select_gpu_SelectProgram{constructor(e,n,r){let a,o;if(this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error(`Where for rank ${r} is not yet supported`);if(1===r)o="resRC",a="resRC";else{const r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[];for(let a=0;a<n.length;a++)s.push(`${r[a]}`),a<e&&i.push(`${r[a]}`);a=i.join(),o=s.join()}const i=getCoordsDataType(r);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${a});\n        if (cVal >= 1.0) {\n          setOutput(getA(${o}));\n        } else {\n          setOutput(getB(${o}));\n        }\n      }\n    `}}const $f={kernelName:i.yc,backendName:"webgl",kernelFunc:function kernels_Select_select(e){const{inputs:n,backend:r}=e,{condition:a,t:o,e:s}=n,l=new select_gpu_SelectProgram(a.shape.length,o.shape,o.shape.length);return r.runWebGLProgram(l,[a,o,s],Object(i.nf)(o.dtype,s.dtype))}},Bf=kernel_funcs_utils_unaryKernelFunc({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${i.md.SELU_SCALEALPHA};\n  float scale = ${i.md.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),Vf={kernelName:i.zc,backendName:"webgl",kernelFunc:Bf},Uf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return 1.0 / (1.0 + exp(-1.0 * x));"}),Wf={kernelName:i.Ac,backendName:"webgl",kernelFunc:Uf},Hf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Gf={kernelName:i.Bc,backendName:"webgl",kernelFunc:Hf},qf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),Kf={kernelName:i.Cc,backendName:"webgl",kernelFunc:qf},Xf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Yf={kernelName:i.Dc,backendName:"webgl",kernelFunc:Xf},Zf=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Jf={kernelName:i.Gc,backendName:"webgl",kernelFunc:Zf},Qf={kernelName:i.Hc,backendName:"webgl",kernelFunc:e=>{const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{blockShape:s,paddings:l}=a;i.of.assert(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const c=s.reduce(((e,n)=>e*n)),u=[[0,0]];u.push(...l);for(let i=1+s.length;i<o.shape.length;++i)u.push([0,0]);const d=[],p=PadV2_padV2({inputs:{x:o},backend:r,attrs:{paddings:u,constantValue:0}}),f=i.md.getReshaped(p.shape,s,c,!1),h=i.md.getPermuted(f.length,s.length,!1),m=i.md.getReshapedPermuted(p.shape,s,c,!1),g=kernels_Reshape_reshape({inputs:{x:p},backend:r,attrs:{shape:f}}),y=kernels_Transpose_transpose({inputs:{x:g},backend:r,attrs:{perm:h}}),b=kernels_Reshape_reshape({inputs:{x:y},backend:r,attrs:{shape:m}});return d.push(p),d.push(g),d.push(y),d.forEach((e=>r.disposeIntermediateTensorInfo(e))),b}};const eh={kernelName:i.Ic,backendName:"webgl",kernelFunc:function SparseToDense_sparseToDense(e){const{inputs:n,backend:r,attrs:a}=e,{sparseIndices:o,sparseValues:s,defaultValue:l}=n,{outputShape:c}=a,{sliceRank:u,numUpdates:d,strides:p,outputSize:f}=i.md.calculateShapes(s,o,c),h=new scatter_gpu_ScatterProgram(d,u,o.shape.length,s.shape.length,p,[f,1],!1),m=r.runWebGLProgram(h,[s,o,l],s.dtype),g=kernels_Reshape_reshape({inputs:{x:m},backend:r,attrs:{shape:c}});return r.disposeIntermediateTensorInfo(m),g}};const th={kernelName:i.Jc,backendName:"webgl",kernelFunc:function SplitV_splitV(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{numOrSizeSplits:s,axis:l}=a,c=i.of.parseAxisParam(l,o.shape)[0],u=i.md.prepareSplitSize(o,s,c),d=o.shape.length,p=new Array(d).fill(0),f=o.shape.slice();return u.map((e=>{const n=[...f];n[c]=e;const a=kernels_Slice_slice({inputs:{x:o},backend:r,attrs:{begin:p,size:n}});return p[c]+=e,a}))}},nh=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return sqrt(x);"}),rh={kernelName:i.Kc,backendName:"webgl",kernelFunc:nh},ah=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return x * x;"}),oh={kernelName:i.Lc,backendName:"webgl",kernelFunc:ah},ih="return (a - b) * (a - b);",sh=kernel_funcs_utils_binaryKernelFunc({opSnippet:ih,packedOpSnippet:ih}),lh={kernelName:i.Mc,backendName:"webgl",kernelFunc:sh};const ch={kernelName:i.Nc,backendName:"webgl",kernelFunc:function kernels_Step_step({inputs:e,attrs:n,backend:r}){const{x:a}=e,o=`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,i=new UnaryOpProgram(a.shape,o);return r.runWebGLProgram(i,[a],a.dtype)}};class strided_slice_gpu_StridedSliceProgram{constructor(e,n,r){this.variableNames=["x"],this.outputShape=r;const a=r.length,o=getCoordsDataType(r.length),i=getCoordsDataType(r.length);let s="";if(1===a)s="coords * strides + begin";else{let e=0;s=r.map(((n,a)=>(e++,1===r.length?`coords * strides[${a}] + begin[${a}]`:`coords[${e-1}] * strides[${a}] + begin[${a}]`))).join(",")}this.userCode=`\n      ${o} begin = ${o}(${e});\n      ${o} strides = ${o}(${n});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}const uh={kernelName:i.Oc,backendName:"webgl",kernelFunc:function StridedSlice_stridedSlice(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{begin:s,end:l,strides:c,beginMask:u,endMask:d,ellipsisMask:p,newAxisMask:f,shrinkAxisMask:h}=a,{nonStrided:m,$begin:g,$strides:y,size:b,newShape:x,outShape:_}=i.Re.sliceInfo(o.shape,s,l,c,u,d,p,f,h),w=kernels_Reshape_reshape({inputs:{x:o},backend:r,attrs:{shape:x}});let k;if(m){const e=kernels_Slice_slice({inputs:{x:w},backend:r,attrs:{begin:g,size:b}});k=kernels_Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:_}}),r.disposeIntermediateTensorInfo(e)}else if(_.some((e=>0===e)))k=r.makeTensorInfo(_,o.dtype,[]);else{if(r.shouldExecuteOnCPU([w])){const e=r.texData.get(w.dataId).values,n=Object(i.rd)(w.shape,w.dtype,e),a=Jc(_,n,y,g);k=r.makeTensorInfo(_,w.dtype,a.values)}else{const e=new strided_slice_gpu_StridedSliceProgram(g,y,_);k=r.runWebGLProgram(e,[w],w.dtype)}}const T=kernels_Reshape_reshape({inputs:{x:k},backend:r,attrs:{shape:_}});return r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(k),T}},dh=kernel_funcs_utils_unaryKernelFunc({opSnippet:"return tan(x);"}),ph={kernelName:i.Rc,backendName:"webgl",kernelFunc:dh},fh=kernel_funcs_utils_unaryKernelFunc({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),hh={kernelName:i.Sc,backendName:"webgl",kernelFunc:fh};class tile_gpu_TileProgram{constructor(e,n){this.variableNames=["A"];const r=new Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[i]*n[i];this.outputShape=r,this.rank=r.length;const a=getCoordsDataType(this.rank),o=function tile_gpu_getSourceCoords(e){const n=e.length;if(n>5)throw Error(`Tile for rank ${n} is not yet supported`);if(1===n)return`imod(resRC, ${e[0]})`;const r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let o=0;o<e.length;o++)a.push(`imod(${r[o]}, ${e[o]})`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function kernels_Tile_tile(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{reps:s}=a;if("string"===o.dtype){const e=r.readSync(o.dataId).map((e=>i.of.decodeString(e))),n=Object(i.rd)(o.shape,o.dtype,e),a=eu(n,s);return r.makeTensorInfo(a.shape,a.dtype,a.values)}const l=new tile_gpu_TileProgram(o.shape,s);return r.runWebGLProgram(l,[o],o.dtype)}const mh={kernelName:i.Vc,backendName:"webgl",kernelFunc:kernels_Tile_tile};const gh={kernelName:i.Wc,backendName:"webgl",kernelFunc:function TopK_topK(e){const{inputs:n,backend:r,attrs:a}=e,{x:o}=n,{k:i,sorted:s}=a,l=r.readSync(o.dataId),[c,u]=tu(l,o.shape,o.dtype,i,s);return[r.makeTensorInfo(c.shape,c.dtype,c.values),r.makeTensorInfo(u.shape,u.dtype,u.values)]}};class TransformProgram{constructor(e,n,r,a,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const s="nearest"===r?1:2;let l;switch(a){case"constant":l=1;break;case"reflect":l=2;break;case"wrap":l=3;break;case"nearest":l=4;break;default:l=1}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${l} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${l} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${l} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${n}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${o});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${o});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${n}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const yh={kernelName:i.Xc,backendName:"webgl",kernelFunc:function kernels_Transform_transform(e){const{inputs:n,backend:r,attrs:a}=e,{image:o,transforms:i}=n,{interpolation:s,fillMode:l,fillValue:c,outputShape:u}=a,[d,p,f,h]=o.shape,[m,g]=null!=u?u:[p,f],y=new TransformProgram(p,f,s,l,c,[d,m,g,h]);return r.runWebGLProgram(y,[o,i],"float32")}};const bh={kernelName:i.Zc,backendName:"webgl",kernelFunc:function kernels_Unique_unique(e){const{inputs:n,attrs:r,backend:a}=e,{axis:o}=r,{x:i}=n;webgl_util_assertNotComplex(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=a.readSync(i.dataId),{outputValues:l,outputShape:c,indices:u}=ru(s,o,i.shape,i.dtype);return[a.makeTensorInfo(c,i.dtype,l),a.makeTensorInfo([u.length],"int32",u)]}};const vh={kernelName:i.ad,backendName:"webgl",kernelFunc:function Unpack_unpack(e){const{inputs:n,backend:r,attrs:a}=e,{value:o}=n;let{axis:i}=a;i<0&&(i+=o.shape.length);const s=o,l=s.shape.length,c=o.shape[i],u=new Array(l-1);let d=0;for(let g=0;g<l;g++)g!==i&&(u[d++]=s.shape[g]);const p=[],f=new Array(l).fill(0),h=s.shape.slice();h[i]=1;const m=new Array(c);for(let g=0;g<m.length;g++){f[i]=g;const e=kernels_Slice_slice({inputs:{x:s},backend:r,attrs:{begin:f,size:h}}),n=kernels_Reshape_reshape({inputs:{x:e},backend:r,attrs:{shape:u}});m[g]=n,p.push(e)}return p.forEach((e=>r.disposeIntermediateTensorInfo(e))),m}};class SegmentOpProgram{constructor(e,n){this.variableNames=["x","segmentIds"];const r=e.windowSize,a=e.batchSize,o=e.inSize,i=e.numSegments,s=i*Math.ceil(o/r);this.outputShape=[a,s];const l=4*Math.floor(r/4),c=r%4,u="\n        sumValue += dot(values, segFilter);\n    ";let d="";o%r>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `);let p="";o%r>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${p}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${r}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${l}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${l};\n        if (${1===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===c}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const xh=[Rp,Lp,ku,Su,Cu,Iu,Eu,Du,ju,Ru,Lu,Pu,zu,Bu,Hu,Uu,qu,Xu,Ku,Yu,Zu,Ju,Qu,nd,rd,sd,ud,dd,pd,cu,hd,gd,yd,md,vd,xd,bd,wd,Td,Sd,Od,Cd,Ad,Nd,Md,Id,Ed,Dd,Rd,Ld,Fd,$d,Ud,Wd,qd,Kd,Xd,Yd,Qd,tp,np,ap,ip,sp,lp,up,pp,lu,fp,fd,mp,yp,vp,pu,_p,kp,Tp,Ap,Op,Np,Ep,jp,Pp,Bp,$p,Vp,Up,Wp,zp,Hp,Gp,Kp,Xp,Zp,af,vu,sf,cf,df,ff,od,hf,gf,yf,bf,xf,mu,_f,wf,id,Qp,Tf,Af,Of,xu,If,Nf,Mf,Ef,Df,jf,Lf,Ff,zf,$f,Vf,Wf,Gf,Kf,Yf,td,rf,Jf,Qf,eh,th,rh,oh,lh,ch,uh,nf,_u,ph,hh,mh,gh,yh,wu,bh,vh,{kernelName:i.bd,backendName:"webgl",kernelFunc:function UnsortedSegmentSum_unsortedSegmentSum(e){const{inputs:n,backend:r,attrs:a}=e,{x:o,segmentIds:s}=n,{numSegments:l}=a,c=o.shape.length,u=[];let d=0;const p=i.md.getAxesPermutation([d],c);let f=o;null!=p&&(f=kernels_Transpose_transpose({inputs:{x:o},backend:r,attrs:{perm:p}}),u.push(f),d=i.md.getInnerMostAxes(1,c)[0]);const h=i.md.segment_util.computeOutShape(f.shape,d,l),m=i.of.sizeFromShape([f.shape[d]]),g=kernels_Reshape_reshape({inputs:{x:f},backend:r,attrs:{shape:[-1,m]}});u.push(g);const y=Object(i.bf)(o.dtype),segOpCompute=(e,n,a,o,s)=>{const l=e.shape[0],c=e.shape[1],d=i.md.segment_util.segOpComputeOptimalWindowSize(c,s),p=new SegmentOpProgram({windowSize:d,inSize:c,batchSize:l,numSegments:s},n),f=r.compileAndRun(p,[e,a],o);if(u.push(f),f.shape[1]===s)return f;const h=kernels_Range_range({backend:r,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),m=kernels_Tile_tile({inputs:{x:h},backend:r,attrs:{reps:[c/d]}});u.push(h),u.push(m);return segOpCompute(f,n,m,o,s)},b=kernels_Reshape_reshape({inputs:{x:segOpCompute(g,"unsortedSegmentSum",s,y,l)},backend:r,attrs:{shape:h}});let x=b;if(null!=p){u.push(b);const e=i.md.getUndoAxesPermutation(p);x=kernels_Transpose_transpose({inputs:{x:x},backend:r,attrs:{perm:e}})}return u.forEach((e=>r.disposeIntermediateTensorInfo(e))),x}},mf];for(const _h of xh)Object(i.Ce)(_h);i.rf},ce4e:function(e,n,r){var a=r("da84"),o=r("9112");e.exports=function(e,n){try{o(a,e,n)}catch(r){a[e]=n}return n}},ce56:function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("e806").FP_SAFE,s=r("371e"),l=r("3c1c"),c=l.getFromId,u=l.isLinked;function getAutoRange(e,n){var r,a,i=[],s=e._fullLayout,l=makePadFn(s,n,0),c=makePadFn(s,n,1),u=concatExtremes(e,n),d=u.min,p=u.max;if(0===d.length||0===p.length)return o.simpleMap(n.range,n.r2l);var f=d[0].val,h=p[0].val;for(r=1;r<d.length&&f===h;r++)f=Math.min(f,d[r].val);for(r=1;r<p.length&&f===h;r++)h=Math.max(h,p[r].val);var m=!1;if(n.range){var g=o.simpleMap(n.range,n.r2l);m=g[1]<g[0]}"reversed"===n.autorange&&(m=!0,n.autorange=!0);var y,b,x,_,w,k,T=n.rangemode,S="tozero"===T,O="nonnegative"===T,C=n._length,A=C/10,I=0;for(r=0;r<d.length;r++)for(y=d[r],a=0;a<p.length;a++)(k=(b=p[a]).val-y.val-calcBreaksLength(n,y.val,b.val))>0&&((w=C-l(y)-c(b))>A?k/w>I&&(x=y,_=b,I=k/w):k/C>I&&(x={val:y.val,nopad:1},_={val:b.val,nopad:1},I=k/C));if(f===h){var N=f-1,M=f+1;if(S)if(0===f)i=[0,1];else{var E=(f>0?p:d).reduce((function maximumPad(e,n){return Math.max(e,c(n))}),0),D=f/(1-Math.min(.5,E/C));i=f>0?[0,D]:[D,0]}else i=O?[Math.max(0,N),Math.max(1,M)]:[N,M]}else S?(x.val>=0&&(x={val:0,nopad:1}),_.val<=0&&(_={val:0,nopad:1})):O&&(x.val-I*l(x)<0&&(x={val:0,nopad:1}),_.val<=0&&(_={val:1,nopad:1})),I=(_.val-x.val-calcBreaksLength(n,y.val,b.val))/(C-l(x)-c(_)),i=[x.val-I*l(x),_.val+I*c(_)];return m&&i.reverse(),o.simpleMap(i,n.l2r||Number)}function calcBreaksLength(e,n,r){var a=0;if(e.rangebreaks)for(var o=e.locateBreaks(n,r),i=0;i<o.length;i++){var s=o[i];a+=s.max-s.min}return a}function makePadFn(e,n,r){var a=.05*n._length,i=n._anchorAxis||{};if(-1!==(n.ticklabelposition||"").indexOf("inside")||-1!==(i.ticklabelposition||"").indexOf("inside")){var s="reversed"===n.autorange;if(!s){var l=o.simpleMap(n.range,n.r2l);s=l[1]<l[0]}s&&(r=!r)}var c=0;return u(e,n._id)||(c=function padInsideLabelsOnAnchorAxis(e,n){var r=0,a=e._anchorAxis||{};if(-1!==(a.ticklabelposition||"").indexOf("inside")&&(!n&&("left"===a.side||"bottom"===a.side)||n&&("top"===a.side||"right"===a.side))){var i="x"===e._id.charAt(0);if(a._vals){var s=o.deg2rad(a._tickAngles[a._id+"tick"]||0),l=Math.abs(Math.cos(s)),c=Math.abs(Math.sin(s));a._vals.forEach((function(e){if(e.bb){var n=6+e.bb.width,a=6+e.bb.height;r=Math.max(r,i?Math.max(n*l,a*c):Math.max(a*l,n*c))}}))}"inside"===a.ticks&&"inside"===a.ticklabelposition&&(r+=a.ticklen||0)}return r}(n,r)),a=Math.max(c,a),"domain"===n.constrain&&n._inputDomain&&(a*=(n._inputDomain[1]-n._inputDomain[0])/(n.domain[1]-n.domain[0])),function getPad(e){return e.nopad?0:e.pad+(e.extrapad?a:c)}}e.exports={getAutoRange:getAutoRange,makePadFn:makePadFn,doAutoRange:function doAutoRange(e,n,r){if(n.setScale(),n.autorange){n.range=r?r.slice():getAutoRange(e,n),n._r=n.range.slice(),n._rl=o.simpleMap(n._r,n.r2l);var a=n._input,i={};i[n._attr+".range"]=n.range,i[n._attr+".autorange"]=n.autorange,s.call("_storeDirectGUIEdit",e.layout,e._fullLayout._preGUI,i),a.range=n.range.slice(),a.autorange=n.autorange}var l=n._anchorAxis;if(l&&l.rangeslider){var c=l.rangeslider[n._name];c&&"auto"===c.rangemode&&(c.range=getAutoRange(e,n)),l._input.rangeslider[n._name]=o.extendFlat({},c)}},findExtremes:function findExtremes(e,n,r){r||(r={});e._m||e.setScale();var o,s,l,c,u,d,p,f,h,m=[],g=[],y=n.length,b=r.padded||!1,x=r.tozero&&("linear"===e.type||"-"===e.type),_="log"===e.type,w=!1,k=r.vpadLinearized||!1;function makePadAccessor(e){if(Array.isArray(e))return w=!0,function(n){return Math.max(Number(e[n]||0),0)};var n=Math.max(Number(e||0),0);return function(){return n}}var T=makePadAccessor((e._m>0?r.ppadplus:r.ppadminus)||r.ppad||0),S=makePadAccessor((e._m>0?r.ppadminus:r.ppadplus)||r.ppad||0),O=makePadAccessor(r.vpadplus||r.vpad),C=makePadAccessor(r.vpadminus||r.vpad);if(!w){if(f=1/0,h=-1/0,_)for(o=0;o<y;o++)(s=n[o])<f&&s>0&&(f=s),s>h&&s<i&&(h=s);else for(o=0;o<y;o++)(s=n[o])<f&&s>-i&&(f=s),s>h&&s<i&&(h=s);n=[f,h],y=2}var A={tozero:x,extrapad:b};function addItem(r){l=n[r],a(l)&&(d=T(r),p=S(r),k?(c=e.c2l(l)-C(r),u=e.c2l(l)+O(r)):(f=l-C(r),h=l+O(r),_&&f<h/10&&(f=h/10),c=e.c2l(f),u=e.c2l(h)),x&&(c=Math.min(0,c),u=Math.max(0,u)),goodNumber(c)&&collapseMinArray(m,c,p,A),goodNumber(u)&&collapseMaxArray(g,u,d,A))}var I=Math.min(6,y);for(o=0;o<I;o++)addItem(o);for(o=y-1;o>=I;o--)addItem(o);return{min:m,max:g,opts:r}},concatExtremes:concatExtremes};function concatExtremes(e,n,r){var a,o,i,s=n._id,l=e._fullData,u=e._fullLayout,d=[],p=[];function _concat(e,n){for(a=0;a<n.length;a++){var r=e[n[a]],l=(r._extremes||{})[s];if(!0===r.visible&&l){for(o=0;o<l.min.length;o++)i=l.min[o],collapseMinArray(d,i.val,i.pad,{extrapad:i.extrapad});for(o=0;o<l.max.length;o++)i=l.max[o],collapseMaxArray(p,i.val,i.pad,{extrapad:i.extrapad})}}}if(_concat(l,n._traceIndices),_concat(u.annotations||[],n._annIndices||[]),_concat(u.shapes||[],n._shapeIndices||[]),n._matchGroup&&!r)for(var f in n._matchGroup)if(f!==n._id){var h=c(e,f),m=concatExtremes(e,h,!0),g=n._length/h._length;for(o=0;o<m.min.length;o++)i=m.min[o],collapseMinArray(d,i.val,i.pad*g,{extrapad:i.extrapad});for(o=0;o<m.max.length;o++)i=m.max[o],collapseMaxArray(p,i.val,i.pad*g,{extrapad:i.extrapad})}return{min:d,max:p}}function collapseMinArray(e,n,r,a){collapseArray(e,n,r,a,lessOrEqual)}function collapseMaxArray(e,n,r,a){collapseArray(e,n,r,a,greaterOrEqual)}function collapseArray(e,n,r,a,o){for(var i=a.tozero,s=a.extrapad,l=!0,c=0;c<e.length&&l;c++){var u=e[c];if(o(u.val,n)&&u.pad>=r&&(u.extrapad||!s)){l=!1;break}o(n,u.val)&&u.pad<=r&&(s||!u.extrapad)&&(e.splice(c,1),c--)}if(l){var d=i&&0===n;e.push({val:n,pad:d?0:r,extrapad:!d&&s})}}function goodNumber(e){return a(e)&&Math.abs(e)<i}function lessOrEqual(e,n){return e<=n}function greaterOrEqual(e,n){return e>=n}},cec5:function(e,n,r){"use strict";e.exports=function incrementNumeric(e,n){if(!n)return e;var r=1/Math.abs(n),a=r>1?(r*e+r*n)/r:e+n,o=String(a).length;if(o>16){var i=String(n).length;if(o>=String(e).length+i){var s=parseFloat(a).toPrecision(12);-1===s.indexOf("e+")&&(a=+s)}}return a}},cef0:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({greater_:function greater_(e,n){let r=Object(s.a)(e,"a","greater"),c=Object(s.a)(n,"b","greater");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.nb,u)}})},cef00:function(e,n,r){"use strict";var a=r("fc26"),o=r("0642"),i=r("d858"),s=r("fdc7");function calcXPaddingOptions(e){return calcPaddingOptions(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function calcYPaddingOptions(e){return calcPaddingOptions(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function calcPaddingOptions(e,n,r,o,l,c){var u=e/2,d=c;if("pixel"===n){var p=l?s.extractPathCoords(l,c?i.paramIsY:i.paramIsX):[r,o],f=a.aggNums(Math.max,null,p),h=a.aggNums(Math.min,null,p),m=h<0?Math.abs(h)+u:u,g=f>0?f+u:u;return{ppad:u,ppadplus:d?m:g,ppadminus:d?g:m}}return{ppad:u}}function shapeBounds(e,n,r,a,o){var l="category"===e.type||"multicategory"===e.type?e.r2c:e.d2c;if(void 0!==n)return[l(n),l(r)];if(a){var c,u,d,p,f=1/0,h=-1/0,m=a.match(i.segmentRE);for("date"===e.type&&(l=s.decodeDate(l)),c=0;c<m.length;c++)void 0!==(u=o[m[c].charAt(0)].drawn)&&(!(d=m[c].substr(1).match(i.paramRE))||d.length<u||((p=l(d[u]))<f&&(f=p),p>h&&(h=p)));return h>=f?[f,h]:void 0}}e.exports=function calcAutorange(e){var n=e._fullLayout,r=a.filterVisible(n.shapes);if(r.length&&e._fullData.length)for(var s=0;s<r.length;s++){var l,c,u=r[s];u._extremes={};var d=o.getRefType(u.xref),p=o.getRefType(u.yref);if("paper"!==u.xref&&"domain"!==d){var f="pixel"===u.xsizemode?u.xanchor:u.x0,h="pixel"===u.xsizemode?u.xanchor:u.x1;(c=shapeBounds(l=o.getFromId(e,u.xref),f,h,u.path,i.paramIsX))&&(u._extremes[l._id]=o.findExtremes(l,c,calcXPaddingOptions(u)))}if("paper"!==u.yref&&"domain"!==p){var m="pixel"===u.ysizemode?u.yanchor:u.y0,g="pixel"===u.ysizemode?u.yanchor:u.y1;(c=shapeBounds(l=o.getFromId(e,u.yref),m,g,u.path,i.paramIsY))&&(u._extremes[l._id]=o.findExtremes(l,c,calcYPaddingOptions(u)))}}}},d010:function(e,n,r){"use strict";function _broadcast(e,n,r){this.$children.forEach((function(a){a.$options.componentName===e?a.$emit.apply(a,[n].concat(r)):_broadcast.apply(a,[e,n].concat([r]))}))}n.__esModule=!0,n.default={methods:{dispatch:function dispatch(e,n,r){for(var a=this.$parent||this.$root,o=a.$options.componentName;a&&(!o||o!==e);)(a=a.$parent)&&(o=a.$options.componentName);a&&a.$emit.apply(a,[n].concat(r))},broadcast:function broadcast(e,n,r){_broadcast.call(this,e,n,r)}}}},d012:function(e,n){e.exports={}},d039:function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},d066:function(e,n,r){var a=r("428f"),o=r("da84"),aFunction=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,n){return arguments.length<2?aFunction(a[e])||aFunction(o[e]):a[e]&&a[e][n]||o[e]&&o[e][n]}},d08e:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({reverse_:function reverse_(e,n){const r={x:Object(i.a)(e,"x","reverse")},s={dims:n};return a.a.runKernel(o.sc,r,s)}})},d0c8:function(e,n){e.exports=function adjoint(e,n){var r=n[0],a=n[1],o=n[2],i=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],p=n[9],f=n[10],h=n[11],m=n[12],g=n[13],y=n[14],b=n[15];return e[0]=l*(f*b-h*y)-p*(c*b-u*y)+g*(c*h-u*f),e[1]=-(a*(f*b-h*y)-p*(o*b-i*y)+g*(o*h-i*f)),e[2]=a*(c*b-u*y)-l*(o*b-i*y)+g*(o*u-i*c),e[3]=-(a*(c*h-u*f)-l*(o*h-i*f)+p*(o*u-i*c)),e[4]=-(s*(f*b-h*y)-d*(c*b-u*y)+m*(c*h-u*f)),e[5]=r*(f*b-h*y)-d*(o*b-i*y)+m*(o*h-i*f),e[6]=-(r*(c*b-u*y)-s*(o*b-i*y)+m*(o*u-i*c)),e[7]=r*(c*h-u*f)-s*(o*h-i*f)+d*(o*u-i*c),e[8]=s*(p*b-h*g)-d*(l*b-u*g)+m*(l*h-u*p),e[9]=-(r*(p*b-h*g)-d*(a*b-i*g)+m*(a*h-i*p)),e[10]=r*(l*b-u*g)-s*(a*b-i*g)+m*(a*u-i*l),e[11]=-(r*(l*h-u*p)-s*(a*h-i*p)+d*(a*u-i*l)),e[12]=-(s*(p*y-f*g)-d*(l*y-c*g)+m*(l*f-c*p)),e[13]=r*(p*y-f*g)-d*(a*y-o*g)+m*(a*f-o*p),e[14]=-(r*(l*y-c*g)-s*(a*y-o*g)+m*(a*c-o*l)),e[15]=r*(l*f-c*p)-s*(a*f-o*p)+d*(a*c-o*l),e}},d115:function(e,n,r){"use strict";var a=r("66cb"),o=r("19b2"),i=e.exports={},s=r("dfb3");i.defaults=s.defaults;var l=i.defaultLine=s.defaultLine;i.lightLine=s.lightLine;var c=i.background=s.background;function cleanOne(e){if(o(e)||"string"!=typeof e)return e;var n=e.trim();if("rgb"!==n.substr(0,3))return e;var r=n.match(/^rgba?\s*\(([^()]*)\)$/);if(!r)return e;var a=r[1].trim().split(/\s*[\s,]\s*/),i="a"===n.charAt(3)&&4===a.length;if(!i&&3!==a.length)return e;for(var s=0;s<a.length;s++){if(!a[s].length)return e;if(a[s]=Number(a[s]),!(a[s]>=0))return e;if(3===s)a[s]>1&&(a[s]=1);else if(a[s]>=1)return e}var l=Math.round(255*a[0])+", "+Math.round(255*a[1])+", "+Math.round(255*a[2]);return i?"rgba("+l+", "+a[3]+")":"rgb("+l+")"}i.tinyRGB=function(e){var n=e.toRgb();return"rgb("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+")"},i.rgb=function(e){return i.tinyRGB(a(e))},i.opacity=function(e){return e?a(e).getAlpha():0},i.addOpacity=function(e,n){var r=a(e).toRgb();return"rgba("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+", "+n+")"},i.combine=function(e,n){var r=a(e).toRgb();if(1===r.a)return a(e).toRgbString();var o=a(n||c).toRgb(),i=1===o.a?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},s={r:i.r*(1-r.a)+r.r*r.a,g:i.g*(1-r.a)+r.g*r.a,b:i.b*(1-r.a)+r.b*r.a};return a(s).toRgbString()},i.contrast=function(e,n,r){var o=a(e);return 1!==o.getAlpha()&&(o=a(i.combine(e,c))),(o.isDark()?n?o.lighten(n):c:r?o.darken(r):l).toString()},i.stroke=function(e,n){var r=a(n);e.style({stroke:i.tinyRGB(r),"stroke-opacity":r.getAlpha()})},i.fill=function(e,n){var r=a(n);e.style({fill:i.tinyRGB(r),"fill-opacity":r.getAlpha()})},i.clean=function(e){if(e&&"object"==typeof e){var n,r,a,o,s=Object.keys(e);for(n=0;n<s.length;n++)if(o=e[a=s[n]],"color"===a.substr(a.length-5))if(Array.isArray(o))for(r=0;r<o.length;r++)o[r]=cleanOne(o[r]);else e[a]=cleanOne(o);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(o))for(r=0;r<o.length;r++)Array.isArray(o[r])&&(o[r][1]=cleanOne(o[r][1]));else if(Array.isArray(o)){var l=o[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(r=0;r<o.length;r++)i.clean(o[r])}else o&&"object"==typeof o&&i.clean(o)}}},d18b:function(e,n,r){"use strict";e.exports=function handleCategoryOrderDefaults(e,n,r,a){if("category"===n.type){var o,i=e.categoryarray,s=Array.isArray(i)&&i.length>0;s&&(o="array");var l,c=r("categoryorder",o);"array"===c&&(l=r("categoryarray")),s||"array"!==c||(c=n.categoryorder="trace"),"trace"===c?n._initialCategories=[]:"array"===c?n._initialCategories=l.slice():(l=function findCategories(e,n){var r,a,o,i=n.dataAttr||e._id.charAt(0),s={};if(n.axData)r=n.axData;else for(r=[],a=0;a<n.data.length;a++){var l=n.data[a];l[i+"axis"]===e._id&&r.push(l)}for(a=0;a<r.length;a++){var c=r[a][i];for(o=0;o<c.length;o++){var u=c[o];null!=u&&(s[u]=1)}}return Object.keys(s)}(n,a).sort(),"category ascending"===c?n._initialCategories=l:"category descending"===c&&(n._initialCategories=l.reverse()))}}},d18e:function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=o.extendFlat,s=o.extendDeep;function cloneLayoutOverride(e){var n;switch(e){case"themes__thumb":n={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":n={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:n={}}return n}e.exports=function clonePlot(e,n){var r;e.framework&&e.framework.isPolar&&(e=e.framework.getConfig());var o,l=e.data,c=e.layout,u=s([],l),d=s({},c,cloneLayoutOverride(n.tileClass)),p=e._context||{};if(n.width&&(d.width=n.width),n.height&&(d.height=n.height),"thumbnail"===n.tileClass||"themes__thumb"===n.tileClass){d.annotations=[];var f=Object.keys(d);for(r=0;r<f.length;r++)o=f[r],["xaxis","yaxis","zaxis"].indexOf(o.slice(0,5))>-1&&(d[f[r]].title={text:""});for(r=0;r<u.length;r++){var h=u[r];h.showscale=!1,h.marker&&(h.marker.showscale=!1),a.traceIs(h,"pie-like")&&(h.textposition="none")}}if(Array.isArray(n.annotations))for(r=0;r<n.annotations.length;r++)d.annotations.push(n.annotations[r]);var m=Object.keys(d).filter((function(e){return e.match(/^scene\d*$/)}));if(m.length){var g={};for("thumbnail"===n.tileClass&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),r=0;r<m.length;r++){var y=d[m[r]];y.xaxis||(y.xaxis={}),y.yaxis||(y.yaxis={}),y.zaxis||(y.zaxis={}),i(y.xaxis,g),i(y.yaxis,g),i(y.zaxis,g),y._scene=null}}var b=document.createElement("div");n.tileClass&&(b.className=n.tileClass);var x={gd:b,td:b,layout:d,data:u,config:{staticPlot:void 0===n.staticPlot||n.staticPlot,plotGlPixelRatio:void 0===n.plotGlPixelRatio?2:n.plotGlPixelRatio,displaylogo:n.displaylogo||!1,showLink:n.showLink||!1,showTips:n.showTips||!1,mapboxAccessToken:p.mapboxAccessToken}};return"transparent"!==n.setBackground&&(x.config.setBackground=n.setBackground||"opaque"),x.gd.defaultLayout=cloneLayoutOverride(n.tileClass),x}},d1a8:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({atanh_:function atanh_(e){const n={x:Object(i.a)(e,"x","atanh")};return a.a.runKernel(o.n,n)}})},d1e7:function(e,n,r){"use strict";var a={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!a.call({1:2},1);n.f=i?function propertyIsEnumerable(e){var n=o(this,e);return!!n&&n.enumerable}:a},d1f4:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("a3f7"),o=r("6ad5"),i=r("54ef"),s=r("35c9");const l=Object(i.a)({squeeze_:function squeeze_(e,n){const r=Object(a.a)(e,"x","squeeze");return Object(s.a)(r,Object(o.Q)(r.shape,n).newShape)}})},d25f:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("a3f7"),o=r("526f"),i=r("e333"),s=r("ef00"),l=r("f183"),c=r("54ef");const u=Object(c.a)({logicalXor_:function logicalXor_(e,n){const r=Object(a.a)(e,"a","logicalXor","bool"),c=Object(a.a)(n,"b","logicalXor","bool");return Object(o.a)(r.shape,c.shape),Object(i.a)(Object(l.a)(e,n),Object(s.a)(Object(i.a)(e,n)))}})},d2bb:function(e,n,r){var a=r("825a"),o=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,n=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),n=r instanceof Array}catch(i){}return function setPrototypeOf(r,i){return a(r),o(i),n?e.call(r,i):r.__proto__=i,r}}():void 0)},d2d9:function(e,n,r){"use strict";var a=r("9845"),o=r("dfb3"),i=(0,r("a651").templatedArray)("button",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"plot",description:"Determines whether or not this button is visible."},step:{valType:"enumerated",role:"info",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot",description:["The unit of measurement that the `count` value will set the range by."].join(" ")},stepmode:{valType:"enumerated",role:"info",values:["backward","todate"],dflt:"backward",editType:"plot",description:["Sets the range update mode.","If *backward*, the range update shifts the start of range","back *count* times *step* milliseconds.","If *todate*, the range update shifts the start of range","back to the first timestamp from *count* times","*step* milliseconds back.","For example, with `step` set to *year* and `count` set to *1*","the range update shifts the start of the range back to","January 01 of the current year.","Month and year *todate* are currently available only","for the built-in (Gregorian) calendar."].join(" ")},count:{valType:"number",role:"info",min:0,dflt:1,editType:"plot",description:["Sets the number of steps to take to update the range.","Use with `step` to specify the update interval."].join(" ")},label:{valType:"string",role:"info",editType:"plot",description:"Sets the text label to appear on the button."},editType:"plot",description:["Sets the specifications for each buttons.","By default, a range selector comes with no buttons."].join(" ")});e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["Determines whether or not this range selector is visible.","Note that range selectors are only available for x axes of","`type` set to or auto-typed to *date*."].join(" ")},buttons:i,x:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the x position (in normalized coordinates) of the range selector."},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"plot",description:["Sets the range selector's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the range selector."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"plot",description:"Sets the y position (in normalized coordinates) of the range selector."},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",role:"info",editType:"plot",description:["Sets the range selector's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the range selector."].join(" ")},font:a({editType:"plot",description:"Sets the font of the range selector button text."}),bgcolor:{valType:"color",dflt:o.lightLine,role:"style",editType:"plot",description:"Sets the background color of the range selector buttons."},activecolor:{valType:"color",role:"style",editType:"plot",description:"Sets the background color of the active range selector button."},bordercolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"plot",description:"Sets the color of the border enclosing the range selector."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"plot",description:"Sets the width (in px) of the border enclosing the range selector."},editType:"plot"}},d301:function(e,n,r){"use strict";var a=r("055a").counter;e.exports={idRegex:{x:a("x","( domain)?"),y:a("y","( domain)?")},attrRegex:a("[xy]axis"),xAxisMatch:a("xaxis"),yAxisMatch:a("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},d303:function(e,n,r){"use strict";r.d(n,"a",(function(){return getRegisteredOp}));const a={};function getRegisteredOp(e){return a[e]}},d30a:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({tan_:function tan_(e){const n={x:Object(i.a)(e,"x","tan")};return a.a.runKernel(o.Qc,n)}})},d369:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({floor_:function floor_(e){const n={x:Object(i.a)(e,"x","floor")};return a.a.runKernel(o.fb,n)}})},d397:function(e,n,r){"use strict";n.__esModule=!0,n.isDef=function isDef(e){return null!=e},n.isKorean=function isKorean(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}},d3b7:function(e,n,r){var a=r("00ee"),o=r("6eeb"),i=r("b041");a||o(Object.prototype,"toString",i,{unsafe:!0})},d3dc:function(e,n,r){"use strict";e.exports={mod:function mod(e,n){var r=e%n;return r<0?r+n:r},modHalf:function modHalf(e,n){return Math.abs(e)>n/2?e-Math.round(e/n)*n:e}}},d44e:function(e,n,r){var a=r("9bf2").f,o=r("5135"),i=r("b622")("toStringTag");e.exports=function(e,n,r){e&&!o(e=r?e:e.prototype,i)&&a(e,i,{configurable:!0,value:n})}},d4de:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({notEqual_:function notEqual_(e,n){let r=Object(s.a)(e,"a","notEqual"),c=Object(s.a)(n,"b","notEqual");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.Zb,u)}})},d4e4:function(e,n,r){"use strict";r.d(n,"a",(function(){return MPRandGauss})),r.d(n,"b",(function(){return UniformRandom}));var a=r("a430");r("d565");class MPRandGauss{constructor(e,n,r,o,i){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=i||Math.random();this.random=a.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,n,r=!1;for(;!r;){let a,o,i;do{a=2*this.random()-1,o=2*this.random()-1,i=a*a+o*o}while(i>=1||0===i);const s=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(e)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class UniformRandom{constructor(e=0,n=1,r,o){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=n-e,this.dtype=r,null==o&&(o=Math.random()),"number"==typeof o&&(o=o.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=a.alea(o)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}},d54d:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({stack_:function stack_(e,n=0){const r=Object(i.b)(e,"tensors","stack","string_or_numeric");s.b(r.length>=1,(()=>"Pass at least one tensor to tf.stack")),r.length>0&&s.b(n<=r[0].rank,(()=>"Axis must be <= rank of the tensor"));const l=r,c={axis:n};return a.a.runKernel(o.cc,l,c)}})},d556:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}]},d565:function(e,n,r){"use strict";r.d(n,"b",(function(){return testEpsilon})),r.d(n,"a",(function(){return expectNumbersClose}));var a=r("6ae2");r("a3f7"),r("6ad5"),r("eb7e");function testEpsilon(){return 32===a.a.backend.floatPrecision()?.001:.1}function expectNumbersClose(e,n,r){if(null==r&&(r=testEpsilon()),!areClose(e,n,r))throw new Error(`Numbers differ: actual === ${e}, expected === ${n}`)}function areClose(e,n,r){return!isFinite(e)&&!isFinite(n)||!(isNaN(e)||isNaN(n)||Math.abs(e-n)>r)}},d72e:function(e,n,r){"use strict";var a=r("d301"),o=r("a651").templatedArray,i=r("445c");e.exports=o("image",{visible:{valType:"boolean",role:"info",dflt:!0,editType:"arraydraw",description:["Determines whether or not this image is visible."].join(" ")},source:{valType:"string",role:"info",editType:"arraydraw",description:["Specifies the URL of the image to be used.","The URL must be accessible from the domain where the","plot code is run, and can be either relative or absolute."].join(" ")},layer:{valType:"enumerated",values:["below","above"],dflt:"above",role:"info",editType:"arraydraw",description:["Specifies whether images are drawn below or above traces.","When `xref` and `yref` are both set to `paper`,","image is drawn below the entire plot area."].join(" ")},sizex:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size horizontally.","The image will be sized based on the `position` value.","When `xref` is set to `paper`, units are sized relative","to the plot width.","When `xref` ends with ` domain`, units are sized relative","to the axis width."].join(" ")},sizey:{valType:"number",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image container size vertically.","The image will be sized based on the `position` value.","When `yref` is set to `paper`, units are sized relative","to the plot height.","When `yref` ends with ` domain`, units are sized relative","to the axis height."].join(" ")},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",role:"info",editType:"arraydraw",description:["Specifies which dimension of the image to constrain."].join(" ")},opacity:{valType:"number",role:"info",min:0,max:1,dflt:1,editType:"arraydraw",description:"Sets the opacity of the image."},x:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's x position.","When `xref` is set to `paper`, units are sized relative","to the plot height.","See `xref` for more info"].join(" ")},y:{valType:"any",role:"info",dflt:0,editType:"arraydraw",description:["Sets the image's y position.","When `yref` is set to `paper`, units are sized relative","to the plot height.","See `yref` for more info"].join(" ")},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",role:"info",editType:"arraydraw",description:"Sets the anchor for the x position"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",role:"info",editType:"arraydraw",description:"Sets the anchor for the y position."},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's x coordinate axis.",i.axisRefDescription("x","left","right")].join(" ")},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",role:"info",editType:"arraydraw",description:["Sets the images's y coordinate axis.",i.axisRefDescription("y","bottom","top")].join(" ")},editType:"arraydraw"})},d784:function(e,n,r){"use strict";r("ac1f");var a=r("6eeb"),o=r("d039"),i=r("b622"),s=r("9112"),l=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),f=!o((function(){var e=/(?:)/,n=e.exec;e.exec=function(){return n.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,n,r,d){var h=i(e),m=!o((function(){var n={};return n[h]=function(){return 7},7!=""[e](n)})),g=m&&!o((function(){var n=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[l]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return n=!0,null},r[h](""),!n}));if(!m||!g||"replace"===e&&(!c||!u||p)||"split"===e&&!f){var y=/./[h],b=r(h,""[e],(function(e,n,r,a,o){return n.exec===RegExp.prototype.exec?m&&!o?{done:!0,value:y.call(n,r,a)}:{done:!0,value:e.call(r,n,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),x=b[0],_=b[1];a(String.prototype,e,x),a(RegExp.prototype,h,2==n?function(e,n){return _.call(e,this,n)}:function(e){return _.call(e,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},d798:function(e,n,r){"use strict";var a=r("9845"),o=r("dfb3"),i=r("db54").dash,s=r("9092").extendFlat,l=r("a651").templatedArray,c=r("78df").FORMAT_LINK,u=r("78df").DATE_FORMAT_LINK,d=r("e806").ONEDAY,p=r("d301"),f=p.HOUR_PATTERN,h=p.WEEKDAY_PATTERN;e.exports={visible:{valType:"boolean",role:"info",editType:"plot",description:["A single toggle to hide the axis while preserving interaction like dragging.","Default is true when a cheater plot is present on the axis, otherwise","false"].join(" ")},color:{valType:"color",dflt:o.defaultLine,role:"style",editType:"ticks",description:["Sets default for all colors associated with this axis","all at once: line, font, tick, and grid colors.","Grid color is lightened by blending this with the plot background","Individual pieces can override this."].join(" ")},title:{text:{valType:"string",role:"info",editType:"ticks",description:["Sets the title of this axis.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:a({editType:"ticks",description:["Sets this axis' title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),standoff:{valType:"number",role:"info",min:0,editType:"ticks",description:["Sets the standoff distance (in px) between the axis labels and the title text","The default value is a function of the axis tick labels, the title `font.size`","and the axis `linewidth`.","Note that the axis title position is always constrained within the margins,","so the actual standoff distance is always less than the set or default value.","By setting `standoff` and turning on `automargin`, plotly.js will push the","margins to fit the axis title at given standoff distance."].join(" ")},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",role:"info",editType:"calc",_noTemplating:!0,description:["Sets the axis type.","By default, plotly attempts to determined the axis type","by looking into the data of the traces that referenced","the axis in question."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",role:"info",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","Defaults to layout.autotypenumbers."].join(" ")},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,role:"info",editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0},description:["Determines whether or not the range of this axis is","computed in relation to the input data.","See `rangemode` for more info.","If `range` is provided, then `autorange` is set to *false*."].join(" ")},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",role:"info",editType:"plot",description:["If *normal*, the range is computed in relation to the extrema","of the input data.","If *tozero*`, the range extends to 0,","regardless of the input data","If *nonnegative*, the range is non-negative,","regardless of the input data.","Applies only to linear axes."].join(" ")},range:{valType:"info_array",role:"info",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0,description:["Sets the range of this axis.","If the axis `type` is *log*, then you must take the log of your","desired range (e.g. to set the range from 1 to 100,","set the range from 0 to 2).","If the axis `type` is *date*, it should be date strings,","like date data, though Date objects and unix milliseconds","will be accepted and converted to strings.","If the axis `type` is *category*, it should be numbers,","using the scale where each category is assigned a serial","number from zero in the order it appears."].join(" ")},fixedrange:{valType:"boolean",dflt:!1,role:"info",editType:"calc",description:["Determines whether or not this axis is zoom-able.","If true, then zoom is disabled."].join(" ")},scaleanchor:{valType:"enumerated",values:[p.idRegex.x.toString(),p.idRegex.y.toString()],role:"info",editType:"plot",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","changes together with the range of the corresponding axis","such that the scale of pixels per unit is in a constant ratio.","Both axes are still zoomable, but when you zoom one, the other will","zoom the same amount, keeping a fixed midpoint.","`constrain` and `constraintoward` determine how we enforce the constraint.","You can chain these, ie `yaxis: {scaleanchor: *x*}, xaxis2: {scaleanchor: *y*}`","but you can only link axes of the same `type`.","The linked axis can have the opposite letter (to constrain the aspect ratio)","or the same letter (to match scales across subplots).","Loops (`yaxis: {scaleanchor: *x*}, xaxis: {scaleanchor: *y*}` or longer) are redundant","and the last constraint encountered will be ignored to avoid possible","inconsistent constraints via `scaleratio`.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden."].join(" ")},scaleratio:{valType:"number",min:0,dflt:1,role:"info",editType:"plot",description:["If this axis is linked to another by `scaleanchor`, this determines the pixel","to unit scale ratio. For example, if this value is 10, then every unit on","this axis spans 10 times the number of pixels as a unit on the linked axis.","Use this for example to create an elevation profile where the vertical scale","is exaggerated a fixed amount with respect to the horizontal."].join(" ")},constrain:{valType:"enumerated",values:["range","domain"],role:"info",editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines how that happens:","by increasing the *range*, or by decreasing the *domain*.","Default is *domain* for axes containing image traces, *range* otherwise."].join(" ")},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],role:"info",editType:"plot",description:["If this axis needs to be compressed (either due to its own `scaleanchor` and","`scaleratio` or those of the other axis), determines which direction we push","the originally specified plot area. Options are *left*, *center* (default),","and *right* for x axes, and *top*, *middle* (default), and *bottom* for y axes."].join(" ")},matches:{valType:"enumerated",values:[p.idRegex.x.toString(),p.idRegex.y.toString()],role:"info",editType:"calc",description:["If set to another axis id (e.g. `x2`, `y`), the range of this axis","will match the range of the corresponding axis in data-coordinates space.","Moreover, matching axes share auto-range values, category lists and","histogram auto-bins.","Note that setting axes simultaneously in both a `scaleanchor` and a `matches` constraint","is currently forbidden.","Moreover, note that matching axes must have the same `type`."].join(" ")},rangebreaks:l("rangebreak",{enabled:{valType:"boolean",role:"info",dflt:!0,editType:"calc",description:["Determines whether this axis rangebreak is enabled or disabled.","Please note that `rangebreaks` only work for *date* axis type."].join(" ")},bounds:{valType:"info_array",role:"info",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc",description:["Sets the lower and upper bounds of this axis rangebreak.","Can be used with `pattern`."].join(" ")},pattern:{valType:"enumerated",values:[h,f,""],role:"info",editType:"calc",description:["Determines a pattern on the time line that generates breaks.","If *"+h+"* - days of the week in English e.g. 'Sunday' or `sun`","(matching is case-insensitive and considers only the first three characters),","as well as Sunday-based integers between 0 and 6.","If *"+f+"* - hour (24-hour clock) as decimal numbers between 0 and 24.","for more info.","Examples:","- { pattern: '"+h+"', bounds: [6, 1] }"," or simply { bounds: ['sat', 'mon'] }","  breaks from Saturday to Monday (i.e. skips the weekends).","- { pattern: '"+f+"', bounds: [17, 8] }","  breaks from 5pm to 8am (i.e. skips non-work hours)."].join(" ")},values:{valType:"info_array",freeLength:!0,role:"info",editType:"calc",items:{valType:"any",editType:"calc"},description:["Sets the coordinate values corresponding to the rangebreaks.","An alternative to `bounds`.","Use `dvalue` to set the size of the values along the axis."].join(" ")},dvalue:{valType:"number",role:"info",editType:"calc",min:0,dflt:d,description:["Sets the size of each `values` item.","The default is one day in milliseconds."].join(" ")},editType:"calc"}),tickmode:{valType:"enumerated",values:["auto","linear","array"],role:"info",editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0},description:["Sets the tick mode for this axis.","If *auto*, the number of ticks is set via `nticks`.","If *linear*, the placement of the ticks is determined by","a starting position `tick0` and a tick step `dtick`","(*linear* is the default value if `tick0` and `dtick` are provided).","If *array*, the placement of the ticks is set via `tickvals`","and the tick text is `ticktext`.","(*array* is the default value if `tickvals` is provided)."].join(" ")},nticks:{valType:"integer",min:0,dflt:0,role:"style",editType:"ticks",description:["Specifies the maximum number of ticks for the particular axis.","The actual number of ticks will be chosen automatically to be","less than or equal to `nticks`.","Has an effect only if `tickmode` is set to *auto*."].join(" ")},tick0:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the placement of the first tick on this axis.","Use with `dtick`.","If the axis `type` is *log*, then you must take the log of your starting tick","(e.g. to set the starting tick to 100, set the `tick0` to 2)","except when `dtick`=*L<f>* (see `dtick` for more info).","If the axis `type` is *date*, it should be a date string, like date data.","If the axis `type` is *category*, it should be a number, using the scale where","each category is assigned a serial number from zero in the order it appears."].join(" ")},dtick:{valType:"any",role:"style",editType:"ticks",impliedEdits:{tickmode:"linear"},description:["Sets the step in-between ticks on this axis. Use with `tick0`.","Must be a positive number, or special strings available to *log* and *date* axes.","If the axis `type` is *log*, then ticks are set every 10^(n*dtick) where n","is the tick number. For example,","to set a tick mark at 1, 10, 100, 1000, ... set dtick to 1.","To set tick marks at 1, 100, 10000, ... set dtick to 2.","To set tick marks at 1, 5, 25, 125, 625, 3125, ... set dtick to log_10(5), or 0.69897000433.","*log* has several special values; *L<f>*, where `f` is a positive number,","gives ticks linearly spaced in value (but not position).","For example `tick0` = 0.1, `dtick` = *L0.5* will put ticks at 0.1, 0.6, 1.1, 1.6 etc.","To show powers of 10 plus small digits between, use *D1* (all digits) or *D2* (only 2 and 5).","`tick0` is ignored for *D1* and *D2*.","If the axis `type` is *date*, then you must convert the time to milliseconds.","For example, to set the interval between ticks to one day,","set `dtick` to 86400000.0.","*date* also has special values *M<n>* gives ticks spaced by a number of months.","`n` must be a positive integer.","To set ticks on the 15th of every third month, set `tick0` to *2000-01-15* and `dtick` to *M3*.","To set ticks every 4 years, set `dtick` to *M48*"].join(" ")},tickvals:{valType:"data_array",editType:"ticks",description:["Sets the values at which ticks on this axis appear.","Only has an effect if `tickmode` is set to *array*.","Used with `ticktext`."].join(" ")},ticktext:{valType:"data_array",editType:"ticks",description:["Sets the text displayed at the ticks position via `tickvals`.","Only has an effect if `tickmode` is set to *array*.","Used with `tickvals`."].join(" ")},ticks:{valType:"enumerated",values:["outside","inside",""],role:"style",editType:"ticks",description:["Determines whether ticks are drawn or not.","If **, this axis' ticks are not drawn.","If *outside* (*inside*), this axis' are drawn outside (inside)","the axis lines."].join(" ")},tickson:{valType:"enumerated",values:["labels","boundaries"],role:"info",dflt:"labels",editType:"ticks",description:["Determines where ticks and grid lines are drawn with respect to their","corresponding tick labels.","Only has an effect for axes of `type` *category* or *multicategory*.","When set to *boundaries*, ticks and grid lines are drawn half a category","to the left/bottom of labels."].join(" ")},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",role:"info",editType:"ticks",description:["Determines where tick labels are drawn with respect to their","corresponding ticks and grid lines.","Only has an effect for axes of `type` *date*","When set to *period*, tick labels are drawn in the middle of the period","between ticks."].join(" ")},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",role:"info",editType:"calc",description:["Determines where tick labels are drawn with respect to the axis","Please note that","top or bottom has no effect on x axes or when `ticklabelmode` is set to *period*.","Similarly","left or right has no effect on y axes or when `ticklabelmode` is set to *period*.","Has no effect on *multicategory* axes or when `tickson` is set to *boundaries*.","When used on axes linked by `matches` or `scaleanchor`,","no extra padding for inside labels would be added by autorange,","so that the scales could match."].join(" ")},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,role:"style",editType:"ticks+layoutstyle",description:["Determines if the axis lines or/and ticks are mirrored to","the opposite side of the plotting area.","If *true*, the axis lines are mirrored.","If *ticks*, the axis lines and ticks are mirrored.","If *false*, mirroring is disable.","If *all*, axis lines are mirrored on all shared-axes subplots.","If *allticks*, axis lines and ticks are mirrored","on all shared-axes subplots."].join(" ")},ticklen:{valType:"number",min:0,dflt:5,role:"style",editType:"ticks",description:"Sets the tick length (in px)."},tickwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the tick width (in px)."},tickcolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"ticks",description:"Sets the tick color."},showticklabels:{valType:"boolean",dflt:!0,role:"style",editType:"ticks",description:"Determines whether or not the tick labels are drawn."},automargin:{valType:"boolean",dflt:!1,role:"style",editType:"ticks",description:["Determines whether long tick labels automatically grow the figure","margins."].join(" ")},showspikes:{valType:"boolean",dflt:!1,role:"style",editType:"modebar",description:["Determines whether or not spikes (aka droplines) are drawn for this axis.","Note: This only takes affect when hovermode = closest"].join(" ")},spikecolor:{valType:"color",dflt:null,role:"style",editType:"none",description:"Sets the spike color. If undefined, will use the series color"},spikethickness:{valType:"number",dflt:3,role:"style",editType:"none",description:"Sets the width (in px) of the zero line."},spikedash:s({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],role:"style",dflt:"toaxis",editType:"none",description:["Determines the drawing mode for the spike line","If *toaxis*, the line is drawn from the data point to the axis the ","series is plotted on.","If *across*, the line is drawn across the entire plot area, and","supercedes *toaxis*.","If *marker*, then a marker dot is drawn on the axis the series is","plotted on"].join(" ")},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"data",role:"style",editType:"none",description:"Determines whether spikelines are stuck to the cursor or to the closest datapoints."},tickfont:a({editType:"ticks",description:"Sets the tick font."}),tickangle:{valType:"angle",dflt:"auto",role:"style",editType:"ticks",description:["Sets the angle of the tick labels with respect to the horizontal.","For example, a `tickangle` of -90 draws the tick labels","vertically."].join(" ")},tickprefix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label prefix."},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all tick labels are displayed with a prefix.","If *first*, only the first tick is displayed with a prefix.","If *last*, only the last tick is displayed with a suffix.","If *none*, tick prefixes are hidden."].join(" ")},ticksuffix:{valType:"string",dflt:"",role:"style",editType:"ticks",description:"Sets a tick label suffix."},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:"Same as `showtickprefix` but for tick suffixes."},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",role:"style",editType:"ticks",description:["If *all*, all exponents are shown besides their significands.","If *first*, only the exponent of the first tick is shown.","If *last*, only the exponent of the last tick is shown.","If *none*, no exponents appear."].join(" ")},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",role:"style",editType:"ticks",description:["Determines a formatting rule for the tick exponents.","For example, consider the number 1,000,000,000.","If *none*, it appears as 1,000,000,000.","If *e*, 1e+9.","If *E*, 1E+9.","If *power*, 1x10^9 (with 9 in a super script).","If *SI*, 1G.","If *B*, 1B."].join(" ")},minexponent:{valType:"number",dflt:3,min:0,role:"style",editType:"ticks",description:["Hide SI prefix for 10^n if |n| is below this number.","This only has an effect when `tickformat` is *SI* or *B*."].join(" ")},separatethousands:{valType:"boolean",dflt:!1,role:"style",editType:"ticks",description:['If "true", even 4-digit integers are separated'].join(" ")},tickformat:{valType:"string",dflt:"",role:"style",editType:"ticks",description:["Sets the tick label formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:",c,"And for dates see:",u,"We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},tickformatstops:l("tickformatstop",{enabled:{valType:"boolean",role:"info",dflt:!0,editType:"ticks",description:["Determines whether or not this stop is used.","If `false`, this stop is ignored even within its `dtickrange`."].join(" ")},dtickrange:{valType:"info_array",role:"info",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks",description:["range [*min*, *max*], where *min*, *max* - dtick values","which describe some zoom level, it is possible to omit *min*","or *max* value by passing *null*"].join(" ")},value:{valType:"string",dflt:"",role:"style",editType:"ticks",description:["string - dtickformat for described zoom level, the same as *tickformat*"].join(" ")},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",role:"style",editType:"none",description:["Sets the hover text formatting rule using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see:",c,"And for dates see:",u,"We add one item to d3's date formatter: *%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")},showline:{valType:"boolean",dflt:!1,role:"style",editType:"ticks+layoutstyle",description:["Determines whether or not a line bounding this axis is drawn."].join(" ")},linecolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"layoutstyle",description:"Sets the axis line color."},linewidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks+layoutstyle",description:"Sets the width (in px) of the axis line."},showgrid:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not grid lines are drawn.","If *true*, the grid lines are drawn at every tick mark."].join(" ")},gridcolor:{valType:"color",dflt:o.lightLine,role:"style",editType:"ticks",description:"Sets the color of the grid lines."},gridwidth:{valType:"number",min:0,dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the grid lines."},zeroline:{valType:"boolean",role:"style",editType:"ticks",description:["Determines whether or not a line is drawn at along the 0 value","of this axis.","If *true*, the zero line is drawn on top of the grid lines."].join(" ")},zerolinecolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"ticks",description:"Sets the line color of the zero line."},zerolinewidth:{valType:"number",dflt:1,role:"style",editType:"ticks",description:"Sets the width (in px) of the zero line."},showdividers:{valType:"boolean",dflt:!0,role:"style",editType:"ticks",description:["Determines whether or not a dividers are drawn","between the category levels of this axis.","Only has an effect on *multicategory* axes."].join(" ")},dividercolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"ticks",description:["Sets the color of the dividers","Only has an effect on *multicategory* axes."].join(" ")},dividerwidth:{valType:"number",dflt:1,role:"style",editType:"ticks",description:["Sets the width (in px) of the dividers","Only has an effect on *multicategory* axes."].join(" ")},anchor:{valType:"enumerated",values:["free",p.idRegex.x.toString(),p.idRegex.y.toString()],role:"info",editType:"plot",description:["If set to an opposite-letter axis id (e.g. `x2`, `y`), this axis is bound to","the corresponding opposite-letter axis.","If set to *free*, this axis' position is determined by `position`."].join(" ")},side:{valType:"enumerated",values:["top","bottom","left","right"],role:"info",editType:"plot",description:["Determines whether a x (y) axis is positioned","at the *bottom* (*left*) or *top* (*right*)","of the plotting area."].join(" ")},overlaying:{valType:"enumerated",values:["free",p.idRegex.x.toString(),p.idRegex.y.toString()],role:"info",editType:"plot",description:["If set a same-letter axis id, this axis is overlaid on top of","the corresponding same-letter axis, with traces and axes visible for both","axes.","If *false*, this axis does not overlay any same-letter axes.","In this case, for axes with overlapping domains only the highest-numbered","axis will be visible."].join(" ")},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",role:"info",editType:"plot",description:["Sets the layer on which this axis is displayed.","If *above traces*, this axis is displayed above all the subplot's traces","If *below traces*, this axis is displayed below all the subplot's traces,","but above the grid lines.","Useful when used together with scatter-like traces with `cliponaxis`","set to *false* to show markers and/or text nodes above this axis."].join(" ")},domain:{valType:"info_array",role:"info",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot",description:["Sets the domain of this axis (in plot fraction)."].join(" ")},position:{valType:"number",min:0,max:1,dflt:0,role:"style",editType:"plot",description:["Sets the position of this axis in the plotting space","(in normalized coordinates).","Only has an effect if `anchor` is set to *free*."].join(" ")},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",role:"info",editType:"calc",description:["Specifies the ordering logic for the case of categorical variables.","By default, plotly uses *trace*, which specifies the order that is present in the data supplied.","Set `categoryorder` to *category ascending* or *category descending* if order should be determined by","the alphanumerical order of the category names.","Set `categoryorder` to *array* to derive the ordering from the attribute `categoryarray`. If a category","is not found in the `categoryarray` array, the sorting behavior for that attribute will be identical to","the *trace* mode. The unspecified categories will follow the categories in `categoryarray`.","Set `categoryorder` to *total ascending* or *total descending* if order should be determined by the","numerical order of the values.","Similarly, the order can be determined by the min, max, sum, mean or median of all the values."].join(" ")},categoryarray:{valType:"data_array",role:"info",editType:"calc",description:["Sets the order in which categories on this axis appear.","Only has an effect if `categoryorder` is set to *array*.","Used with `categoryorder`."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of user-driven changes in axis `range`,","`autorange`, and `title` if in `editable: true` configuration.","Defaults to `layout.uirevision`."].join(" ")},editType:"calc",_deprecated:{autotick:{valType:"boolean",role:"info",editType:"ticks",description:["Obsolete.","Set `tickmode` to *auto* for old `autotick` *true* behavior.","Set `tickmode` to *linear* for `autotick` *false*."].join(" ")},title:{valType:"string",role:"info",editType:"ticks",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the axis' title, please use `title.text` now."].join(" ")},titlefont:a({editType:"ticks",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}}},d7b0:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({real_:function real_(e){const n={input:Object(i.a)(e,"input","real")};return a.a.runKernel(o.ic,n)}})},d7da:function(e,n){e.exports=function frustum(e,n,r,a,o,i,s){var l=1/(r-n),c=1/(o-a),u=1/(i-s);return e[0]=2*i*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*i*c,e[6]=0,e[7]=0,e[8]=(r+n)*l,e[9]=(o+a)*c,e[10]=(s+i)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=s*i*2*u,e[15]=0,e}},d858:function(e,n,r){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},d92f:function(e,n,r){"use strict";var a=r("da6a"),o=r("fc26").isArrayOrTypedArray;e.exports=function handleTickValueDefaults(e,n,r,i){function readInput(r){var a=e[r];return void 0!==a?a:(n._template||{})[r]}var s=readInput("tick0"),l=readInput("dtick"),c=readInput("tickvals"),u=r("tickmode",o(c)?"array":l?"linear":"auto");if("auto"===u)r("nticks");else if("linear"===u){var d=n.dtick=a.dtick(l,i);n.tick0=a.tick0(s,i,n.calendar,d)}else if("multicategory"!==i){void 0===r("tickvals")?n.tickmode="auto":r("ticktext")}}},da6a:function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26"),i=r("e806"),s=i.ONEDAY,l=i.ONEWEEK;n.dtick=function(e,n){var r="log"===n,o="date"===n,i="category"===n,l=o?s:1;if(!e)return l;if(a(e))return(e=Number(e))<=0?l:i?Math.max(1,Math.round(e)):o?Math.max(.1,e):e;if("string"!=typeof e||!o&&!r)return l;var c=e.charAt(0),u=e.substr(1);return(u=a(u)?Number(u):0)<=0||!(o&&"M"===c&&u===Math.round(u)||r&&"L"===c||r&&"D"===c&&(1===u||2===u))?l:e},n.tick0=function(e,n,r,i){return"date"===n?o.cleanDate(e,o.dateTick0(r,i%l==0?1:0)):"D1"!==i&&"D2"!==i?a(e)?Number(e):0:void 0}},da84:function(e,n,r){(function(n){var check=function(e){return e&&e.Math==Math&&e};e.exports=check("object"==typeof globalThis&&globalThis)||check("object"==typeof window&&window)||check("object"==typeof self&&self)||check("object"==typeof n&&n)||function(){return this}()||Function("return this")()}).call(this,r("c8ba"))},dae8:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({expandDims_:function expandDims_(e,n=0){const r=Object(i.a)(e,"x","expandDims","string_or_numeric");s.b(n<=r.rank,(()=>"Axis must be <= rank of the tensor"));const l={input:r},c={dim:n};return a.a.runKernel(o.ab,l,c)}})},db3f:function(e,n,r){"use strict";var a=r("19b2"),o=r("371e"),i=r("0642"),s=r("fc26"),l=r("3c31");function calcOneAxis(e,n,r,o){var c=n["error_"+o]||{},u=[];if(c.visible&&-1!==["linear","log"].indexOf(r.type)){for(var d=l(c),p=0;p<e.length;p++){var f=e[p],h=f.i;if(void 0===h)h=p;else if(null===h)continue;var m=f[o];if(a(r.c2l(m))){var g=d(m,h);if(a(g[0])&&a(g[1])){var y=f[o+"s"]=m-g[0],b=f[o+"h"]=m+g[1];u.push(y,b)}}}var x=r._id,_=n._extremes[x],w=i.findExtremes(r,u,s.extendFlat({tozero:_.opts.tozero},{padded:!0}));_.min=_.min.concat(w.min),_.max=_.max.concat(w.max)}}e.exports=function calc(e){for(var n=e.calcdata,r=0;r<n.length;r++){var a=n[r],s=a[0].trace;if(!0===s.visible&&o.traceIs(s,"errorBarsOK")){var l=i.getFromId(e,s.xaxis),c=i.getFromId(e,s.yaxis);calcOneAxis(a,s,l,"x"),calcOneAxis(a,s,c,"y")}}}},db49:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({argMin_:function argMin_(e,n=0){const r={x:Object(i.a)(e,"x","argMin")},s={axis:n};return a.a.runKernel(o.i,r,s)}})},db54:function(e,n,r){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",role:"style",editType:"style",description:["Sets the dash style of lines. Set to a dash type string","(*solid*, *dot*, *dash*, *longdash*, *dashdot*, or *longdashdot*)","or a dash length list in px (eg *5px,10px,2px,2px*)."].join(" ")}},dbb4:function(e,n,r){var a=r("23e7"),o=r("83ab"),i=r("56ef"),s=r("fc6a"),l=r("06cf"),c=r("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(e){for(var n,r,a=s(e),o=l.f,u=i(a),d={},p=0;u.length>p;)void 0!==(r=o(a,n=u[p++]))&&c(d,n,r);return d}})},dbf3:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}]},dc14:function(e,n,r){"use strict";(function(e){r.d(n,"a",(function(){return ByteChunkIterator}));var a=r("fa11"),o=r("c388"),i=r("4cfc");class ByteChunkIterator extends o.a{decodeUTF8(){return new Utf8Iterator(this)}}class Utf8Iterator extends i.a{constructor(e){super(),this.upstream=e,this.impl=new Utf8IteratorImpl(e)}summary(){return this.impl.summary()}async next(){return this.impl.next()}}class Utf8IteratorImpl extends o.b{constructor(e){if(super(),this.upstream=e,Object(a.Ld)().get("IS_BROWSER"))this.decoder=new TextDecoder("utf-8");else{const{StringDecoder:e}=r(5);this.decoder=new e("utf8")}}summary(){return`${this.upstream.summary()} -> Utf8`}async pump(){const n=await this.upstream.next();let r,o;return!n.done&&(r=n.value,o=Object(a.Ld)().get("IS_BROWSER")?this.decoder.decode(r,{stream:!0}):this.decoder.write(e.from(r.buffer)),this.outputQueue.push(o),!0)}}}).call(this,r("b639").Buffer)},dc59:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({asinh_:function asinh_(e){const n={x:Object(i.a)(e,"x","asinh")};return a.a.runKernel(o.k,n)}})},dc75:function(e,n,r){"use strict";var a=r("19b2"),o=r("ae13"),i=r("306c"),s=r("e806").BADNUM,l=1e-9;function lessThan(e,n){return e<n}function lessOrEqual(e,n){return e<=n}function greaterThan(e,n){return e>n}function greaterOrEqual(e,n){return e>=n}n.findBin=function(e,n,r){if(a(n.start))return r?Math.ceil((e-n.start)/n.size-l)-1:Math.floor((e-n.start)/n.size+l);var i,s,c=0,u=n.length,d=0,p=u>1?(n[u-1]-n[0])/(u-1):1;for(s=p>=0?r?lessThan:lessOrEqual:r?greaterOrEqual:greaterThan,e+=p*l*(r?-1:1)*(p>=0?1:-1);c<u&&d++<100;)s(n[i=Math.floor((c+u)/2)],e)?c=i+1:u=i;return d>90&&o.log("Long binary search..."),c-1},n.sorterAsc=function(e,n){return e-n},n.sorterDes=function(e,n){return n-e},n.distinctVals=function(e,r){var a,o=(r||{}).unitMinDiff,i=e.slice();for(i.sort(n.sorterAsc),a=i.length-1;a>-1&&i[a]===s;a--);var l=1;o||(l=i[a]-i[0]||1);for(var c,u=l/(a||1)/1e4,d=[],p=0;p<=a;p++){var f=i[p],h=f-c;void 0===c?(d.push(f),c=f):h>u&&(l=Math.min(l,h),d.push(f),c=f)}return{vals:d,minDiff:l}},n.roundUp=function(e,n,r){for(var a,o=0,i=n.length-1,s=0,l=r?0:1,c=r?1:0,u=r?Math.ceil:Math.floor;o<i&&s++<100;)n[a=u((o+i)/2)]<=e?o=a+l:i=a-c;return n[o]},n.sort=function(e,n){for(var r=0,a=0,o=1;o<e.length;o++){var i=n(e[o],e[o-1]);if(i<0?r=1:i>0&&(a=1),r&&a)return e.sort(n)}return a?e:e.reverse()},n.findIndexOfMin=function(e,n){n=n||i;for(var r,a=1/0,o=0;o<e.length;o++){var s=n(e[o]);s<a&&(a=s,r=o)}return r}},dcc2:function(e,n,r){"use strict";var a=r("fc26"),o=r("e5ac"),i=r("42dc"),s=r("3d2e").name,l=i.buttons;function menuDefaults(e,n,r){function coerce(r,o){return a.coerce(e,n,i,r,o)}coerce("visible",o(e,n,{name:"buttons",handleItemDefaults:buttonDefaults}).length>0)&&(coerce("active"),coerce("direction"),coerce("type"),coerce("showactive"),coerce("x"),coerce("y"),a.noneOrAll(e,n,["x","y"]),coerce("xanchor"),coerce("yanchor"),coerce("pad.t"),coerce("pad.r"),coerce("pad.b"),coerce("pad.l"),a.coerceFont(coerce,"font",r.font),coerce("bgcolor",r.paper_bgcolor),coerce("bordercolor"),coerce("borderwidth"))}function buttonDefaults(e,n){function coerce(r,o){return a.coerce(e,n,l,r,o)}coerce("visible","skip"===e.method||Array.isArray(e.args))&&(coerce("method"),coerce("args"),coerce("args2"),coerce("label"),coerce("execute"))}e.exports=function updateMenusDefaults(e,n){o(e,n,{name:s,handleItemDefaults:menuDefaults})}},dcc8:function(e,n){e.exports=function create(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},dcf3:function(e,n){e.exports=!0},dd7e:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("b818"),c=r("54ef"),u=r("35c9");const d=Object(c.a)({conv2d_:function conv2d_(e,n,r,c,d="NHWC",p=[1,1],f){const h=Object(i.a)(e,"x","conv2d"),m=Object(i.a)(n,"filter","conv2d");let g=h,y=!1;3===h.rank&&(y=!0,g=Object(u.a)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),s.b(4===g.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${g.rank}.`)),s.b(4===m.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${m.rank}.`)),null!=f&&s.b(s.v(c),(()=>`Error in conv2d: pad must be an integer when using, dimRoundingMode ${f} but got pad ${c}.`));const b="NHWC"===d?g.shape[3]:g.shape[1];s.b(b===m.shape[2],(()=>`Error in conv2d: depth of input (${b}) must match input depth for filter ${m.shape[2]}.`)),s.b(l.h(r,p),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${p}'`));const x={x:g,filter:m},_={strides:r,pad:c,dataFormat:d,dilations:p,dimRoundingMode:f},w=a.a.runKernel(o.C,x,_);return y?Object(u.a)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},de1a:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({stridedSlice_:function stridedSlice_(e,n,r,s,l=0,c=0,u=0,d=0,p=0){const f={x:Object(i.a)(e,"x","stridedSlice")},h={begin:n,end:r,strides:s,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:p};return a.a.runKernel(o.Nc,f,h)}})},de22:function(e,n,r){"use strict";var a=r("fc26"),o=r("0642");function mockAnnAxes(e,n){var r=n.fullSceneLayout.domain,i=n.fullLayout._size,s={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};e._xa={},a.extendFlat(e._xa,s),o.setConvert(e._xa),e._xa._offset=i.l+r.x[0]*i.w,e._xa.l2p=function(){return.5*(1+e._pdata[0]/e._pdata[3])*i.w*(r.x[1]-r.x[0])},e._ya={},a.extendFlat(e._ya,s),o.setConvert(e._ya),e._ya._offset=i.t+(1-r.y[1])*i.h,e._ya.l2p=function(){return.5*(1-e._pdata[1]/e._pdata[3])*i.h*(r.y[1]-r.y[0])}}e.exports=function convert(e){for(var n=e.fullSceneLayout.annotations,r=0;r<n.length;r++)mockAnnAxes(n[r],e);e.fullLayout._infolayer.selectAll(".annotation-"+e.id).remove()}},de69:function(e,n,r){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},de81:function(e,n,r){"use strict";var a=r("fc26");e.exports={hasLines:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("lines")},hasMarkers:function(e){return e.visible&&(e.mode&&-1!==e.mode.indexOf("markers")||"splom"===e.type)},hasText:function(e){return e.visible&&e.mode&&-1!==e.mode.indexOf("text")},isBubble:function(e){return a.isPlainObject(e.marker)&&a.isArrayOrTypedArray(e.marker.size)}}},deb3:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef");const c=Object(l.a)({cast_:function cast_(e,n){const r=Object(i.a)(e,"x","cast");if(!s.B(n))throw new Error(`Failed to cast to unknown dtype ${n}`);if("string"===n&&"string"!==r.dtype||"string"!==n&&"string"===r.dtype)throw new Error("Only strings can be casted to strings");const l={x:r},c={dtype:n};return a.a.runKernel(o.w,l,c)}})},df75:function(e,n,r){var a=r("ca84"),o=r("7839");e.exports=Object.keys||function keys(e){return a(e,o)}},df7c:function(e,n,r){(function(e){function normalizeArray(e,n){for(var r=0,a=e.length-1;a>=0;a--){var o=e[a];"."===o?e.splice(a,1):".."===o?(e.splice(a,1),r++):r&&(e.splice(a,1),r--)}if(n)for(;r--;r)e.unshift("..");return e}function filter(e,n){if(e.filter)return e.filter(n);for(var r=[],a=0;a<e.length;a++)n(e[a],a,e)&&r.push(e[a]);return r}n.resolve=function(){for(var n="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,r="/"===o.charAt(0))}return(r?"/":"")+(n=normalizeArray(filter(n.split("/"),(function(e){return!!e})),!r).join("/"))||"."},n.normalize=function(e){var a=n.isAbsolute(e),o="/"===r(e,-1);return(e=normalizeArray(filter(e.split("/"),(function(e){return!!e})),!a).join("/"))||a||(e="."),e&&o&&(e+="/"),(a?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(filter(e,(function(e,n){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,r){function trim(e){for(var n=0;n<e.length&&""===e[n];n++);for(var r=e.length-1;r>=0&&""===e[r];r--);return n>r?[]:e.slice(n,r-n+1)}e=n.resolve(e).substr(1),r=n.resolve(r).substr(1);for(var a=trim(e.split("/")),o=trim(r.split("/")),i=Math.min(a.length,o.length),s=i,l=0;l<i;l++)if(a[l]!==o[l]){s=l;break}var c=[];for(l=s;l<a.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,a=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(n=e.charCodeAt(i))){if(!o){a=i;break}}else o=!1;return-1===a?r?"/":".":r&&1===a?"/":e.slice(0,a)},n.basename=function(e,n){var r=function basename(e){"string"!=typeof e&&(e+="");var n,r=0,a=-1,o=!0;for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){r=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(r,a)}(e);return n&&r.substr(-1*n.length)===n&&(r=r.substr(0,r.length-n.length)),r},n.extname=function(e){"string"!=typeof e&&(e+="");for(var n=-1,r=0,a=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===a&&(o=!1,a=s+1),46===l?-1===n?n=s:1!==i&&(i=1):-1!==n&&(i=-1);else if(!o){r=s+1;break}}return-1===n||-1===a||0===i||1===i&&n===a-1&&n===r+1?"":e.slice(n,a)};var r="b"==="ab".substr(-1)?function(e,n,r){return e.substr(n,r)}:function(e,n,r){return n<0&&(n=e.length+n),e.substr(n,r)}}).call(this,r("4362"))},df81:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({all_:function all_(e,n=null,r=!1){const s={x:Object(i.a)(e,"x","all","bool")},l={axis:n,keepDims:r};return a.a.runKernel(o.f,s,l)}})},df8b:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this,r="";n.next=function(){var e=n.x^n.x>>>2;return n.x=n.y,n.y=n.z,n.z=n.w,n.w=n.v,(n.d=n.d+362437|0)+(n.v=n.v^n.v<<4^e^e<<1)|0},n.x=0,n.y=0,n.z=0,n.w=0,n.v=0,e===(0|e)?n.x=e:r+=e;for(var a=0;a<r.length+64;a++)n.x^=0|r.charCodeAt(a),a==r.length&&(n.d=n.x<<10^n.x>>>4),n.next()}function copy(e,n){return n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n.v=e.v,n.d=e.d,n}function impl(e,n){var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&("object"==typeof a&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xorwow=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},dfb3:function(e,n,r){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},e034:function(e,n){e.exports=function fromRotationTranslation(e,n,r){var a=n[0],o=n[1],i=n[2],s=n[3],l=a+a,c=o+o,u=i+i,d=a*l,p=a*c,f=a*u,h=o*c,m=o*u,g=i*u,y=s*l,b=s*c,x=s*u;return e[0]=1-(h+g),e[1]=p+x,e[2]=f-b,e[3]=0,e[4]=p-x,e[5]=1-(d+g),e[6]=m+y,e[7]=0,e[8]=f+b,e[9]=m-y,e[10]=1-(d+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}},e053:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("deb3"),l=r("54ef");const c=Object(l.a)({sum_:function sum_(e,n=null,r=!1){let l=Object(i.a)(e,"x","sum");"bool"===l.dtype&&(l=Object(s.a)(l,"int32"));const c={x:l},u={axis:n,keepDims:r};return a.a.runKernel(o.Pc,c,u)}})},e101:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("6ad5"),l=r("54ef"),c=r("35c9");const u=Object(l.a)({localResponseNormalization_:function localResponseNormalization_(e,n=5,r=1,l=1,u=.5){const d=Object(i.a)(e,"x","localResponseNormalization");s.b(4===d.rank||3===d.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${d.rank}.`)),s.b(s.v(n),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${n}.`));let p=d,f=!1;3===d.rank&&(f=!0,p=Object(c.a)(d,[1,d.shape[0],d.shape[1],d.shape[2]]));const h={x:p},m={depthRadius:n,bias:r,alpha:l,beta:u},g=a.a.runKernel(o.vb,h,m);return f?Object(c.a)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},e12d:function(e,n){e.exports=function fromZRotation(e,n){var r=Math.sin(n),a=Math.cos(n);return e[0]=a,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},e163:function(e,n,r){var a=r("5135"),o=r("7b0b"),i=r("f772"),s=r("e177"),l=i("IE_PROTO"),c=Object.prototype;e.exports=s?Object.getPrototypeOf:function(e){return e=o(e),a(e,l)?e[l]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?c:null}},e177:function(e,n,r){var a=r("d039");e.exports=!a((function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F)!==F.prototype}))},e1fd:function(e,n,r){"use strict";r.d(n,"a",(function(){return u}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("54ef");const u=Object(c.a)({less_:function less_(e,n){let r=Object(s.a)(e,"a","less"),c=Object(s.a)(n,"b","less");[r,c]=Object(i.makeTypesMatch)(r,c),Object(l.a)(r.shape,c.shape);const u={a:r,b:c};return a.a.runKernel(o.yb,u)}})},e21b:function(e,n,r){"use strict";n.selectMode=function(e){return"lasso"===e||"select"===e},n.drawMode=function(e){return"drawclosedpath"===e||"drawopenpath"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.openMode=function(e){return"drawline"===e||"drawopenpath"===e},n.rectMode=function(e){return"select"===e||"drawline"===e||"drawrect"===e||"drawcircle"===e},n.freeMode=function(e){return"lasso"===e||"drawclosedpath"===e||"drawopenpath"===e},n.selectingOrDrawing=function(e){return n.freeMode(e)||n.rectMode(e)}},e22c:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({oneHot_:function oneHot_(e,n,r=1,s=0){if(n<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${n}`);const l={indices:Object(i.a)(e,"indices","oneHot","int32")},c={depth:n,onValue:r,offValue:s};return a.a.runKernel(o.ac,l,c)}})},e260:function(e,n,r){"use strict";var a=r("fc6a"),o=r("44d2"),i=r("3f8c"),s=r("69f3"),l=r("7dd0"),c="Array Iterator",u=s.set,d=s.getterFor(c);e.exports=l(Array,"Array",(function(e,n){u(this,{type:c,target:a(e),index:0,kind:n})}),(function(){var e=d(this),n=e.target,r=e.kind,a=e.index++;return!n||a>=n.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:a,done:!1}:"values"==r?{value:n[a],done:!1}:{value:[a,n[a]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e2cc:function(e,n,r){var a=r("6eeb");e.exports=function(e,n,r){for(var o in n)a(e,o,n[o],r);return e}},e313:function(e,n,r){var a=r("24d6"),o=r("55d6"),i=r("2c94"),s=r("7941"),l=r("f585"),c=r("07e8"),u=r("c29b");u.alea=a,u.xor128=o,u.xorwow=i,u.xorshift7=s,u.xor4096=l,u.tychei=c,e.exports=u},e333:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("526f"),l=r("54ef");const c=Object(l.a)({logicalAnd_:function logicalAnd_(e,n){const r=Object(i.a)(e,"a","logicalAnd","bool"),l=Object(i.a)(n,"b","logicalAnd","bool");Object(s.a)(r.shape,l.shape);const c={a:r,b:l};return a.a.runKernel(o.Eb,c)}})},e439:function(e,n,r){var a=r("23e7"),o=r("d039"),i=r("fc6a"),s=r("06cf").f,l=r("83ab"),c=o((function(){s(1)}));a({target:"Object",stat:!0,forced:!l||c,sham:!l},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(e,n){return s(i(e),n)}})},e440:function(e,n){e.exports=function parse(e){var n=[];return e.replace(a,(function(e,a,i){var s=a.toLowerCase();for(i=function parseValues(e){var n=e.match(o);return n?n.map(Number):[]}(i),"m"==s&&i.length>2&&(n.push([a].concat(i.splice(0,2))),s="l",a="m"==a?"l":"L");;){if(i.length==r[s])return i.unshift(a),n.push(i);if(i.length<r[s])throw new Error("malformed path data");n.push([a].concat(i.splice(0,r[s])))}})),n};var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var o=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},e538:function(e,n,r){var a=r("b622");n.f=a},e581:function(e,n,r){var a=r("fec5");e.exports=function lookAt(e,n,r,o){var i,s,l,c,u,d,p,f,h,m,g=n[0],y=n[1],b=n[2],x=o[0],_=o[1],w=o[2],k=r[0],T=r[1],S=r[2];if(Math.abs(g-k)<1e-6&&Math.abs(y-T)<1e-6&&Math.abs(b-S)<1e-6)return a(e);p=g-k,f=y-T,h=b-S,m=1/Math.sqrt(p*p+f*f+h*h),i=_*(h*=m)-w*(f*=m),s=w*(p*=m)-x*h,l=x*f-_*p,(m=Math.sqrt(i*i+s*s+l*l))?(i*=m=1/m,s*=m,l*=m):(i=0,s=0,l=0);c=f*l-h*s,u=h*i-p*l,d=p*s-f*i,(m=Math.sqrt(c*c+u*u+d*d))?(c*=m=1/m,u*=m,d*=m):(c=0,u=0,d=0);return e[0]=i,e[1]=c,e[2]=p,e[3]=0,e[4]=s,e[5]=u,e[6]=f,e[7]=0,e[8]=l,e[9]=d,e[10]=h,e[11]=0,e[12]=-(i*g+s*y+l*b),e[13]=-(c*g+u*y+d*b),e[14]=-(p*g+f*y+h*b),e[15]=1,e}},e5ac:function(e,n,r){"use strict";var a=r("fc26"),o=r("a651");e.exports=function handleArrayContainerDefaults(e,n,r){var i,s,l=r.name,c=r.inclusionAttr||"visible",u=n[l],d=a.isArrayOrTypedArray(e[l])?e[l]:[],p=n[l]=[],f=o.arrayTemplater(n,l,c);for(i=0;i<d.length;i++){var h=d[i];a.isPlainObject(h)?s=f.newItem(h):(s=f.newItem({}))[c]=!1,s._index=i,!1!==s[c]&&r.handleItemDefaults(h,s,n,r),p.push(s)}var m=f.defaultItems();for(i=0;i<m.length;i++)(s=m[i])._index=p.length,r.handleItemDefaults({},s,n,r,{}),p.push(s);if(a.isArrayOrTypedArray(u)){var g=Math.min(u.length,p.length);for(i=0;i<g;i++)a.relinkPrivateKeys(p[i],u[i])}return p}},e5d7:function(e,n,r){"use strict";var a=r("ac97").hoverPoints,o=r("0642").hoverLabelText;e.exports=function hoverPoints(e,n,r,i){var s=a(e,n,r,i);if(s){var l=(e=s[0]).cd[e.index],c=e.cd[0].trace;if(!c.cumulative.enabled){var u="h"===c.orientation?"y":"x";e[u+"Label"]=o(e[u+"a"],l.ph0,l.ph1)}return s}}},e62d:function(e,n,r){"use strict";n.__esModule=!0,n.default=function(){if(a.default.prototype.$isServer)return 0;if(void 0!==o)return o;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var n=e.offsetWidth;e.style.overflow="scroll";var r=document.createElement("div");r.style.width="100%",e.appendChild(r);var i=r.offsetWidth;return e.parentNode.removeChild(e),o=n-i};var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e"));var o=void 0},e639:function(e,n,r){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},e667:function(e,n){e.exports=function(e){try{return{error:!1,value:e()}}catch(n){return{error:!0,value:n}}}},e6cf:function(e,n,r){"use strict";var a,o,i,s,l=r("23e7"),c=r("c430"),u=r("da84"),d=r("d066"),p=r("fea9"),f=r("6eeb"),h=r("e2cc"),m=r("d44e"),g=r("2626"),y=r("861d"),b=r("1c0b"),x=r("19aa"),_=r("8925"),w=r("2266"),k=r("1c7e"),T=r("4840"),S=r("2cf4").set,O=r("b575"),C=r("cdf9"),A=r("44de"),I=r("f069"),N=r("e667"),M=r("69f3"),E=r("94ca"),D=r("b622"),j=r("605d"),R=r("2d00"),L=D("species"),z="Promise",$=M.get,B=M.set,V=M.getterFor(z),U=p,W=u.TypeError,H=u.document,G=u.process,q=d("fetch"),K=I.f,X=K,Y=!!(H&&H.createEvent&&u.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,J="unhandledrejection",Q=E(z,(function(){if(!(_(U)!==String(U))){if(66===R)return!0;if(!j&&!Z)return!0}if(c&&!U.prototype.finally)return!0;if(R>=51&&/native code/.test(U))return!1;var e=U.resolve(1),FakePromise=function(e){e((function(){}),(function(){}))};return(e.constructor={})[L]=FakePromise,!(e.then((function(){}))instanceof FakePromise)})),ee=Q||!k((function(e){U.all(e).catch((function(){}))})),isThenable=function(e){var n;return!(!y(e)||"function"!=typeof(n=e.then))&&n},notify=function(e,n){if(!e.notified){e.notified=!0;var r=e.reactions;O((function(){for(var a=e.value,o=1==e.state,i=0;r.length>i;){var s,l,c,u=r[i++],d=o?u.ok:u.fail,p=u.resolve,f=u.reject,h=u.domain;try{d?(o||(2===e.rejection&&onHandleUnhandled(e),e.rejection=1),!0===d?s=a:(h&&h.enter(),s=d(a),h&&(h.exit(),c=!0)),s===u.promise?f(W("Promise-chain cycle")):(l=isThenable(s))?l.call(s,p,f):p(s)):f(a)}catch(m){h&&!c&&h.exit(),f(m)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&onUnhandled(e)}))}},dispatchEvent=function(e,n,r){var a,o;Y?((a=H.createEvent("Event")).promise=n,a.reason=r,a.initEvent(e,!1,!0),u.dispatchEvent(a)):a={promise:n,reason:r},!Z&&(o=u["on"+e])?o(a):e===J&&A("Unhandled promise rejection",r)},onUnhandled=function(e){S.call(u,(function(){var n,r=e.facade,a=e.value;if(isUnhandled(e)&&(n=N((function(){j?G.emit("unhandledRejection",a,r):dispatchEvent(J,r,a)})),e.rejection=j||isUnhandled(e)?2:1,n.error))throw n.value}))},isUnhandled=function(e){return 1!==e.rejection&&!e.parent},onHandleUnhandled=function(e){S.call(u,(function(){var n=e.facade;j?G.emit("rejectionHandled",n):dispatchEvent("rejectionhandled",n,e.value)}))},bind=function(e,n,r){return function(a){e(n,a,r)}},internalReject=function(e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,notify(e,!0))},internalResolve=function(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw W("Promise can't be resolved itself");var a=isThenable(n);a?O((function(){var r={done:!1};try{a.call(n,bind(internalResolve,r,e),bind(internalReject,r,e))}catch(o){internalReject(r,o,e)}})):(e.value=n,e.state=1,notify(e,!1))}catch(o){internalReject({done:!1},o,e)}}};Q&&(U=function Promise(e){x(this,U,z),b(e),a.call(this);var n=$(this);try{e(bind(internalResolve,n),bind(internalReject,n))}catch(r){internalReject(n,r)}},(a=function Promise(e){B(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(U.prototype,{then:function then(e,n){var r=V(this),a=K(T(this,U));return a.ok="function"!=typeof e||e,a.fail="function"==typeof n&&n,a.domain=j?G.domain:void 0,r.parent=!0,r.reactions.push(a),0!=r.state&&notify(r,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new a,n=$(e);this.promise=e,this.resolve=bind(internalResolve,n),this.reject=bind(internalReject,n)},I.f=K=function(e){return e===U||e===i?new o(e):X(e)},c||"function"!=typeof p||(s=p.prototype.then,f(p.prototype,"then",(function then(e,n){var r=this;return new U((function(e,n){s.call(r,e,n)})).then(e,n)}),{unsafe:!0}),"function"==typeof q&&l({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(e){return C(U,q.apply(u,arguments))}}))),l({global:!0,wrap:!0,forced:Q},{Promise:U}),m(U,z,!1,!0),g(z),i=d(z),l({target:z,stat:!0,forced:Q},{reject:function reject(e){var n=K(this);return n.reject.call(void 0,e),n.promise}}),l({target:z,stat:!0,forced:c||Q},{resolve:function resolve(e){return C(c&&this===i?U:this,e)}}),l({target:z,stat:!0,forced:ee},{all:function all(e){var n=this,r=K(n),a=r.resolve,o=r.reject,i=N((function(){var r=b(n.resolve),i=[],s=0,l=1;w(e,(function(e){var c=s++,u=!1;i.push(void 0),l++,r.call(n,e).then((function(e){u||(u=!0,i[c]=e,--l||a(i))}),o)})),--l||a(i)}));return i.error&&o(i.value),r.promise},race:function race(e){var n=this,r=K(n),a=r.reject,o=N((function(){var o=b(n.resolve);w(e,(function(e){o.call(n,e).then(r.resolve,a)}))}));return o.error&&a(o.value),r.promise}})},e6fc:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.w,o=n.X,i=n.i;return n.w=a=a+1640531527|0,r=o[i+34&127],e=o[i=i+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=o[i]=r^e,n.i=i,r+(a^a>>>16)|0},function init(e,n){var r,a,o,i,s,l=[],c=128;for(n===(0|n)?(a=n,n=null):(n+="\0",a=0,c=Math.max(c,n.length)),o=0,i=-32;i<c;++i)n&&(a^=n.charCodeAt((i+32)%n.length)),0===i&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,i>=0&&(s=s+1640531527|0,o=0==(r=l[127&i]^=a+s)?o+1:0);for(o>=128&&(l[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)a=l[o+34&127],r=l[o=o+1&127],a^=a<<13,r^=r<<17,a^=a>>>15,r^=r>>>12,l[o]=a^r;e.w=s,e.X=l,e.i=o}(n,e)}function copy(e,n){return n.i=e.i,n.w=e.w,n.X=e.X.slice(),n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.X&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor4096=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},e772:function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=53)}({0:function(e,n,r){"use strict";function normalizeComponent(e,n,r,a,o,i,s,l){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function renderWithStyleInjection(e,n){return c.call(n),d(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(n,"a",(function(){return normalizeComponent}))},3:function(e,n){e.exports=r("8122")},33:function(e,n,r){"use strict";var render=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("li",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-select-dropdown__item",class:{selected:e.itemSelected,"is-disabled":e.disabled||e.groupDisabled||e.limitReached,hover:e.hover},on:{mouseenter:e.hoverItem,click:function(n){return n.stopPropagation(),e.selectOptionClick(n)}}},[e._t("default",[r("span",[e._v(e._s(e.currentLabel))])])],2)};render._withStripped=!0;var a=r(4),o=r.n(a),i=r(3),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l={mixins:[o.a],name:"ElOption",componentName:"ElOption",inject:["select"],props:{value:{required:!0},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},data:function data(){return{index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}},computed:{isObject:function isObject(){return"[object object]"===Object.prototype.toString.call(this.value).toLowerCase()},currentLabel:function currentLabel(){return this.label||(this.isObject?"":this.value)},currentValue:function currentValue(){return this.value||this.label||""},itemSelected:function itemSelected(){return this.select.multiple?this.contains(this.select.value,this.value):this.isEqual(this.value,this.select.value)},limitReached:function limitReached(){return!!this.select.multiple&&(!this.itemSelected&&(this.select.value||[]).length>=this.select.multipleLimit&&this.select.multipleLimit>0)}},watch:{currentLabel:function currentLabel(){this.created||this.select.remote||this.dispatch("ElSelect","setSelected")},value:function value(e,n){var r=this.select,a=r.remote,o=r.valueKey;if(!this.created&&!a){if(o&&"object"===(void 0===e?"undefined":s(e))&&"object"===(void 0===n?"undefined":s(n))&&e[o]===n[o])return;this.dispatch("ElSelect","setSelected")}}},methods:{isEqual:function isEqual(e,n){if(this.isObject){var r=this.select.valueKey;return Object(i.getValueByPath)(e,r)===Object(i.getValueByPath)(n,r)}return e===n},contains:function contains(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];if(this.isObject){var r=this.select.valueKey;return e&&e.some((function(e){return Object(i.getValueByPath)(e,r)===Object(i.getValueByPath)(n,r)}))}return e&&e.indexOf(n)>-1},handleGroupDisabled:function handleGroupDisabled(e){this.groupDisabled=e},hoverItem:function hoverItem(){this.disabled||this.groupDisabled||(this.select.hoverIndex=this.select.options.indexOf(this))},selectOptionClick:function selectOptionClick(){!0!==this.disabled&&!0!==this.groupDisabled&&this.dispatch("ElSelect","handleOptionClick",[this,!0])},queryChange:function queryChange(e){this.visible=new RegExp(Object(i.escapeRegexpString)(e),"i").test(this.currentLabel)||this.created,this.visible||this.select.filteredOptionsCount--}},created:function created(){this.select.options.push(this),this.select.cachedOptions.push(this),this.select.optionsCount++,this.select.filteredOptionsCount++,this.$on("queryChange",this.queryChange),this.$on("handleGroupDisabled",this.handleGroupDisabled)},beforeDestroy:function beforeDestroy(){var e=this.select,n=e.selected,r=e.multiple?n:[n],a=this.select.cachedOptions.indexOf(this),o=r.indexOf(this);a>-1&&o<0&&this.select.cachedOptions.splice(a,1),this.select.onOptionDestroy(this.select.options.indexOf(this))}},c=r(0),u=Object(c.a)(l,render,[],!1,null,null,null);u.options.__file="packages/select/src/option.vue";n.a=u.exports},4:function(e,n){e.exports=r("d010")},53:function(e,n,r){"use strict";r.r(n);var a=r(33);a.a.install=function(e){e.component(a.a.name,a.a)},n.default=a.a}})},e806:function(e,n,r){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},e812:function(e,n,r){"use strict";var a=r("6e58"),o=r("19b2"),i=r("66cb"),s=r("fc26"),l=s.strTranslate,c=s.strRotate,u=r("8741"),d=r("0379"),p=r("c953"),f=r("83d1"),h=r("d115"),m=r("4efe"),g=r("0642"),y=r("371e"),b=r("c4c7"),x=r("7fb7"),_=r("e813"),w=r("43d9"),k=x.YANGLE,T=Math.PI*k/180,S=1/Math.sin(T),O=Math.cos(T),C=Math.sin(T),A=x.HOVERARROWSIZE,I=x.HOVERTEXTPAD;function hoverDataKey(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa,e.ya||""].join(",")}n.hover=function hover(e,n,r,i){e=s.getGraphDiv(e),s.throttle(e._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,(function(){!function _hover(e,n,r,i){r||(r="xy");var l=Array.isArray(r)?r:[r],c=e._fullLayout,d=c._plots||[],f=d[r],g=c._has("cartesian");if(f){var x=f.overlays.map((function(e){return e.id}));l=l.concat(x)}for(var _=l.length,w=new Array(_),k=new Array(_),T=!1,O=0;O<_;O++){var C=l[O];if(d[C])T=!0,w[O]=d[C].xaxis,k[O]=d[C].yaxis;else{if(!c[C]||!c[C]._subplot)return void s.warn("Unrecognized subplot: "+C);var A=c[C]._subplot;w[O]=A.xaxis,k[O]=A.yaxis}}var I=n.hovermode||c.hovermode;I&&!T&&(I="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(I)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return m.unhoverRaw(e,n);var N,M,E,D,j,R,L,z,$,B,V,U,W,H=-1===c.hoverdistance?1/0:c.hoverdistance,G=-1===c.spikedistance?1/0:c.spikedistance,q=[],K=[],X={hLinePoint:null,vLinePoint:null},Y=!1;if(Array.isArray(n))for(I="array",E=0;E<n.length;E++)(j=e.calcdata[n[E].curveNumber||0])&&(R=j[0].trace,"skip"!==j[0].trace.hoverinfo&&(K.push(j),"h"===R.orientation&&(Y=!0)));else{for(D=0;D<e.calcdata.length;D++)j=e.calcdata[D],"skip"!==(R=j[0].trace).hoverinfo&&b.isTraceInSubplots(R,l)&&(K.push(j),"h"===R.orientation&&(Y=!0));var Z,J;if(!n.target)Z="xpx"in n?n.xpx:w[0]._length/2,J="ypx"in n?n.ypx:k[0]._length/2;else{if(!1===u.triggerHandler(e,"plotly_beforehover",n))return;var Q=n.target.getBoundingClientRect();Z=n.clientX-Q.left,J=n.clientY-Q.top,c._calcInverseTransform(e);var ee=s.apply3DTransform(c._invTransform)(Z,J);if(Z=ee[0],J=ee[1],Z<0||Z>w[0]._length||J<0||J>k[0]._length)return m.unhoverRaw(e,n)}if(n.pointerX=Z+w[0]._offset,n.pointerY=J+k[0]._offset,N="xval"in n?b.flat(l,n.xval):b.p2c(w,Z),M="yval"in n?b.flat(l,n.yval):b.p2c(k,J),!o(N[0])||!o(M[0]))return s.warn("Fx.hover failed",n,e),m.unhoverRaw(e,n)}var te=1/0;function findHoverPoints(e,r){for(D=0;D<K.length;D++)if((j=K[D])&&j[0]&&j[0].trace&&!0===(R=j[0].trace).visible&&0!==R._length&&-1===["carpet","contourcarpet"].indexOf(R._module.name)){if("splom"===R.type?L=l[z=0]:(L=b.getSubplot(R),z=l.indexOf(L)),$=I,b.isUnifiedHover($)&&($=$.charAt(0)),U={cd:j,trace:R,xa:w[z],ya:k[z],maxHoverDistance:H,maxSpikeDistance:G,index:!1,distance:Math.min(te,H),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:h.defaultLine,name:R.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},c[L]&&(U.subplot=c[L]._subplot),c._splomScenes&&c._splomScenes[R.uid]&&(U.scene=c._splomScenes[R.uid]),W=q.length,"array"===$){var a=n[D];"pointNumber"in a?(U.index=a.pointNumber,$="closest"):($="","xval"in a&&(B=a.xval,$="x"),"yval"in a&&(V=a.yval,$=$?"closest":"y"))}else void 0!==e&&void 0!==r?(B=e,V=r):(B=N[z],V=M[z]);if(0!==H)if(R._module&&R._module.hoverPoints){var i=R._module.hoverPoints(U,B,V,$,c._hoverlayer);if(i)for(var u,d=0;d<i.length;d++)u=i[d],o(u.x0)&&o(u.y0)&&q.push(cleanPoint(u,I))}else s.log("Unrecognized trace type in hover:",R);if("closest"===I&&q.length>W&&(q.splice(0,W),te=q[0].distance),g&&0!==G&&0===q.length){U.distance=G,U.index=!1;var p=R._module.hoverPoints(U,B,V,"closest",c._hoverlayer);if(p&&(p=p.filter((function(e){return e.spikeDistance<=G}))),p&&p.length){var f,m=p.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(m.length){var y=m[0];o(y.x0)&&o(y.y0)&&(f=fillSpikePoint(y),(!X.vLinePoint||X.vLinePoint.spikeDistance>f.spikeDistance)&&(X.vLinePoint=f))}var x=p.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(x.length){var _=x[0];o(_.x0)&&o(_.y0)&&(f=fillSpikePoint(_),(!X.hLinePoint||X.hLinePoint.spikeDistance>f.spikeDistance)&&(X.hLinePoint=f))}}}}}function selectClosestPoint(e,n){for(var r,a=null,o=1/0,i=0;i<e.length;i++)(r=e[i].spikeDistance)<=o&&r<=n&&(a=e[i],o=r);return a}function fillSpikePoint(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}findHoverPoints();var ne={fullLayout:c,container:c._hoverlayer,outerContainer:c._paperdiv,event:n},re=e._spikepoints,ae={vLinePoint:X.vLinePoint,hLinePoint:X.hLinePoint};if(e._spikepoints=ae,g&&0!==G&&0!==q.length){var oe=selectClosestPoint(q.filter((function(e){return e.ya.showspikes})),G);X.hLinePoint=fillSpikePoint(oe);var ie=selectClosestPoint(q.filter((function(e){return e.xa.showspikes})),G);X.vLinePoint=fillSpikePoint(ie)}if(0===q.length){var se=m.unhoverRaw(e,n);return!g||null===X.hLinePoint&&null===X.vLinePoint||spikesChanged(re)&&createSpikelines(e,X,ne),se}g&&spikesChanged(re)&&createSpikelines(e,X,ne);if(q.sort((function(e,n){return e.distance-n.distance})),b.isXYhover($)&&0!==q[0].length&&"splom"!==q[0].trace.type){var le=q[0],ce=le.cd[le.index],ue="group"===c.boxmode||"group"===c.violinmode,de=le.xVal,pe=le.xa;"category"===pe.type&&(de=pe._categoriesMap[de]),"date"===pe.type&&(de=pe.d2c(de)),ce&&ce.t&&ce.t.posLetter===pe._id&&ue&&(de+=ce.t.dPos);var fe=le.yVal;"category"===(pe=le.ya).type&&(fe=pe._categoriesMap[fe]),"date"===pe.type&&(fe=pe.d2c(fe)),ce&&ce.t&&ce.t.posLetter===pe._id&&ue&&(fe+=ce.t.dPos),findHoverPoints(de,fe);var he={};q=q.filter((function(e){var n=hoverDataKey(e);if(!he[n])return he[n]=!0,he[n]}))}var me=e._hoverdata,ge=[];for(E=0;E<q.length;E++){var ye=q[E],be=b.makeEventData(ye,ye.trace,ye.cd);if(!1!==ye.hovertemplate){var ve=!1;ye.cd[ye.index]&&ye.cd[ye.index].ht&&(ve=ye.cd[ye.index].ht),ye.hovertemplate=ve||ye.trace.hovertemplate||!1}ye.eventData=[be],ge.push(be)}e._hoverdata=ge;var xe="y"===I&&(K.length>1||q.length>1)||"closest"===I&&Y&&q.length>1,_e=h.combine(c.plot_bgcolor||h.background,c.paper_bgcolor),we={hovermode:I,rotateLabels:xe,bgColor:_e,container:c._hoverlayer,outerContainer:c._paperdiv,commonLabelOpts:c.hoverlabel,hoverdistance:c.hoverdistance},ke=createHoverText(q,we,e);b.isUnifiedHover(I)||(!function hoverAvoidOverlaps(e,n,r){var a,o,i,s,l,c,u,d=0,p=1,f=e.size(),h=new Array(f),m=0;function constrainGroup(e){var n=e[0],r=e[e.length-1];if(o=n.pmin-n.pos-n.dp+n.size,i=r.pos+r.dp+r.size-n.pmax,o>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=o;a=!1}if(!(i<.01)){if(o<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=i;a=!1}if(a){var u=0;for(s=0;s<e.length;s++)(c=e[s]).pos+c.dp+c.size>n.pmax&&u++;for(s=e.length-1;s>=0&&!(u<=0);s--)(c=e[s]).pos>n.pmax-1&&(c.del=!0,u--);for(s=0;s<e.length&&!(u<=0);s++)if((c=e[s]).pos<n.pmin+1)for(c.del=!0,u--,i=2*c.size,l=e.length-1;l>=0;l--)e[l].dp-=i;for(s=e.length-1;s>=0&&!(u<=0);s--)(c=e[s]).pos+c.dp+c.size>n.pmax&&(c.del=!0,u--)}}}e.each((function(e){var a=e[n],o="x"===a._id.charAt(0),i=a.range;0===m&&i&&i[0]>i[1]!==o&&(p=-1),h[m++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(o?S:1)/2,pmin:0,pmax:o?r.width:r.height}]})),h.sort((function(e,n){return e[0].posref-n[0].posref||p*(n[0].traceIndex-e[0].traceIndex)}));for(;!a&&d<=f;){for(d++,a=!0,s=0;s<h.length-1;){var g=h[s],y=h[s+1],b=g[g.length-1],x=y[0];if((o=b.pos+b.dp+b.size-x.pos-x.dp+x.size)>.01&&b.pmin===x.pmin&&b.pmax===x.pmax){for(l=y.length-1;l>=0;l--)y[l].dp+=o;for(g.push.apply(g,y),h.splice(s+1,1),u=0,l=g.length-1;l>=0;l--)u+=g[l].dp;for(i=u/g.length,l=g.length-1;l>=0;l--)g[l].dp-=i;a=!1}else s++}h.forEach(constrainGroup)}for(s=h.length-1;s>=0;s--){var _=h[s];for(l=_.length-1;l>=0;l--){var w=_[l],k=w.datum;k.offset=w.dp,k.del=w.del}}}(ke,xe?"xa":"ya",c),alignHoverText(ke,xe,c._invScaleX,c._invScaleY));if(n.target&&n.target.tagName){var Te=y.getComponentMethod("annotations","hasClickToShow")(e,ge);p(a.select(n.target),Te?"pointer":"")}if(!n.target||i||!function hoverChanged(e,n,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var a=r.length-1;a>=0;a--){var o=r[a],i=e._hoverdata[a];if(o.curveNumber!==i.curveNumber||String(o.pointNumber)!==String(i.pointNumber)||String(o.pointNumbers)!==String(i.pointNumbers))return!0}return!1}(e,0,me))return;me&&e.emit("plotly_unhover",{event:n,points:me});e.emit("plotly_hover",{event:n,points:e._hoverdata,xaxes:w,yaxes:k,xvals:N,yvals:M})}(e,n,r,i)}))},n.loneHover=function loneHover(e,n){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var o=e.map((function(e){return{color:e.color||h.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,eventData:e.eventData||!1,hovertemplateLabels:e.hovertemplateLabels||!1}})),i=a.select(n.container),s=n.outerContainer?a.select(n.outerContainer):i,l={hovermode:"closest",rotateLabels:!1,bgColor:n.bgColor||h.background,container:i,outerContainer:s},c=createHoverText(o,l,n.gd),u=0,d=0;c.sort((function(e,n){return e.y0-n.y0})).each((function(e,r){var a=e.y0-e.by/2;e.offset=a-5<u?u-a+5:0,u=a+e.by+e.offset,r===n.anchorIndex&&(d=e.offset)})).each((function(e){e.offset-=d}));var p=n.gd._fullLayout._invScaleX,f=n.gd._fullLayout._invScaleY;return alignHoverText(c,l.rotateLabels,p,f),r?c:c.node()};var N=/<extra>([\s\S]*)<\/extra>/;function createHoverText(e,n,r){var o=r._fullLayout,i=n.hovermode,u=n.rotateLabels,p=n.bgColor,m=n.container,g=n.outerContainer,y=n.commonLabelOpts||{},T=n.fontFamily||x.HOVERFONT,S=n.fontSize||x.HOVERFONTSIZE,O=e[0],C=O.xa,N=O.ya,M="y"===i.charAt(0)?"yLabel":"xLabel",E=O[M],D=(String(E)||"").split(" ")[0],j=g.node().getBoundingClientRect(),R=j.top,L=j.width,z=j.height,$=void 0!==E&&O.distance<=n.hoverdistance&&("x"===i||"y"===i);if($){var B,V,U=!0;for(B=0;B<e.length;B++)if(U&&void 0===e[B].zLabel&&(U=!1),V=e[B].hoverinfo||e[B].trace.hoverinfo){var W=Array.isArray(V)?V:V.split("+");if(-1===W.indexOf("all")&&-1===W.indexOf(i)){$=!1;break}}U&&($=!1)}var H=m.selectAll("g.axistext").data($?[0]:[]);function filterClosePoints(e){return e.filter((function(e){return void 0!==e.zLabelVal||(e[M]||"").split(" ")[0]===D}))}if(H.enter().append("g").classed("axistext",!0),H.exit().remove(),H.each((function(){var n=a.select(this),c=s.ensureSingle(n,"path","",(function(e){e.style({"stroke-width":"1px"})})),u=s.ensureSingle(n,"text","",(function(e){e.attr("data-notex",1)})),p=y.bgcolor||h.defaultLine,m=y.bordercolor||h.contrast(p),g=h.contrast(p),b={family:y.font.family||T,size:y.font.size||S,color:y.font.color||g};c.style({fill:p,stroke:m}),u.text(E).call(f.font,b).call(d.positionText,0,0).call(d.convertToTspans,r),n.attr("transform","");var x,_,w=u.node().getBoundingClientRect();if("x"===i){var k="top"===C.side?"-":"";u.attr("text-anchor","middle").call(d.positionText,0,"top"===C.side?R-w.bottom-A-I:R-w.top+A+I),x=C._offset+(O.x0+O.x1)/2,_=N._offset+("top"===C.side?0:N._length);var M=w.width/2+I;x<M?(x=M,c.attr("d","M-"+(M-A)+",0L-"+(M-2*A)+","+k+A+"H"+(I+w.width/2)+"v"+k+(2*I+w.height)+"H-"+M+"V"+k+A+"Z")):x>o.width-M?(x=o.width-M,c.attr("d","M"+(M-A)+",0L"+M+","+k+A+"v"+k+(2*I+w.height)+"H-"+M+"V"+k+A+"H"+(M-2*A)+"Z")):c.attr("d","M0,0L"+A+","+k+A+"H"+(I+w.width/2)+"v"+k+(2*I+w.height)+"H-"+(I+w.width/2)+"V"+k+A+"H-"+A+"Z")}else{var D,j,L;"right"===N.side?(D="start",j=1,L="",x=C._offset+C._length):(D="end",j=-1,L="-",x=C._offset),_=N._offset+(O.y0+O.y1)/2,u.attr("text-anchor",D),c.attr("d","M0,0L"+L+A+","+A+"V"+(I+w.height/2)+"h"+L+(2*I+w.width)+"V-"+(I+w.height/2)+"H"+L+A+"V-"+A+"Z");var z,$=w.height/2,B=R-w.top-$,V="clip"+o._uid+"commonlabel"+N._id;if(x<w.width+2*I+A){z="M-"+(A+I)+"-"+$+"h-"+(w.width-I)+"V"+$+"h"+(w.width-I)+"Z";var U=w.width-x+I;d.positionText(u,U,B),"end"===D&&u.selectAll("tspan").each((function(){var e=a.select(this),n=f.tester.append("text").text(e.text()).call(f.font,b),r=n.node().getBoundingClientRect();Math.round(r.width)<Math.round(w.width)&&e.attr("x",U-r.width),n.remove()}))}else d.positionText(u,j*(I+A),B),z=null;var W=o._topclips.selectAll("#"+V).data(z?[0]:[]);W.enter().append("clipPath").attr("id",V).append("path"),W.exit().remove(),W.select("path").attr("d",z),f.setClipUrl(u,z?V:null,r)}n.attr("transform",l(x,_)),e=filterClosePoints(e)})),b.isUnifiedHover(i)){if(m.selectAll("g.hovertext").remove(),void 0!==E&&O.distance<=n.hoverdistance&&(e=filterClosePoints(e)),0===e.length)return;var G={showlegend:!0,legend:{title:{text:E,font:o.hoverlabel.font},font:o.hoverlabel.font,bgcolor:o.hoverlabel.bgcolor,bordercolor:o.hoverlabel.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:o.legend?o.legend.traceorder:void 0,orientation:"v"}},q={};_(G,q,r._fullData);var K=q.legend;K.entries=[];for(var X=0;X<e.length;X++){var Y=getHoverLabelText(e[X],!0,i,o,E),Z=Y[0],J=Y[1],Q=e[X];Q.name=J,Q.text=""!==J?J+" : "+Z:Z;var ee=Q.cd[Q.index];ee&&(ee.mc&&(Q.mc=ee.mc),ee.mcc&&(Q.mc=ee.mcc),ee.mlc&&(Q.mlc=ee.mlc),ee.mlcc&&(Q.mlc=ee.mlcc),ee.mlw&&(Q.mlw=ee.mlw),ee.mrc&&(Q.mrc=ee.mrc),ee.dir&&(Q.dir=ee.dir)),Q._distinct=!0,K.entries.push([Q])}K.entries.sort((function(e,n){return e[0].trace.index-n[0].trace.index})),K.layer=m,w(r,K);var te=s.mean(e.map((function(e){return(e.y0+e.y1)/2}))),ne=s.mean(e.map((function(e){return(e.x0+e.x1)/2}))),re=m.select("g.legend"),ae=re.node().getBoundingClientRect();ne+=C._offset,te+=N._offset-ae.height/2;var oe=ae.width+2*I;!(ne+oe<=L)&&ne-oe>=0?ne-=oe:ne+=2*I;var ie=ae.height+2*I,se=te+ie>=z;return ie<=z&&(te<=R?te=N._offset+2*I:se&&(te=z-ie)),re.attr("transform",l(ne,te)),re}var le=m.selectAll("g.hovertext").data(e,(function(e){return hoverDataKey(e)}));return le.enter().append("g").classed("hovertext",!0).each((function(){var e=a.select(this);e.append("rect").call(h.fill,h.addOpacity(p,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(f.font,T,S)})),le.exit().remove(),le.each((function(e){var n=a.select(this).attr("transform",""),s=e.color;Array.isArray(s)&&(s=s[e.eventData[0].pointNumber]);var m=e.bgcolor||s,g=h.combine(h.opacity(m)?m:h.defaultLine,p),y=h.combine(h.opacity(s)?s:h.defaultLine,p),b=e.borderColor||h.contrast(g),x=getHoverLabelText(e,$,i,o,E,n),_=x[0],w=x[1],O=n.select("text.nums").call(f.font,e.fontFamily||T,e.fontSize||S,e.fontColor||b).text(_).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,r),C=n.select("text.name"),N=0,M=0;if(w&&w!==_){C.call(f.font,e.fontFamily||T,e.fontSize||S,y).text(w).attr("data-notex",1).call(d.positionText,0,0).call(d.convertToTspans,r);var D=C.node().getBoundingClientRect();N=D.width+2*I,M=D.height+2*I}else C.remove(),n.select("rect").remove();n.select("path").style({fill:g,stroke:b});var j,B,V=O.node().getBoundingClientRect(),U=e.xa._offset+(e.x0+e.x1)/2,W=e.ya._offset+(e.y0+e.y1)/2,H=Math.abs(e.x1-e.x0),G=Math.abs(e.y1-e.y0),q=V.width+A+I+N;if(e.ty0=R-V.top,e.bx=V.width+2*I,e.by=Math.max(V.height+2*I,M),e.anchor="start",e.txwidth=V.width,e.tx2width=N,e.offset=0,u)e.pos=U,j=W+G/2+q<=z,B=W-G/2-q>=0,"top"!==e.idealAlign&&j||!B?j?(W+=G/2,e.anchor="start"):e.anchor="middle":(W-=G/2,e.anchor="end");else if(e.pos=W,j=U+H/2+q<=L,B=U-H/2-q>=0,"left"!==e.idealAlign&&j||!B)if(j)U+=H/2,e.anchor="start";else{e.anchor="middle";var K=q/2,X=U+K-L,Y=U-K;X>0&&(U-=X),Y<0&&(U+=-Y)}else U-=H/2,e.anchor="end";O.attr("text-anchor",e.anchor),N&&C.attr("text-anchor",e.anchor),n.attr("transform",l(U,W)+(u?c(k):""))})),le}function getHoverLabelText(e,n,r,a,o,i){var l="",c="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=s.templateString(e.name,e.trace._meta)),l=plainText(e.name,e.nameLength)),void 0!==e.zLabel?(void 0!==e.xLabel&&(c+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(c+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(c+=(c?"z: ":"")+e.zLabel)):n&&e[r.charAt(0)+"Label"]===o?c=e[("x"===r.charAt(0)?"y":"x")+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(c=e.yLabel):c=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(c+=(c?"<br>":"")+e.text),void 0!==e.extraText&&(c+=(c?"<br>":"")+e.extraText),i&&""===c&&!e.hovertemplate&&(""===l&&i.remove(),c=l);var u=a._d3locale,d=e.hovertemplate||!1,p=e.hovertemplateLabels||e,f=e.eventData[0]||{};return d&&(c=(c=s.hovertemplateString(d,p,u,f,e.trace._meta)).replace(N,(function(n,r){return l=plainText(r,e.nameLength),""}))),[c,l]}function alignHoverText(e,n,r,o){var pX=function(e){return e*r},pY=function(e){return e*o};e.each((function(e){var r=a.select(this);if(e.del)return r.remove();var o=r.select("text.nums"),i=e.anchor,s="end"===i?-1:1,l={start:1,end:-1,middle:0}[i],c=l*(A+I),u=c+l*(e.txwidth+I),p=0,h=e.offset,m="middle"===i;m&&(c-=e.tx2width/2,u+=e.txwidth/2+I),n&&(h*=-C,p=e.offset*O),r.select("path").attr("d",m?"M-"+pX(e.bx/2+e.tx2width/2)+","+pY(h-e.by/2)+"h"+pX(e.bx)+"v"+pY(e.by)+"h-"+pX(e.bx)+"Z":"M0,0L"+pX(s*A+p)+","+pY(A+h)+"v"+pY(e.by/2-A)+"h"+pX(s*e.bx)+"v-"+pY(e.by)+"H"+pX(s*A+p)+"V"+pY(h-A)+"Z");var g=p+c,y=h+e.ty0-e.by/2+I,b=e.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==i?(o.attr("text-anchor","start"),g=m?-e.bx/2-e.tx2width/2+I:-e.bx-I):"right"===b&&"end"!==i&&(o.attr("text-anchor","end"),g=m?e.bx/2-e.tx2width/2-I:e.bx+I)),o.call(d.positionText,pX(g),pY(y)),e.tx2width&&(r.select("text.name").call(d.positionText,pX(u+l*I+p),pY(h+e.ty0-e.by/2+I)),r.select("rect").call(f.setRect,pX(u+(l-1)*e.tx2width/2+p),pY(h-e.by/2-1),pX(e.tx2width),pY(e.by+2)))}))}function cleanPoint(e,n){var r=e.index,a=e.trace||{},i=e.cd[0],l=e.cd[r]||{};function pass(e){return e||o(e)&&0===e}var c=Array.isArray(r)?function(e,n){var o=s.castOption(i,r,e);return pass(o)?o:s.extractOption({},a,"",n)}:function(e,n){return s.extractOption(l,a,e,n)};function fill(n,r,a){var o=c(r,a);pass(o)&&(e[n]=o)}if(fill("hoverinfo","hi","hoverinfo"),fill("bgcolor","hbg","hoverlabel.bgcolor"),fill("borderColor","hbc","hoverlabel.bordercolor"),fill("fontFamily","htf","hoverlabel.font.family"),fill("fontSize","hts","hoverlabel.font.size"),fill("fontColor","htc","hoverlabel.font.color"),fill("nameLength","hnl","hoverlabel.namelength"),fill("textAlign","hta","hoverlabel.align"),e.posref="y"===n||"closest"===n&&"h"===a.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=s.constrain(e.x0,0,e.xa._length),e.x1=s.constrain(e.x1,0,e.xa._length),e.y0=s.constrain(e.y0,0,e.ya._length),e.y1=s.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:g.hoverLabelText(e.xa,e.xLabelVal),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:g.hoverLabelText(e.ya,e.yLabelVal),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!(isNaN(e.xerr)||"log"===e.xa.type&&e.xerr<=0)){var u=g.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+u+" / -"+g.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" ± "+u,"x"===n&&(e.distance+=1)}if(!(isNaN(e.yerr)||"log"===e.ya.type&&e.yerr<=0)){var d=g.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+g.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" ± "+d,"y"===n&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&"all"!==p&&(-1===(p=Array.isArray(p)?p:p.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===p.indexOf("y")&&(e.yLabel=void 0),-1===p.indexOf("z")&&(e.zLabel=void 0),-1===p.indexOf("text")&&(e.text=void 0),-1===p.indexOf("name")&&(e.name=void 0)),e}function createSpikelines(e,n,r){var a,o,s=r.container,l=r.fullLayout,c=l._size,u=r.event,d=!!n.hLinePoint,p=!!n.vLinePoint;if(s.selectAll(".spikeline").remove(),p||d){var m=h.combine(l.plot_bgcolor,l.paper_bgcolor);if(d){var y,b,x=n.hLinePoint;a=x&&x.xa,"cursor"===(o=x&&x.ya).spikesnap?(y=u.pointerX,b=u.pointerY):(y=a._offset+x.x,b=o._offset+x.y);var _,w,k=i.readability(x.color,m)<1.5?h.contrast(m):x.color,T=o.spikemode,S=o.spikethickness,O=o.spikecolor||k,C=g.getPxPosition(e,o);if(-1!==T.indexOf("toaxis")||-1!==T.indexOf("across")){if(-1!==T.indexOf("toaxis")&&(_=C,w=y),-1!==T.indexOf("across")){var A=o._counterDomainMin,I=o._counterDomainMax;"free"===o.anchor&&(A=Math.min(A,o.position),I=Math.max(I,o.position)),_=c.l+A*c.w,w=c.l+I*c.w}s.insert("line",":first-child").attr({x1:_,x2:w,y1:b,y2:b,"stroke-width":S,stroke:O,"stroke-dasharray":f.dashStyle(o.spikedash,S)}).classed("spikeline",!0).classed("crisp",!0),s.insert("line",":first-child").attr({x1:_,x2:w,y1:b,y2:b,"stroke-width":S+2,stroke:m}).classed("spikeline",!0).classed("crisp",!0)}-1!==T.indexOf("marker")&&s.insert("circle",":first-child").attr({cx:C+("right"!==o.side?S:-S),cy:b,r:S,fill:O}).classed("spikeline",!0)}if(p){var N,M,E=n.vLinePoint;a=E&&E.xa,o=E&&E.ya,"cursor"===a.spikesnap?(N=u.pointerX,M=u.pointerY):(N=a._offset+E.x,M=o._offset+E.y);var D,j,R=i.readability(E.color,m)<1.5?h.contrast(m):E.color,L=a.spikemode,z=a.spikethickness,$=a.spikecolor||R,B=g.getPxPosition(e,a);if(-1!==L.indexOf("toaxis")||-1!==L.indexOf("across")){if(-1!==L.indexOf("toaxis")&&(D=B,j=M),-1!==L.indexOf("across")){var V=a._counterDomainMin,U=a._counterDomainMax;"free"===a.anchor&&(V=Math.min(V,a.position),U=Math.max(U,a.position)),D=c.t+(1-U)*c.h,j=c.t+(1-V)*c.h}s.insert("line",":first-child").attr({x1:N,x2:N,y1:D,y2:j,"stroke-width":z,stroke:$,"stroke-dasharray":f.dashStyle(a.spikedash,z)}).classed("spikeline",!0).classed("crisp",!0),s.insert("line",":first-child").attr({x1:N,x2:N,y1:D,y2:j,"stroke-width":z+2,stroke:m}).classed("spikeline",!0).classed("crisp",!0)}-1!==L.indexOf("marker")&&s.insert("circle",":first-child").attr({cx:N,cy:B-("top"!==a.side?z:-z),r:z,fill:$}).classed("spikeline",!0)}}}function spikesChanged(e,n){return!n||(n.vLinePoint!==e._spikepoints.vLinePoint||n.hLinePoint!==e._spikepoints.hLinePoint)}function plainText(e,n){return d.plainText(e||"",{len:n,allowedTags:["br","sub","sup","b","i","em"]})}},e813:function(e,n,r){"use strict";var a=r("371e"),o=r("fc26"),i=r("a651"),s=r("e827"),l=r("a685"),c=r("79f1");e.exports=function legendDefaults(e,n,r){for(var u=e.legend||{},d=0,p=!1,f="normal",h=0;h<r.length;h++){var m=r[h];m.visible&&((m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&!1===m._module.attributes.showlegend.dflt))&&(d++,m.showlegend&&(p=!0,(a.traceIs(m,"pie-like")||!0===m._input.showlegend)&&d++)),(a.traceIs(m,"bar")&&"stack"===n.barmode||-1!==["tonextx","tonexty"].indexOf(m.fill))&&(f=c.isGrouped({traceorder:f})?"grouped+reversed":"reversed"),void 0!==m.legendgroup&&""!==m.legendgroup&&(f=c.isReversed({traceorder:f})?"reversed+grouped":"grouped"))}var g=o.coerce(e,n,l,"showlegend",p&&d>1);if(!1!==g||u.uirevision){var y=i.newContainer(n,"legend");if(coerce("uirevision",n.uirevision),!1!==g){coerce("bgcolor",n.paper_bgcolor),coerce("bordercolor"),coerce("borderwidth"),o.coerceFont(coerce,"font",n.font);var b,x,_,w=coerce("orientation");"h"===w?(b=0,a.getComponentMethod("rangeslider","isVisible")(e.xaxis)?(x=1.1,_="bottom"):(x=-.1,_="top")):(b=1.02,x=1,_="auto"),coerce("traceorder",f),c.isGrouped(n.legend)&&coerce("tracegroupgap"),coerce("itemsizing"),coerce("itemwidth"),coerce("itemclick"),coerce("itemdoubleclick"),coerce("x",b),coerce("xanchor"),coerce("y",x),coerce("yanchor",_),coerce("valign"),o.noneOrAll(u,y,["x","y"]),coerce("title.text")&&(coerce("title.side","h"===w?"left":"top"),o.coerceFont(coerce,"title.font",n.font))}}function coerce(e,n){return o.coerce(u,y,s,e,n)}}},e827:function(e,n,r){"use strict";var a=r("9845"),o=r("dfb3");e.exports={bgcolor:{valType:"color",role:"style",editType:"legend",description:["Sets the legend background color.","Defaults to `layout.paper_bgcolor`."].join(" ")},bordercolor:{valType:"color",dflt:o.defaultLine,role:"style",editType:"legend",description:"Sets the color of the border enclosing the legend."},borderwidth:{valType:"number",min:0,dflt:0,role:"style",editType:"legend",description:"Sets the width (in px) of the border enclosing the legend."},font:a({editType:"legend",description:"Sets the font used to text the legend items."}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",role:"info",editType:"legend",description:"Sets the orientation of the legend."},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],role:"style",editType:"legend",description:["Determines the order at which the legend items are displayed.","If *normal*, the items are displayed top-to-bottom in the same","order as the input data.","If *reversed*, the items are displayed in the opposite order","as *normal*.","If *grouped*, the items are displayed in groups","(when a trace `legendgroup` is provided).","if *grouped+reversed*, the items are displayed in the opposite order","as *grouped*."].join(" ")},tracegroupgap:{valType:"number",min:0,dflt:10,role:"style",editType:"legend",description:["Sets the amount of vertical space (in px) between legend groups."].join(" ")},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",role:"style",editType:"legend",description:["Determines if the legend items symbols scale with their corresponding *trace* attributes","or remain *constant* independent of the symbol size on the graph."].join(" ")},itemwidth:{valType:"number",min:30,dflt:30,role:"style",editType:"legend",description:"Sets the width (in px) of the legend item symbols (the part other than the title.text)."},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",role:"info",editType:"legend",description:["Determines the behavior on legend item click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item click interactions."].join(" ")},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",role:"info",editType:"legend",description:["Determines the behavior on legend item double-click.","*toggle* toggles the visibility of the item clicked on the graph.","*toggleothers* makes the clicked item the sole visible item on the graph.","*false* disable legend item double-click interactions."].join(" ")},x:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the x position (in normalized coordinates) of the legend.","Defaults to *1.02* for vertical legends and","defaults to *0* for horizontal legends."].join(" ")},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",role:"info",editType:"legend",description:["Sets the legend's horizontal position anchor.","This anchor binds the `x` position to the *left*, *center*","or *right* of the legend.","Value *auto* anchors legends to the right for `x` values greater than or equal to 2/3,","anchors legends to the left for `x` values less than or equal to 1/3 and","anchors legends with respect to their center otherwise."].join(" ")},y:{valType:"number",min:-2,max:3,role:"style",editType:"legend",description:["Sets the y position (in normalized coordinates) of the legend.","Defaults to *1* for vertical legends,","defaults to *-0.1* for horizontal legends on graphs w/o range sliders and","defaults to *1.1* for horizontal legends on graph with one or multiple range sliders."].join(" ")},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],role:"info",editType:"legend",description:["Sets the legend's vertical position anchor","This anchor binds the `y` position to the *top*, *middle*","or *bottom* of the legend.","Value *auto* anchors legends at their bottom for `y` values less than or equal to 1/3,","anchors legends to at their top for `y` values greater than or equal to 2/3 and","anchors legends with respect to their middle otherwise."].join(" ")},uirevision:{valType:"any",role:"info",editType:"none",description:["Controls persistence of legend-driven changes in trace and pie label","visibility. Defaults to `layout.uirevision`."].join(" ")},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",role:"style",editType:"legend",description:["Sets the vertical alignment of the symbols with respect to their associated text."].join(" ")},title:{text:{valType:"string",dflt:"",role:"info",editType:"legend",description:["Sets the title of the legend."].join(" ")},font:a({editType:"legend",description:["Sets this legend's title font."].join(" ")}),side:{valType:"enumerated",values:["top","left","top left"],role:"style",editType:"legend",description:["Determines the location of legend's title","with respect to the legend items.","Defaulted to *top* with `orientation` is *h*.","Defaulted to *left* with `orientation` is *v*.","The *top left* options could be used to expand","legend area in both x and y sides."].join(" ")},editType:"legend"},editType:"legend"}},e893:function(e,n,r){var a=r("5135"),o=r("56ef"),i=r("06cf"),s=r("9bf2");e.exports=function(e,n){for(var r=o(n),l=s.f,c=i.f,u=0;u<r.length;u++){var d=r[u];a(e,d)||l(e,d,c(n,d))}}},e89f:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({argMax_:function argMax_(e,n=0){const r={x:Object(i.a)(e,"x","argMax")},s={axis:n};return a.a.runKernel(o.h,r,s)}})},e8b5:function(e,n,r){var a=r("c6b6");e.exports=Array.isArray||function isArray(e){return"Array"==a(e)}},e8cf:function(e,n,r){"use strict";var a=r("fc26"),o=r("4248");e.exports=function fileSaver(e,n,r){var i=document.createElement("a"),s="download"in i;return new Promise((function(l,c){var u,d;if(a.isIE9orBelow()&&c(new Error("IE < 10 unsupported")),a.isSafari()){var p="svg"===r?",":";base64,";return o.octetStream(p+encodeURIComponent(e)),l(n)}return a.isIE()?(u=o.createBlob(e,"svg"),window.navigator.msSaveBlob(u,n),u=null,l(n)):s?(u=o.createBlob(e,r),d=o.createObjectURL(u),i.href=d,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),o.revokeObjectURL(d),u=null,l(n)):void c(new Error("download error"))}))}},e947:function(e,n,r){"use strict";e.exports={clearOutlineControllers:function clearOutlineControllers(e){var n=e._fullLayout._zoomlayer;n&&n.selectAll(".outline-controllers").remove()},clearSelect:function clearSelect(e){var n=e._fullLayout._zoomlayer;n&&n.selectAll(".select-outline").remove(),e._fullLayout._drawing=!1}}},e95a:function(e,n,r){var a=r("b622"),o=r("3f8c"),i=a("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},e974:function(e,n,r){"use strict";n.__esModule=!0;var a=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(r("2b0e")),o=r("5128");var i=a.default.prototype.$isServer?function(){}:r("6167"),s=function stop(e){return e.stopPropagation()};n.default={props:{transformOrigin:{type:[Boolean,String],default:!0},placement:{type:String,default:"bottom"},boundariesPadding:{type:Number,default:5},reference:{},popper:{},offset:{default:0},value:Boolean,visibleArrow:Boolean,arrowOffset:{type:Number,default:35},appendToBody:{type:Boolean,default:!0},popperOptions:{type:Object,default:function _default(){return{gpuAcceleration:!1}}}},data:function data(){return{showPopper:!1,currentPlacement:""}},watch:{value:{immediate:!0,handler:function handler(e){this.showPopper=e,this.$emit("input",e)}},showPopper:function showPopper(e){this.disabled||(e?this.updatePopper():this.destroyPopper(),this.$emit("input",e))}},methods:{createPopper:function createPopper(){var e=this;if(!this.$isServer&&(this.currentPlacement=this.currentPlacement||this.placement,/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement))){var n=this.popperOptions,r=this.popperElm=this.popperElm||this.popper||this.$refs.popper,a=this.referenceElm=this.referenceElm||this.reference||this.$refs.reference;!a&&this.$slots.reference&&this.$slots.reference[0]&&(a=this.referenceElm=this.$slots.reference[0].elm),r&&a&&(this.visibleArrow&&this.appendArrow(r),this.appendToBody&&document.body.appendChild(this.popperElm),this.popperJS&&this.popperJS.destroy&&this.popperJS.destroy(),n.placement=this.currentPlacement,n.offset=this.offset,n.arrowOffset=this.arrowOffset,this.popperJS=new i(a,r,n),this.popperJS.onCreate((function(n){e.$emit("created",e),e.resetTransformOrigin(),e.$nextTick(e.updatePopper)})),"function"==typeof n.onUpdate&&this.popperJS.onUpdate(n.onUpdate),this.popperJS._popper.style.zIndex=o.PopupManager.nextZIndex(),this.popperElm.addEventListener("click",s))}},updatePopper:function updatePopper(){var e=this.popperJS;e?(e.update(),e._popper&&(e._popper.style.zIndex=o.PopupManager.nextZIndex())):this.createPopper()},doDestroy:function doDestroy(e){!this.popperJS||this.showPopper&&!e||(this.popperJS.destroy(),this.popperJS=null)},destroyPopper:function destroyPopper(){this.popperJS&&this.resetTransformOrigin()},resetTransformOrigin:function resetTransformOrigin(){if(this.transformOrigin){var e=this.popperJS._popper.getAttribute("x-placement").split("-")[0],n={top:"bottom",bottom:"top",left:"right",right:"left"}[e];this.popperJS._popper.style.transformOrigin="string"==typeof this.transformOrigin?this.transformOrigin:["top","bottom"].indexOf(e)>-1?"center "+n:n+" center"}},appendArrow:function appendArrow(e){var n=void 0;if(!this.appended){for(var r in this.appended=!0,e.attributes)if(/^_v-/.test(e.attributes[r].name)){n=e.attributes[r].name;break}var a=document.createElement("div");n&&a.setAttribute(n,""),a.setAttribute("x-arrow",""),a.className="popper__arrow",e.appendChild(a)}}},beforeDestroy:function beforeDestroy(){this.doDestroy(!0),this.popperElm&&this.popperElm.parentNode===document.body&&(this.popperElm.removeEventListener("click",s),document.body.removeChild(this.popperElm))},deactivated:function deactivated(){this.$options.beforeDestroy[0].call(this)}}},e9b4:function(e,n,r){"use strict";e.exports=function(e){for(var n,r=e.length,a=0;a<r;a++)if(((n=e.charCodeAt(a))<9||n>13)&&32!==n&&133!==n&&160!==n&&5760!==n&&6158!==n&&(n<8192||n>8205)&&8232!==n&&8233!==n&&8239!==n&&8287!==n&&8288!==n&&12288!==n&&65279!==n)return!1;return!0}},e9e1:function(e,n){e.exports=function rotateX(e,n,r){var a=Math.sin(r),o=Math.cos(r),i=n[4],s=n[5],l=n[6],c=n[7],u=n[8],d=n[9],p=n[10],f=n[11];n!==e&&(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]);return e[4]=i*o+u*a,e[5]=s*o+d*a,e[6]=l*o+p*a,e[7]=c*o+f*a,e[8]=u*o-i*a,e[9]=d*o-s*a,e[10]=p*o-l*a,e[11]=f*o-c*a,e}},e9f7:function(e,n,r){"use strict";var a=r("fc26");e.exports=function(e,n,r,o,i){i=i||{},o("textposition"),a.coerceFont(o,"textfont",r.font),i.noSelect||(o("selected.textfont.color"),o("unselected.textfont.color"))}},eaf4:function(e,n,r){"use strict";r.d(n,"a",(function(){return f}));var a=r("a3f7"),o=r("6ad5"),i=r("9748"),s=r("3b28"),l=r("b818"),c=r("9fe6"),u=r("54ef"),d=r("35c9"),p=r("7580");const f=Object(u.a)({pool_:function pool_(e,n,r,u,f,h){null==f&&(f=[1,1]),null==h&&(h=1),0===u&&(u="valid");const m=Object(a.a)(e,"x","maxPool");let g=m,y=!1;3===m.rank&&(y=!0,g=Object(d.a)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),o.b(l.h(h,f),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${h} and dilations '${f}'`));const b=l.e(g.shape,n,h,f,u),x=[b.dilationHeight,b.dilationWidth];let _;_="same"===u?function withSpaceToBatchBasePaddings(e,n){const r=e.map(((e,r)=>e+(e-1)*(n[r]-1))).map((e=>e-1)),a=r.map((e=>Math.floor(e/2))),o=r.map(((e,n)=>e-a[n]));return r.map(((e,n)=>[a[n],o[n]]))}([b.filterHeight,b.filterWidth],x):[[0,0],[0,0]];const w=1===x[0]&&1===x[1],[k,T]=function requiredSpaceToBatchPaddings(e,n,r){const a=r.map((e=>e[0])),o=r.map((e=>e[1])),i=e.concat(a,o),s=n.map(((e,n)=>(e-i[n]%e)%e)),l=o.map(((e,n)=>e+s[n])),c=n.map(((e,n)=>[a[n],l[n]])),u=n.map(((e,n)=>[0,s[n]]));return[c,u]}([b.inHeight,b.inWidth],x,_),S=w?u:"valid",O=w?g:Object(p.a)(g,x,k),C=("avg"===r?()=>Object(i.a)(O,n,h,S):()=>Object(c.a)(O,n,h,S))(),A=w?C:Object(s.a)(C,x,T);return y?Object(d.a)(A,[A.shape[1],A.shape[2],A.shape[3]]):A}})},eb07:function(e,n,r){"use strict";e.exports=function handleLineShapeDefaults(e,n,r){"spline"===r("line.shape")&&r("line.smoothing")}},eb7e:function(e,n,r){"use strict";r.r(n),r.d(n,"createScalarValue",(function(){return createScalarValue})),r.d(n,"toTypedArray",(function(){return toTypedArray})),r.d(n,"now",(function(){return now})),r.d(n,"fetch",(function(){return fetch})),r.d(n,"encodeString",(function(){return encodeString})),r.d(n,"decodeString",(function(){return decodeString}));var a=r("b333"),o=r("6ad5");function createScalarValue(e,n){return"string"===n?encodeString(e):toTypedArray([e],n)}function toTypedArray(e,n){if("string"===n)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=o.m(e)),Object(a.b)().getBool("DEBUG")&&o.h(e,n),function noConversionNeeded(e,n){return e instanceof Float32Array&&"float32"===n||e instanceof Int32Array&&"int32"===n||e instanceof Uint8Array&&"bool"===n}(e,n))return e;if(null==n||"float32"===n||"complex64"===n)return new Float32Array(e);if("int32"===n)return new Int32Array(e);if("bool"===n){const n=new Uint8Array(e.length);for(let r=0;r<n.length;++r)0!==Math.round(e[r])&&(n[r]=1);return n}throw new Error(`Unknown data type ${n}`)}function now(){return Object(a.b)().platform.now()}function fetch(e,n){return Object(a.b)().platform.fetch(e,n)}function encodeString(e,n="utf-8"){return n=n||"utf-8",Object(a.b)().platform.encode(e,n)}function decodeString(e,n="utf-8"){return n=n||"utf-8",Object(a.b)().platform.decode(e,n)}r.d(n,"shuffle",(function(){return o.M})),r.d(n,"shuffleCombo",(function(){return o.N})),r.d(n,"clamp",(function(){return o.i})),r.d(n,"nearestLargerEven",(function(){return o.H})),r.d(n,"sum",(function(){return o.R})),r.d(n,"randUniform",(function(){return o.J})),r.d(n,"distSquared",(function(){return o.l})),r.d(n,"assert",(function(){return o.b})),r.d(n,"assertShapesMatch",(function(){return o.e})),r.d(n,"assertNonNull",(function(){return o.d})),r.d(n,"flatten",(function(){return o.m})),r.d(n,"sizeFromShape",(function(){return o.O})),r.d(n,"isScalarShape",(function(){return o.y})),r.d(n,"arraysEqual",(function(){return o.a})),r.d(n,"isInt",(function(){return o.v})),r.d(n,"tanh",(function(){return o.S})),r.d(n,"sizeToSquarishShape",(function(){return o.P})),r.d(n,"createShuffledIndices",(function(){return o.k})),r.d(n,"rightPad",(function(){return o.L})),r.d(n,"repeatedTry",(function(){return o.K})),r.d(n,"inferFromImplicitShape",(function(){return o.s})),r.d(n,"parseAxisParam",(function(){return o.I})),r.d(n,"squeezeShape",(function(){return o.Q})),r.d(n,"getTypedArrayFromDType",(function(){return o.o})),r.d(n,"getArrayFromDType",(function(){return o.n})),r.d(n,"checkConversionForErrors",(function(){return o.h})),r.d(n,"isValidDtype",(function(){return o.B})),r.d(n,"hasEncodingLoss",(function(){return o.p})),r.d(n,"isTypedArray",(function(){return o.A})),r.d(n,"bytesPerElement",(function(){return o.g})),r.d(n,"bytesFromStringArray",(function(){return o.f})),r.d(n,"isString",(function(){return o.z})),r.d(n,"isBoolean",(function(){return o.t})),r.d(n,"isNumber",(function(){return o.w})),r.d(n,"inferDtype",(function(){return o.r})),r.d(n,"isFunction",(function(){return o.u})),r.d(n,"nearestDivisor",(function(){return o.G})),r.d(n,"computeStrides",(function(){return o.j})),r.d(n,"toNestedArray",(function(){return o.T})),r.d(n,"makeOnesTypedArray",(function(){return o.D})),r.d(n,"makeZerosTypedArray",(function(){return o.F})),r.d(n,"makeZerosNestedTypedArray",(function(){return o.E})),r.d(n,"assertNonNegativeIntegerDimensions",(function(){return o.c})),r.d(n,"locToIndex",(function(){return o.C})),r.d(n,"indexToLoc",(function(){return o.q})),r.d(n,"isPromise",(function(){return o.x}))},ec20:function(e,n,r){"use strict";var a=r("4607");n.init2dArray=function(e,n){for(var r=new Array(e),a=0;a<e;a++)r[a]=new Array(n);return r},n.transposeRagged=function(e){var n,r,a=0,o=e.length;for(n=0;n<o;n++)a=Math.max(a,e[n].length);var i=new Array(a);for(n=0;n<a;n++)for(i[n]=new Array(o),r=0;r<o;r++)i[n][r]=e[r][n];return i},n.dot=function(e,r){if(!e.length||!r.length||e.length!==r.length)return null;var a,o,i=e.length;if(e[0].length)for(a=new Array(i),o=0;o<i;o++)a[o]=n.dot(e[o],r);else if(r[0].length){var s=n.transposeRagged(r);for(a=new Array(s.length),o=0;o<s.length;o++)a[o]=n.dot(e,s[o])}else for(a=0,o=0;o<i;o++)a+=e[o]*r[o];return a},n.translationMatrix=function(e,n){return[[1,0,e],[0,1,n],[0,0,1]]},n.rotationMatrix=function(e){var n=e*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},n.rotationXYMatrix=function(e,r,a){return n.dot(n.dot(n.translationMatrix(r,a),n.rotationMatrix(e)),n.translationMatrix(-r,-a))},n.apply3DTransform=function(e){return function(){var r=arguments,a=1===arguments.length?r[0]:[r[0],r[1],r[2]||0];return n.dot(e,[a[0],a[1],a[2],1]).slice(0,3)}},n.apply2DTransform=function(e){return function(){var r=arguments;3===r.length&&(r=r[0]);var a=1===arguments.length?r[0]:[r[0],r[1]];return n.dot(e,[a[0],a[1],1]).slice(0,2)}},n.apply2DTransform2=function(e){var r=n.apply2DTransform(e);return function(e){return r(e.slice(0,2)).concat(r(e.slice(2,4)))}},n.convertCssMatrix=function(e){if(e){var n=e.length;if(16===n)return e;if(6===n)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},n.inverseTransformMatrix=function(e){var n=[];return a.invert(n,e),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},ecee:function(e,n,r){"use strict";(function(e){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _defineProperty(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function _objectSpread(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},a=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),a.forEach((function(n){_defineProperty(e,n,r[n])}))}return e}function _slicedToArray(e,n){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,n){var r=[],a=!0,o=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(r.push(s.value),!n||r.length!==n);a=!0);}catch(c){o=!0,i=c}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return r}(e,n)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var n=0,r=new Array(e.length);n<e.length;n++)r[n]=e[n];return r}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.d(n,"b",(function(){return ee})),r.d(n,"a",(function(){return k})),r.d(n,"e",(function(){return te})),r.d(n,"c",(function(){return Z})),r.d(n,"d",(function(){return Q}));var a=function noop(){},o={},i={},s={mark:a,measure:a};try{"undefined"!=typeof window&&(o=window),"undefined"!=typeof document&&(i=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(s=performance)}catch(ne){}var l=(o.navigator||{}).userAgent,c=void 0===l?"":l,u=o,d=i,p=s,f=(u.document,!!d.documentElement&&!!d.head&&"function"==typeof d.addEventListener&&"function"==typeof d.createElement),h=~c.indexOf("MSIE")||~c.indexOf("Trident/"),m="svg-inline--fa",g="data-fa-i2svg",y=(function(){try{}catch(ne){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),b=y.concat([11,12,13,14,15,16,17,18,19,20]),x={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},_=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",x.GROUP,x.SWAP_OPACITY,x.PRIMARY,x.SECONDARY].concat(y.map((function(e){return"".concat(e,"x")}))).concat(b.map((function(e){return"w-".concat(e)}))),u.FontAwesomeConfig||{});if(d&&"function"==typeof d.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var n=_slicedToArray(e,2),r=n[0],a=n[1],o=function coerce(e){return""===e||"false"!==e&&("true"===e||e)}(function getAttrConfig(e){var n=d.querySelector("script["+e+"]");if(n)return n.getAttribute(e)}(r));null!=o&&(_[a]=o)}))}var w=_objectSpread({},{familyPrefix:"fa",replacementClass:m,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},_);w.autoReplaceSvg||(w.observeMutations=!1);var k=_objectSpread({},w);u.FontAwesomeConfig=k;var T=u||{};T.___FONT_AWESOME___||(T.___FONT_AWESOME___={}),T.___FONT_AWESOME___.styles||(T.___FONT_AWESOME___.styles={}),T.___FONT_AWESOME___.hooks||(T.___FONT_AWESOME___.hooks={}),T.___FONT_AWESOME___.shims||(T.___FONT_AWESOME___.shims=[]);var S=T.___FONT_AWESOME___,O=[];f&&((d.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(d.readyState)||d.addEventListener("DOMContentLoaded",(function listener(){d.removeEventListener("DOMContentLoaded",listener),1,O.map((function(e){return e()}))})));var C,A="pending",I="settled",N="fulfilled",M="rejected",E=function NOOP(){},D=void 0!==e&&void 0!==e.process&&"function"==typeof e.process.emit,j="undefined"==typeof setImmediate?setTimeout:setImmediate,R=[];function asyncFlush(){for(var e=0;e<R.length;e++)R[e][0](R[e][1]);R=[],C=!1}function asyncCall(e,n){R.push([e,n]),C||(C=!0,j(asyncFlush,0))}function invokeCallback(e){var n=e.owner,r=n._state,a=n._data,o=e[r],i=e.then;if("function"==typeof o){r=N;try{a=o(a)}catch(ne){reject(i,ne)}}handleThenable(i,a)||(r===N&&resolve(i,a),r===M&&reject(i,a))}function handleThenable(e,n){var r;try{if(e===n)throw new TypeError("A promises callback cannot return that same promise.");if(n&&("function"==typeof n||"object"===_typeof(n))){var a=n.then;if("function"==typeof a)return a.call(n,(function(a){r||(r=!0,n===a?fulfill(e,a):resolve(e,a))}),(function(n){r||(r=!0,reject(e,n))})),!0}}catch(ne){return r||reject(e,ne),!0}return!1}function resolve(e,n){e!==n&&handleThenable(e,n)||fulfill(e,n)}function fulfill(e,n){e._state===A&&(e._state=I,e._data=n,asyncCall(publishFulfillment,e))}function reject(e,n){e._state===A&&(e._state=I,e._data=n,asyncCall(publishRejection,e))}function publish(e){e._then=e._then.forEach(invokeCallback)}function publishFulfillment(e){e._state=N,publish(e)}function publishRejection(n){n._state=M,publish(n),!n._handled&&D&&e.process.emit("unhandledRejection",n._data,n)}function notifyRejectionHandled(n){e.process.emit("rejectionHandled",n)}function P(e){if("function"!=typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof P==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function invokeResolver(e,n){function rejectPromise(e){reject(n,e)}try{e((function resolvePromise(e){resolve(n,e)}),rejectPromise)}catch(ne){rejectPromise(ne)}}(e,this)}P.prototype={constructor:P,_state:A,_then:null,_data:void 0,_handled:!1,then:function then(e,n){var r={owner:this,then:new this.constructor(E),fulfilled:e,rejected:n};return!n&&!e||this._handled||(this._handled=!0,this._state===M&&D&&asyncCall(notifyRejectionHandled,this)),this._state===N||this._state===M?asyncCall(invokeCallback,r):this._then.push(r),r.then},catch:function _catch(e){return this.then(null,e)}},P.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new P((function(n,r){var a=[],o=0;function resolver(e){return o++,function(r){a[e]=r,--o||n(a)}}for(var i,s=0;s<e.length;s++)(i=e[s])&&"function"==typeof i.then?i.then(resolver(s),r):a[s]=i;o||n(a)}))},P.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new P((function(n,r){for(var a,o=0;o<e.length;o++)(a=e[o])&&"function"==typeof a.then?a.then(n,r):n(a)}))},P.resolve=function(e){return e&&"object"===_typeof(e)&&e.constructor===P?e:new P((function(n){n(e)}))},P.reject=function(e){return new P((function(n,r){r(e)}))};var L=16,z={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(e){if(e&&f){var n=d.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=e;for(var r=d.head.childNodes,a=null,o=r.length-1;o>-1;o--){var i=r[o],s=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(a=i)}return d.head.insertBefore(n,a),e}}function nextUniqueId(){for(var e=12,n="";e-- >0;)n+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return n}function htmlEscape(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinStyles(e){return Object.keys(e||{}).reduce((function(n,r){return n+"".concat(r,": ").concat(e[r],";")}),"")}function transformIsMeaningful(e){return e.size!==z.size||e.x!==z.x||e.y!==z.y||e.rotate!==z.rotate||e.flipX||e.flipY}function transformForSvg(e){var n=e.transform,r=e.containerWidth,a=e.iconWidth,o={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),l="rotate(".concat(n.rotate," 0 0)");return{outer:o,inner:{transform:"".concat(i," ").concat(s," ").concat(l)},path:{transform:"translate(".concat(a/2*-1," -256)")}}}var $={x:0,y:0,width:"100%",height:"100%"};function fillBlack(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||n)&&(e.attributes.fill="black"),e}function makeInlineSvgAbstract(e){var n=e.icons,r=n.main,a=n.mask,o=e.prefix,i=e.iconName,s=e.transform,l=e.symbol,c=e.title,u=e.maskId,d=e.titleId,p=e.extra,f=e.watchable,h=void 0!==f&&f,m=a.found?a:r,y=m.width,b=m.height,x="fak"===o,_=x?"":"fa-w-".concat(Math.ceil(y/b*16)),w=[k.replacementClass,i?"".concat(k.familyPrefix,"-").concat(i):"",_].filter((function(e){return-1===p.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(p.classes).join(" "),T={children:[],attributes:_objectSpread({},p.attributes,{"data-prefix":o,"data-icon":i,class:w,role:p.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(b)})},S=x&&!~p.classes.indexOf("fa-fw")?{width:"".concat(y/b*16*.0625,"em")}:{};h&&(T.attributes[g]=""),c&&T.children.push({tag:"title",attributes:{id:T.attributes["aria-labelledby"]||"title-".concat(d||nextUniqueId())},children:[c]});var O=_objectSpread({},T,{prefix:o,iconName:i,main:r,mask:a,maskId:u,transform:s,symbol:l,styles:_objectSpread({},S,p.styles)}),C=a.found&&r.found?function makeIconMasking(e){var n,r=e.children,a=e.attributes,o=e.main,i=e.mask,s=e.maskId,l=e.transform,c=o.width,u=o.icon,d=i.width,p=i.icon,f=transformForSvg({transform:l,containerWidth:d,iconWidth:c}),h={tag:"rect",attributes:_objectSpread({},$,{fill:"white"})},m=u.children?{children:u.children.map(fillBlack)}:{},g={tag:"g",attributes:_objectSpread({},f.inner),children:[fillBlack(_objectSpread({tag:u.tag,attributes:_objectSpread({},u.attributes,f.path)},m))]},y={tag:"g",attributes:_objectSpread({},f.outer),children:[g]},b="mask-".concat(s||nextUniqueId()),x="clip-".concat(s||nextUniqueId()),_={tag:"mask",attributes:_objectSpread({},$,{id:b,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,y]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:(n=p,"g"===n.tag?n.children:[n])},_]};return r.push(w,{tag:"rect",attributes:_objectSpread({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(b,")")},$)}),{children:r,attributes:a}}(O):function makeIconStandard(e){var n=e.children,r=e.attributes,a=e.main,o=e.transform,i=joinStyles(e.styles);if(i.length>0&&(r.style=i),transformIsMeaningful(o)){var s=transformForSvg({transform:o,containerWidth:a.width,iconWidth:a.width});n.push({tag:"g",attributes:_objectSpread({},s.outer),children:[{tag:"g",attributes:_objectSpread({},s.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:_objectSpread({},a.icon.attributes,s.path)}]}]})}else n.push(a.icon);return{children:n,attributes:r}}(O),A=C.children,I=C.attributes;return O.children=A,O.attributes=I,l?function asSymbol(e){var n=e.prefix,r=e.iconName,a=e.children,o=e.attributes,i=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread({},o,{id:!0===i?"".concat(n,"-").concat(k.familyPrefix,"-").concat(r):i}),children:a}]}]}(O):function asIcon(e){var n=e.children,r=e.main,a=e.mask,o=e.attributes,i=e.styles,s=e.transform;if(transformIsMeaningful(s)&&r.found&&!a.found){var l={x:r.width/r.height/2,y:.5};o.style=joinStyles(_objectSpread({},i,{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:o,children:n}]}(O)}function makeLayersTextAbstract(e){var n=e.content,r=e.width,a=e.height,o=e.transform,i=e.title,s=e.extra,l=e.watchable,c=void 0!==l&&l,u=_objectSpread({},s.attributes,i?{title:i}:{},{class:s.classes.join(" ")});c&&(u[g]="");var d=_objectSpread({},s.styles);transformIsMeaningful(o)&&(d.transform=function transformForCss(e){var n=e.transform,r=e.width,a=void 0===r?16:r,o=e.height,i=void 0===o?16:o,s=e.startCentered,l=void 0!==s&&s,c="";return c+=l&&h?"translate(".concat(n.x/L-a/2,"em, ").concat(n.y/L-i/2,"em) "):l?"translate(calc(-50% + ".concat(n.x/L,"em), calc(-50% + ").concat(n.y/L,"em)) "):"translate(".concat(n.x/L,"em, ").concat(n.y/L,"em) "),c+="scale(".concat(n.size/L*(n.flipX?-1:1),", ").concat(n.size/L*(n.flipY?-1:1),") "),c+"rotate(".concat(n.rotate,"deg) ")}({transform:o,startCentered:!0,width:r,height:a}),d["-webkit-transform"]=d.transform);var p=joinStyles(d);p.length>0&&(u.style=p);var f=[];return f.push({tag:"span",attributes:u,children:[n]}),i&&f.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),f}var B=function noop(){},V=(k.measurePerformance&&p&&p.mark&&p.measure,function fastReduceObject(e,n,r,a){var o,i,s,l=Object.keys(e),c=l.length,u=void 0!==a?function bindInternal4(e,n){return function(r,a,o,i){return e.call(n,r,a,o,i)}}(n,a):n;for(void 0===r?(o=1,s=e[l[0]]):(o=0,s=r);o<c;o++)s=u(s,e[i=l[o]],i,e);return s});function defineIcons(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.skipHooks,o=void 0!==a&&a,i=Object.keys(n).reduce((function(e,r){var a=n[r];return!!a.icon?e[a.iconName]=a.icon:e[r]=a,e}),{});"function"!=typeof S.hooks.addPack||o?S.styles[e]=_objectSpread({},S.styles[e]||{},i):S.hooks.addPack(e,i),"fas"===e&&defineIcons("fa",n)}var U=S.styles,W=S.shims,H=function build(){var e=function lookup(e){return V(U,(function(n,r,a){return n[a]=V(r,e,{}),n}),{})};e((function(e,n,r){return n[3]&&(e[n[3]]=r),e})),e((function(e,n,r){var a=n[2];return e[r]=r,a.forEach((function(n){e[n]=r})),e}));var n="far"in U;V(W,(function(e,r){var a=r[0],o=r[1],i=r[2];return"far"!==o||n||(o="fas"),e[a]={prefix:o,iconName:i},e}),{})};H();S.styles;function iconFromMapping(e,n,r){if(e&&e[n]&&e[n][r])return{prefix:n,iconName:r,icon:e[n][r]}}function toHtml(e){var n=e.tag,r=e.attributes,a=void 0===r?{}:r,o=e.children,i=void 0===o?[]:o;return"string"==typeof e?htmlEscape(e):"<".concat(n," ").concat(function joinAttributes(e){return Object.keys(e||{}).reduce((function(n,r){return n+"".concat(r,'="').concat(htmlEscape(e[r]),'" ')}),"").trim()}(a),">").concat(i.map(toHtml).join(""),"</").concat(n,">")}var G=function parseTransformString(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,n){var r=n.toLowerCase().split("-"),a=r[0],o=r.slice(1).join("-");if(a&&"h"===o)return e.flipX=!0,e;if(a&&"v"===o)return e.flipY=!0,e;if(o=parseFloat(o),isNaN(o))return e;switch(a){case"grow":e.size=e.size+o;break;case"shrink":e.size=e.size-o;break;case"left":e.x=e.x-o;break;case"right":e.x=e.x+o;break;case"up":e.y=e.y-o;break;case"down":e.y=e.y+o;break;case"rotate":e.rotate=e.rotate+o}return e}),n):n};function MissingIcon(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}MissingIcon.prototype=Object.create(Error.prototype),MissingIcon.prototype.constructor=MissingIcon;var q={fill:"currentColor"},K={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},X={tag:"path",attributes:_objectSpread({},q,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},Y=_objectSpread({},K,{attributeName:"opacity"});_objectSpread({},q,{cx:"256",cy:"364",r:"28"}),_objectSpread({},K,{attributeName:"r",values:"28;14;28;28;14;28;"}),_objectSpread({},Y,{values:"1;0;1;1;0;1;"}),_objectSpread({},q,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),_objectSpread({},Y,{values:"1;0;0;0;0;1;"}),_objectSpread({},q,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),_objectSpread({},Y,{values:"0;0;1;1;0;0;"}),S.styles;function asFoundIcon(e){var n=e[0],r=e[1],a=_slicedToArray(e.slice(4),1)[0];return{found:!0,width:n,height:r,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(k.familyPrefix,"-").concat(x.GROUP)},children:[{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(x.SECONDARY),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(k.familyPrefix,"-").concat(x.PRIMARY),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}S.styles;function css(){var e="fa",n=m,r=k.familyPrefix,a=k.replacementClass,o='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(r!==e||a!==n){var i=new RegExp("\\.".concat(e,"\\-"),"g"),s=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(n),"g");o=o.replace(i,".".concat(r,"-")).replace(s,"--".concat(r,"-")).replace(l,".".concat(a))}return o}function ensureCss(){k.autoAddCss&&!J&&(insertCss(css()),J=!0)}function apiObject(e,n){return Object.defineProperty(e,"abstract",{get:n}),Object.defineProperty(e,"html",{get:function get(){return e.abstract.map((function(e){return toHtml(e)}))}}),Object.defineProperty(e,"node",{get:function get(){if(f){var n=d.createElement("div");return n.innerHTML=e.html,n.children}}}),e}function findIconDefinition(e){var n=e.prefix,r=void 0===n?"fa":n,a=e.iconName;if(a)return iconFromMapping(Z.definitions,r,a)||iconFromMapping(S.styles,r,a)}var Z=new(function(){function Library(){!function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Library),this.definitions={}}return function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}(Library,[{key:"add",value:function add(){for(var e=this,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(n){e.definitions[n]=_objectSpread({},e.definitions[n]||{},o[n]),defineIcons(n,o[n]),H()}))}},{key:"reset",value:function reset(){this.definitions={}}},{key:"_pullDefinitions",value:function _pullDefinitions(e,n){var r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map((function(n){var a=r[n],o=a.prefix,i=a.iconName,s=a.icon;e[o]||(e[o]={}),e[o][i]=s})),e}}]),Library}()),J=!1,Q={transform:function transform(e){return G(e)}},ee=function resolveIcons(e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(n||{}).icon?n:findIconDefinition(n||{}),o=r.mask;return o&&(o=(o||{}).icon?o:findIconDefinition(o||{})),e(a,_objectSpread({},r,{mask:o}))}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,a=void 0===r?z:r,o=n.symbol,i=void 0!==o&&o,s=n.mask,l=void 0===s?null:s,c=n.maskId,u=void 0===c?null:c,d=n.title,p=void 0===d?null:d,f=n.titleId,h=void 0===f?null:f,m=n.classes,g=void 0===m?[]:m,y=n.attributes,b=void 0===y?{}:y,x=n.styles,_=void 0===x?{}:x;if(e){var w=e.prefix,T=e.iconName,S=e.icon;return apiObject(_objectSpread({type:"icon"},e),(function(){return ensureCss(),k.autoA11y&&(p?b["aria-labelledby"]="".concat(k.replacementClass,"-title-").concat(h||nextUniqueId()):(b["aria-hidden"]="true",b.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(S),mask:l?asFoundIcon(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:T,transform:_objectSpread({},z,a),symbol:i,title:p,maskId:u,titleId:h,extra:{attributes:b,styles:_,classes:g}})}))}})),te=function text(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,a=void 0===r?z:r,o=n.title,i=void 0===o?null:o,s=n.classes,l=void 0===s?[]:s,c=n.attributes,u=void 0===c?{}:c,d=n.styles,p=void 0===d?{}:d;return apiObject({type:"text",content:e},(function(){return ensureCss(),makeLayersTextAbstract({content:e,transform:_objectSpread({},z,a),title:i,extra:{attributes:u,styles:p,classes:["".concat(k.familyPrefix,"-layers-text")].concat(_toConsumableArray(l))}})}))}}).call(this,r("c8ba"))},ed16:function(e,n,r){"use strict";var a=r("371e"),o=r("0642"),i=r("fc26"),s=r("37e3");e.exports=function(e,n,r){function coerce(r,a){return i.coerce(e,n,s,r,a)}for(var l=!1,c=!1,u=!1,d={},p=coerce("barmode"),f=0;f<r.length;f++){var h=r[f];if(a.traceIs(h,"bar")&&h.visible){if(l=!0,"group"===p){var m=h.xaxis+h.yaxis;d[m]&&(u=!0),d[m]=!0}if(h.visible&&"histogram"===h.type)"category"!==o.getFromId({_fullLayout:n},h["v"===h.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}l?("overlay"!==p&&coerce("barnorm"),coerce("bargap",c&&!u?0:.2),coerce("bargroupgap")):delete n.barmode}},ed2e:function(e,n){e.exports=function transpose(e,n){if(e===n){var r=n[1],a=n[2],o=n[3],i=n[6],s=n[7],l=n[11];e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=r,e[6]=n[9],e[7]=n[13],e[8]=a,e[9]=i,e[11]=n[14],e[12]=o,e[13]=s,e[14]=l}else e[0]=n[0],e[1]=n[4],e[2]=n[8],e[3]=n[12],e[4]=n[1],e[5]=n[5],e[6]=n[9],e[7]=n[13],e[8]=n[2],e[9]=n[6],e[10]=n[10],e[11]=n[14],e[12]=n[3],e[13]=n[7],e[14]=n[11],e[15]=n[15];return e}},ee77:function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("fc26"),s=i.strTranslate,l=r("83d1"),c=r("d115"),u=r("215c").extractOpts,d=r("de81"),p=r("a708"),f=r("59e0").castOption,h=r("baf5");function getGradientDirection(e,n){return(n?"radial":"horizontal")+(e?"":"reversed")}e.exports=function style(e,n,r){var m=n._fullLayout;r||(r=m.legend);var g="constant"===r.itemsizing,y=r.itemwidth,b=(y+2*h.itemGap)/2,x=s(b,0),boundLineWidth=function(e,n,r,a){var o;if(e+1)o=e;else{if(!(n&&n.width>0))return 0;o=n.width}return g?a:Math.min(o,r)};function styleBarLike(e,n,r){var i=e[0].trace,s=i.marker||{},l=s.line||{},u=r?i.visible&&i.type===r:o.traceIs(i,"bar"),d=a.select(n).select("g.legendpoints").selectAll("path.legend"+r).data(u?[e]:[]);d.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),d.exit().remove(),d.each((function(e){var n=a.select(this),r=e[0],o=boundLineWidth(r.mlw,s.line,5,2);n.style("stroke-width",o+"px").call(c.fill,r.mc||s.color),o&&c.stroke(n,r.mlc||l.color)}))}function stylePieLike(e,n,r){var s=e[0],l=s.trace,c=r?l.visible&&l.type===r:o.traceIs(l,r),u=a.select(n).select("g.legendpoints").selectAll("path.legend"+r).data(c?[e]:[]);if(u.enter().append("path").classed("legend"+r,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),u.exit().remove(),u.size()){var d=(l.marker||{}).line,h=boundLineWidth(f(d.width,s.pts),d,5,2),m=i.minExtend(l,{marker:{line:{width:h}}});m.marker.line.color=d.color;var g=i.minExtend(s,{trace:m});p(u,g,m)}}e.each((function(e){var n=a.select(this),o=i.ensureSingle(n,"g","layers");o.style("opacity",e[0].trace.opacity);var l=r.valign,c=e[0].lineHeight,u=e[0].height;if("middle"!==l&&c&&u){var d={top:1,bottom:-1}[l]*(.5*(c-u+3));o.attr("transform",s(0,d))}else o.attr("transform",null);o.selectAll("g.legendfill").data([e]).enter().append("g").classed("legendfill",!0),o.selectAll("g.legendlines").data([e]).enter().append("g").classed("legendlines",!0);var p=o.selectAll("g.legendsymbols").data([e]);p.enter().append("g").classed("legendsymbols",!0),p.selectAll("g.legendpoints").data([e]).enter().append("g").classed("legendpoints",!0)})).each((function styleSpatial(e){var r,o=e[0].trace,s=[];if(o.visible)switch(o.type){case"histogram2d":case"heatmap":s=[["M-15,-2V4H15V-2Z"]],r=!0;break;case"choropleth":case"choroplethmapbox":s=[["M-6,-6V6H6V-6Z"]],r=!0;break;case"densitymapbox":s=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],r="radial";break;case"cone":s=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],r=!1;break;case"streamtube":s=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],r=!1;break;case"surface":s=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],r=!0;break;case"mesh3d":s=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!1;break;case"volume":s=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],r=!0;break;case"isosurface":s=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],r=!1}var d=a.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(s);d.enter().append("path").classed("legend3dandfriends",!0).attr("transform",x).style("stroke-miterlimit",1),d.exit().remove(),d.each((function(e,s){var d,p=a.select(this),f=u(o),h=f.colorscale,m=f.reversescale;if(h){if(!r){var g=h.length;d=0===s?h[m?g-1:0][1]:1===s?h[m?0:g-1][1]:h[Math.floor((g-1)/2)][1]}}else{var y=o.vertexcolor||o.facecolor||o.color;d=i.isArrayOrTypedArray(y)?y[s]||y[0]:y}p.attr("d",e[0]),d?p.call(c.fill,d):p.call((function(e){if(e.size()){var a="legendfill-"+o.uid;l.gradient(e,n,a,getGradientDirection(m,"radial"===r),h,"fill")}}))}))})).each((function styleWaterfalls(e){var n=e[0].trace,r="waterfall"===n.type;if(e[0]._distinct&&r){var o=e[0].trace[e[0].dir].marker;return e[0].mc=o.color,e[0].mlw=o.line.width,e[0].mlc=o.line.color,styleBarLike(e,this,"waterfall")}var i=[];n.visible&&r&&(i=e[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var s=a.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(i);s.enter().append("path").classed("legendwaterfall",!0).attr("transform",x).style("stroke-miterlimit",1),s.exit().remove(),s.each((function(e){var r=a.select(this),o=n[e[0]].marker,i=boundLineWidth(void 0,o.line,5,2);r.attr("d",e[1]).style("stroke-width",i+"px").call(c.fill,o.color),i&&r.call(c.stroke,o.line.color)}))})).each((function styleFunnels(e){styleBarLike(e,this,"funnel")})).each((function styleBars(e){styleBarLike(e,this)})).each((function styleBoxes(e){var r=e[0].trace,s=a.select(this).select("g.legendpoints").selectAll("path.legendbox").data(r.visible&&o.traceIs(r,"box-violin")?[e]:[]);s.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",x),s.exit().remove(),s.each((function(){var e=a.select(this);if("all"!==r.boxpoints&&"all"!==r.points||0!==c.opacity(r.fillcolor)||0!==c.opacity((r.line||{}).color)){var o=boundLineWidth(void 0,r.line,5,2);e.style("stroke-width",o+"px").call(c.fill,r.fillcolor),o&&c.stroke(e,r.line.color)}else{var u=i.minExtend(r,{marker:{size:g?12:i.constrain(r.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});s.call(l.pointStyle,u,n)}}))})).each((function styleFunnelareas(e){stylePieLike(e,this,"funnelarea")})).each((function stylePies(e){stylePieLike(e,this,"pie")})).each((function styleLines(e){var r,o,s=e[0],c=s.trace,p=c.visible&&c.fill&&"none"!==c.fill,f=d.hasLines(c),h=c.contours,m=!1,g=!1,b=u(c),x=b.colorscale,_=b.reversescale;if(h){var w=h.coloring;"lines"===w?m=!0:f="none"===w||"heatmap"===w||h.showlines,"constraint"===h.type?p="="!==h._operation:"fill"!==w&&"heatmap"!==w||(g=!0)}var k=d.hasMarkers(c)||d.hasText(c),T=p||g,S=f||m,O=k||!T?"M5,0":S?"M5,-2":"M5,-3",C=a.select(this),A=C.select(".legendfill").selectAll("path").data(p||g?[e]:[]);if(A.enter().append("path").classed("js-fill",!0),A.exit().remove(),A.attr("d",O+"h"+y+"v6h-"+y+"z").call(p?l.fillGroupStyle:function(e){if(e.size()){var r="legendfill-"+c.uid;l.gradient(e,n,r,getGradientDirection(_),x,"fill")}}),f||m){var I=boundLineWidth(void 0,c.line,10,5);o=i.minExtend(c,{line:{width:I}}),r=[i.minExtend(s,{trace:o})]}var N=C.select(".legendlines").selectAll("path").data(f||m?[r]:[]);N.enter().append("path").classed("js-line",!0),N.exit().remove(),N.attr("d",O+(m?"l"+y+",0.0001":"h"+y)).call(f?l.lineGroupStyle:function(e){if(e.size()){var r="legendline-"+c.uid;l.lineGroupStyle(e),l.gradient(e,n,r,getGradientDirection(_),x,"stroke")}})})).each((function stylePoints(e){var r,o,s=e[0],c=s.trace,u=d.hasMarkers(c),p=d.hasText(c),f=d.hasLines(c);function boundVal(e,n,r,a){var o=i.nestedProperty(c,e).get(),s=i.isArrayOrTypedArray(o)&&n?n(o):o;if(g&&s&&void 0!==a&&(s=a),r){if(s<r[0])return r[0];if(s>r[1])return r[1]}return s}function pickFirst(e){return s._distinct&&s.index&&e[s.index]?e[s.index]:e[0]}if(u||p||f){var h={},m={};if(u){h.mc=boundVal("marker.color",pickFirst),h.mx=boundVal("marker.symbol",pickFirst),h.mo=boundVal("marker.opacity",i.mean,[.2,1]),h.mlc=boundVal("marker.line.color",pickFirst),h.mlw=boundVal("marker.line.width",i.mean,[0,5],2),m.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var y=boundVal("marker.size",i.mean,[2,16],12);h.ms=y,m.marker.size=y}f&&(m.line={width:boundVal("line.width",pickFirst,[0,10],5)}),p&&(h.tx="Aa",h.tp=boundVal("textposition",pickFirst),h.ts=10,h.tc=boundVal("textfont.color",pickFirst),h.tf=boundVal("textfont.family",pickFirst)),r=[i.minExtend(s,h)],(o=i.minExtend(c,m)).selectedpoints=null,o.texttemplate=null}var b=a.select(this).select("g.legendpoints"),_=b.selectAll("path.scatterpts").data(u?r:[]);_.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",x),_.exit().remove(),_.call(l.pointStyle,o,n),u&&(r[0].mrc=3);var w=b.selectAll("g.pointtext").data(p?r:[]);w.enter().append("g").classed("pointtext",!0).append("text").attr("transform",x),w.exit().remove(),w.selectAll("text").call(l.textPointStyle,o,n)})).each((function styleCandles(e){var n=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(n.visible&&"candlestick"===n.type?[e,e]:[]);r.enter().append("path").classed("legendcandle",!0).attr("d",(function(e,n){return n?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"})).attr("transform",x).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(e,r){var o=a.select(this),i=n[r?"increasing":"decreasing"],s=boundLineWidth(void 0,i.line,5,2);o.style("stroke-width",s+"px").call(c.fill,i.fillcolor),s&&c.stroke(o,i.line.color)}))})).each((function styleOHLC(e){var n=e[0].trace,r=a.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(n.visible&&"ohlc"===n.type?[e,e]:[]);r.enter().append("path").classed("legendohlc",!0).attr("d",(function(e,n){return n?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"})).attr("transform",x).style("stroke-miterlimit",1),r.exit().remove(),r.each((function(e,r){var o=a.select(this),i=n[r?"increasing":"decreasing"],s=boundLineWidth(void 0,i.line,5,2);o.style("fill","none").call(l.dashLine,i.line.dash,s),s&&c.stroke(o,i.line.color)}))}))}},ee92:function(e,n,r){"use strict";var a=r("faa1").EventEmitter,o=r("371e"),i=r("fc26"),s=r("4248"),l=r("d18e"),c=r("cb04"),u=r("4ebd");e.exports=function toImage(e,n){var r=new a,d=l(e,{format:"png"}),p=d.gd;p.style.position="absolute",p.style.left="-5000px",document.body.appendChild(p);var f=s.getRedrawFunc(p);return o.call("plot",p,d.data,d.layout,d.config).then(f).then((function wait(){var e=s.getDelay(p._fullLayout);setTimeout((function(){var e=c(p),a=document.createElement("canvas");a.id=i.randstr(),(r=u({format:n.format,width:p._fullLayout.width,height:p._fullLayout.height,canvas:a,emitter:r,svg:e})).clean=function(){p&&document.body.removeChild(p)}}),e)})).catch((function(e){r.emit("error",e)})),r}},eeb3:function(e,n,r){"use strict";var a=r("e639");e.exports={moduleType:"component",name:a.name,layoutAttributes:r("9c5f"),supplyLayoutDefaults:r("7210"),draw:r("f103")}},ef00:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({logicalNot_:function logicalNot_(e){const n={x:Object(i.a)(e,"x","logicalNot","bool")};return a.a.runKernel(o.Fb,n)}})},eff7:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({cos_:function cos_(e){const n={x:Object(i.a)(e,"x","cos")};return a.a.runKernel(o.I,n)}})},f011:function(e,n,r){"use strict";r.r(n),r.d(n,"json",(function(){return a}));const a=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}]},f069:function(e,n,r){"use strict";var a=r("1c0b"),PromiseCapability=function(e){var n,r;this.promise=new e((function(e,a){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=a})),this.resolve=a(n),this.reject=a(r)};e.exports.f=function(e){return new PromiseCapability(e)}},f0a9:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({clone_:function clone_(e){const n={x:Object(i.a)(e,"x","clone","string_or_numeric")};return a.a.runKernel(o.qb,n)}})},f0d9:function(e,n,r){"use strict";n.__esModule=!0,n.default={el:{colorpicker:{confirm:"确定",clear:"清空"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"}}}},f0e5:function(e,n,r){"use strict";r.d(n,"a",(function(){return d}));var a=r("6ae2"),o=r("c05b"),i=r("76c2"),s=r("a3f7"),l=r("526f"),c=r("deb3"),u=r("54ef");const d=Object(u.a)({minimum_:function minimum_(e,n){let r=Object(s.a)(e,"a","minimum"),u=Object(s.a)(n,"b","minimum");[r,u]=Object(i.makeTypesMatch)(r,u),"bool"===r.dtype&&(r=Object(c.a)(r,"int32"),u=Object(c.a)(u,"int32")),Object(l.a)(r.shape,u.shape);const d={a:r,b:u};return a.a.runKernel(o.Qb,d)}})},f103:function(e,n,r){"use strict";var a=r("6e58"),o=r("bb71"),i=r("d115"),s=r("83d1"),l=r("fc26"),c=l.strTranslate,u=r("0379"),d=r("a651").arrayEditor,p=r("e639"),f=r("63dc"),h=f.LINE_SPACING,m=f.FROM_TL,g=f.FROM_BR;function autoMarginId(e){return p.autoMarginIdRoot+e._index}function keyFunction(e){return e._index}function findDimensions(e,n){var r=s.tester.selectAll("g."+p.labelGroupClass).data(n._visibleSteps);r.enter().append("g").classed(p.labelGroupClass,!0);var i=0,c=0;r.each((function(e){var r=drawLabel(a.select(this),{step:e},n).node();if(r){var o=s.bBox(r);c=Math.max(c,o.height),i=Math.max(i,o.width)}})),r.remove();var d=n._dims={};d.inputAreaWidth=Math.max(p.railWidth,p.gripHeight);var f=e._fullLayout._size;d.lx=f.l+f.w*n.x,d.ly=f.t+f.h*(1-n.y),"fraction"===n.lenmode?d.outerLength=Math.round(f.w*n.len):d.outerLength=n.len,d.inputAreaStart=0,d.inputAreaLength=Math.round(d.outerLength-n.pad.l-n.pad.r);var h=(d.inputAreaLength-2*p.stepInset)/(n._stepCount-1),y=i+p.labelPadding;if(d.labelStride=Math.max(1,Math.ceil(y/h)),d.labelHeight=c,d.currentValueMaxWidth=0,d.currentValueHeight=0,d.currentValueTotalHeight=0,d.currentValueMaxLines=1,n.currentvalue.visible){var b=s.tester.append("g");r.each((function(e){var r=drawCurrentValue(b,n,e.label),a=r.node()&&s.bBox(r.node())||{width:0,height:0},o=u.lineCount(r);d.currentValueMaxWidth=Math.max(d.currentValueMaxWidth,Math.ceil(a.width)),d.currentValueHeight=Math.max(d.currentValueHeight,Math.ceil(a.height)),d.currentValueMaxLines=Math.max(d.currentValueMaxLines,o)})),d.currentValueTotalHeight=d.currentValueHeight+n.currentvalue.offset,b.remove()}d.height=d.currentValueTotalHeight+p.tickOffset+n.ticklen+p.labelOffset+d.labelHeight+n.pad.t+n.pad.b;var x="left";l.isRightAnchor(n)&&(d.lx-=d.outerLength,x="right"),l.isCenterAnchor(n)&&(d.lx-=d.outerLength/2,x="center");var _="top";l.isBottomAnchor(n)&&(d.ly-=d.height,_="bottom"),l.isMiddleAnchor(n)&&(d.ly-=d.height/2,_="middle"),d.outerLength=Math.ceil(d.outerLength),d.height=Math.ceil(d.height),d.lx=Math.round(d.lx),d.ly=Math.round(d.ly);var w={y:n.y,b:d.height*g[_],t:d.height*m[_]};"fraction"===n.lenmode?(w.l=0,w.xl=n.x-n.len*m[x],w.r=0,w.xr=n.x+n.len*g[x]):(w.x=n.x,w.l=d.outerLength*m[x],w.r=d.outerLength*g[x]),o.autoMargin(e,autoMarginId(n),w)}function drawCurrentValue(e,n,r){if(n.currentvalue.visible){var a,o,i=n._dims;switch(n.currentvalue.xanchor){case"right":a=i.inputAreaLength-p.currentValueInset-i.currentValueMaxWidth,o="left";break;case"center":a=.5*i.inputAreaLength,o="middle";break;default:a=p.currentValueInset,o="left"}var c=l.ensureSingle(e,"text",p.labelClass,(function(e){e.attr({"text-anchor":o,"data-notex":1})})),d=n.currentvalue.prefix?n.currentvalue.prefix:"";if("string"==typeof r)d+=r;else{var f=n.steps[n.active].label,m=n._gd._fullLayout._meta;m&&(f=l.templateString(f,m)),d+=f}n.currentvalue.suffix&&(d+=n.currentvalue.suffix),c.call(s.font,n.currentvalue.font).text(d).call(u.convertToTspans,n._gd);var g=u.lineCount(c),y=(i.currentValueMaxLines+1-g)*n.currentvalue.font.size*h;return u.positionText(c,a,y),c}}function drawGrip(e,n,r){l.ensureSingle(e,"rect",p.gripRectClass,(function(a){a.call(attachGripEvents,n,e,r).style("pointer-events","all")})).attr({width:p.gripWidth,height:p.gripHeight,rx:p.gripRadius,ry:p.gripRadius}).call(i.stroke,r.bordercolor).call(i.fill,r.bgcolor).style("stroke-width",r.borderwidth+"px")}function drawLabel(e,n,r){var a=l.ensureSingle(e,"text",p.labelClass,(function(e){e.attr({"text-anchor":"middle","data-notex":1})})),o=n.step.label,i=r._gd._fullLayout._meta;return i&&(o=l.templateString(o,i)),a.call(s.font,r.font).text(o).call(u.convertToTspans,r._gd),a}function drawLabelGroup(e,n){var r=l.ensureSingle(e,"g",p.labelsClass),o=n._dims,i=r.selectAll("g."+p.labelGroupClass).data(o.labelSteps);i.enter().append("g").classed(p.labelGroupClass,!0),i.exit().remove(),i.each((function(e){var r=a.select(this);r.call(drawLabel,e,n),s.setTranslate(r,normalizedValueToPosition(n,e.fraction),p.tickOffset+n.ticklen+n.font.size*h+p.labelOffset+o.currentValueTotalHeight)}))}function handleInput(e,n,r,a,o){var i=Math.round(a*(r._stepCount-1)),s=r._visibleSteps[i]._index;s!==r.active&&setActive(e,n,r,s,!0,o)}function setActive(e,n,r,a,i,s){var l=r.active;r.active=a,d(e.layout,p.name,r).applyUpdate("active",a);var c=r.steps[r.active];n.call(setGripPosition,r,s),n.call(drawCurrentValue,r),e.emit("plotly_sliderchange",{slider:r,step:r.steps[r.active],interaction:i,previousActive:l}),c&&c.method&&i&&(n._nextMethod?(n._nextMethod.step=c,n._nextMethod.doCallback=i,n._nextMethod.doTransition=s):(n._nextMethod={step:c,doCallback:i,doTransition:s},n._nextMethodRaf=window.requestAnimationFrame((function(){var r=n._nextMethod.step;r.method&&(r.execute&&o.executeAPICommand(e,r.method,r.args),n._nextMethod=null,n._nextMethodRaf=null)}))))}function attachGripEvents(e,n,r){var o=r.node(),s=a.select(n);function getSliderOpts(){return r.data()[0]}e.on("mousedown",(function(){var e=getSliderOpts();n.emit("plotly_sliderstart",{slider:e});var l=r.select("."+p.gripRectClass);a.event.stopPropagation(),a.event.preventDefault(),l.call(i.fill,e.activebgcolor);var c=positionToNormalizedValue(e,a.mouse(o)[0]);handleInput(n,r,e,c,!0),e._dragging=!0,s.on("mousemove",(function(){var e=getSliderOpts(),i=positionToNormalizedValue(e,a.mouse(o)[0]);handleInput(n,r,e,i,!1)})),s.on("mouseup",(function(){var e=getSliderOpts();e._dragging=!1,l.call(i.fill,e.bgcolor),s.on("mouseup",null),s.on("mousemove",null),n.emit("plotly_sliderend",{slider:e,step:e.steps[e.active]})}))}))}function drawTicks(e,n){var r=e.selectAll("rect."+p.tickRectClass).data(n._visibleSteps),o=n._dims;r.enter().append("rect").classed(p.tickRectClass,!0),r.exit().remove(),r.attr({width:n.tickwidth+"px","shape-rendering":"crispEdges"}),r.each((function(e,r){var l=r%o.labelStride==0,c=a.select(this);c.attr({height:l?n.ticklen:n.minorticklen}).call(i.fill,n.tickcolor),s.setTranslate(c,normalizedValueToPosition(n,r/(n._stepCount-1))-.5*n.tickwidth,(l?p.tickOffset:p.minorTickOffset)+o.currentValueTotalHeight)}))}function setGripPosition(e,n,r){for(var a=e.select("rect."+p.gripRectClass),o=0,i=0;i<n._stepCount;i++)if(n._visibleSteps[i]._index===n.active){o=i;break}var s=normalizedValueToPosition(n,o/(n._stepCount-1));if(!n._invokingCommand){var l=a;r&&n.transition.duration>0&&(l=l.transition().duration(n.transition.duration).ease(n.transition.easing)),l.attr("transform",c(s-.5*p.gripWidth,n._dims.currentValueTotalHeight))}}function normalizedValueToPosition(e,n){var r=e._dims;return r.inputAreaStart+p.stepInset+(r.inputAreaLength-2*p.stepInset)*Math.min(1,Math.max(0,n))}function positionToNormalizedValue(e,n){var r=e._dims;return Math.min(1,Math.max(0,(n-p.stepInset-r.inputAreaStart)/(r.inputAreaLength-2*p.stepInset-2*r.inputAreaStart)))}function drawTouchRect(e,n,r){var a=r._dims,o=l.ensureSingle(e,"rect",p.railTouchRectClass,(function(a){a.call(attachGripEvents,n,e,r).style("pointer-events","all")}));o.attr({width:a.inputAreaLength,height:Math.max(a.inputAreaWidth,p.tickOffset+r.ticklen+a.labelHeight)}).call(i.fill,r.bgcolor).attr("opacity",0),s.setTranslate(o,0,a.currentValueTotalHeight)}function drawRail(e,n){var r=n._dims,a=r.inputAreaLength-2*p.railInset,o=l.ensureSingle(e,"rect",p.railRectClass);o.attr({width:a,height:p.railWidth,rx:p.railRadius,ry:p.railRadius,"shape-rendering":"crispEdges"}).call(i.stroke,n.bordercolor).call(i.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px"),s.setTranslate(o,p.railInset,.5*(r.inputAreaWidth-p.railWidth)+r.currentValueTotalHeight)}e.exports=function draw(e){var n=e._fullLayout,r=function makeSliderData(e,n){for(var r=e[p.name],a=[],o=0;o<r.length;o++){var i=r[o];i.visible&&(i._gd=n,a.push(i))}return a}(n,e),i=n._infolayer.selectAll("g."+p.containerClassName).data(r.length>0?[0]:[]);function clearSlider(n){n._commandObserver&&(n._commandObserver.remove(),delete n._commandObserver),o.autoMargin(e,autoMarginId(n))}if(i.enter().append("g").classed(p.containerClassName,!0).style("cursor","ew-resize"),i.exit().each((function(){a.select(this).selectAll("g."+p.groupClassName).each(clearSlider)})).remove(),0!==r.length){var l=i.selectAll("g."+p.groupClassName).data(r,keyFunction);l.enter().append("g").classed(p.groupClassName,!0),l.exit().each(clearSlider).remove();for(var c=0;c<r.length;c++){var u=r[c];findDimensions(e,u)}l.each((function(n){var r=a.select(this);!function computeLabelSteps(e){var n=e._dims;n.labelSteps=[];for(var r=e._stepCount,a=0;a<r;a+=n.labelStride)n.labelSteps.push({fraction:a/(r-1),step:e._visibleSteps[a]})}(n),o.manageCommandObserver(e,n,n._visibleSteps,(function(n){var a=r.data()[0];a.active!==n.index&&(a._dragging||setActive(e,r,a,n.index,!1,!0))})),function drawSlider(e,n,r){(r.steps[r.active]||{}).visible||(r.active=r._visibleSteps[0]._index);n.call(drawCurrentValue,r).call(drawRail,r).call(drawLabelGroup,r).call(drawTicks,r).call(drawTouchRect,e,r).call(drawGrip,e,r);var a=r._dims;s.setTranslate(n,a.lx+r.pad.l,a.ly+r.pad.t),n.call(setGripPosition,r,!1),n.call(drawCurrentValue,r)}(e,a.select(this),n)}))}}},f118:function(e,n,r){"use strict";var a=r("6e58"),o=r("371e"),i=r("fc26"),s=i.ensureSingle,l=i.identity,c=r("83d1"),u=r("de81"),d=r("9cf1"),p=r("00bd"),f=r("b68b").tester;function plotOne(e,n,r,p,h,m,g){var y;!function selectMarkers(e,n,r,o,s){var l=r.xaxis,c=r.yaxis,d=a.extent(i.simpleMap(l.range,l.r2c)),p=a.extent(i.simpleMap(c.range,c.r2c)),f=o[0].trace;if(!u.hasMarkers(f))return;var h=f.marker.maxdisplayed;if(0===h)return;var m=o.filter((function(e){return e.x>=d[0]&&e.x<=d[1]&&e.y>=p[0]&&e.y<=p[1]})),g=Math.ceil(m.length/h),y=0;s.forEach((function(e,r){var a=e[0].trace;u.hasMarkers(a)&&a.marker.maxdisplayed>0&&r<n&&y++}));var b=Math.round(y*g/3+Math.floor(y/3)*g/7.1);o.forEach((function(e){delete e.vis})),m.forEach((function(e,n){0===Math.round((n+b)%g)&&(e.vis=!0)}))}(0,n,r,p,h);var b=!!g&&g.duration>0;function transition(e){return b?e.transition():e}var x=r.xaxis,_=r.yaxis,w=p[0].trace,k=w.line,T=a.select(m),S=s(T,"g","errorbars"),O=s(T,"g","lines"),C=s(T,"g","points"),A=s(T,"g","text");if(o.getComponentMethod("errorbars","plot")(e,S,r,g),!0===w.visible){var I,N;transition(T).style("opacity",w.opacity);var M=w.fill.charAt(w.fill.length-1);"x"!==M&&"y"!==M&&(M=""),p[0][r.isRangePlot?"nodeRangePlot3":"node3"]=T;var E,D,j="",R=[],L=w._prevtrace;L&&(j=L._prevRevpath||"",N=L._nextFill,R=L._polygons);var z,$,B,V,U,W,H,G="",q="",K=[],X=i.noop;if(I=w._ownFill,u.hasLines(w)||"none"!==w.fill){for(N&&N.datum(p),-1!==["hv","vh","hvh","vhv"].indexOf(k.shape)?(z=c.steps(k.shape),$=c.steps(k.shape.split("").reverse().join(""))):z=$="spline"===k.shape?function(e){var n=e[e.length-1];return e.length>1&&e[0][0]===n[0]&&e[0][1]===n[1]?c.smoothclosed(e.slice(1),k.smoothing):c.smoothopen(e,k.smoothing)}:function(e){return"M"+e.join("L")},B=function(e){return $(e.reverse())},K=d(p,{xaxis:x,yaxis:_,connectGaps:w.connectgaps,baseTolerance:Math.max(k.width||1,3)/4,shape:k.shape,simplify:k.simplify,fill:w.fill}),H=w._polygons=new Array(K.length),y=0;y<K.length;y++)w._polygons[y]=f(K[y]);K.length&&(V=K[0][0],W=(U=K[K.length-1])[U.length-1]),X=function(e){return function(n){if(E=z(n),D=B(n),G?M?(G+="L"+E.substr(1),q=D+"L"+q.substr(1)):(G+="Z"+E,q=D+"Z"+q):(G=E,q=D),u.hasLines(w)&&n.length>1){var r=a.select(this);if(r.datum(p),e)transition(r.style("opacity",0).attr("d",E).call(c.lineGroupStyle)).style("opacity",1);else{var o=transition(r);o.attr("d",E),c.singleLineStyle(p,o)}}}}}var Y=O.selectAll(".js-line").data(K);transition(Y.exit()).style("opacity",0).remove(),Y.each(X(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(c.lineGroupStyle).each(X(!0)),c.setClipUrl(Y,r.layerClipId,e),K.length?(I?(I.datum(p),V&&W&&(M?("y"===M?V[1]=W[1]=_.c2p(0,!0):"x"===M&&(V[0]=W[0]=x.c2p(0,!0)),transition(I).attr("d","M"+W+"L"+V+"L"+G.substr(1)).call(c.singleFillStyle)):transition(I).attr("d",G+"Z").call(c.singleFillStyle))):N&&("tonext"===w.fill.substr(0,6)&&G&&j?("tonext"===w.fill?transition(N).attr("d",G+"Z"+j+"Z").call(c.singleFillStyle):transition(N).attr("d",G+"L"+j.substr(1)+"Z").call(c.singleFillStyle),w._polygons=w._polygons.concat(R)):(clearFill(N),w._polygons=null)),w._prevRevpath=q,w._prevPolygons=H):(I?clearFill(I):N&&clearFill(N),w._polygons=w._prevRevpath=w._prevPolygons=null),C.datum(p),A.datum(p),function makePoints(n,o,i){var s,d=i[0].trace,p=u.hasMarkers(d),f=u.hasText(d),h=getKeyFunc(d),m=hideFilter,g=hideFilter;if(p||f){var y=l,w=d.stackgroup,k=w&&"infer zero"===e._fullLayout._scatterStackOpts[x._id+_._id][w].stackgaps;d.marker.maxdisplayed||d._needsCull?y=k?visFilterWithGaps:visFilter:w&&!k&&(y=gapFilter),p&&(m=y),f&&(g=y)}var T,S=(s=n.selectAll("path.point").data(m,h)).enter().append("path").classed("point",!0);b&&S.call(c.pointStyle,d,e).call(c.translatePoints,x,_).style("opacity",0).transition().style("opacity",1),s.order(),p&&(T=c.makePointStyleFns(d)),s.each((function(n){var o=a.select(this),i=transition(o);c.translatePoint(n,i,x,_)?(c.singlePointStyle(n,i,d,T,e),r.layerClipId&&c.hideOutsideRangePoint(n,i,x,_,d.xcalendar,d.ycalendar),d.customdata&&o.classed("plotly-customdata",null!==n.data&&void 0!==n.data)):i.remove()})),b?s.exit().transition().style("opacity",0).remove():s.exit().remove(),(s=o.selectAll("g").data(g,h)).enter().append("g").classed("textpoint",!0).append("text"),s.order(),s.each((function(e){var n=a.select(this),o=transition(n.select("text"));c.translatePoint(e,o,x,_)?r.layerClipId&&c.hideOutsideRangePoint(e,n,x,_,d.xcalendar,d.ycalendar):n.remove()})),s.selectAll("text").call(c.textPointStyle,d,e).each((function(e){var n=x.c2p(e.x),r=_.c2p(e.y);a.select(this).selectAll("tspan.line").each((function(){transition(a.select(this)).attr({x:n,y:r})}))})),s.exit().remove()}(C,A,p);var Z=!1===w.cliponaxis?null:r.layerClipId;c.setClipUrl(C,Z,e),c.setClipUrl(A,Z,e)}function clearFill(e){transition(e).attr("d","M0,0Z")}function visFilter(e){return e.filter((function(e){return!e.gap&&e.vis}))}function visFilterWithGaps(e){return e.filter((function(e){return e.vis}))}function gapFilter(e){return e.filter((function(e){return!e.gap}))}function keyFunc(e){return e.id}function getKeyFunc(e){if(e.ids)return keyFunc}function hideFilter(){return!1}}e.exports=function plot(e,n,r,o,i,u){var d,f,h=!i,m=!!i&&i.duration>0,g=p(e,n,r);((d=o.selectAll("g.trace").data(g,(function(e){return e[0].trace.uid}))).enter().append("g").attr("class",(function(e){return"trace scatter trace"+e[0].trace.uid})).style("stroke-miterlimit",2),d.order(),function createFills(e,n,r){n.each((function(n){var o=s(a.select(this),"g","fills");c.setClipUrl(o,r.layerClipId,e);var i=n[0].trace,u=[];i._ownfill&&u.push("_ownFill"),i._nexttrace&&u.push("_nextFill");var d=o.selectAll("g").data(u,l);d.enter().append("g"),d.exit().each((function(e){i[e]=null})).remove(),d.order().each((function(e){i[e]=s(a.select(this),"path","js-fill")}))}))}(e,d,n),m)?(u&&(f=u()),a.transition().duration(i.duration).ease(i.easing).each("end",(function(){f&&f()})).each("interrupt",(function(){f&&f()})).each((function(){o.selectAll("g.trace").each((function(r,a){plotOne(e,a,n,r,g,this,i)}))}))):d.each((function(r,a){plotOne(e,a,n,r,g,this,i)}));h&&d.exit().remove(),o.selectAll("path:not([d])").remove()}},f183:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("526f"),l=r("54ef");const c=Object(l.a)({logicalOr_:function logicalOr_(e,n){const r=Object(i.a)(e,"a","logicalOr","bool"),l=Object(i.a)(n,"b","logicalOr","bool");Object(s.a)(r.shape,l.shape);const c={a:r,b:l};return a.a.runKernel(o.Gb,c)}})},f28e:function(e,n,r){"use strict";var a=r("371e"),o=r("79f1");e.exports=function getLegendData(e,n){var r,i,s={},l=[],c=!1,u={},d=0,p=0,f=n._main;function addOneItem(e,r){if(""!==e&&o.isGrouped(n))-1===l.indexOf(e)?(l.push(e),c=!0,s[e]=[[r]]):s[e].push([r]);else{var a="~~i"+d;l.push(a),s[a]=[[r]],d++}}for(r=0;r<e.length;r++){var h=e[r],m=h[0],g=m.trace,y=g.legendgroup;if(!f||g.visible&&g.showlegend)if(a.traceIs(g,"pie-like"))for(u[y]||(u[y]={}),i=0;i<h.length;i++){var b=h[i].label;u[y][b]||(addOneItem(y,{label:b,color:h[i].color,i:h[i].i,trace:g,pts:h[i].pts}),u[y][b]=!0,p=Math.max(p,(b||"").length))}else addOneItem(y,m),p=Math.max(p,(g.name||"").length)}if(!l.length)return[];var x,_,w=l.length;if(c&&o.isGrouped(n))for(_=new Array(w),r=0;r<w;r++)x=s[l[r]],_[r]=o.isReversed(n)?x.reverse():x;else{for(_=[new Array(w)],r=0;r<w;r++)x=s[l[r]][0],_[0][o.isReversed(n)?w-r-1:r]=x;w=1}return n._lgroupsLength=w,n._maxNameLength=p,_}},f2da:function(e,n,r){"use strict";var a=r("19b2"),o=r("e806").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function cleanNumber(e){return"string"==typeof e&&(e=e.replace(i,"")),a(e)?Number(e):o}},f3a2:function(e,n,r){"use strict";var a=r("19b2"),o=r("fc26");e.exports=function handlePositionDefaults(e,n,r,i){var s,l,c,u,d=i.counterAxes||[],p=i.overlayableAxes||[],f=i.letter,h=i.grid;h&&(l=h._domains[f][h._axisMap[n._id]],s=h._anchors[n._id],l&&(c=h[f+"side"].split(" ")[0],u=h.domain[f]["right"===c||"top"===c?1:0])),l=l||[0,1],s=s||(a(e.position)?"free":d[0]||"free"),c=c||("x"===f?"bottom":"left"),u=u||0,"free"===o.coerce(e,n,{anchor:{valType:"enumerated",values:["free"].concat(d),dflt:s}},"anchor")&&r("position",u),o.coerce(e,n,{side:{valType:"enumerated",values:"x"===f?["bottom","top"]:["left","right"],dflt:c}},"side");var m=!1;if(p.length&&(m=o.coerce(e,n,{overlaying:{valType:"enumerated",values:[!1].concat(p),dflt:!1}},"overlaying")),!m){var g=r("domain",l);g[0]>g[1]-1/4096&&(n.domain=l),o.noneOrAll(e.domain,n.domain,l)}return r("layer"),n}},f3ad:function(e,n,r){e.exports=function(e){var n={};function __webpack_require__(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.d=function(e,n,r){__webpack_require__.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(e,n){if(1&n&&(e=__webpack_require__(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)__webpack_require__.d(r,a,function(n){return e[n]}.bind(null,a));return r},__webpack_require__.n=function(e){var n=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},__webpack_require__.p="/dist/",__webpack_require__(__webpack_require__.s=76)}({0:function(e,n,r){"use strict";function normalizeComponent(e,n,r,a,o,i,s,l){var c,u="function"==typeof e?e.options:e;if(n&&(u.render=n,u.staticRenderFns=r,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function renderWithStyleInjection(e,n){return c.call(n),d(e,n)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(n,"a",(function(){return normalizeComponent}))},11:function(e,n){e.exports=r("2bb5")},21:function(e,n){e.exports=r("d397")},4:function(e,n){e.exports=r("d010")},76:function(e,n,r){"use strict";r.r(n);var render=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(n){e.hovering=!0},mouseleave:function(n){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?r("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?r("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?r("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?r("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?r("span",{staticClass:"el-input__suffix"},[r("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?r("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?r("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?r("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?r("span",{staticClass:"el-input__count"},[r("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?r("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?r("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:r("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?r("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};render._withStripped=!0;var a=r(4),o=r.n(a),i=r(11),s=r.n(i),l=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(e){var n=window.getComputedStyle(e),r=n.getPropertyValue("box-sizing"),a=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),o=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:u.map((function(e){return e+":"+n.getPropertyValue(e)})).join(";"),paddingSize:a,borderSize:o,boxSizing:r}}function calcTextareaHeight(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var a=calculateNodeStyling(e),o=a.paddingSize,i=a.borderSize,s=a.boxSizing,u=a.contextStyle;l.setAttribute("style",u+";"+c),l.value=e.value||e.placeholder||"";var d=l.scrollHeight,p={};"border-box"===s?d+=i:"content-box"===s&&(d-=o),l.value="";var f=l.scrollHeight-o;if(null!==n){var h=f*n;"border-box"===s&&(h=h+o+i),d=Math.max(h,d),p.minHeight=h+"px"}if(null!==r){var m=f*r;"border-box"===s&&(m=m+o+i),d=Math.min(m,d)}return p.height=d+"px",l.parentNode&&l.parentNode.removeChild(l),l=null,p}var d=r(9),p=r.n(d),f=r(21),h={name:"ElInput",componentName:"ElInput",mixins:[o.a,s.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function data(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function validator(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function _elFormItemSize(){return(this.elFormItem||{}).elFormItemSize},validateState:function validateState(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function needStatusIcon(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function validateIcon(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function textareaStyle(){return p()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function inputSize(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function inputDisabled(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function showClear(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function showPwdVisible(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function isWordLimitVisible(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function upperLimit(){return this.$attrs.maxlength},textLength:function textLength(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function inputExceed(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function value(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function nativeInputValue(){this.setNativeInputValue()},type:function type(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function focus(){this.getInput().focus()},blur:function blur(){this.getInput().blur()},getMigratingConfig:function getMigratingConfig(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function handleBlur(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function select(){this.getInput().select()},resizeTextarea:function resizeTextarea(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var n=e.minRows,r=e.maxRows;this.textareaCalcStyle=calcTextareaHeight(this.$refs.textarea,n,r)}else this.textareaCalcStyle={minHeight:calcTextareaHeight(this.$refs.textarea).minHeight}}},setNativeInputValue:function setNativeInputValue(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function handleFocus(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function handleCompositionStart(){this.isComposing=!0},handleCompositionUpdate:function handleCompositionUpdate(e){var n=e.target.value,r=n[n.length-1]||"";this.isComposing=!Object(f.isKorean)(r)},handleCompositionEnd:function handleCompositionEnd(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function handleChange(e){this.$emit("change",e.target.value)},calcIconOffset:function calcIconOffset(e){var n=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(n.length){for(var r=null,a=0;a<n.length;a++)if(n[a].parentNode===this.$el){r=n[a];break}if(r){var o={suffix:"append",prefix:"prepend"}[e];this.$slots[o]?r.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":r.removeAttribute("style")}}},updateIconOffset:function updateIconOffset(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function clear(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function handlePasswordVisible(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function getInput(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function getSuffixVisible(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function created(){this.$on("inputSelect",this.select)},mounted:function mounted(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function updated(){this.$nextTick(this.updateIconOffset)}},m=r(0),g=Object(m.a)(h,render,[],!1,null,null,null);g.options.__file="packages/input/src/input.vue";var y=g.exports;y.install=function(e){e.component(y.name,y)};n.default=y},9:function(e,n){e.exports=r("7f4d")}})},f3ae:function(e,n,r){"use strict";r.d(n,"a",(function(){return c}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("deb3"),l=r("54ef");const c=Object(l.a)({prod_:function prod_(e,n=null,r=!1){let l=Object(i.a)(e,"x","prod");"bool"===l.dtype&&(l=Object(s.a)(l,"int32"));const c={x:l},u={axis:n,keepDims:r};return a.a.runKernel(o.gc,c,u)}})},f3cf:function(e,n,r){"use strict";e.exports={container:"marker",min:"cmin",max:"cmax"}},f422:function(e,n,r){"use strict";var a=r("2595").drawRaw,o=r("f98d"),i=["x","y","z"];e.exports=function draw(e){for(var n=e.fullSceneLayout,r=e.dataScale,s=n.annotations,l=0;l<s.length;l++){for(var c=s[l],u=!1,d=0;d<3;d++){var p=i[d],f=c[p],h=n[p+"axis"].r2fraction(f);if(h<0||h>1){u=!0;break}}u?e.fullLayout._infolayer.select(".annotation-"+e.id+'[data-index="'+l+'"]').remove():(c._pdata=o(e.glplot.cameraParams,[n.xaxis.r2l(c.x)*r[0],n.yaxis.r2l(c.y)*r[1],n.zaxis.r2l(c.z)*r[2]]),a(e.graphDiv,c,l,e.id,c._xa,c._ya))}}},f490:function(e,n,r){"use strict";(function(e,a){let o;function getGlobalNamespace(){if(null==o){let n;if("undefined"!=typeof window)n=window;else if(void 0!==e)n=e;else if(void 0!==a)n=a;else{if("undefined"==typeof self)throw new Error("Could not find a global object");n=self}o=n}return o}function getGlobal(e,n){const r=function getGlobalMap(){const e=getGlobalNamespace();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(r.has(e))return r.get(e);{const a=n();return r.set(e,a),r.get(e)}}r.d(n,"b",(function(){return getGlobalNamespace})),r.d(n,"a",(function(){return getGlobal}))}).call(this,r("c8ba"),r("4362"))},f4e9:function(e,n,r){"use strict";var a=r("67c4"),o=r("055a").counter,i=r("4852").scales,s=Object.keys(i);function code(e){return"`"+e+"`"}e.exports=function colorScaleAttrs(e,n){e=e||"";var r,l,c=(n=n||{}).cLetter||"c",u="onlyIfNumerical"in n?n.onlyIfNumerical:Boolean(e),d="noScale"in n?n.noScale:"marker.line"===e,p="showScaleDflt"in n?n.showScaleDflt:"z"===c,f="string"==typeof n.colorscaleDflt?i[n.colorscaleDflt]:null,h=n.editTypeOverride||"",m=e?e+".":"";"colorAttr"in n?(r=n.colorAttr,l=n.colorAttr):l="in "+code(m+(r={z:"z",c:"color"}[c]));var g=u?" Has an effect only if "+l+"is set to a numerical array.":"",y=c+"auto",b=c+"min",x=c+"max",_=c+"mid",w=code(m+y),k=code(m+b),T=code(m+x),S=k+" and "+T,O={};O[b]=O[x]=void 0;var C={};C[y]=!1;var A={};return"color"===r&&(A.color={valType:"color",arrayOk:!0,role:"style",editType:h||"style",description:["Sets the",e,"color."," It accepts either a specific color"," or an array of numbers that are mapped to the colorscale"," relative to the max and min values of the array or relative to"," "+S+" if set."].join("")},n.anim&&(A.color.anim=!0)),A[y]={valType:"boolean",role:"info",dflt:!0,editType:"calc",impliedEdits:O,description:["Determines whether or not the color domain is computed"," with respect to the input data (here "+l+") or the bounds set in"," ",S," ",g," Defaults to `false` when ",S," are set by the user."].join("")},A[b]={valType:"number",role:"info",dflt:null,editType:h||"plot",impliedEdits:C,description:["Sets the lower bound of the color domain.",g," Value should have the same units as ",l," and if set, ",T," must be set as well."].join("")},A[x]={valType:"number",role:"info",dflt:null,editType:h||"plot",impliedEdits:C,description:["Sets the upper bound of the color domain.",g," Value should have the same units as ",l," and if set, ",k," must be set as well."].join("")},A[_]={valType:"number",role:"info",dflt:null,editType:"calc",impliedEdits:O,description:["Sets the mid-point of the color domain by scaling ",k," and/or ",T," to be equidistant to this point.",g," Value should have the same units as ",l,". ","Has no effect when ",w," is `false`."].join("")},A.colorscale={valType:"colorscale",role:"style",editType:"calc",dflt:f,impliedEdits:{autocolorscale:!1},description:["Sets the colorscale.",g," The colorscale must be an array containing"," arrays mapping a normalized value to an"," rgb, rgba, hex, hsl, hsv, or named color string."," At minimum, a mapping for the lowest (0) and highest (1)"," values are required. For example,"," `[[0, 'rgb(0,0,255)'], [1, 'rgb(255,0,0)']]`."," To control the bounds of the colorscale in color space,"," use",S,"."," Alternatively, `colorscale` may be a palette name string"," of the following list: "+s+"."].join("")},A.autocolorscale={valType:"boolean",role:"style",dflt:!1!==n.autoColorDflt,editType:"calc",impliedEdits:{colorscale:void 0},description:["Determines whether the colorscale is a default palette (`autocolorscale: true`)"," or the palette determined by ",code(m+"colorscale"),".",g," In case `colorscale` is unspecified or `autocolorscale` is true, the default "," palette will be chosen according to whether numbers in the `color` array are"," all positive, all negative or mixed."].join("")},A.reversescale={valType:"boolean",role:"style",dflt:!1,editType:"plot",description:["Reverses the color mapping if true.",g," If true, ",k," will correspond to the last color"," in the array and ",T," will correspond to the first color."].join("")},d||(A.showscale={valType:"boolean",role:"info",dflt:p,editType:"calc",description:["Determines whether or not a colorbar is displayed for this trace.",g].join("")},A.colorbar=a),n.noColorAxis||(A.coloraxis={valType:"subplotid",role:"info",regex:o("coloraxis"),dflt:null,editType:"calc",description:["Sets a reference to a shared color axis.","References to these shared color axes are *coloraxis*, *coloraxis2*, *coloraxis3*, etc.","Settings for these shared color axes are set in the layout, under","`layout.coloraxis`, `layout.coloraxis2`, etc.","Note that multiple color scales can be linked to the same color axis."].join(" ")}),A}},f585:function(e,n,r){(function(e){var a;!function(e,o,i){function XorGen(e){var n=this;n.next=function(){var e,r,a=n.w,o=n.X,i=n.i;return n.w=a=a+1640531527|0,r=o[i+34&127],e=o[i=i+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=o[i]=r^e,n.i=i,r+(a^a>>>16)|0},function init(e,n){var r,a,o,i,s,l=[],c=128;for(n===(0|n)?(a=n,n=null):(n+="\0",a=0,c=Math.max(c,n.length)),o=0,i=-32;i<c;++i)n&&(a^=n.charCodeAt((i+32)%n.length)),0===i&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,i>=0&&(s=s+1640531527|0,o=0==(r=l[127&i]^=a+s)?o+1:0);for(o>=128&&(l[127&(n&&n.length||0)]=-1),o=127,i=512;i>0;--i)a=l[o+34&127],r=l[o=o+1&127],a^=a<<13,r^=r<<17,a^=a>>>15,r^=r>>>12,l[o]=a^r;e.w=s,e.X=l,e.i=o}(n,e)}function copy(e,n){return n.i=e.i,n.w=e.w,n.X=e.X.slice(),n}function impl(e,n){null==e&&(e=+new Date);var r=new XorGen(e),a=n&&n.state,prng=function(){return(r.next()>>>0)/4294967296};return prng.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},prng.int32=r.next,prng.quick=prng,a&&(a.X&&copy(a,r),prng.state=function(){return copy(r,{})}),prng}o&&o.exports?o.exports=impl:r("07d6")&&r("3c35")?void 0===(a=function(){return impl}.call(n,r,n,o))||(o.exports=a):this.xor4096=impl}(0,e,r("07d6"))}).call(this,r("62e4")(e))},f5df:function(e,n,r){var a=r("00ee"),o=r("c6b6"),i=r("b622")("toStringTag"),s="Arguments"==o(function(){return arguments}());e.exports=a?o:function(e){var n,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,n){try{return e[n]}catch(r){}}(n=Object(e),i))?r:s?o(n):"Object"==(a=o(n))&&"function"==typeof n.callee?"Arguments":a}},f6b0:function(e,n,r){"use strict";var a=r("19b2");e.exports=function toLogRange(e,n){if(e>0)return Math.log(e)/Math.LN10;var r=Math.log(Math.min(n[0],n[1]))/Math.LN10;return a(r)||(r=Math.log(Math.max(n[0],n[1]))/Math.LN10-6),r}},f6f8:function(e,n){e.exports=function fromScaling(e,n){return e[0]=n[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=n[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},f74c:function(e,n,r){"use strict";r.d(n,"a",(function(){return s}));var a=r("34d7"),o=r("a3f7"),i=r("6ad5");const s=async function setdiff1dAsync_(e,n){const r=Object(o.a)(e,"x","setdiff1d"),s=Object(o.a)(n,"y","setdiff1d");i.b(r.dtype===s.dtype,(()=>`x and y should have the same dtype, but got x (${r.dtype}) and y (${s.dtype}).`)),i.b(1===r.rank,(()=>`x should be 1D tensor, but got x (${r.shape}).`)),i.b(1===s.rank,(()=>`y should be 1D tensor, but got y (${s.shape}).`));const l=await r.data(),c=await s.data(),u=new Set(c);let d=0;for(let a=0;a<l.length;a++)u.has(l[a])||d++;const p=new a.b([d],r.dtype),f=new a.b([d],"int32");for(let a=0,o=0;a<l.length;a++)u.has(l[a])||(p.values[o]=l[a],f.values[o]=a,o++);return[p.toTensor(),f.toTensor()]}},f757:function(e,n,r){"use strict";r.d(n,"a",(function(){return y}));var a=r("a3f7"),o=r("6ad5"),i=r("8ae0"),s=r("36e5"),l=r("c021"),c=r("ae6d"),u=r("54ef"),d=r("c9f1"),p=r("35c9"),f=r("015f"),h=r("163a"),m=r("93b2"),g=r("e053");function normImpl(e,n,r=null){if(0===e.rank)return Object(i.a)(e);if(1!==e.rank&&null===r)return normImpl(Object(p.a)(e,[-1]),n,r);if(1===e.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return Object(g.a)(Object(i.a)(e),r);if(n===1/0)return Object(l.a)(Object(i.a)(e),r);if(n===-1/0)return Object(c.a)(Object(i.a)(e),r);if("euclidean"===n||2===n)return Object(h.a)(Object(g.a)(Object(d.a)(Object(i.a)(e),Object(f.a)(2,"int32")),r));throw new Error(`Error in norm: invalid ord value: ${n}`)}if(Array.isArray(r)&&2===r.length){if(1===n)return Object(l.a)(Object(g.a)(Object(i.a)(e),r[0]),r[1]-1);if(n===1/0)return Object(l.a)(Object(g.a)(Object(i.a)(e),r[1]),r[0]);if(n===-1/0)return Object(c.a)(Object(g.a)(Object(i.a)(e),r[1]),r[0]);if("fro"===n||"euclidean"===n)return Object(h.a)(Object(g.a)(Object(m.a)(e),r));throw new Error(`Error in norm: invalid ord value: ${n}`)}throw new Error(`Error in norm: invalid axis: ${r}`)}const y=Object(u.a)({norm_:function norm_(e,n="euclidean",r=null,i=!1){const l=normImpl(e=Object(a.a)(e,"x","norm"),n,r);let c=l.shape;if(i){const n=Object(o.I)(r,e.shape);c=s.e(l.shape,n)}return Object(p.a)(l,c)}})},f772:function(e,n,r){var a=r("5692"),o=r("90e3"),i=a("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},f7c1:function(e,n,r){"use strict";var a=r("fc26"),o=r("d115"),i=r("a651"),s=r("e5ac"),l=r("d2d9"),c=r("b19b");function buttonDefaults(e,n,r,o){var i=o.calendar;function coerce(r,o){return a.coerce(e,n,l.buttons,r,o)}if(coerce("visible")){var s=coerce("step");"all"!==s&&(!i||"gregorian"===i||"month"!==s&&"year"!==s?coerce("stepmode"):n.stepmode="backward",coerce("count")),coerce("label")}}e.exports=function handleDefaults(e,n,r,u,d){var p=e.rangeselector||{},f=i.newContainer(n,"rangeselector");function coerce(e,n){return a.coerce(p,f,l,e,n)}if(coerce("visible",s(p,f,{name:"buttons",handleItemDefaults:buttonDefaults,calendar:d}).length>0)){var h=function getPosDflt(e,n,r){for(var a=r.filter((function(r){return n[r].anchor===e._id})),o=0,i=0;i<a.length;i++){var s=n[a[i]].domain;s&&(o=Math.max(s[1],o))}return[e.domain[0],o+c.yPad]}(n,r,u);coerce("x",h[0]),coerce("y",h[1]),a.noneOrAll(e,n,["x","y"]),coerce("xanchor"),coerce("yanchor"),a.coerceFont(coerce,"font",r.font);var m=coerce("bgcolor");coerce("activecolor",o.contrast(m,c.lightAmount,c.darkAmount)),coerce("bordercolor"),coerce("borderwidth")}}},f7f1:function(e,n,r){var a;!function(o,i){var s,l=this,c=256,u=i.pow(c,6),d=i.pow(2,52),p=2*d,f=255;function seedrandom(e,n,r){var a=[],f=mixkey(flatten((n=1==n?{entropy:!0}:n||{}).entropy?[e,tostring(o)]:null==e?function autoseed(){try{var e;return s&&(e=s.randomBytes)?e=e(c):(e=new Uint8Array(c),(l.crypto||l.msCrypto).getRandomValues(e)),tostring(e)}catch(a){var n=l.navigator,r=n&&n.plugins;return[+new Date,l,r,l.screen,tostring(o)]}}():e,3),a),h=new ARC4(a),prng=function(){for(var e=h.g(6),n=u,r=0;e<d;)e=(e+r)*c,n*=c,r=h.g(1);for(;e>=p;)e/=2,n/=2,r>>>=1;return(e+r)/n};return prng.int32=function(){return 0|h.g(4)},prng.quick=function(){return h.g(4)/4294967296},prng.double=prng,mixkey(tostring(h.S),o),(n.pass||r||function(e,n,r,a){return a&&(a.S&&copy(a,h),e.state=function(){return copy(h,{})}),r?(i.random=e,n):e})(prng,f,"global"in n?n.global:this==i,n.state)}function ARC4(e){var n,r=e.length,a=this,o=0,i=a.i=a.j=0,s=a.S=[];for(r||(e=[r++]);o<c;)s[o]=o++;for(o=0;o<c;o++)s[o]=s[i=f&i+e[o%r]+(n=s[o])],s[i]=n;(a.g=function(e){for(var n,r=0,o=a.i,i=a.j,s=a.S;e--;)n=s[o=f&o+1],r=r*c+s[f&(s[o]=s[i=f&i+n])+(s[i]=n)];return a.i=o,a.j=i,r})(c)}function copy(e,n){return n.i=e.i,n.j=e.j,n.S=e.S.slice(),n}function flatten(e,n){var r,a=[],o=typeof e;if(n&&"object"==o)for(r in e)try{a.push(flatten(e[r],n-1))}catch(i){}return a.length?a:"string"==o?e:e+"\0"}function mixkey(e,n){for(var r,a=e+"",o=0;o<a.length;)n[f&o]=f&(r^=19*n[f&o])+a.charCodeAt(o++);return tostring(n)}function tostring(e){return String.fromCharCode.apply(0,e)}if(i.seedrandom=seedrandom,mixkey(i.random(),o),e.exports){e.exports=seedrandom;try{s=r(3)}catch(h){}}else void 0===(a=function(){return seedrandom}.call(n,r,n,e))||(e.exports=a)}([],Math)},f889:function(e,n){e.exports=function ortho(e,n,r,a,o,i,s){var l=1/(n-r),c=1/(a-o),u=1/(i-s);return e[0]=-2*l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(n+r)*l,e[13]=(o+a)*c,e[14]=(s+i)*u,e[15]=1,e}},f8a5:function(e,n){e.exports=function Epsilon(e){"number"!=typeof e&&(e=1e-10);var n={epsilon:function(n){return"number"==typeof n&&(e=n),e},pointAboveOrOnLine:function(n,r,a){var o=r[0],i=r[1],s=a[0],l=a[1],c=n[0];return(s-o)*(n[1]-i)-(l-i)*(c-o)>=-e},pointBetween:function(n,r,a){var o=n[1]-r[1],i=a[0]-r[0],s=n[0]-r[0],l=a[1]-r[1],c=s*i+o*l;return!(c<e)&&!(c-(i*i+l*l)>-e)},pointsSameX:function(n,r){return Math.abs(n[0]-r[0])<e},pointsSameY:function(n,r){return Math.abs(n[1]-r[1])<e},pointsSame:function(e,r){return n.pointsSameX(e,r)&&n.pointsSameY(e,r)},pointsCompare:function(e,r){return n.pointsSameX(e,r)?n.pointsSameY(e,r)?0:e[1]<r[1]?-1:1:e[0]<r[0]?-1:1},pointsCollinear:function(n,r,a){var o=n[0]-r[0],i=n[1]-r[1],s=r[0]-a[0],l=r[1]-a[1];return Math.abs(o*l-s*i)<e},linesIntersect:function(n,r,a,o){var i=r[0]-n[0],s=r[1]-n[1],l=o[0]-a[0],c=o[1]-a[1],u=i*c-s*l;if(Math.abs(u)<e)return!1;var d=n[0]-a[0],p=n[1]-a[1],f=(l*p-c*d)/u,h=(i*p-s*d)/u,m={alongA:0,alongB:0,pt:[n[0]+f*i,n[1]+f*s]};return m.alongA=f<=-e?-2:f<e?-1:f-1<=-e?0:f-1<e?1:2,m.alongB=h<=-e?-2:h<e?-1:h-1<=-e?0:h-1<e?1:2,m},pointInsideRegion:function(n,r){for(var a=n[0],o=n[1],i=r[r.length-1][0],s=r[r.length-1][1],l=!1,c=0;c<r.length;c++){var u=r[c][0],d=r[c][1];d-o>e!=s-o>e&&(i-u)*(o-d)/(s-d)+u-a>e&&(l=!l),i=u,s=d}return l}};return n}},f8bb:function(e,n,r){"use strict";(function(e){r.d(n,"a",(function(){return OperationMapper})),r.d(n,"i",(function(){return getStringParam})),r.d(n,"c",(function(){return getBoolParam})),r.d(n,"f",(function(){return getNumberParam})),r.d(n,"e",(function(){return getDtypeParam})),r.d(n,"d",(function(){return getDtypeArrayParam})),r.d(n,"k",(function(){return getTensorShapeParam})),r.d(n,"g",(function(){return getNumericArrayParam})),r.d(n,"h",(function(){return getStringArrayParam})),r.d(n,"j",(function(){return getTensorShapeArrayParam})),r.d(n,"b",(function(){return getBoolArrayParam}));var a=r("fa11"),o=r("46cc"),i=r("d303"),s=r("526c"),l=r("aeab"),c=r("c8ad"),u=r("5874"),d=r("9489"),p=r("04b8"),f=r("f011"),h=r("d556"),m=r("3d50"),g=r("6e83"),y=r("29d8"),b=r("a80f"),x=r("673d"),_=r("3bfc"),w=r("31bb"),k=r("dbf3"),T=r("113e"),S=r("9e7b");class OperationMapper{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[l,c,u,d,p,f,h,b,y,m,x,_,w,k,T,S,g].map((e=>e.json)));this.opMappers=e.reduce(((e,n)=>(e[n.tfOpName]=n,e)),{})}transformGraph(e,n={}){const r=e.node,a=[],o=[],i=[],l=r.reduce(((e,n)=>(e[n.name]=this.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||i.push(e[n.name]),e)),{});let c=[];const u=[];let d={},p={};null!=n&&(d=this.mapSignatureEntries(n.inputs),p=this.mapSignatureEntries(n.outputs));const f=Object.keys(l);f.forEach((e=>{const n=l[e];n.inputNames.forEach((e=>{const[r]=Object(s.b)(e);n.inputs.push(l[r]),l[r].children.push(n)}))})),0===Object.keys(p).length?f.forEach((e=>{const n=l[e];0===n.children.length&&u.push(n)})):Object.keys(p).forEach((e=>{const[n]=Object(s.b)(e),r=l[n];null!=r&&(r.signatureKey=p[e],u.push(r))})),Object.keys(d).length>0?Object.keys(d).forEach((e=>{const[n]=Object(s.b)(e),r=l[n];r&&(r.signatureKey=d[e],c.push(r))})):c=a;let h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce(((e,n)=>(e[n.signature.name]=this.mapFunction(n),e)),{}));const m={nodes:l,inputs:c,outputs:u,weights:o,placeholders:a,signature:n,functions:h};return i.length>0&&(m.initNodes=i),m}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((n,r)=>(n[e[r].name]=r,n)),{})}mapNode(e){const n=Object(i.a)(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr};return null!=n.inputs&&(r.inputParams=n.inputs.reduce(((e,n)=>(e[n.name]={type:n.type,inputIndexStart:n.start,inputIndexEnd:n.end},e)),{})),null!=n.attrs&&(r.attrParams=n.attrs.reduce(((n,r)=>{const a=r.type;let o;switch(r.type){case"string":o=getStringParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getStringParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"string[]":o=getStringArrayParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getStringArrayParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number":o=getNumberParam(e.attr,r.tfName,r.defaultValue||0),void 0===o&&r.tfDeprecatedName&&(o=getNumberParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"number[]":o=getNumericArrayParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getNumericArrayParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool":o=getBoolParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getBoolParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"bool[]":o=getBoolArrayParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getBoolArrayParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape":o=getTensorShapeParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getTensorShapeParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"shape[]":o=getTensorShapeArrayParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getTensorShapeArrayParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype":o=getDtypeParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getDtypeParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"dtype[]":o=getDtypeArrayParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getDtypeArrayParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"func":o=getFuncParam(e.attr,r.tfName,r.defaultValue),void 0===o&&r.tfDeprecatedName&&(o=getFuncParam(e.attr,r.tfDeprecatedName,r.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${r.type} for op: ${e.op}`)}return n[r.name]={value:o,type:a},n}),{})),r}mapFunction(e){const n=e.nodeDef,r=[];let a={};null!=n&&(a=n.reduce(((e,n)=>(e[n.name]=this.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e)),{}));const o=[],i=[];e.signature.inputArg.forEach((e=>{const[n]=Object(s.b)(e.name),r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:parseDtypeParam(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,o.push(r),a[n]=r}));Object.keys(a).forEach((e=>{const n=a[e];n.inputNames.forEach((e=>{const[r]=Object(s.b)(e);n.inputs.push(a[r]),a[r].children.push(n)}))}));const l=e.ret;e.signature.outputArg.forEach((e=>{const[n,r]=Object(s.b)(l[e.name]),o=a[n];null!=o&&(o.defaultOutput=r,i.push(o))}));const c=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:[],signature:c}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,n)=>(e[n.name]=this.mapArgToTensorInfo(n),e)),{}),outputs:e.signature.outputArg.reduce(((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n)),{})}}mapArgToTensorInfo(e,n){let r=e.name;return null!=n&&(r=n[r]),{name:r,dtype:e.type}}}function parseStringParam(n,r){const o=Array.isArray(n)?String.fromCharCode.apply(null,n):function decodeBase64(n){const r=Object(a.Ld)().global;if(void 0!==r.atob)return r.atob(n);if(void 0!==e)return new e(n,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(n);return r?o:o.toLowerCase()}function getStringParam(e,n,r,a=!1){const o=e[n];return null!=o?parseStringParam(o.s,a):r}function getBoolParam(e,n,r){const a=e[n];return a?a.b:r}function getNumberParam(e,n,r){const a=e[n]||{},o=null!=a.i?a.i:null!=a.f?a.f:r;return"number"==typeof o?o:parseInt(o,10)}function parseDtypeParam(e){switch("string"==typeof e&&(e=o.a[e]),e){case o.a.DT_FLOAT:return"float32";case o.a.DT_INT32:case o.a.DT_INT64:case o.a.DT_INT8:case o.a.DT_UINT8:return"int32";case o.a.DT_BOOL:return"bool";case o.a.DT_DOUBLE:return"float32";case o.a.DT_STRING:return"string";default:return null}}function getFuncParam(e,n,r){const a=e[n];return a&&a.func?a.func.name:r}function getDtypeParam(e,n,r){const a=e[n];return a&&a.type?parseDtypeParam(a.type):r}function getDtypeArrayParam(e,n,r){const a=e[n];return a&&a.list&&a.list.type?a.list.type.map((e=>parseDtypeParam(e))):r}function parseTensorShapeParam(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function getTensorShapeParam(e,n,r){const a=e[n];return a&&a.shape?parseTensorShapeParam(a.shape):r}function getNumericArrayParam(e,n,r){const a=e[n];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):r}function getStringArrayParam(e,n,r,a=!1){const o=e[n];return o&&o.list&&o.list.s?o.list.s.map((e=>parseStringParam(e,a))):r}function getTensorShapeArrayParam(e,n,r){const a=e[n];return a&&a.list&&a.list.shape?a.list.shape.map((e=>parseTensorShapeParam(e))):r}function getBoolArrayParam(e,n,r){const a=e[n];return a&&a.list&&a.list.b?a.list.b:r}}).call(this,r("b639").Buffer)},f98d:function(e,n,r){"use strict";function xformMatrix(e,n){var r,a,o=[0,0,0,0];for(r=0;r<4;++r)for(a=0;a<4;++a)o[a]+=e[4*r+a]*n[r];return o}e.exports=function project(e,n){return xformMatrix(e.projection,xformMatrix(e.view,xformMatrix(e.model,[n[0],n[1],n[2],1])))}},fa06:function(e,n,r){"use strict";var a=r("107c"),o=a.marker,i=r("9092").extendFlat,s=["Area traces are deprecated!","Please switch to the *barpolar* trace type."].join(" ");e.exports={r:i({},a.r,{description:[s,"Sets the radial coordinates","for legacy polar chart only."].join(" ")}),t:i({},a.t,{description:[s,"Sets the angular coordinates","for legacy polar chart only."].join(" ")}),marker:{color:i({},o.color,{description:[s,o.color.description].join(" ")}),size:i({},o.size,{description:[s,o.size.description].join(" ")}),symbol:i({},o.symbol,{description:[s,o.symbol.description].join(" ")}),opacity:i({},o.opacity,{description:[s,o.opacity.description].join(" ")}),editType:"calc"}}},fa11:function(e,n,r){"use strict";r.d(n,"cc",(function(){return optimizer_Optimizer})),r.d(n,"Tc",(function(){return N.a})),r.d(n,"Uc",(function(){return N.b})),r.d(n,"bf",(function(){return X.a})),r.d(n,"nf",(function(){return X.b})),r.d(n,"ed",(function(){return Y.a})),r.d(n,"fd",(function(){return Y.b})),r.d(n,"gd",(function(){return Y.c})),r.d(n,"hd",(function(){return Y.d})),r.d(n,"id",(function(){return Y.e})),r.d(n,"jd",(function(){return Y.f})),r.d(n,"kd",(function(){return Y.g})),r.d(n,"nd",(function(){return Y.h})),r.d(n,"od",(function(){return Y.i})),r.d(n,"pd",(function(){return Y.j})),r.d(n,"rd",(function(){return Y.k})),r.d(n,"sd",(function(){return Y.l})),r.d(n,"td",(function(){return Y.m})),r.d(n,"ud",(function(){return Y.n})),r.d(n,"vd",(function(){return Y.o})),r.d(n,"wd",(function(){return Y.p})),r.d(n,"xd",(function(){return Y.q})),r.d(n,"yd",(function(){return Y.r})),r.d(n,"zd",(function(){return Y.s})),r.d(n,"Ad",(function(){return Y.t})),r.d(n,"Bd",(function(){return Y.u})),r.d(n,"Cd",(function(){return Y.v})),r.d(n,"Dd",(function(){return Y.w})),r.d(n,"Ed",(function(){return Y.x})),r.d(n,"Hd",(function(){return Y.y})),r.d(n,"Jd",(function(){return Y.A})),r.d(n,"Md",(function(){return Y.B})),r.d(n,"Nd",(function(){return Y.C})),r.d(n,"Od",(function(){return Y.D})),r.d(n,"Pd",(function(){return Y.E})),r.d(n,"Qd",(function(){return Y.F})),r.d(n,"Rd",(function(){return Y.G})),r.d(n,"Td",(function(){return Y.I})),r.d(n,"Ud",(function(){return Y.J})),r.d(n,"Vd",(function(){return Y.K})),r.d(n,"ae",(function(){return Y.M})),r.d(n,"ce",(function(){return Y.O})),r.d(n,"de",(function(){return Y.P})),r.d(n,"ee",(function(){return Y.Q})),r.d(n,"fe",(function(){return Y.R})),r.d(n,"ge",(function(){return Y.S})),r.d(n,"he",(function(){return Y.T})),r.d(n,"ie",(function(){return Y.U})),r.d(n,"je",(function(){return Y.V})),r.d(n,"le",(function(){return Y.W})),r.d(n,"me",(function(){return Y.X})),r.d(n,"ne",(function(){return Y.Y})),r.d(n,"oe",(function(){return Y.Z})),r.d(n,"pe",(function(){return Y.ab})),r.d(n,"re",(function(){return Y.bb})),r.d(n,"se",(function(){return Y.cb})),r.d(n,"te",(function(){return Y.db})),r.d(n,"ue",(function(){return Y.eb})),r.d(n,"ve",(function(){return Y.fb})),r.d(n,"we",(function(){return Y.gb})),r.d(n,"xe",(function(){return Y.hb})),r.d(n,"ye",(function(){return Y.ib})),r.d(n,"ze",(function(){return Y.jb})),r.d(n,"Ae",(function(){return Y.kb})),r.d(n,"De",(function(){return Y.lb})),r.d(n,"Ee",(function(){return Y.mb})),r.d(n,"Fe",(function(){return Y.nb})),r.d(n,"Ge",(function(){return Y.ob})),r.d(n,"He",(function(){return Y.pb})),r.d(n,"Ie",(function(){return Y.qb})),r.d(n,"Le",(function(){return Y.rb})),r.d(n,"Me",(function(){return Y.sb})),r.d(n,"Ne",(function(){return Y.tb})),r.d(n,"Oe",(function(){return Y.ub})),r.d(n,"Pe",(function(){return Y.vb})),r.d(n,"Qe",(function(){return Y.wb})),r.d(n,"Se",(function(){return Y.xb})),r.d(n,"Te",(function(){return Y.yb})),r.d(n,"Ue",(function(){return Y.zb})),r.d(n,"Ve",(function(){return Y.Ab})),r.d(n,"We",(function(){return Y.Bb})),r.d(n,"Xe",(function(){return Y.Cb})),r.d(n,"Ye",(function(){return Y.Db})),r.d(n,"Ze",(function(){return Y.Eb})),r.d(n,"af",(function(){return Y.Fb})),r.d(n,"cf",(function(){return Y.Gb})),r.d(n,"df",(function(){return Y.Hb})),r.d(n,"ef",(function(){return Y.Ib})),r.d(n,"ff",(function(){return Y.Jb})),r.d(n,"if",(function(){return Y.Kb})),r.d(n,"lf",(function(){return Y.Mb})),r.d(n,"mf",(function(){return Y.Nb})),r.d(n,"pf",(function(){return Y.Ob})),r.d(n,"sf",(function(){return Y.Pb})),r.d(n,"tf",(function(){return Y.Qb})),r.d(n,"uf",(function(){return Y.Rb})),r.d(n,"kf",(function(){return Y.Lb})),r.d(n,"Id",(function(){return Y.z})),r.d(n,"Wd",(function(){return Y.L})),r.d(n,"be",(function(){return Y.N})),r.d(n,"Sd",(function(){return Y.H})),r.d(n,"jf",(function(){return le})),r.d(n,"Kd",(function(){return G.c})),r.d(n,"ke",(function(){return G.e})),r.d(n,"hf",(function(){return G.h})),r.d(n,"Gd",(function(){return G.b})),r.d(n,"Yd",(function(){return G.d})),r.d(n,"Ke",(function(){return G.g})),r.d(n,"Be",(function(){return G.f})),r.d(n,"ld",(function(){return G.a})),r.d(n,"Ce",(function(){return j.e})),r.d(n,"qf",(function(){return q.b})),r.d(n,"Ld",(function(){return d.b})),r.d(n,"rf",(function(){return H})),r.d(n,"qe",(function(){return nextFrame})),r.d(n,"qd",(function(){return o})),r.d(n,"Xd",(function(){return a})),r.d(n,"Je",(function(){return i})),r.d(n,"of",(function(){return W})),r.d(n,"md",(function(){return l})),r.d(n,"gf",(function(){return U})),r.d(n,"Re",(function(){return V})),r.d(n,"Fd",(function(){return ke})),r.d(n,"Zd",(function(){return c})),r.d(n,"vb",(function(){return Oe.b})),r.d(n,"L",(function(){return Oe.a})),r.d(n,"a",(function(){return D.a})),r.d(n,"b",(function(){return D.b})),r.d(n,"c",(function(){return D.c})),r.d(n,"d",(function(){return D.d})),r.d(n,"e",(function(){return D.e})),r.d(n,"f",(function(){return D.f})),r.d(n,"g",(function(){return D.g})),r.d(n,"h",(function(){return D.h})),r.d(n,"i",(function(){return D.i})),r.d(n,"j",(function(){return D.j})),r.d(n,"k",(function(){return D.k})),r.d(n,"l",(function(){return D.l})),r.d(n,"n",(function(){return D.n})),r.d(n,"m",(function(){return D.m})),r.d(n,"o",(function(){return D.o})),r.d(n,"r",(function(){return D.r})),r.d(n,"p",(function(){return D.p})),r.d(n,"q",(function(){return D.q})),r.d(n,"s",(function(){return D.s})),r.d(n,"t",(function(){return D.t})),r.d(n,"u",(function(){return D.u})),r.d(n,"v",(function(){return D.w})),r.d(n,"w",(function(){return D.x})),r.d(n,"x",(function(){return D.y})),r.d(n,"y",(function(){return D.z})),r.d(n,"z",(function(){return D.A})),r.d(n,"A",(function(){return D.B})),r.d(n,"B",(function(){return D.C})),r.d(n,"C",(function(){return D.D})),r.d(n,"D",(function(){return D.E})),r.d(n,"E",(function(){return D.F})),r.d(n,"F",(function(){return D.G})),r.d(n,"G",(function(){return D.H})),r.d(n,"H",(function(){return D.I})),r.d(n,"I",(function(){return D.J})),r.d(n,"K",(function(){return D.L})),r.d(n,"J",(function(){return D.K})),r.d(n,"M",(function(){return D.M})),r.d(n,"N",(function(){return D.N})),r.d(n,"O",(function(){return D.O})),r.d(n,"P",(function(){return D.P})),r.d(n,"Q",(function(){return D.Q})),r.d(n,"R",(function(){return D.R})),r.d(n,"S",(function(){return D.S})),r.d(n,"U",(function(){return D.U})),r.d(n,"T",(function(){return D.T})),r.d(n,"kc",(function(){return D.jc})),r.d(n,"V",(function(){return D.V})),r.d(n,"W",(function(){return D.W})),r.d(n,"Y",(function(){return D.Y})),r.d(n,"X",(function(){return D.X})),r.d(n,"Z",(function(){return D.Z})),r.d(n,"ab",(function(){return D.ab})),r.d(n,"bb",(function(){return D.bb})),r.d(n,"cb",(function(){return D.cb})),r.d(n,"db",(function(){return D.db})),r.d(n,"eb",(function(){return D.eb})),r.d(n,"fb",(function(){return D.fb})),r.d(n,"gb",(function(){return D.gb})),r.d(n,"ib",(function(){return D.ib})),r.d(n,"mb",(function(){return D.mb})),r.d(n,"lb",(function(){return D.lb})),r.d(n,"nb",(function(){return D.nb})),r.d(n,"ob",(function(){return D.ob})),r.d(n,"qb",(function(){return D.qb})),r.d(n,"pb",(function(){return D.pb})),r.d(n,"rb",(function(){return D.rb})),r.d(n,"sb",(function(){return D.sb})),r.d(n,"tb",(function(){return D.tb})),r.d(n,"ub",(function(){return D.ub})),r.d(n,"yb",(function(){return D.xb})),r.d(n,"zb",(function(){return D.yb})),r.d(n,"Ab",(function(){return D.zb})),r.d(n,"Bb",(function(){return D.Ab})),r.d(n,"Cb",(function(){return D.Bb})),r.d(n,"Db",(function(){return D.Cb})),r.d(n,"Eb",(function(){return D.Eb})),r.d(n,"Fb",(function(){return D.Fb})),r.d(n,"Gb",(function(){return D.Gb})),r.d(n,"wb",(function(){return D.vb})),r.d(n,"xb",(function(){return D.wb})),r.d(n,"Hb",(function(){return D.Hb})),r.d(n,"Nb",(function(){return D.Nb})),r.d(n,"Ib",(function(){return D.Ib})),r.d(n,"Lb",(function(){return D.Lb})),r.d(n,"Jb",(function(){return D.Jb})),r.d(n,"Kb",(function(){return D.Kb})),r.d(n,"Mb",(function(){return D.Mb})),r.d(n,"Ob",(function(){return D.Ob})),r.d(n,"Pb",(function(){return D.Pb})),r.d(n,"Qb",(function(){return D.Qb})),r.d(n,"Rb",(function(){return D.Rb})),r.d(n,"Sb",(function(){return D.Sb})),r.d(n,"Tb",(function(){return D.Tb})),r.d(n,"Ub",(function(){return D.Ub})),r.d(n,"Vb",(function(){return D.Vb})),r.d(n,"Zb",(function(){return D.Zb})),r.d(n,"Wb",(function(){return D.Wb})),r.d(n,"Xb",(function(){return D.Xb})),r.d(n,"Yb",(function(){return D.Yb})),r.d(n,"bc",(function(){return D.bc})),r.d(n,"ac",(function(){return D.ac})),r.d(n,"dc",(function(){return D.cc})),r.d(n,"ec",(function(){return D.dc})),r.d(n,"fc",(function(){return D.ec})),r.d(n,"gc",(function(){return D.fc})),r.d(n,"hc",(function(){return D.gc})),r.d(n,"ic",(function(){return D.hc})),r.d(n,"jc",(function(){return D.ic})),r.d(n,"lc",(function(){return D.kc})),r.d(n,"mc",(function(){return D.lc})),r.d(n,"oc",(function(){return D.nc})),r.d(n,"rc",(function(){return D.qc})),r.d(n,"sc",(function(){return D.rc})),r.d(n,"pc",(function(){return D.oc})),r.d(n,"qc",(function(){return D.pc})),r.d(n,"nc",(function(){return D.mc})),r.d(n,"tc",(function(){return D.sc})),r.d(n,"vc",(function(){return D.uc})),r.d(n,"wc",(function(){return D.vc})),r.d(n,"xc",(function(){return D.wc})),r.d(n,"yc",(function(){return D.xc})),r.d(n,"zc",(function(){return D.yc})),r.d(n,"Ec",(function(){return D.Dc})),r.d(n,"Cc",(function(){return D.Bc})),r.d(n,"Dc",(function(){return D.Cc})),r.d(n,"Bc",(function(){return D.Ac})),r.d(n,"Ac",(function(){return D.zc})),r.d(n,"Gc",(function(){return D.Fc})),r.d(n,"Kc",(function(){return D.Jc})),r.d(n,"Qc",(function(){return D.Pc})),r.d(n,"Hc",(function(){return D.Gc})),r.d(n,"Jc",(function(){return D.Ic})),r.d(n,"Fc",(function(){return D.Ec})),r.d(n,"Mc",(function(){return D.Lc})),r.d(n,"Lc",(function(){return D.Kc})),r.d(n,"Pc",(function(){return D.Oc})),r.d(n,"Ic",(function(){return D.Hc})),r.d(n,"Oc",(function(){return D.Nc})),r.d(n,"Rc",(function(){return D.Qc})),r.d(n,"Sc",(function(){return D.Rc})),r.d(n,"Vc",(function(){return D.Sc})),r.d(n,"Wc",(function(){return D.Tc})),r.d(n,"Xc",(function(){return D.Uc})),r.d(n,"Yc",(function(){return D.Vc})),r.d(n,"Zc",(function(){return D.Wc})),r.d(n,"ad",(function(){return D.Xc})),r.d(n,"bd",(function(){return D.Yc})),r.d(n,"cd",(function(){return D.Zc})),r.d(n,"Nc",(function(){return D.Mc})),r.d(n,"hb",(function(){return D.hb})),r.d(n,"uc",(function(){return D.tc})),r.d(n,"dd",(function(){return D.ad})),r.d(n,"jb",(function(){return D.jb})),r.d(n,"kb",(function(){return D.kb}));var a={};r.r(a),r.d(a,"copyModel",(function(){return copyModel})),r.d(a,"listModels",(function(){return listModels})),r.d(a,"moveModel",(function(){return moveModel})),r.d(a,"removeModel",(function(){return removeModel})),r.d(a,"browserFiles",(function(){return browserFiles})),r.d(a,"browserHTTPRequest",(function(){return browserHTTPRequest})),r.d(a,"concatenateArrayBuffers",(function(){return p.d})),r.d(a,"decodeWeights",(function(){return p.e})),r.d(a,"encodeWeights",(function(){return p.f})),r.d(a,"fromMemory",(function(){return fromMemory})),r.d(a,"getLoadHandlers",(function(){return getLoadHandlers})),r.d(a,"getModelArtifactsInfoForJSON",(function(){return p.g})),r.d(a,"getSaveHandlers",(function(){return getSaveHandlers})),r.d(a,"http",(function(){return http})),r.d(a,"isHTTPScheme",(function(){return isHTTPScheme})),r.d(a,"loadWeights",(function(){return loadWeights})),r.d(a,"registerLoadRouter",(function(){return registerLoadRouter})),r.d(a,"registerSaveRouter",(function(){return registerSaveRouter})),r.d(a,"weightsLoaderFactory",(function(){return weightsLoaderFactory})),r.d(a,"withSaveHandler",(function(){return withSaveHandler}));var o={};r.r(o),r.d(o,"fromPixelsAsync",(function(){return fromPixelsAsync})),r.d(o,"toPixels",(function(){return toPixels})),r.d(o,"fromPixels",(function(){return B}));var i={};r.r(i),r.d(i,"Serializable",(function(){return Serializable})),r.d(i,"SerializationMap",(function(){return SerializationMap})),r.d(i,"registerClass",(function(){return registerClass}));var s={};r.r(s),r.d(s,"segOpComputeOptimalWindowSize",(function(){return segOpComputeOptimalWindowSize})),r.d(s,"computeOutShape",(function(){return segment_util_computeOutShape})),r.d(s,"collectGatherOpShapeInfo",(function(){return collectGatherOpShapeInfo}));var l={};r.r(l),r.d(l,"axesAreInnerMostDims",(function(){return ue.b})),r.d(l,"combineLocations",(function(){return ue.c})),r.d(l,"computeOutAndReduceShapes",(function(){return ue.d})),r.d(l,"expandShapeToKeepDim",(function(){return ue.e})),r.d(l,"assertAxesAreInnerMostDims",(function(){return ue.a})),r.d(l,"getAxesPermutation",(function(){return ue.f})),r.d(l,"getUndoAxesPermutation",(function(){return ue.h})),r.d(l,"getInnerMostAxes",(function(){return ue.g})),r.d(l,"getBroadcastDims",(function(){return de.b})),r.d(l,"getReductionAxes",(function(){return de.c})),r.d(l,"assertAndGetBroadcastShape",(function(){return de.a})),r.d(l,"assertParamsConsistent",(function(){return assertParamsConsistent})),r.d(l,"computeOutShape",(function(){return computeOutShape})),r.d(l,"computeDilation2DInfo",(function(){return pe.d})),r.d(l,"computePool2DInfo",(function(){return pe.e})),r.d(l,"computePool3DInfo",(function(){return pe.f})),r.d(l,"computeConv2DInfo",(function(){return pe.a})),r.d(l,"computeConv3DInfo",(function(){return pe.b})),r.d(l,"computeDefaultPad",(function(){return pe.c})),r.d(l,"tupleValuesAreOne",(function(){return pe.i})),r.d(l,"eitherStridesOrDilationsAreOne",(function(){return pe.h})),r.d(l,"convertConv2DDataFormat",(function(){return pe.g})),r.d(l,"getFusedDyActivation",(function(){return fe.c})),r.d(l,"getFusedBiasGradient",(function(){return fe.b})),r.d(l,"applyActivation",(function(){return fe.a})),r.d(l,"shouldFuse",(function(){return fe.d})),r.d(l,"PARALLELIZE_THRESHOLD",(function(){return he})),r.d(l,"computeOptimalWindowSize",(function(){return computeOptimalWindowSize})),r.d(l,"slice_util",(function(){return V})),r.d(l,"upcastType",(function(){return X.b})),r.d(l,"getImageCenter",(function(){return getImageCenter})),r.d(l,"getReshaped",(function(){return getReshaped})),r.d(l,"getPermuted",(function(){return getPermuted})),r.d(l,"getReshapedPermuted",(function(){return getReshapedPermuted})),r.d(l,"getSliceBeginCoords",(function(){return getSliceBeginCoords})),r.d(l,"getSliceSize",(function(){return getSliceSize})),r.d(l,"prepareAndValidate",(function(){return prepareAndValidate})),r.d(l,"validateUpdateShape",(function(){return me.c})),r.d(l,"validateInput",(function(){return me.b})),r.d(l,"calculateShapes",(function(){return me.a})),r.d(l,"SELU_SCALEALPHA",(function(){return ge.b})),r.d(l,"SELU_SCALE",(function(){return ge.a})),r.d(l,"ERF_P",(function(){return ye})),r.d(l,"ERF_A1",(function(){return be})),r.d(l,"ERF_A2",(function(){return ve})),r.d(l,"ERF_A3",(function(){return xe})),r.d(l,"ERF_A4",(function(){return _e})),r.d(l,"ERF_A5",(function(){return we})),r.d(l,"warn",(function(){return warn})),r.d(l,"log",(function(){return log})),r.d(l,"mergeRealAndImagArrays",(function(){return mergeRealAndImagArrays})),r.d(l,"splitRealAndImagArrays",(function(){return splitRealAndImagArrays})),r.d(l,"complexWithEvenIndex",(function(){return complexWithEvenIndex})),r.d(l,"complexWithOddIndex",(function(){return complexWithOddIndex})),r.d(l,"getComplexWithIndex",(function(){return getComplexWithIndex})),r.d(l,"assignToTypedArray",(function(){return assignToTypedArray})),r.d(l,"exponents",(function(){return exponents})),r.d(l,"exponent",(function(){return exponent})),r.d(l,"prepareSplitSize",(function(){return prepareSplitSize})),r.d(l,"segment_util",(function(){return s})),r.d(l,"fromUint8ToStringArray",(function(){return fromUint8ToStringArray})),r.d(l,"fromStringArrayToUint8",(function(){return fromStringArrayToUint8}));var c={};r.r(c),r.d(c,"nonMaxSuppressionV3Impl",(function(){return Te.a})),r.d(c,"nonMaxSuppressionV4Impl",(function(){return Te.b})),r.d(c,"nonMaxSuppressionV5Impl",(function(){return Te.c})),r.d(c,"whereImpl",(function(){return Se.a}));var u=r("6ae2"),d=(r("29a8"),r("b333")),p=r("350f");class IORouterRegistry{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==IORouterRegistry.instance&&(IORouterRegistry.instance=new IORouterRegistry),IORouterRegistry.instance}static registerSaveRouter(e){IORouterRegistry.getInstance().saveRouters.push(e)}static registerLoadRouter(e){IORouterRegistry.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return IORouterRegistry.getHandlers(e,"save")}static getLoadHandlers(e,n){return IORouterRegistry.getHandlers(e,"load",n)}static getHandlers(e,n,r){const a=[];return("load"===n?IORouterRegistry.getInstance().loadRouters:IORouterRegistry.getInstance().saveRouters).forEach((n=>{const o=n(e,r);null!==o&&a.push(o)})),a}}const registerSaveRouter=e=>IORouterRegistry.registerSaveRouter(e),registerLoadRouter=e=>IORouterRegistry.registerLoadRouter(e),getSaveHandlers=e=>IORouterRegistry.getSaveHandlers(e),getLoadHandlers=(e,n)=>IORouterRegistry.getLoadHandlers(e,n),f="tensorflowjs",h="models_store",m="model_info_store";function getIndexedDBFactory(){if(!Object(d.b)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,n=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==n)throw new Error("The current browser does not appear to support IndexedDB.");return n}function setUpDatabase(e){const n=e.result;n.createObjectStore(h,{keyPath:"modelPath"}),n.createObjectStore(m,{keyPath:"modelPath"})}class indexed_db_BrowserIndexedDB{constructor(e){if(this.indexedDB=getIndexedDBFactory(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise(((e,r)=>{const a=this.indexedDB.open(f,1);a.onupgradeneeded=()=>setUpDatabase(a),a.onsuccess=()=>{const o=a.result;if(null==n){const n=o.transaction(h,"readonly"),a=n.objectStore(h).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return o.close(),r(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(a.result.modelArtifacts)},a.onerror=e=>(o.close(),r(a.error)),n.oncomplete=()=>o.close()}else{const a=Object(p.g)(n),i=o.transaction(m,"readwrite");let s=i.objectStore(m);const l=s.put({modelPath:this.modelPath,modelArtifactsInfo:a});let c;l.onsuccess=()=>{c=o.transaction(h,"readwrite");const l=c.objectStore(h).put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:a});l.onsuccess=()=>e({modelArtifactsInfo:a}),l.onerror=e=>{s=i.objectStore(m);const n=s.delete(this.modelPath);n.onsuccess=()=>(o.close(),r(l.error)),n.onerror=e=>(o.close(),r(l.error))}},l.onerror=e=>(o.close(),r(l.error)),i.oncomplete=()=>{null==c?o.close():c.oncomplete=()=>o.close()}}},a.onerror=e=>r(a.error)}))}}indexed_db_BrowserIndexedDB.URL_SCHEME="indexeddb://";const indexedDBRouter=e=>Object(d.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(indexed_db_BrowserIndexedDB.URL_SCHEME)?function browserIndexedDB(e){return new indexed_db_BrowserIndexedDB(e)}(e.slice(indexed_db_BrowserIndexedDB.URL_SCHEME.length)):null;IORouterRegistry.registerSaveRouter(indexedDBRouter),IORouterRegistry.registerLoadRouter(indexedDBRouter);class BrowserIndexedDBManager{constructor(){this.indexedDB=getIndexedDBFactory()}async listModels(){return new Promise(((e,n)=>{const r=this.indexedDB.open(f,1);r.onupgradeneeded=()=>setUpDatabase(r),r.onsuccess=()=>{const a=r.result,o=a.transaction(m,"readonly"),i=o.objectStore(m).getAll();i.onsuccess=()=>{const n={};for(const e of i.result)n[e.modelPath]=e.modelArtifactsInfo;e(n)},i.onerror=e=>(a.close(),n(i.error)),o.oncomplete=()=>a.close()},r.onerror=e=>n(r.error)}))}async removeModel(e){return e=function maybeStripScheme(e){return e.startsWith(indexed_db_BrowserIndexedDB.URL_SCHEME)?e.slice(indexed_db_BrowserIndexedDB.URL_SCHEME.length):e}(e),new Promise(((n,r)=>{const a=this.indexedDB.open(f,1);a.onupgradeneeded=()=>setUpDatabase(a),a.onsuccess=()=>{const o=a.result,i=o.transaction(m,"readwrite"),s=i.objectStore(m),l=s.get(e);let c;l.onsuccess=()=>{if(null==l.result)return o.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const a=s.delete(e),deleteModelData=()=>{c=o.transaction(h,"readwrite");const a=c.objectStore(h).delete(e);a.onsuccess=()=>n(l.result.modelArtifactsInfo),a.onerror=e=>r(l.error)};a.onsuccess=deleteModelData,a.onerror=e=>(deleteModelData(),o.close(),r(l.error))}},l.onerror=e=>(o.close(),r(l.error)),i.oncomplete=()=>{null==c?o.close():c.oncomplete=()=>o.close()}},a.onerror=e=>r(a.error)}))}}var g=r("6ad5");const y="/",b="tensorflowjs_models",x="info",_="model_topology",w="weight_specs",k="weight_data",T="model_metadata";function getModelKeys(e){return{info:[b,e,x].join(y),topology:[b,e,_].join(y),weightSpecs:[b,e,w].join(y),weightData:[b,e,k].join(y),modelMetadata:[b,e,T].join(y)}}function getModelPathFromKey(e){const n=e.split(y);if(n.length<3)throw new Error(`Invalid key format: ${e}`);return n.slice(1,n.length-1).join(y)}class local_storage_BrowserLocalStorage{constructor(e){if(!Object(d.b)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=getModelKeys(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const r=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),o=Object(p.g)(e);try{this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,Object(p.a)(e.weightData));const n={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),this.LS.setItem(this.keys.modelMetadata,JSON.stringify(n)),{modelArtifactsInfo:o}}catch(n){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${o.modelTopologyBytes}, weightSpecsBytes=${o.weightSpecsBytes}, weightDataBytes=${o.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(null==r)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);n.format=e.format,n.generatedBy=e.generatedBy,n.convertedBy=e.convertedBy,null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=Object(p.b)(i),n}}local_storage_BrowserLocalStorage.URL_SCHEME="localstorage://";const localStorageRouter=e=>Object(d.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(local_storage_BrowserLocalStorage.URL_SCHEME)?function browserLocalStorage(e){return new local_storage_BrowserLocalStorage(e)}(e.slice(local_storage_BrowserLocalStorage.URL_SCHEME.length)):null;IORouterRegistry.registerSaveRouter(localStorageRouter),IORouterRegistry.registerLoadRouter(localStorageRouter);class local_storage_BrowserLocalStorageManager{constructor(){Object(g.b)(Object(d.b)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),Object(g.b)("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},n=b+y,r=y+x;for(let a=0;a<this.LS.length;++a){const o=this.LS.key(a);if(o.startsWith(n)&&o.endsWith(r)){e[getModelPathFromKey(o)]=JSON.parse(this.LS.getItem(o))}}return e}async removeModel(e){const n=getModelKeys(e=function local_storage_maybeStripScheme(e){return e.startsWith(local_storage_BrowserLocalStorage.URL_SCHEME)?e.slice(local_storage_BrowserLocalStorage.URL_SCHEME.length):e}(e));if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return this.LS.removeItem(n.info),this.LS.removeItem(n.topology),this.LS.removeItem(n.weightSpecs),this.LS.removeItem(n.weightData),r}}const S="://";class model_management_ModelStoreManagerRegistry{constructor(){this.managers={}}static getInstance(){return null==model_management_ModelStoreManagerRegistry.instance&&(model_management_ModelStoreManagerRegistry.instance=new model_management_ModelStoreManagerRegistry),model_management_ModelStoreManagerRegistry.instance}static registerManager(e,n){Object(g.b)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(S)&&(e=e.slice(0,e.indexOf(S))),Object(g.b)(e.length>0,(()=>"scheme must not be an empty string."));const r=model_management_ModelStoreManagerRegistry.getInstance();Object(g.b)(null==r.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),r.managers[e]=n}static getManager(e){const n=this.getInstance().managers[e];if(null==n)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys(this.getInstance().managers)}}function parseURL(e){if(-1===e.indexOf(S))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${model_management_ModelStoreManagerRegistry.getSchemes().join(",")}`);return{scheme:e.split(S)[0],path:e.split(S)[1]}}async function cloneModelInternal(e,n,r=!1){Object(g.b)(e!==n,(()=>`Old path and new path are the same: '${e}'`));const a=IORouterRegistry.getLoadHandlers(e);Object(g.b)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),Object(g.b)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const o=a[0],i=IORouterRegistry.getSaveHandlers(n);Object(g.b)(i.length>0,(()=>`Copying failed because no save handler is found for destination URL ${n}.`)),Object(g.b)(i.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${n}.`));const s=i[0],l=parseURL(e).scheme,c=parseURL(e).path,u=l===parseURL(e).scheme,d=await o.load();r&&u&&await model_management_ModelStoreManagerRegistry.getManager(l).removeModel(c);const p=await s.save(d);return r&&!u&&await model_management_ModelStoreManagerRegistry.getManager(l).removeModel(c),p.modelArtifactsInfo}async function listModels(){const e=model_management_ModelStoreManagerRegistry.getSchemes(),n={};for(const r of e){const e=await model_management_ModelStoreManagerRegistry.getManager(r).listModels();for(const a in e){n[r+S+a]=e[a]}}return n}async function removeModel(e){const n=parseURL(e);return model_management_ModelStoreManagerRegistry.getManager(n.scheme).removeModel(n.path)}async function copyModel(e,n){return cloneModelInternal(e,n,!1)}async function moveModel(e,n){return cloneModelInternal(e,n,!0)}class PlatformBrowser{fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if("utf-8"!==n&&"utf8"!==n)throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}}if(Object(d.b)().get("IS_BROWSER")){Object(d.b)().setPlatform("browser",new PlatformBrowser);try{model_management_ModelStoreManagerRegistry.registerManager(local_storage_BrowserLocalStorage.URL_SCHEME,new local_storage_BrowserLocalStorageManager)}catch(Ce){}try{model_management_ModelStoreManagerRegistry.registerManager(indexed_db_BrowserIndexedDB.URL_SCHEME,new BrowserIndexedDBManager)}catch(Ce){}}r("4b05");var O=r("043e"),C=r("deb3"),A=r("f0a9"),I=r("7568"),N=r("34d7");Object(u.b)();const M={buffer:O.a,cast:C.a,clone:A.a,print:I.a};Object(N.f)(M);function defer(e){return new Promise((e=>setTimeout(e))).then(e)}class browser_files_BrowserDownloads{constructor(e){if(!Object(d.b)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(browser_files_BrowserDownloads.URL_SCHEME)&&(e=e.slice(browser_files_BrowserDownloads.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelTopologyFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const r=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r};null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer);const o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor;if(i.download=this.modelTopologyFileName,i.href=o,await defer((()=>i.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await defer((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Object(p.g)(e)}}}}browser_files_BrowserDownloads.URL_SCHEME="downloads://";class browser_files_BrowserFiles{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.files=e}async load(){const e=this.files[0],n=this.files.slice(1);return new Promise(((r,a)=>{const o=new FileReader;o.onload=o=>{const i=JSON.parse(o.target.result),s=i.modelTopology;if(null==s)return void a(new Error(`modelTopology field is missing from file ${e.name}`));0===n.length&&r({modelTopology:s});const l=i.weightsManifest;if(null==l)return void a(new Error(`weightManifest field is missing from file ${e.name}`));let c;try{c=this.checkManifestAndWeightFiles(l,n)}catch(Ce){return void a(Ce)}const u=[],d=[],f=[];l.forEach((e=>{e.paths.forEach((e=>{d.push(e),f.push(null)})),u.push(...e.weights)})),l.forEach((e=>{e.paths.forEach((e=>{const n=new FileReader;n.onload=n=>{const a=n.target.result,o=d.indexOf(e);if(f[o]=a,-1===f.indexOf(null)){const e={modelTopology:s,weightSpecs:u,weightData:Object(p.d)(f),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy};null!=i.signature&&(e.signature=i.signature),null!=i.userDefinedMetadata&&(e.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(e.modelInitializer=i.modelInitializer),r(e)}},n.onerror=n=>a(`Failed to weights data from file of path '${e}'.`),n.readAsArrayBuffer(c[e])}))}))},o.onerror=n=>a(`Failed to read model topology and weights manifest JSON from file '${e.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),o.readAsText(e)}))}checkManifestAndWeightFiles(e,n){const r=[],a=n.map((e=>Object(p.c)(e.name))),o={};for(const i of e)i.paths.forEach((e=>{const i=Object(p.c)(e);if(-1!==r.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(r.push(i),-1===a.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);o[e]=n[a.indexOf(i)]}));if(r.length!==n.length)throw new Error(`Mismatch in the number of files in weights manifest (${r.length}) and the number of weight files provided (${n.length}).`);return o}}function browserFiles(e){return new browser_files_BrowserFiles(e)}function monitorPromisesProgress(e,n,r,a){!function checkPromises(e){Object(g.b)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function checkFraction(e,n){Object(g.b)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),Object(g.b)(n>=0&&n<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${n}`)),Object(g.b)(n>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${n}`))}(r=null==r?0:r,a=null==a?1:a);let o=0;return Promise.all(e.map((i=>(i.then((i=>{const s=r+ ++o/e.length*(a-r);return n(s),i})),i))))}IORouterRegistry.registerSaveRouter((e=>Object(d.b)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(browser_files_BrowserDownloads.URL_SCHEME)?function browserDownloads(e="model"){return new browser_files_BrowserDownloads(e)}(e.slice(browser_files_BrowserDownloads.URL_SCHEME.length)):null));var E=r("9847");async function loadWeightsAsArrayBuffer(e,n){null==n&&(n={});const r=null==n.fetchFunc?Object(d.b)().platform.fetch:n.fetchFunc,a=e.map((e=>r(e,n.requestInit,{isBinary:!0}))),o=(null==n.onProgress?await Promise.all(a):await monitorPromisesProgress(a,n.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==n.onProgress?await Promise.all(o):await monitorPromisesProgress(o,n.onProgress,.5,1)}async function loadWeights(e,n="",r,a){return weightsLoaderFactory((e=>loadWeightsAsArrayBuffer(e,{requestInit:a})))(e,n,r)}function weightsLoaderFactory(e){return async(n,r="",a)=>{const o=n.map((()=>!1)),i={},s=null!=a?a.map((()=>!1)):[],l=[];if(n.forEach(((e,n)=>{let r=0;e.weights.forEach((e=>{const c="quantization"in e?e.quantization.dtype:e.dtype,u=E.a[c]*g.O(e.shape),enqueueWeightsForFetchingFn=()=>{o[n]=!0,null==i[n]&&(i[n]=[]),i[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=a?a.forEach(((n,r)=>{n===e.name&&(enqueueWeightsForFetchingFn(),s[r]=!0)})):enqueueWeightsForFetchingFn(),l.push(e.name),r+=u}))})),!s.every((e=>e))){const e=a.filter(((e,n)=>!s[n]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${l.join(", ")}.`)}const c=o.reduce(((e,n,r)=>(n&&e.push(r),e)),[]),u=[];c.forEach((e=>{n[e].paths.forEach((e=>{const n=r+(r.endsWith("/")?"":"/")+e;u.push(n)}))}));const d=await e(u),f={};let h=0;return c.forEach((e=>{const r=n[e].paths.length;let a=0;for(let n=0;n<r;n++)a+=d[h+n].byteLength;const o=new ArrayBuffer(a),s=new Uint8Array(o);let l=0;for(let n=0;n<r;n++){const e=new Uint8Array(d[h+n]);s.set(e,l),l+=e.byteLength}i[e].forEach((e=>{const n=o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),r=Object(p.e)(n,[e.manifestEntry]);for(const a in r)f[a]=r[a]})),h+=r})),f}}class http_HTTPRequest{constructor(e,n){if(this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?(Object(g.b)("function"==typeof n.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=n.fetchFunc):this.fetch=Object(d.b)().platform.fetch,Object(g.b)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&Object(g.b)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:r};null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=e.weightData&&n.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const o=await this.fetch(this.path,n);if(o.ok)return{modelArtifactsInfo:Object(p.g)(e),responses:[o]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${o.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch(h){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const r=n.modelTopology,a=n.weightsManifest,o=n.generatedBy,i=n.convertedBy,s=n.format,l=n.signature,c=n.userDefinedMetadata;if(null==r&&null==a)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);let u,d;if(null!=a){const e=await this.loadWeights(a);[u,d]=e}const p={modelTopology:r,weightSpecs:u,weightData:d,generatedBy:o,convertedBy:i,format:s};null!=l&&(p.signature=l),null!=c&&(p.userDefinedMetadata=c);const f=n.modelInitializer;return f&&(p.modelInitializer=f),p}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=function parseUrl(e){const n=e.lastIndexOf("/"),r=e.lastIndexOf("?"),a=e.substring(0,n),o=r>n?e.substring(r):"";return[a+"/",o]}(n),o=this.weightPathPrefix||r,i=[];for(const u of e)i.push(...u.weights);const s=[],l=[];for(const u of e)for(const e of u.paths)null!=this.weightUrlConverter?l.push(this.weightUrlConverter(e)):s.push(o+e+a);this.weightUrlConverter&&s.push(...await Promise.all(l));const c=await loadWeightsAsArrayBuffer(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[i,Object(p.d)(c)]}}function isHTTPScheme(e){return null!=e.match(http_HTTPRequest.URL_SCHEME_REGEX)}http_HTTPRequest.URL_SCHEME_REGEX=/^https?:\/\//;const httpRouter=(e,n)=>{if("undefined"==typeof fetch&&(null==n||null==n.fetchFunc))return null;{let r=!0;if(r=Array.isArray(e)?e.every((e=>isHTTPScheme(e))):isHTTPScheme(e),r)return http(e,n)}return null};function http(e,n){return new http_HTTPRequest(e,n)}function browserHTTPRequest(e,n){return http(e,n)}IORouterRegistry.registerSaveRouter(httpRouter),IORouterRegistry.registerLoadRouter(httpRouter);class PassthroughLoader{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class PassthroughSaver{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function fromMemory(e,n,r,a){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new PassthroughLoader(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new PassthroughLoader({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new PassthroughLoader({modelTopology:e,weightSpecs:n,weightData:r,trainingConfig:a})}function withSaveHandler(e){return new PassthroughSaver(e)}var D=r("c05b"),j=r("73b8"),R=r("a3f7"),L=r("54ef"),z=r("05bb");let $;function fromPixels_(e,n=3){if(n>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let r=!1,a=!1,o=!1,i=!1,s=!1,l=!1;if(e.data instanceof Uint8Array)r=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);l=!0}if(o){const n=2;if(o&&e.readyState<n)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=Object(j.b)(D.hb,u.a.backendName)){const r={pixels:e},a={numChannels:n};return u.a.runKernel(D.hb,r,a)}const[c,d]=o?[e.videoWidth,e.videoHeight]:[e.width,e.height];let p,f;if(s?p=e.getContext("2d").getImageData(0,0,c,d).data:a||r?p=e.data:(i||o||l)&&(null==$&&($=document.createElement("canvas").getContext("2d")),$.canvas.width=c,$.canvas.height=d,$.drawImage(e,0,0,c,d),p=$.getImageData(0,0,c,d).data),4===n)f=new Int32Array(p);else{const e=c*d;f=new Int32Array(e*n);for(let r=0;r<e;r++)for(let e=0;e<n;++e)f[r*n+e]=p[4*r+e]}const h=[d,c,n];return Object(z.a)(f,h,"int32")}function canWrapPixelsToImageBitmap(e){return function isImageBitmapFullySupported(){return"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")}()&&!(e instanceof ImageBitmap)&&function isNonEmptyPixels(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function browser_isPixelData(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function fromPixelsAsync(e,n=3){let r=null;if(Object(d.b)().getBool("WRAP_TO_IMAGEBITMAP")&&canWrapPixelsToImageBitmap(e)){let n;try{n=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(a){n=null}r=null!=n&&n.width===e.width&&n.height===e.height?n:e}else r=e;return fromPixels_(r,n)}async function toPixels(e,n){let r=Object(R.a)(e,"img","toPixels");if(!(e instanceof N.a)){const e=r;r=Object(C.a)(e,"int32"),e.dispose()}if(2!==r.rank&&3!==r.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${r.rank}.`);const[a,o]=r.shape.slice(0,2),i=2===r.rank?1:r.shape[2];if(i>4||2===i)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${i}`);if("float32"!==r.dtype&&"int32"!==r.dtype)throw new Error(`Unsupported type for toPixels: ${r.dtype}. Please use float32 or int32 tensors.`);const s=await r.data(),l="float32"===r.dtype?255:1,c=new Uint8ClampedArray(o*a*4);for(let u=0;u<a*o;++u){const e=[0,0,0,255];for(let a=0;a<i;a++){const n=s[u*i+a];if("float32"===r.dtype){if(n<0||n>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${n}.`)}else if("int32"===r.dtype&&(n<0||n>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${n}.`);1===i?(e[0]=n*l,e[1]=n*l,e[2]=n*l):e[a]=n*l}const n=4*u;c[n+0]=Math.round(e[0]),c[n+1]=Math.round(e[1]),c[n+2]=Math.round(e[2]),c[n+3]=Math.round(e[3])}if(null!=n){n.width=o,n.height=a;const e=n.getContext("2d"),r=new ImageData(c,o,a);e.putImageData(r,0,0)}return r!==e&&r.dispose(),c}const B=Object(L.a)({fromPixels_:fromPixels_});var V=r("5ebd");class Serializable{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class SerializationMap{constructor(){this.classNameMap={}}static getMap(){return null==SerializationMap.instance&&(SerializationMap.instance=new SerializationMap),SerializationMap.instance}static register(e){SerializationMap.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function registerClass(e){Object(g.b)(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),Object(g.b)("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),Object(g.b)(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),SerializationMap.register(e)}var U=r("76c2"),W=r("eb7e");const H="3.3.0";var G=r("c04e"),q=r("538e"),K=r("015f");class optimizer_Optimizer extends Serializable{minimize(e,n=!1,r){const{value:a,grads:o}=this.computeGradients(e,r);if(null!=r){const e=r.map((e=>({name:e.name,tensor:o[e.name]})));this.applyGradients(e)}else this.applyGradients(o);return Object(G.b)(o),n?a:(a.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return Object(q.b)(e,n)}dispose(){null!=this.iterations_&&Object(G.b)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:Object(K.a)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(optimizer_Optimizer,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});var X=r("23bf"),Y=r("132b"),Z=r("9117"),J=r("c77c"),Q=r("a5aa"),ee=r("163a"),te=r("93b2"),ne=r("a09b");class adadelta_optimizer_AdadeltaOptimizer extends optimizer_Optimizer{constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==r&&(this.epsilon=u.a.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((n,r)=>{const a=u.a.registeredVariables[n];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${n}/accum_grad`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(false)))}),null==this.accumulatedUpdates[r]&&(this.accumulatedUpdates[r]={originalName:`${n}/accum_var`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(false)))});const o=Array.isArray(e)?e[r].tensor:e[n];if(null==o)return;const i=this.accumulatedGrads[r].variable,s=this.accumulatedUpdates[r].variable;Object(G.h)((()=>{const e=Object(Z.a)(Object(Q.a)(i,this.rho),Object(Q.a)(Object(te.a)(o),1-this.rho)),n=Object(Q.a)(Object(J.a)(Object(ee.a)(Object(Z.a)(s,this.epsilon)),Object(ee.a)(Object(Z.a)(i,this.epsilon))),o),r=Object(Z.a)(Object(Q.a)(s,this.rho),Object(Q.a)(Object(te.a)(n),1-this.rho));i.assign(e),s.assign(r);const l=Object(Z.a)(Object(Q.a)(n,-this.learningRate),a);a.assign(l)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(Object(G.b)(this.accumulatedGrads.map((e=>e.variable))),Object(G.b)(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const n=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,n).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(n,2*n).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}adadelta_optimizer_AdadeltaOptimizer.className="Adadelta",registerClass(adadelta_optimizer_AdadeltaOptimizer);var re=r("46b8");class adagrad_optimizer_AdagradOptimizer extends optimizer_Optimizer{constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((n,r)=>{const a=u.a.registeredVariables[n];if(null==this.accumulatedGrads[r]){const e=!1;this.accumulatedGrads[r]={originalName:`${n}/accumulator`,variable:Object(G.h)((()=>Object(re.a)(a.shape,this.initialAccumulatorValue).variable(e)))}}const o=Array.isArray(e)?e[r].tensor:e[n];if(null==o)return;const i=this.accumulatedGrads[r].variable;Object(G.h)((()=>{const e=Object(Z.a)(i,Object(te.a)(o));i.assign(e);const n=Object(Z.a)(Object(Q.a)(Object(J.a)(o,Object(ee.a)(Object(Z.a)(e,u.a.backend.epsilon()))),-this.learningRate),a);a.assign(n)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&Object(G.b)(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}adagrad_optimizer_AdagradOptimizer.className="Adagrad",registerClass(adagrad_optimizer_AdagradOptimizer);var ae=r("c9f1"),oe=r("a009");class adam_optimizer_AdamOptimizer extends optimizer_Optimizer{constructor(e,n,r,a=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Object(G.h)((()=>{this.accBeta1=Object(K.a)(n).variable(),this.accBeta2=Object(K.a)(r).variable()})),null==a&&(this.epsilon=u.a.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Object(G.h)((()=>{const r=Object(oe.a)(1,this.accBeta1),a=Object(oe.a)(1,this.accBeta2);n.forEach(((n,o)=>{const i=u.a.registeredVariables[n];null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${n}/m`,variable:Object(G.h)((()=>Object(ne.a)(i).variable(false)))}),null==this.accumulatedSecondMoment[o]&&(this.accumulatedSecondMoment[o]={originalName:`${n}/v`,variable:Object(G.h)((()=>Object(ne.a)(i).variable(false)))});const s=Array.isArray(e)?e[o].tensor:e[n];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,c=this.accumulatedSecondMoment[o].variable,d=Object(Z.a)(Object(Q.a)(l,this.beta1),Object(Q.a)(s,1-this.beta1)),p=Object(Z.a)(Object(Q.a)(c,this.beta2),Object(Q.a)(Object(te.a)(s),1-this.beta2)),f=Object(J.a)(d,r),h=Object(J.a)(p,a);l.assign(d),c.assign(p);const m=Object(Z.a)(Object(Q.a)(Object(J.a)(f,Object(Z.a)(Object(ee.a)(h),this.epsilon)),-this.learningRate),i);i.assign(m)})),this.accBeta1.assign(Object(Q.a)(this.accBeta1,this.beta1)),this.accBeta2.assign(Object(Q.a)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&Object(G.b)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&Object(G.b)(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),Object(G.h)((()=>{this.accBeta1.assign(Object(ae.a)(this.beta1,this.iterations_+1)),this.accBeta2.assign(Object(ae.a)(this.beta2,this.iterations_+1))}));const n=e.length/2;this.accumulatedFirstMoment=e.slice(0,n).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(n,2*n).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}adam_optimizer_AdamOptimizer.className="Adam",registerClass(adam_optimizer_AdamOptimizer);var ie=r("8ae0"),se=r("09f4");class adamax_optimizer_AdamaxOptimizer extends optimizer_Optimizer{constructor(e,n,r,a=null,o=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Object(G.h)((()=>{this.iteration=Object(K.a)(0).variable(),this.accBeta1=Object(K.a)(n).variable()})),null==a&&(this.epsilon=u.a.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);Object(G.h)((()=>{const r=Object(oe.a)(1,this.accBeta1),a=Object(J.a)(-this.learningRate,Object(Z.a)(Object(Q.a)(this.iteration,this.decay),1));n.forEach(((n,o)=>{const i=u.a.registeredVariables[n];null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${n}/m`,variable:Object(ne.a)(i).variable(false)}),null==this.accumulatedWeightedInfNorm[o]&&(this.accumulatedWeightedInfNorm[o]={originalName:`${n}/v`,variable:Object(ne.a)(i).variable(false)});const s=Array.isArray(e)?e[o].tensor:e[n];if(null==s)return;const l=this.accumulatedFirstMoment[o].variable,c=this.accumulatedWeightedInfNorm[o].variable,d=Object(Z.a)(Object(Q.a)(l,this.beta1),Object(Q.a)(s,1-this.beta1)),p=Object(Q.a)(c,this.beta2),f=Object(ie.a)(s),h=Object(se.a)(p,f);l.assign(d),c.assign(h);const m=Object(Z.a)(Object(Q.a)(Object(J.a)(a,r),Object(J.a)(d,Object(Z.a)(h,this.epsilon))),i);i.assign(m)})),this.iteration.assign(Object(Z.a)(this.iteration,1)),this.accBeta1.assign(Object(Q.a)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&Object(G.b)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&Object(G.b)(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}adamax_optimizer_AdamaxOptimizer.className="Adamax",registerClass(adamax_optimizer_AdamaxOptimizer);class sgd_optimizer_SGDOptimizer extends optimizer_Optimizer{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((n,r)=>{const a=Array.isArray(e)?e[r].tensor:e[n];if(null==a)return;const o=u.a.registeredVariables[n];Object(G.h)((()=>{const e=Object(Z.a)(Object(Q.a)(this.c,a),o);o.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=Object(G.d)(Object(K.a)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}sgd_optimizer_SGDOptimizer.className="SGD",registerClass(sgd_optimizer_SGDOptimizer);class momentum_optimizer_MomentumOptimizer extends sgd_optimizer_SGDOptimizer{constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Object(K.a)(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((n,r)=>{const a=u.a.registeredVariables[n];if(null==this.accumulations[r]){const e=!1;this.accumulations[r]={originalName:`${n}/momentum`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(e)))}}const o=this.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&Object(G.h)((()=>{let e;const n=Object(Z.a)(Object(Q.a)(this.m,o),i);e=this.useNesterov?Object(Z.a)(Object(Q.a)(this.c,Object(Z.a)(i,Object(Q.a)(n,this.m))),a):Object(Z.a)(Object(Q.a)(this.c,n),a),o.assign(n),a.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&Object(G.b)(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}momentum_optimizer_MomentumOptimizer.className="Momentum",registerClass(momentum_optimizer_MomentumOptimizer);class rmsprop_optimizer_RMSPropOptimizer extends optimizer_Optimizer{constructor(e,n=.9,r=0,a=null,o=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,null==a&&(this.epsilon=u.a.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((n,r)=>{const a=u.a.registeredVariables[n],o=!1;null==this.accumulatedMeanSquares[r]&&(this.accumulatedMeanSquares[r]={originalName:`${n}/rms`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(o)))}),null==this.accumulatedMoments[r]&&(this.accumulatedMoments[r]={originalName:`${n}/momentum`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(o)))}),null==this.accumulatedMeanGrads[r]&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${n}/mg`,variable:Object(G.h)((()=>Object(ne.a)(a).variable(o)))});const i=Array.isArray(e)?e[r].tensor:e[n];if(null==i)return;const s=this.accumulatedMeanSquares[r].variable,l=this.accumulatedMoments[r].variable;Object(G.h)((()=>{const e=Object(Z.a)(Object(Q.a)(s,this.decay),Object(Q.a)(Object(te.a)(i),1-this.decay));if(this.centered){const n=this.accumulatedMeanGrads[r].variable,o=Object(Z.a)(Object(Q.a)(n,this.decay),Object(Q.a)(i,1-this.decay)),c=Object(J.a)(Object(Q.a)(i,this.learningRate),Object(ee.a)(Object(oe.a)(e,Object(Z.a)(Object(te.a)(o),this.epsilon)))),u=Object(Z.a)(Object(Q.a)(l,this.momentum),c);s.assign(e),n.assign(o),l.assign(u);const d=Object(oe.a)(a,u);a.assign(d)}else{const e=Object(Z.a)(Object(Q.a)(s,this.decay),Object(Q.a)(Object(te.a)(i),1-this.decay)),n=Object(Z.a)(Object(Q.a)(l,this.momentum),Object(J.a)(Object(Q.a)(i,this.learningRate),Object(ee.a)(Object(Z.a)(e,this.epsilon))));s.assign(e),l.assign(n);const r=Object(oe.a)(a,n);a.assign(r)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&Object(G.b)(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&Object(G.b)(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&Object(G.b)(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map((e=>({originalName:e.name,variable:e.tensor.variable(r)}))),this.accumulatedMoments=e.slice(n,2*n).map((e=>({originalName:e.name,variable:e.tensor.variable(r)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*n,3*n).map((e=>({originalName:e.name,variable:e.tensor.variable(r)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}rmsprop_optimizer_RMSPropOptimizer.className="RMSProp",registerClass(rmsprop_optimizer_RMSPropOptimizer);class optimizer_constructors_OptimizerConstructors{static sgd(e){return new sgd_optimizer_SGDOptimizer(e)}static momentum(e,n,r=!1){return new momentum_optimizer_MomentumOptimizer(e,n,r)}static rmsprop(e,n=.9,r=0,a=null,o=!1){return new rmsprop_optimizer_RMSPropOptimizer(e,n,r,a,o)}static adam(e=.001,n=.9,r=.999,a=null){return new adam_optimizer_AdamOptimizer(e,n,r,a)}static adadelta(e=.001,n=.95,r=null){return new adadelta_optimizer_AdadeltaOptimizer(e,n,r)}static adamax(e=.002,n=.9,r=.999,a=null,o=0){return new adamax_optimizer_AdamaxOptimizer(e,n,r,a,o)}static adagrad(e,n=.1){return new adagrad_optimizer_AdagradOptimizer(e,n)}}const le={sgd:optimizer_constructors_OptimizerConstructors.sgd,momentum:optimizer_constructors_OptimizerConstructors.momentum,adadelta:optimizer_constructors_OptimizerConstructors.adadelta,adagrad:optimizer_constructors_OptimizerConstructors.adagrad,rmsprop:optimizer_constructors_OptimizerConstructors.rmsprop,adamax:optimizer_constructors_OptimizerConstructors.adamax,adam:optimizer_constructors_OptimizerConstructors.adam},ce="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function nextFrame(){return new Promise((e=>ce((()=>e()))))}var ue=r("36e5"),de=r("526f");function assertParamsConsistent(e,n){const r=e[0].length;e.forEach(((e,n)=>{g.b(e.length===r,(()=>`Error in concat${r}D: rank of tensors[${n}] must be the same as the rank of the rest (${r})`))})),g.b(n>=0&&n<r,(()=>`Error in concat${r}D: axis must be between 0 and ${r-1}.`));const a=e[0];e.forEach(((e,o)=>{for(let i=0;i<r;i++)g.b(i===n||e[i]===a[i],(()=>`Error in concat${r}D: Shape of tensors[${o}] (${e}) does not match the shape of the rest (${a}) along the non-concatenated axis ${o}.`))}))}function computeOutShape(e,n){const r=e[0].slice();for(let a=1;a<e.length;a++)r[n]+=e[a][n];return r}var pe=r("b818"),fe=r("4749");const he=30;function computeOptimalWindowSize(e){return e<=he?e:Object(g.G)(e,Math.floor(Math.sqrt(e)))}function getImageCenter(e,n,r){return[r*("number"==typeof e?e:e[0]),n*("number"==typeof e?e:e[1])]}function getReshaped(e,n,r,a=!0){let o=[];if(a)o=o.concat(n.slice(0)),o.push(e[0]/r),o=o.concat(e.slice(1));else{o=o.concat(e[0]);const r=n.length;for(let a=0;a<r;++a)o=o.concat([e[a+1]/n[a],n[a]]);o=o.concat(e.slice(r+1))}return o}function getPermuted(e,n,r=!0){const a=[];if(r){a.push(n);for(let r=n+1;r<e;++r)r<=2*n?(a.push(r),a.push(r-(n+1))):a.push(r)}else{const r=[],o=[];for(let a=1;a<e;++a)a>=2*n+1||a%2==1?o.push(a):r.push(a);a.push(...r),a.push(0),a.push(...o)}return a}function getReshapedPermuted(e,n,r,a=!0){const o=[];a?o.push(e[0]/r):o.push(e[0]*r);for(let i=1;i<e.length;++i)i<=n.length?a?o.push(n[i-1]*e[i]):o.push(e[i]/n[i-1]):o.push(e[i]);return o}function getSliceBeginCoords(e,n){const r=[0];for(let a=0;a<n;++a)r.push(e[a][0]);return r}function getSliceSize(e,n,r){const a=e.slice(0,1);for(let o=0;o<r;++o)a.push(e[o+1]-n[o][0]-n[o][1]);return a}function prepareAndValidate(e,n){const r=e.shape.length,a=n.shape.length;if(r<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${r}.`);if(a<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${a}.`);if("int32"!==n.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${n.dtype}.`);if(n.shape[a-1]>r)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${n.shape[a-1]} vs. ${r}`);if(0===Object(g.O)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const o=n.shape,i=o[o.length-1];let s=1;for(let p=0;p<o.length-1;++p)s*=o[p];const l=e.shape,c=o.slice();c.pop();let u=1;for(let p=i;p<r;++p)u*=l[p],c.push(l[p]);const d=[...Object(g.j)(e.shape).map((e=>e/u)),1].slice(0,i);return[c,s,u,d]}var me=r("a34f"),ge=r("7cde");const ye=.3275911,be=.254829592,ve=-.284496736,xe=1.421413741,_e=-1.453152027,we=1.061405429;function warn(...e){Object(d.b)().getBool("IS_TEST")||console.warn(...e)}function log(...e){Object(d.b)().getBool("IS_TEST")||console.log(...e)}function mergeRealAndImagArrays(e,n){if(e.length!==n.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${n.length}.`);const r=new Float32Array(2*e.length);for(let a=0;a<r.length;a+=2)r[a]=e[a/2],r[a+1]=n[a/2];return r}function splitRealAndImagArrays(e){const n=new Float32Array(e.length/2),r=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)n[a/2]=e[a],r[a/2]=e[a+1];return{real:n,imag:r}}function complexWithEvenIndex(e){const n=Math.ceil(e.length/4),r=new Float32Array(n),a=new Float32Array(n);for(let o=0;o<e.length;o+=4)r[Math.floor(o/4)]=e[o],a[Math.floor(o/4)]=e[o+1];return{real:r,imag:a}}function complexWithOddIndex(e){const n=Math.floor(e.length/4),r=new Float32Array(n),a=new Float32Array(n);for(let o=2;o<e.length;o+=4)r[Math.floor(o/4)]=e[o],a[Math.floor(o/4)]=e[o+1];return{real:r,imag:a}}function getComplexWithIndex(e,n){return{real:e[2*n],imag:e[2*n+1]}}function assignToTypedArray(e,n,r,a){e[2*a]=n,e[2*a+1]=r}function exponents(e,n){const r=new Float32Array(e/2),a=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const i=(n?2:-2)*Math.PI*(o/e);r[o]=Math.cos(i),a[o]=Math.sin(i)}return{real:r,imag:a}}function exponent(e,n,r){const a=(r?2:-2)*Math.PI*(e/n);return{real:Math.cos(a),imag:Math.sin(a)}}function prepareSplitSize(e,n,r=0){let a=[];if("number"==typeof n)Object(g.b)(e.shape[r]%n==0,(()=>"Number of splits must evenly divide the axis.")),a=new Array(n).fill(e.shape[r]/n);else{const o=n.reduce(((e,n)=>(-1===n&&(e+=1),e)),0);Object(g.b)(o<=1,(()=>"There should be only one negative value in split array."));const i=n.indexOf(-1);if(-1!==i){const a=n.reduce(((e,n)=>n>0?e+n:e));n[i]=e.shape[r]-a}Object(g.b)(e.shape[r]===n.reduce(((e,n)=>e+n)),(()=>"The sum of sizes must match the size of the axis dimension.")),a=n}return a}function segOpComputeOptimalWindowSize(e,n){let r,a=!1;for(e<=he?(r=e,a=!0):r=Object(g.G)(e,Math.floor(Math.sqrt(e)));!a;)r>n||r===e?a=!0:r=Object(g.G)(e,r+1);return r}function segment_util_computeOutShape(e,n,r){const a=[],o=e.length;for(let i=0;i<o;i++)i!==n?a.push(e[i]):a.push(r);return a}function collectGatherOpShapeInfo(e,n,r,a){const o=n.shape.length,i=e.shape.length;if(0!==a&&(a<-o||a>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${a}`);if(a<0&&(a+=o),a>i)throw new Error(`batchDims (${a}) must be less than rank(x) (\n    ${i}).`);if(r<a)throw new Error(`batchDims (${a}) must be less than or equal to axis (${r}).`);for(let p=0;p<a;++p)if(e.shape[p]!==n.shape[p])throw new Error(`x.shape[${p}]: ${e.shape[p]} should be equal to indices.shape[${p}]: ${n.shape[p]}.`);const s=e.shape[r],l=[];let c=1,u=1,d=1;for(let p=0;p<a;++p)l.push(e.shape[p]),c*=e.shape[p];for(let p=a;p<r;p++)l.push(e.shape[p]),u*=e.shape[p];for(let p=a;p<o;p++)l.push(n.shape[p]);for(let p=r+1;p<i;p++)l.push(e.shape[p]),d*=e.shape[p];return{batchSize:c,sliceSize:d,outerSize:u,dimSize:s,outputShape:l}}function fromUint8ToStringArray(e){try{return e.map((e=>Object(W.decodeString)(e)))}catch(Ce){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${Ce}`)}}function fromStringArrayToUint8(e){return e.map((e=>Object(W.encodeString)(e)))}var ke=r("7ed6"),Te=r("8389"),Se=r("0280"),Oe=r("8b87")},fa59:function(e,n,r){"use strict";var a=r("6e58");e.exports=function makeTraceGroups(e,n,r){var o=e.selectAll("g."+r.replace(/\s/g,".")).data(n,(function(e){return e[0].trace.uid}));o.exit().remove(),o.enter().append("g").attr("class",r),o.order();var i=e.classed("rangeplot")?"nodeRangePlot3":"node3";return o.each((function(e){e[0][i]=a.select(this)})),o}},faa1:function(e,n,r){"use strict";var a,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function ReflectApply(e,n,r){return Function.prototype.apply.call(e,n,r)};a=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function once(e,n){return new Promise((function(r,a){function errorListener(r){e.removeListener(n,resolver),a(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,n,resolver,{once:!0}),"error"!==n&&function addErrorHandlerIfEventEmitter(e,n,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",n,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var l=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,n,r,a){var o,i,s;if(checkListener(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",n,r.listener?r.listener:r),i=e._events),s=i[n]),void 0===s)s=i[n]=r,++e._eventsCount;else if("function"==typeof s?s=i[n]=a?[r,s]:[s,r]:a?s.unshift(r):s.push(r),(o=_getMaxListeners(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(n)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=n,l.count=s.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(l)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,n,r){var a={fired:!1,wrapFn:void 0,target:e,type:n,listener:r},o=onceWrapper.bind(a);return o.listener=r,a.wrapFn=o,o}function _listeners(e,n,r){var a=e._events;if(void 0===a)return[];var o=a[n];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function unwrapListeners(e){for(var n=new Array(e.length),r=0;r<n.length;++r)n[r]=e[r].listener||e[r];return n}(o):arrayClone(o,o.length)}function listenerCount(e){var n=this._events;if(void 0!==n){var r=n[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,n){for(var r=new Array(n),a=0;a<n;++a)r[a]=e[a];return r}function eventTargetAgnosticAddListener(e,n,r,a){if("function"==typeof e.on)a.once?e.once(n,r):e.on(n,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(n,(function wrapListener(o){a.once&&e.removeEventListener(n,wrapListener),r(o)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var a="error"===e,o=this._events;if(void 0!==o)a=a&&void 0===o.error;else if(!a)return!1;if(a){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,n);else{var u=c.length,d=arrayClone(c,u);for(r=0;r<u;++r)i(d[r],this,n)}return!0},EventEmitter.prototype.addListener=function addListener(e,n){return _addListener(this,e,n,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,n){return _addListener(this,e,n,!0)},EventEmitter.prototype.once=function once(e,n){return checkListener(n),this.on(e,_onceWrap(this,e,n)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,n){return checkListener(n),this.prependListener(e,_onceWrap(this,e,n)),this},EventEmitter.prototype.removeListener=function removeListener(e,n){var r,a,o,i,s;if(checkListener(n),void 0===(a=this._events))return this;if(void 0===(r=a[e]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete a[e],a.removeListener&&this.emit("removeListener",e,r.listener||n));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===n||r[i].listener===n){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function spliceOne(e,n){for(;n+1<e.length;n++)e[n]=e[n+1];e.pop()}(r,o),1===r.length&&(a[e]=r[0]),void 0!==a.removeListener&&this.emit("removeListener",e,s||n)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var n,r,a;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(a=0;a<i.length;++a)"removeListener"!==(o=i[a])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[e]))this.removeListener(e,n);else if(void 0!==n)for(a=n.length-1;a>=0;a--)this.removeListener(e,n[a]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,n){return"function"==typeof e.listenerCount?e.listenerCount(n):listenerCount.call(e,n)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?a(this._events):[]}},fb56:function(e,n){e.exports=function clone(e){var n=new Float32Array(16);return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}},fb5a:function(e,n,r){"use strict";var a=r("107c"),o=r("94d5").hovertemplateAttrs,i=r("94d5").texttemplateAttrs,s=r("f4e9"),l=r("9845"),c=r("1a5e"),u=r("9092").extendFlat,d=l({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),p=u({},a.marker.line.width,{dflt:0}),f=u({width:p,editType:"calc"},s("marker.line")),h=u({line:f,editType:"calc"},s("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,role:"style",editType:"style",description:"Sets the opacity of the bars."}});e.exports={x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,text:a.text,texttemplate:i({editType:"plot"},{keys:c.eventDataKeys}),hovertext:a.hovertext,hovertemplate:o({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",role:"info",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",role:"info",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",role:"info",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:u({},d,{description:"Sets the font used for `text`."}),insidetextfont:u({},d,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:u({},d,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],role:"info",dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:u({},a.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",role:"info",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,role:"info",editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,role:"info",editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:h,offsetgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",role:"info",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:a.selected.marker.opacity,color:a.selected.marker.color,editType:"style"},textfont:a.selected.textfont,editType:"style"},unselected:{marker:{opacity:a.unselected.marker.opacity,color:a.unselected.marker.color,editType:"style"},textfont:a.unselected.textfont,editType:"style"},r:a.r,t:a.t,_deprecated:{bardir:{valType:"enumerated",role:"info",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},fb6a:function(e,n,r){"use strict";var a=r("23e7"),o=r("861d"),i=r("e8b5"),s=r("23cb"),l=r("50c4"),c=r("fc6a"),u=r("8418"),d=r("b622"),p=r("1dde")("slice"),f=d("species"),h=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!p},{slice:function slice(e,n){var r,a,d,p=c(this),g=l(p.length),y=s(e,g),b=s(void 0===n?g:n,g);if(i(p)&&("function"!=typeof(r=p.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[f])&&(r=void 0):r=void 0,r===Array||void 0===r))return h.call(p,y,b);for(a=new(void 0===r?Array:r)(m(b-y,0)),d=0;y<b;y++,d++)y in p&&u(a,d,p[y]);return a.length=d,a}})},fc0b:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({isFinite_:function isFinite_(e){const n={x:Object(i.a)(e,"x","isFinite")};return a.a.runKernel(o.sb,n)}})},fc11:function(e,n){e.exports=function rotateZ(e,n,r){var a=Math.sin(r),o=Math.cos(r),i=n[0],s=n[1],l=n[2],c=n[3],u=n[4],d=n[5],p=n[6],f=n[7];n!==e&&(e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15]);return e[0]=i*o+u*a,e[1]=s*o+d*a,e[2]=l*o+p*a,e[3]=c*o+f*a,e[4]=u*o-i*a,e[5]=d*o-s*a,e[6]=p*o-l*a,e[7]=f*o-c*a,e}},fc26:function(e,n,r){"use strict";var a=r("6e58"),o=r("70e1").utcFormat,i=r("19b2"),s=r("e806"),l=s.FP_SAFE,c=s.BADNUM,u=e.exports={};u.nestedProperty=r("74d6"),u.keyedContainer=r("5def"),u.relativeAttr=r("2e3d"),u.isPlainObject=r("1385"),u.toLogRange=r("f6b0"),u.relinkPrivateKeys=r("4358");var d=r("6af8");u.isTypedArray=d.isTypedArray,u.isArrayOrTypedArray=d.isArrayOrTypedArray,u.isArray1D=d.isArray1D,u.ensureArray=d.ensureArray,u.concat=d.concat,u.maxRowLength=d.maxRowLength,u.minRowLength=d.minRowLength;var p=r("d3dc");u.mod=p.mod,u.modHalf=p.modHalf;var f=r("6672");u.valObjectMeta=f.valObjectMeta,u.coerce=f.coerce,u.coerce2=f.coerce2,u.coerceFont=f.coerceFont,u.coerceHoverinfo=f.coerceHoverinfo,u.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,u.validate=f.validate;var h=r("661c");u.dateTime2ms=h.dateTime2ms,u.isDateTime=h.isDateTime,u.ms2DateTime=h.ms2DateTime,u.ms2DateTimeLocal=h.ms2DateTimeLocal,u.cleanDate=h.cleanDate,u.isJSDate=h.isJSDate,u.formatDate=h.formatDate,u.incrementMonth=h.incrementMonth,u.dateTick0=h.dateTick0,u.dfltRange=h.dfltRange,u.findExactDates=h.findExactDates,u.MIN_MS=h.MIN_MS,u.MAX_MS=h.MAX_MS;var m=r("dc75");u.findBin=m.findBin,u.sorterAsc=m.sorterAsc,u.sorterDes=m.sorterDes,u.distinctVals=m.distinctVals,u.roundUp=m.roundUp,u.sort=m.sort,u.findIndexOfMin=m.findIndexOfMin;var g=r("a011");u.aggNums=g.aggNums,u.len=g.len,u.mean=g.mean,u.median=g.median,u.midRange=g.midRange,u.variance=g.variance,u.stdev=g.stdev,u.interp=g.interp;var y=r("ec20");u.init2dArray=y.init2dArray,u.transposeRagged=y.transposeRagged,u.dot=y.dot,u.translationMatrix=y.translationMatrix,u.rotationMatrix=y.rotationMatrix,u.rotationXYMatrix=y.rotationXYMatrix,u.apply3DTransform=y.apply3DTransform,u.apply2DTransform=y.apply2DTransform,u.apply2DTransform2=y.apply2DTransform2,u.convertCssMatrix=y.convertCssMatrix,u.inverseTransformMatrix=y.inverseTransformMatrix;var b=r("6e40");u.deg2rad=b.deg2rad,u.rad2deg=b.rad2deg,u.angleDelta=b.angleDelta,u.angleDist=b.angleDist,u.isFullCircle=b.isFullCircle,u.isAngleInsideSector=b.isAngleInsideSector,u.isPtInsideSector=b.isPtInsideSector,u.pathArc=b.pathArc,u.pathSector=b.pathSector,u.pathAnnulus=b.pathAnnulus;var x=r("6c5a");u.isLeftAnchor=x.isLeftAnchor,u.isCenterAnchor=x.isCenterAnchor,u.isRightAnchor=x.isRightAnchor,u.isTopAnchor=x.isTopAnchor,u.isMiddleAnchor=x.isMiddleAnchor,u.isBottomAnchor=x.isBottomAnchor;var _=r("19e1");u.segmentsIntersect=_.segmentsIntersect,u.segmentDistance=_.segmentDistance,u.getTextLocation=_.getTextLocation,u.clearLocationCache=_.clearLocationCache,u.getVisibleSegment=_.getVisibleSegment,u.findPointOnPath=_.findPointOnPath;var w=r("9092");u.extendFlat=w.extendFlat,u.extendDeep=w.extendDeep,u.extendDeepAll=w.extendDeepAll,u.extendDeepNoArrays=w.extendDeepNoArrays;var k=r("ae13");u.log=k.log,u.warn=k.warn,u.error=k.error;var T=r("055a");u.counterRegex=T.counter;var S=r("7df2");u.throttle=S.throttle,u.throttleDone=S.done,u.clearThrottle=S.clear;var O=r("1b88");function makePtIndex2PtNumber(e){var n={};for(var r in e)for(var a=e[r],o=0;o<a.length;o++)n[a[o]]=+r;return n}u.getGraphDiv=O.getGraphDiv,u.isPlotDiv=O.isPlotDiv,u.removeElement=O.removeElement,u.addStyleRule=O.addStyleRule,u.addRelatedStyleRule=O.addRelatedStyleRule,u.deleteRelatedStyleRule=O.deleteRelatedStyleRule,u.getFullTransformMatrix=O.getFullTransformMatrix,u.getElementTransformMatrix=O.getElementTransformMatrix,u.getElementAndAncestors=O.getElementAndAncestors,u.equalDomRects=O.equalDomRects,u.clearResponsive=r("a22f"),u.preserveDrawingBuffer=r("fda0"),u.makeTraceGroups=r("fa59"),u._=r("a4c0"),u.notifier=r("0082"),u.filterUnique=r("5567"),u.filterVisible=r("6fc3"),u.pushUnique=r("5a1b"),u.increment=r("cec5"),u.cleanNumber=r("f2da"),u.ensureNumber=function ensureNumber(e){return i(e)?(e=Number(e))<-l||e>l?c:i(e)?Number(e):c:c},u.isIndex=function(e,n){return!(void 0!==n&&e>=n)&&(i(e)&&e>=0&&e%1==0)},u.noop=r("b778"),u.identity=r("306c"),u.repeat=function(e,n){for(var r=new Array(n),a=0;a<n;a++)r[a]=e;return r},u.swapAttrs=function(e,n,r,a){r||(r="x"),a||(a="y");for(var o=0;o<n.length;o++){var i=n[o],s=u.nestedProperty(e,i.replace("?",r)),l=u.nestedProperty(e,i.replace("?",a)),c=s.get();s.set(l.get()),l.set(c)}},u.raiseToTop=function raiseToTop(e){e.parentNode.appendChild(e)},u.cancelTransition=function(e){return e.transition().duration(0)},u.constrain=function(e,n,r){return n>r?Math.max(r,Math.min(n,e)):Math.max(n,Math.min(r,e))},u.bBoxIntersect=function(e,n,r){return r=r||0,e.left<=n.right+r&&n.left<=e.right+r&&e.top<=n.bottom+r&&n.top<=e.bottom+r},u.simpleMap=function(e,n,r,a,o){for(var i=e.length,s=new Array(i),l=0;l<i;l++)s[l]=n(e[l],r,a,o);return s},u.randstr=function randstr(e,n,r,a){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var o,i,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(o=2;s===1/0;o*=2)s=Math.log(Math.pow(2,n/o))/Math.log(r)*o;var c=s-Math.floor(s);for(o=0;o<Math.floor(s);o++)l=Math.floor(Math.random()*r).toString(r)+l;c&&(i=Math.pow(r,c),l=Math.floor(Math.random()*i).toString(r)+l);var d=parseInt(l,r);return e&&e[l]||d!==1/0&&d>=Math.pow(2,n)?a>10?(u.warn("randstr failed uniqueness"),l):randstr(e,n,r,(a||0)+1):l},u.OptionControl=function(e,n){e||(e={}),n||(n="opt");var r={optionList:[],_newoption:function(a){a[n]=e,r[a.name]=a,r.optionList.push(a)}};return r["_"+n]=e,r},u.smooth=function(e,n){if((n=Math.round(n)||0)<2)return e;var r,a,o,i,s=e.length,l=2*s,c=2*n-1,u=new Array(c),d=new Array(s);for(r=0;r<c;r++)u[r]=(1-Math.cos(Math.PI*(r+1)/n))/(2*n);for(r=0;r<s;r++){for(i=0,a=0;a<c;a++)(o=r+a+1-n)<-s?o-=l*Math.round(o/l):o>=l&&(o-=l*Math.floor(o/l)),o<0?o=-1-o:o>=s&&(o=l-1-o),i+=e[o]*u[a];d[r]=i}return d},u.syncOrAsync=function(e,n,r){var a;function continueAsync(){return u.syncOrAsync(e,n,r)}for(;e.length;)if((a=(0,e.splice(0,1)[0])(n))&&a.then)return a.then(continueAsync).then(void 0,u.promiseError);return r&&r(n)},u.stripTrailingSlash=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e},u.noneOrAll=function(e,n,r){if(e){var a,o=!1,i=!0;for(a=0;a<r.length;a++)null!=e[r[a]]?o=!0:i=!1;if(o&&!i)for(a=0;a<r.length;a++)e[r[a]]=n[r[a]]}},u.mergeArray=function(e,n,r,a){var o="function"==typeof a;if(u.isArrayOrTypedArray(e))for(var i=Math.min(e.length,n.length),s=0;s<i;s++){var l=e[s];n[s][r]=o?a(l):l}},u.mergeArrayCastPositive=function(e,n,r){return u.mergeArray(e,n,r,(function(e){var n=+e;return isFinite(n)&&n>0?n:0}))},u.fillArray=function(e,n,r,a){if(a=a||u.identity,u.isArrayOrTypedArray(e))for(var o=0;o<n.length;o++)n[o][r]=a(e[o])},u.castOption=function(e,n,r,a){a=a||u.identity;var o=u.nestedProperty(e,r).get();return u.isArrayOrTypedArray(o)?Array.isArray(n)&&u.isArrayOrTypedArray(o[n[0]])?a(o[n[0]][n[1]]):a(o[n]):o},u.extractOption=function(e,n,r,a){if(r in e)return e[r];var o=u.nestedProperty(n,a).get();return Array.isArray(o)?void 0:o},u.tagSelected=function(e,n,r){var a,o,i=n.selectedpoints,s=n._indexToPoints;s&&(a=makePtIndex2PtNumber(s));for(var l=0;l<i.length;l++){var c=i[l];if(u.isIndex(c)||u.isArrayOrTypedArray(c)&&u.isIndex(c[0])&&u.isIndex(c[1])){var d=a?a[c]:c,p=r?r[d]:d;void 0!==(o=p)&&o<e.length&&(e[p].selected=1)}}},u.selIndices2selPoints=function(e){var n=e.selectedpoints,r=e._indexToPoints;if(r){for(var a=makePtIndex2PtNumber(r),o=[],i=0;i<n.length;i++){var s=n[i];if(u.isIndex(s)){var l=a[s];u.isIndex(l)&&o.push(l)}}return o}return n},u.getTargetArray=function(e,n){var r=n.target;if("string"==typeof r&&r){var a=u.nestedProperty(e,r).get();return!!Array.isArray(a)&&a}return!!Array.isArray(r)&&r},u.minExtend=function(e,n){var r={};"object"!=typeof n&&(n={});var a,o,i,s=Object.keys(e);for(a=0;a<s.length;a++)i=e[o=s[a]],"_"!==o.charAt(0)&&"function"!=typeof i&&("module"===o?r[o]=i:Array.isArray(i)?r[o]="colorscale"===o?i.slice():i.slice(0,3):u.isTypedArray(i)?r[o]=i.subarray(0,3):r[o]=i&&"object"==typeof i?u.minExtend(e[o],n[o]):i);for(s=Object.keys(n),a=0;a<s.length;a++)"object"==typeof(i=n[o=s[a]])&&o in r&&"object"==typeof r[o]||(r[o]=i);return r},u.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},u.containsAny=function(e,n){for(var r=0;r<n.length;r++)if(-1!==e.indexOf(n[r]))return!0;return!1},u.isIE=function(){return void 0!==window.navigator.msSaveBlob};var C=/MSIE [1-9]\./;u.isIE9orBelow=function(){return u.isIE()&&C.test(window.navigator.userAgent)};var A=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return A.test(window.navigator.userAgent)};var I=/iPad|iPhone|iPod/;u.isIOS=function(){return I.test(window.navigator.userAgent)},u.isD3Selection=function(e){return e&&"function"==typeof e.classed},u.ensureSingle=function(e,n,r,a){var o=e.select(n+(r?"."+r:""));if(o.size())return o;var i=e.append(n);return r&&i.classed(r,!0),a&&i.call(a),i},u.ensureSingleById=function(e,n,r,a){var o=e.select(n+"#"+r);if(o.size())return o;var i=e.append(n).attr("id",r);return a&&i.call(a),i},u.objectFromPath=function(e,n){for(var r,a=e.split("."),o=r={},i=0;i<a.length;i++){var s=a[i],l=null,c=a[i].match(/(.*)\[([0-9]+)\]/);c?(s=c[1],l=c[2],r=r[s]=[],i===a.length-1?r[l]=n:r[l]={},r=r[l]):(i===a.length-1?r[s]=n:r[s]={},r=r[s])}return o};var N=/^([^\[\.]+)\.(.+)?/,M=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(e){var n,r,a,o,i,s,l;if("object"==typeof e&&!Array.isArray(e))for(r in e)e.hasOwnProperty(r)&&((n=r.match(N))?(o=e[r],a=n[1],delete e[r],e[a]=u.extendDeepNoArrays(e[a]||{},u.objectFromPath(r,u.expandObjectPaths(o))[a])):(n=r.match(M))?(o=e[r],a=n[1],i=parseInt(n[2]),delete e[r],e[a]=e[a]||[],"."===n[3]?(l=n[4],s=e[a][i]=e[a][i]||{},u.extendDeepNoArrays(s,u.objectFromPath(l,u.expandObjectPaths(o)))):e[a][i]=u.expandObjectPaths(o)):e[r]=u.expandObjectPaths(e[r]));return e},u.numSeparate=function(e,n,r){if(r||(r=!1),"string"!=typeof n||0===n.length)throw new Error("Separator string required for formatting!");"number"==typeof e&&(e=String(e));var a=/(\d+)(\d{3})/,o=n.charAt(0),i=n.charAt(1),s=e.split("."),l=s[0],c=s.length>1?o+s[1]:"";if(i&&(s.length>1||l.length>4||r))for(;a.test(l);)l=l.replace(a,"$1"+i+"$2");return l+c},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var E=/^\w*$/;u.templateString=function(e,n){var r={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,a){var o;return E.test(a)?o=n[a]:(r[a]=r[a]||u.nestedProperty(n,a).get,o=r[a]()),u.isValidTextValue(o)?o:""}))};var D={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return templateFormatString.apply(D,arguments)};var j={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return templateFormatString.apply(j,arguments)};var R=/^[:|\|]/;function templateFormatString(e,n,r){var i=this,s=arguments;n||(n={});var l={};return e.replace(u.TEMPLATE_STRING_REGEX,(function(e,c,d){var p,f,h,m;for(h=3;h<s.length;h++)if(p=s[h]){if(p.hasOwnProperty(c)){f=p[c];break}if(E.test(c)||(f=l[c]||u.nestedProperty(p,c).get())&&(l[c]=f),void 0!==f)break}if(void 0===f&&i)return i.count<i.max&&(u.warn("Variable '"+c+"' in "+i.name+" could not be found!"),f=e),i.count===i.max&&u.warn("Too many "+i.name+" warnings - additional warnings will be suppressed"),i.count++,e;if(d){if(":"===d[0]&&(f=(m=r?r.numberFormat:a.format)(d.replace(R,""))(f)),"|"===d[0]){m=r?r.timeFormat:o;var g=u.dateTime2ms(f);f=u.formatDate(g,d.replace(R,""),!1,m)}}else n.hasOwnProperty(c+"Label")&&(f=n[c+"Label"]);return f}))}u.subplotSort=function(e,n){for(var r=Math.min(e.length,n.length)+1,a=0,o=0,i=0;i<r;i++){var s=e.charCodeAt(i)||0,l=n.charCodeAt(i)||0,c=s>=48&&s<=57,u=l>=48&&l<=57;if(c&&(a=10*a+s-48),u&&(o=10*o+l-48),!c||!u){if(a!==o)return a-o;if(s!==l)return s-l}}return o-a};var L=2e9;u.seedPseudoRandom=function(){L=2e9},u.pseudoRandom=function(){var e=L;return L=(69069*L+1)%4294967296,Math.abs(L-e)<429496729?u.pseudoRandom():L/4294967296},u.fillText=function(e,n,r){var a=Array.isArray(r)?function(e){r.push(e)}:function(e){r.text=e},o=u.extractOption(e,n,"htx","hovertext");if(u.isValidTextValue(o))return a(o);var i=u.extractOption(e,n,"tx","text");return u.isValidTextValue(i)?a(i):void 0},u.isValidTextValue=function(e){return e||0===e},u.formatPercent=function(e,n){n=n||0;for(var r=(Math.round(100*e*Math.pow(10,n))*Math.pow(.1,n)).toFixed(n)+"%",a=0;a<n;a++)-1!==r.indexOf(".")&&(r=(r=r.replace("0%","%")).replace(".%","%"));return r},u.isHidden=function(e){var n=window.getComputedStyle(e).display;return!n||"none"===n},u.strTranslate=function(e,n){return e||n?"translate("+e+","+n+")":""},u.strRotate=function(e){return e?"rotate("+e+")":""},u.strScale=function(e){return 1!==e?"scale("+e+")":""},u.getTextTransform=function(e){var n=e.noCenter,r=e.textX,a=e.textY,o=e.targetX,i=e.targetY,s=e.anchorX||0,l=e.anchorY||0,c=e.rotate,d=e.scale;return d?d>1&&(d=1):d=0,u.strTranslate(o-d*(r+s),i-d*(a+l))+u.strScale(d)+(c?"rotate("+c+(n?"":" "+r+" "+a)+")":"")},u.ensureUniformFontSize=function(e,n){var r=u.extendFlat({},n);return r.size=Math.max(n.size,e._fullLayout.uniformtext.minsize||0),r},u.join2=function(e,n,r){var a=e.length;return a>1?e.slice(0,-1).join(n)+r+e[a-1]:e.join(n)}},fc6a:function(e,n,r){var a=r("44ad"),o=r("1d80");e.exports=function(e){return a(o(e))}},fcb2:function(e,n,r){"use strict";e.exports={moduleType:"component",name:"colorbar",attributes:r("67c4"),supplyDefaults:r("8f2a"),draw:r("8dec").draw,hasColorbar:r("7089")}},fd4c:function(e,n){e.exports=function str(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},fd80:function(e,n,r){"use strict";var a=r("6e58"),o=r("bb71"),i=r("d115"),s=r("83d1"),l=r("fc26"),c=r("0379"),u=r("a651").arrayEditor,d=r("63dc").LINE_SPACING,p=r("3d2e"),f=r("8ff1");function keyFunction(e){return e._index}function isActive(e,n){return+e.attr(p.menuIndexAttrName)===n._index}function setActive(e,n,r,a,o,i,s,l){n.active=s,u(e.layout,p.name,n).applyUpdate("active",s),"buttons"===n.type?drawButtons(e,a,null,null,n):"dropdown"===n.type&&(o.attr(p.menuIndexAttrName,"-1"),drawHeader(e,a,o,i,n),l||drawButtons(e,a,o,i,n))}function drawHeader(e,n,r,a,o){var i=l.ensureSingle(n,"g",p.headerClassName,(function(e){e.style("pointer-events","all")})),c=o._dims,u=o.active,d=o.buttons[u]||p.blankHeaderOpts,f={y:o.pad.t,yPad:0,x:o.pad.l,xPad:0,index:0},h={width:c.headerWidth,height:c.headerHeight};i.call(drawItem,o,d,e).call(setItemPosition,o,f,h),l.ensureSingle(n,"text",p.headerArrowClassName,(function(e){e.attr("text-anchor","end").call(s.font,o.font).text(p.arrowSymbol[o.direction])})).attr({x:c.headerWidth-p.arrowOffsetX+o.pad.l,y:c.headerHeight/2+p.textOffsetY+o.pad.t}),i.on("click",(function(){r.call(removeAllButtons,String(isActive(r,o)?-1:o._index)),drawButtons(e,n,r,a,o)})),i.on("mouseover",(function(){i.call(styleOnMouseOver)})),i.on("mouseout",(function(){i.call(styleOnMouseOut,o)})),s.setTranslate(n,c.lx,c.ly)}function drawButtons(e,n,r,i,s){r||(r=n).attr("pointer-events","all");var c=function isFolded(e){return-1==+e.attr(p.menuIndexAttrName)}(r)&&"buttons"!==s.type?[]:s.buttons,u="dropdown"===s.type?p.dropdownButtonClassName:p.buttonClassName,d=r.selectAll("g."+u).data(l.filterVisible(c)),f=d.enter().append("g").classed(u,!0),h=d.exit();"dropdown"===s.type?(f.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var m=0,g=0,y=s._dims,b=-1!==["up","down"].indexOf(s.direction);"dropdown"===s.type&&(b?g=y.headerHeight+p.gapButtonHeader:m=y.headerWidth+p.gapButtonHeader),"dropdown"===s.type&&"up"===s.direction&&(g=-p.gapButtonHeader+p.gapButton-y.openHeight),"dropdown"===s.type&&"left"===s.direction&&(m=-p.gapButtonHeader+p.gapButton-y.openWidth);var x={x:y.lx+m+s.pad.l,y:y.ly+g+s.pad.t,yPad:p.gapButton,xPad:p.gapButton,index:0},_={l:x.x+s.borderwidth,t:x.y+s.borderwidth};d.each((function(l,c){var u=a.select(this);u.call(drawItem,s,l,e).call(setItemPosition,s,x),u.on("click",(function(){a.event.defaultPrevented||(l.execute&&(l.args2&&s.active===c?(setActive(e,s,0,n,r,i,-1),o.executeAPICommand(e,l.method,l.args2)):(setActive(e,s,0,n,r,i,c),o.executeAPICommand(e,l.method,l.args))),e.emit("plotly_buttonclicked",{menu:s,button:l,active:s.active}))})),u.on("mouseover",(function(){u.call(styleOnMouseOver)})),u.on("mouseout",(function(){u.call(styleOnMouseOut,s),d.call(styleButtons,s)}))})),d.call(styleButtons,s),b?(_.w=Math.max(y.openWidth,y.headerWidth),_.h=x.y-_.t):(_.w=x.x-_.l,_.h=Math.max(y.openHeight,y.headerHeight)),_.direction=s.direction,i&&(d.size()?function drawScrollBox(e,n,r,a,o,i){var s,l,c,u=o.direction,d="up"===u||"down"===u,f=o._dims,h=o.active;if(d)for(l=0,c=0;c<h;c++)l+=f.heights[c]+p.gapButton;else for(s=0,c=0;c<h;c++)s+=f.widths[c]+p.gapButton;a.enable(i,s,l),a.hbar&&a.hbar.attr("opacity","0").transition().attr("opacity","1");a.vbar&&a.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,i,s,_):function hideScrollBox(e){var n=!!e.hbar,r=!!e.vbar;n&&e.hbar.transition().attr("opacity","0").each("end",(function(){n=!1,r||e.disable()}));r&&e.vbar.transition().attr("opacity","0").each("end",(function(){r=!1,n||e.disable()}))}(i))}function drawItem(e,n,r,a){e.call(drawItemRect,n).call(drawItemText,n,r,a)}function drawItemRect(e,n){l.ensureSingle(e,"rect",p.itemRectClassName,(function(e){e.attr({rx:p.rx,ry:p.ry,"shape-rendering":"crispEdges"})})).call(i.stroke,n.bordercolor).call(i.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function drawItemText(e,n,r,a){var o=l.ensureSingle(e,"text",p.itemTextClassName,(function(e){e.attr({"text-anchor":"start","data-notex":1})})),i=r.label,u=a._fullLayout._meta;u&&(i=l.templateString(i,u)),o.call(s.font,n.font).text(i).call(c.convertToTspans,a)}function styleButtons(e,n){var r=n.active;e.each((function(e,o){var s=a.select(this);o===r&&n.showactive&&s.select("rect."+p.itemRectClassName).call(i.fill,p.activeColor)}))}function styleOnMouseOver(e){e.select("rect."+p.itemRectClassName).call(i.fill,p.hoverColor)}function styleOnMouseOut(e,n){e.select("rect."+p.itemRectClassName).call(i.fill,n.bgcolor)}function findDimensions(e,n){var r=n._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},i=s.tester.selectAll("g."+p.dropdownButtonClassName).data(l.filterVisible(n.buttons));i.enter().append("g").classed(p.dropdownButtonClassName,!0);var u=-1!==["up","down"].indexOf(n.direction);i.each((function(o,i){var l=a.select(this);l.call(drawItem,n,o,e);var f=l.select("."+p.itemTextClassName),h=f.node()&&s.bBox(f.node()).width,m=Math.max(h+p.textPadX,p.minWidth),g=n.font.size*d,y=c.lineCount(f),b=Math.max(g*y,p.minHeight)+p.textOffsetY;b=Math.ceil(b),m=Math.ceil(m),r.widths[i]=m,r.heights[i]=b,r.height1=Math.max(r.height1,b),r.width1=Math.max(r.width1,m),u?(r.totalWidth=Math.max(r.totalWidth,m),r.openWidth=r.totalWidth,r.totalHeight+=b+p.gapButton,r.openHeight+=b+p.gapButton):(r.totalWidth+=m+p.gapButton,r.openWidth+=m+p.gapButton,r.totalHeight=Math.max(r.totalHeight,b),r.openHeight=r.totalHeight)})),u?r.totalHeight-=p.gapButton:r.totalWidth-=p.gapButton,r.headerWidth=r.width1+p.arrowPadX,r.headerHeight=r.height1,"dropdown"===n.type&&(u?(r.width1+=p.arrowPadX,r.totalHeight=r.height1):r.totalWidth=r.width1,r.totalWidth+=p.arrowPadX),i.remove();var f=r.totalWidth+n.pad.l+n.pad.r,h=r.totalHeight+n.pad.t+n.pad.b,m=e._fullLayout._size;r.lx=m.l+m.w*n.x,r.ly=m.t+m.h*(1-n.y);var g="left";l.isRightAnchor(n)&&(r.lx-=f,g="right"),l.isCenterAnchor(n)&&(r.lx-=f/2,g="center");var y="top";l.isBottomAnchor(n)&&(r.ly-=h,y="bottom"),l.isMiddleAnchor(n)&&(r.ly-=h/2,y="middle"),r.totalWidth=Math.ceil(r.totalWidth),r.totalHeight=Math.ceil(r.totalHeight),r.lx=Math.round(r.lx),r.ly=Math.round(r.ly),o.autoMargin(e,autoMarginId(n),{x:n.x,y:n.y,l:f*({right:1,center:.5}[g]||0),r:f*({left:1,center:.5}[g]||0),b:h*({top:1,middle:.5}[y]||0),t:h*({bottom:1,middle:.5}[y]||0)})}function autoMarginId(e){return p.autoMarginIdRoot+e._index}function setItemPosition(e,n,r,a){a=a||{};var o=e.select("."+p.itemRectClassName),i=e.select("."+p.itemTextClassName),l=n.borderwidth,u=r.index,f=n._dims;s.setTranslate(e,l+r.x,l+r.y);var h=-1!==["up","down"].indexOf(n.direction),m=a.height||(h?f.heights[u]:f.height1);o.attr({x:0,y:0,width:a.width||(h?f.width1:f.widths[u]),height:m});var g=n.font.size*d,y=(c.lineCount(i)-1)*g/2;c.positionText(i,p.textOffsetX,m/2-y+p.textOffsetY),h?r.y+=f.heights[u]+r.yPad:r.x+=f.widths[u]+r.xPad,r.index++}function removeAllButtons(e,n){e.attr(p.menuIndexAttrName,n||"-1").selectAll("g."+p.dropdownButtonClassName).remove()}e.exports=function draw(e){var n=e._fullLayout,r=l.filterVisible(n[p.name]);function clearAutoMargin(n){o.autoMargin(e,autoMarginId(n))}var i=n._menulayer.selectAll("g."+p.containerClassName).data(r.length>0?[0]:[]);if(i.enter().append("g").classed(p.containerClassName,!0).style("cursor","pointer"),i.exit().each((function(){a.select(this).selectAll("g."+p.headerGroupClassName).each(clearAutoMargin)})).remove(),0!==r.length){var s=i.selectAll("g."+p.headerGroupClassName).data(r,keyFunction);s.enter().append("g").classed(p.headerGroupClassName,!0);for(var c=l.ensureSingle(i,"g",p.dropdownButtonGroupClassName,(function(e){e.style("pointer-events","all")})),u=0;u<r.length;u++){var d=r[u];findDimensions(e,d)}var h="updatemenus"+n._uid,m=new f(e,c,h);s.enter().size()&&(c.node().parentNode.appendChild(c.node()),c.call(removeAllButtons)),s.exit().each((function(e){c.call(removeAllButtons),clearAutoMargin(e)})).remove(),s.each((function(n){var r=a.select(this),i="dropdown"===n.type?c:null;o.manageCommandObserver(e,n,n.buttons,(function(a){setActive(e,n,n.buttons[a.index],r,i,m,a.index,!0)})),"dropdown"===n.type?(drawHeader(e,r,c,m,n),isActive(c,n)&&drawButtons(e,r,c,m,n)):drawButtons(e,r,null,null,n)}))}}},fda0:function(e,n,r){"use strict";var a=r("19b2"),o=r("8df8");e.exports=function preserveDrawingBuffer(e){var n;if("string"!=typeof(n=e&&e.hasOwnProperty("userAgent")?e.userAgent:function getUserAgent(){var e;"undefined"!=typeof navigator&&(e=navigator.userAgent);e&&e.headers&&"string"==typeof e.headers["user-agent"]&&(e=e.headers["user-agent"]);return e}()))return!0;var r=o({ua:{headers:{"user-agent":n}},tablet:!0,featureDetect:!1});if(!r)for(var i=n.split(" "),s=1;s<i.length;s++){if(-1!==i[s].indexOf("Safari"))for(var l=s-1;l>-1;l--){var c=i[l];if("Version/"===c.substr(0,8)){var u=c.substr(8).split(".")[0];if(a(u)&&(u=+u),u>=13)return!0}}}return r}},fdbc:function(e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,n,r){var a=r("4930");e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fdc7:function(e,n,r){"use strict";var a=r("d858"),o=r("fc26");n.rangeToShapePosition=function(e){return"log"===e.type?e.r2d:function(e){return e}},n.shapePositionToRange=function(e){return"log"===e.type?e.d2r:function(e){return e}},n.decodeDate=function(e){return function(n){return n.replace&&(n=n.replace("_"," ")),e(n)}},n.encodeDate=function(e){return function(n){return e(n).replace(" ","_")}},n.extractPathCoords=function(e,n){var r=[];return e.match(a.segmentRE).forEach((function(e){var i=n[e.charAt(0)].drawn;if(void 0!==i){var s=e.substr(1).match(a.paramRE);!s||s.length<i||r.push(o.cleanNumber(s[i]))}})),r},n.getDataToPixel=function(e,r,a,o){var i,s=e._fullLayout._size;if(r)if("domain"===o)i=function(e){return r._length*(a?1-e:e)+r._offset};else{var l=n.shapePositionToRange(r);i=function(e){return r._offset+r.r2p(l(e,!0))},"date"===r.type&&(i=n.decodeDate(i))}else i=a?function(e){return s.t+s.h*(1-e)}:function(e){return s.l+s.w*e};return i},n.getPixelToData=function(e,r,a,o){var i,s=e._fullLayout._size;if(r)if("domain"===o)i=function(e){var n=(e-r._offset)/r._length;return a?1-n:n};else{var l=n.rangeToShapePosition(r);i=function(e){return l(r.p2r(e-r._offset))}}else i=a?function(e){return 1-(e-s.t)/s.h}:function(e){return(e-s.l)/s.w};return i},n.roundPositionForSharpStrokeRendering=function(e,n){var r=1===Math.round(n%2),a=Math.round(e);return r?a+.5:a},n.makeOptionsAndPlotinfo=function(e,n){var r=e._fullLayout.shapes[n]||{},a=e._fullLayout._plots[r.xref+r.yref];return!!a?a._hadPlotinfo=!0:(a={},r.xref&&"paper"!==r.xref&&(a.xaxis=e._fullLayout[r.xref+"axis"]),r.yref&&"paper"!==r.yref&&(a.yaxis=e._fullLayout[r.yref+"axis"])),a.xsizemode=r.xsizemode,a.ysizemode=r.ysizemode,a.xanchor=r.xanchor,a.yanchor=r.yanchor,{options:r,plotinfo:a}}},fea9:function(e,n,r){var a=r("da84");e.exports=a.Promise},fec5:function(e,n){e.exports=function identity(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},feed:function(e,n,r){"use strict";var a=r("d115"),o=r("de81");e.exports=function getTraceColor(e,n){var r,i;if("lines"===e.mode)return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if("none"===e.mode)return e.fill?e.fillcolor:"";var s=n.mcc||(e.marker||{}).color,l=n.mlcc||((e.marker||{}).line||{}).color;return(i=s&&a.opacity(s)?s:l&&a.opacity(l)&&(n.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(i)<.3?a.addOpacity(i,.3):i:(r=(e.line||{}).color)&&a.opacity(r)&&o.hasLines(e)&&e.line.width?r:e.fillcolor}},ff49:function(e,n,r){"use strict";var a=r("6e58"),o=r("83d1"),i=r("0642"),s=r("3c1c"),l=r("73c9");e.exports=function draw(e){var n,r,c=e._fullLayout,u=[],d={},p=[];for(r=0;r<c.images.length;r++){var f=c.images[r];if(f.visible)if("below"===f.layer&&"paper"!==f.xref&&"paper"!==f.yref){n=s.ref2id(f.xref)+s.ref2id(f.yref);var h=c._plots[n];if(!h){p.push(f);continue}h.mainplot&&(n=h.mainplot.id),d[n]||(d[n]=[]),d[n].push(f)}else"above"===f.layer?u.push(f):p.push(f)}var m={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},g={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function setImage(n){var r=a.select(this);if(this._imgSrc!==n.source)if(r.attr("xmlns",l.svg),n.source&&"data:"===n.source.slice(0,5))r.attr("xlink:href",n.source),this._imgSrc=n.source;else{var o=new Promise(function(e){var a=new Image;function errorHandler(){r.remove(),e()}this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=errorHandler,a.onload=function(){var n=document.createElement("canvas");n.width=this.width,n.height=this.height,n.getContext("2d").drawImage(this,0,0);var a=n.toDataURL("image/png");r.attr("xlink:href",a),e()},r.on("error",errorHandler),a.src=n.source,this._imgSrc=n.source}.bind(this));e._promises.push(o)}}function applyAttributes(n){var r,s,l=a.select(this),u=i.getFromId(e,n.xref),d=i.getFromId(e,n.yref),p="domain"===i.getRefType(n.xref),f="domain"===i.getRefType(n.yref),h=c._size;r=void 0!==u?"string"==typeof n.xref&&p?u._length*n.sizex:Math.abs(u.l2p(n.sizex)-u.l2p(0)):n.sizex*h.w,s=void 0!==d?"string"==typeof n.yref&&f?d._length*n.sizey:Math.abs(d.l2p(n.sizey)-d.l2p(0)):n.sizey*h.h;var y,b,x=r*m[n.xanchor].offset,_=s*g[n.yanchor].offset,w=m[n.xanchor].sizing+g[n.yanchor].sizing;switch(y=void 0!==u?"string"==typeof n.xref&&p?u._length*n.x+u._offset:u.r2p(n.x)+u._offset:n.x*h.w+h.l,y+=x,b=void 0!==d?"string"==typeof n.yref&&f?d._length*(1-n.y)+d._offset:d.r2p(n.y)+d._offset:h.h-n.y*h.h+h.t,b+=_,n.sizing){case"fill":w+=" slice";break;case"stretch":w="none"}l.attr({x:y,y:b,width:r,height:s,preserveAspectRatio:w,opacity:n.opacity});var k=(u&&"domain"!==i.getRefType(n.xref)?u._id:"")+(d&&"domain"!==i.getRefType(n.yref)?d._id:"");o.setClipUrl(l,k?"clip"+c._uid+k:null,e)}var y=c._imageLowerLayer.selectAll("image").data(p),b=c._imageUpperLayer.selectAll("image").data(u);y.enter().append("image"),b.enter().append("image"),y.exit().remove(),b.exit().remove(),y.each((function(e){setImage.bind(this)(e),applyAttributes.bind(this)(e)})),b.each((function(e){setImage.bind(this)(e),applyAttributes.bind(this)(e)}));var x=Object.keys(c._plots);for(r=0;r<x.length;r++){n=x[r];var _=c._plots[n];if(_.imagelayer){var w=_.imagelayer.selectAll("image").data(d[n]||[]);w.enter().append("image"),w.exit().remove(),w.each((function(e){setImage.bind(this)(e),applyAttributes.bind(this)(e)}))}}}},ffb3:function(e,n,r){"use strict";r.d(n,"a",(function(){return l}));var a=r("6ae2"),o=r("c05b"),i=r("a3f7"),s=r("54ef");const l=Object(s.a)({sigmoid_:function sigmoid_(e){const n={x:Object(i.a)(e,"x","sigmoid")};return a.a.runKernel(o.zc,n)}})}}]);
//# sourceMappingURL=vendors~app.fa086b96.js.map